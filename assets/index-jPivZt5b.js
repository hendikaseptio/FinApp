var HM=Object.defineProperty;var $M=(t,e,n)=>e in t?HM(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Fe=(t,e,n)=>$M(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();var wte=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function GM(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var _E={exports:{}},u1={},bE={exports:{}},jt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lp=Symbol.for("react.element"),KM=Symbol.for("react.portal"),YM=Symbol.for("react.fragment"),XM=Symbol.for("react.strict_mode"),QM=Symbol.for("react.profiler"),JM=Symbol.for("react.provider"),ZM=Symbol.for("react.context"),eD=Symbol.for("react.forward_ref"),tD=Symbol.for("react.suspense"),nD=Symbol.for("react.memo"),iD=Symbol.for("react.lazy"),tS=Symbol.iterator;function rD(t){return t===null||typeof t!="object"?null:(t=tS&&t[tS]||t["@@iterator"],typeof t=="function"?t:null)}var xE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},SE=Object.assign,AE={};function nf(t,e,n){this.props=t,this.context=e,this.refs=AE,this.updater=n||xE}nf.prototype.isReactComponent={};nf.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};nf.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function kE(){}kE.prototype=nf.prototype;function dw(t,e,n){this.props=t,this.context=e,this.refs=AE,this.updater=n||xE}var pw=dw.prototype=new kE;pw.constructor=dw;SE(pw,nf.prototype);pw.isPureReactComponent=!0;var nS=Array.isArray,TE=Object.prototype.hasOwnProperty,gw={current:null},EE={key:!0,ref:!0,__self:!0,__source:!0};function PE(t,e,n){var i,r={},s=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)TE.call(e,i)&&!EE.hasOwnProperty(i)&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}if(t&&t.defaultProps)for(i in a=t.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return{$$typeof:Lp,type:t,key:s,ref:o,props:r,_owner:gw.current}}function sD(t,e){return{$$typeof:Lp,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function mw(t){return typeof t=="object"&&t!==null&&t.$$typeof===Lp}function oD(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var iS=/\/+/g;function ky(t,e){return typeof t=="object"&&t!==null&&t.key!=null?oD(""+t.key):e.toString(36)}function vm(t,e,n,i,r){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Lp:case KM:o=!0}}if(o)return o=t,r=r(o),t=i===""?"."+ky(o,0):i,nS(r)?(n="",t!=null&&(n=t.replace(iS,"$&/")+"/"),vm(r,e,n,"",function(u){return u})):r!=null&&(mw(r)&&(r=sD(r,n+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(iS,"$&/")+"/")+t)),e.push(r)),1;if(o=0,i=i===""?".":i+":",nS(t))for(var a=0;a<t.length;a++){s=t[a];var l=i+ky(s,a);o+=vm(s,e,n,l,r)}else if(l=rD(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=i+ky(s,a++),o+=vm(s,e,n,l,r);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Sg(t,e,n){if(t==null)return t;var i=[],r=0;return vm(t,i,"","",function(s){return e.call(n,s,r++)}),i}function aD(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Lr={current:null},wm={transition:null},lD={ReactCurrentDispatcher:Lr,ReactCurrentBatchConfig:wm,ReactCurrentOwner:gw};function IE(){throw Error("act(...) is not supported in production builds of React.")}jt.Children={map:Sg,forEach:function(t,e,n){Sg(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Sg(t,function(){e++}),e},toArray:function(t){return Sg(t,function(e){return e})||[]},only:function(t){if(!mw(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};jt.Component=nf;jt.Fragment=YM;jt.Profiler=QM;jt.PureComponent=dw;jt.StrictMode=XM;jt.Suspense=tD;jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lD;jt.act=IE;jt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=SE({},t.props),r=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=gw.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)TE.call(e,l)&&!EE.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}return{$$typeof:Lp,type:t.type,key:r,ref:s,props:i,_owner:o}};jt.createContext=function(t){return t={$$typeof:ZM,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:JM,_context:t},t.Consumer=t};jt.createElement=PE;jt.createFactory=function(t){var e=PE.bind(null,t);return e.type=t,e};jt.createRef=function(){return{current:null}};jt.forwardRef=function(t){return{$$typeof:eD,render:t}};jt.isValidElement=mw;jt.lazy=function(t){return{$$typeof:iD,_payload:{_status:-1,_result:t},_init:aD}};jt.memo=function(t,e){return{$$typeof:nD,type:t,compare:e===void 0?null:e}};jt.startTransition=function(t){var e=wm.transition;wm.transition={};try{t()}finally{wm.transition=e}};jt.unstable_act=IE;jt.useCallback=function(t,e){return Lr.current.useCallback(t,e)};jt.useContext=function(t){return Lr.current.useContext(t)};jt.useDebugValue=function(){};jt.useDeferredValue=function(t){return Lr.current.useDeferredValue(t)};jt.useEffect=function(t,e){return Lr.current.useEffect(t,e)};jt.useId=function(){return Lr.current.useId()};jt.useImperativeHandle=function(t,e,n){return Lr.current.useImperativeHandle(t,e,n)};jt.useInsertionEffect=function(t,e){return Lr.current.useInsertionEffect(t,e)};jt.useLayoutEffect=function(t,e){return Lr.current.useLayoutEffect(t,e)};jt.useMemo=function(t,e){return Lr.current.useMemo(t,e)};jt.useReducer=function(t,e,n){return Lr.current.useReducer(t,e,n)};jt.useRef=function(t){return Lr.current.useRef(t)};jt.useState=function(t){return Lr.current.useState(t)};jt.useSyncExternalStore=function(t,e,n){return Lr.current.useSyncExternalStore(t,e,n)};jt.useTransition=function(){return Lr.current.useTransition()};jt.version="18.3.1";bE.exports=jt;var xe=bE.exports;const CE=GM(xe);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uD=xe,cD=Symbol.for("react.element"),hD=Symbol.for("react.fragment"),fD=Object.prototype.hasOwnProperty,dD=uD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,pD={key:!0,ref:!0,__self:!0,__source:!0};function NE(t,e,n){var i,r={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)fD.call(e,i)&&!pD.hasOwnProperty(i)&&(r[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:cD,type:t,key:s,ref:o,props:r,_owner:dD.current}}u1.Fragment=hD;u1.jsx=NE;u1.jsxs=NE;_E.exports=u1;var N=_E.exports,sv={},LE={exports:{}},ms={},RE={exports:{}},ME={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,ie){var me=$.length;$.push(ie);e:for(;0<me;){var ve=me-1>>>1,B=$[ve];if(0<r(B,ie))$[ve]=ie,$[me]=B,me=ve;else break e}}function n($){return $.length===0?null:$[0]}function i($){if($.length===0)return null;var ie=$[0],me=$.pop();if(me!==ie){$[0]=me;e:for(var ve=0,B=$.length,Y=B>>>1;ve<Y;){var ee=2*(ve+1)-1,ne=$[ee],re=ee+1,fe=$[re];if(0>r(ne,me))re<B&&0>r(fe,ne)?($[ve]=fe,$[re]=me,ve=re):($[ve]=ne,$[ee]=me,ve=ee);else if(re<B&&0>r(fe,me))$[ve]=fe,$[re]=me,ve=re;else break e}}return ie}function r($,ie){var me=$.sortIndex-ie.sortIndex;return me!==0?me:$.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,h=null,d=3,f=!1,y=!1,w=!1,b=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I($){for(var ie=n(u);ie!==null;){if(ie.callback===null)i(u);else if(ie.startTime<=$)i(u),ie.sortIndex=ie.expirationTime,e(l,ie);else break;ie=n(u)}}function P($){if(w=!1,I($),!y)if(n(l)!==null)y=!0,ce(F);else{var ie=n(u);ie!==null&&ae(P,ie.startTime-$)}}function F($,ie){y=!1,w&&(w=!1,v(k),k=-1),f=!0;var me=d;try{for(I(ie),h=n(l);h!==null&&(!(h.expirationTime>ie)||$&&!E());){var ve=h.callback;if(typeof ve=="function"){h.callback=null,d=h.priorityLevel;var B=ve(h.expirationTime<=ie);ie=t.unstable_now(),typeof B=="function"?h.callback=B:h===n(l)&&i(l),I(ie)}else i(l);h=n(l)}if(h!==null)var Y=!0;else{var ee=n(u);ee!==null&&ae(P,ee.startTime-ie),Y=!1}return Y}finally{h=null,d=me,f=!1}}var H=!1,M=null,k=-1,T=5,O=-1;function E(){return!(t.unstable_now()-O<T)}function L(){if(M!==null){var $=t.unstable_now();O=$;var ie=!0;try{ie=M(!0,$)}finally{ie?D():(H=!1,M=null)}}else H=!1}var D;if(typeof S=="function")D=function(){S(L)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,oe=Z.port2;Z.port1.onmessage=L,D=function(){oe.postMessage(null)}}else D=function(){b(L,0)};function ce($){M=$,H||(H=!0,D())}function ae($,ie){k=b(function(){$(t.unstable_now())},ie)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){y||f||(y=!0,ce(F))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function($){switch(d){case 1:case 2:case 3:var ie=3;break;default:ie=d}var me=d;d=ie;try{return $()}finally{d=me}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,ie){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var me=d;d=$;try{return ie()}finally{d=me}},t.unstable_scheduleCallback=function($,ie,me){var ve=t.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?ve+me:ve):me=ve,$){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=me+B,$={id:c++,callback:ie,priorityLevel:$,startTime:me,expirationTime:B,sortIndex:-1},me>ve?($.sortIndex=me,e(u,$),n(l)===null&&$===n(u)&&(w?(v(k),k=-1):w=!0,ae(P,me-ve))):($.sortIndex=B,e(l,$),y||f||(y=!0,ce(F))),$},t.unstable_shouldYield=E,t.unstable_wrapCallback=function($){var ie=d;return function(){var me=d;d=ie;try{return $.apply(this,arguments)}finally{d=me}}}})(ME);RE.exports=ME;var gD=RE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mD=xe,ps=gD;function Oe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var DE=new Set,Wd={};function pc(t,e){Ch(t,e),Ch(t+"Capture",e)}function Ch(t,e){for(Wd[t]=e,t=0;t<e.length;t++)DE.add(e[t])}var La=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ov=Object.prototype.hasOwnProperty,yD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,rS={},sS={};function vD(t){return ov.call(sS,t)?!0:ov.call(rS,t)?!1:yD.test(t)?sS[t]=!0:(rS[t]=!0,!1)}function wD(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function _D(t,e,n,i){if(e===null||typeof e>"u"||wD(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Rr(t,e,n,i,r,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Ji={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ji[t]=new Rr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ji[e]=new Rr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ji[t]=new Rr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ji[t]=new Rr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ji[t]=new Rr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ji[t]=new Rr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ji[t]=new Rr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ji[t]=new Rr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ji[t]=new Rr(t,5,!1,t.toLowerCase(),null,!1,!1)});var yw=/[\-:]([a-z])/g;function vw(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(yw,vw);Ji[e]=new Rr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(yw,vw);Ji[e]=new Rr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(yw,vw);Ji[e]=new Rr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ji[t]=new Rr(t,1,!1,t.toLowerCase(),null,!1,!1)});Ji.xlinkHref=new Rr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ji[t]=new Rr(t,1,!1,t.toLowerCase(),null,!0,!0)});function ww(t,e,n,i){var r=Ji.hasOwnProperty(e)?Ji[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(_D(e,n,r,i)&&(n=null),i||r===null?vD(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,i=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var Wa=mD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ag=Symbol.for("react.element"),qc=Symbol.for("react.portal"),Hc=Symbol.for("react.fragment"),_w=Symbol.for("react.strict_mode"),av=Symbol.for("react.profiler"),OE=Symbol.for("react.provider"),FE=Symbol.for("react.context"),bw=Symbol.for("react.forward_ref"),lv=Symbol.for("react.suspense"),uv=Symbol.for("react.suspense_list"),xw=Symbol.for("react.memo"),_l=Symbol.for("react.lazy"),jE=Symbol.for("react.offscreen"),oS=Symbol.iterator;function jf(t){return t===null||typeof t!="object"?null:(t=oS&&t[oS]||t["@@iterator"],typeof t=="function"?t:null)}var $n=Object.assign,Ty;function nd(t){if(Ty===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ty=e&&e[1]||""}return`
`+Ty+t}var Ey=!1;function Py(t,e){if(!t||Ey)return"";Ey=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var i=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){i=u}t.call(e.prototype)}else{try{throw Error()}catch(u){i=u}t()}}catch(u){if(u&&i&&typeof u.stack=="string"){for(var r=u.stack.split(`
`),s=i.stack.split(`
`),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==s[a]){var l=`
`+r[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Ey=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?nd(t):""}function bD(t){switch(t.tag){case 5:return nd(t.type);case 16:return nd("Lazy");case 13:return nd("Suspense");case 19:return nd("SuspenseList");case 0:case 2:case 15:return t=Py(t.type,!1),t;case 11:return t=Py(t.type.render,!1),t;case 1:return t=Py(t.type,!0),t;default:return""}}function cv(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Hc:return"Fragment";case qc:return"Portal";case av:return"Profiler";case _w:return"StrictMode";case lv:return"Suspense";case uv:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case FE:return(t.displayName||"Context")+".Consumer";case OE:return(t._context.displayName||"Context")+".Provider";case bw:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case xw:return e=t.displayName||null,e!==null?e:cv(t.type)||"Memo";case _l:e=t._payload,t=t._init;try{return cv(t(e))}catch{}}return null}function xD(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return cv(e);case 8:return e===_w?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Kl(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function VE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function SD(t){var e=VE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function kg(t){t._valueTracker||(t._valueTracker=SD(t))}function BE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=VE(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function Jm(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function hv(t,e){var n=e.checked;return $n({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function aS(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=Kl(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function zE(t,e){e=e.checked,e!=null&&ww(t,"checked",e,!1)}function fv(t,e){zE(t,e);var n=Kl(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?dv(t,e.type,n):e.hasOwnProperty("defaultValue")&&dv(t,e.type,Kl(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function lS(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function dv(t,e,n){(e!=="number"||Jm(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var id=Array.isArray;function dh(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+Kl(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,i&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function pv(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Oe(91));return $n({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function uS(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Oe(92));if(id(n)){if(1<n.length)throw Error(Oe(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Kl(n)}}function UE(t,e){var n=Kl(e.value),i=Kl(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function cS(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function WE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function gv(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?WE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Tg,qE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Tg=Tg||document.createElement("div"),Tg.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Tg.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function qd(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var gd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},AD=["Webkit","ms","Moz","O"];Object.keys(gd).forEach(function(t){AD.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),gd[e]=gd[t]})});function HE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||gd.hasOwnProperty(t)&&gd[t]?(""+e).trim():e+"px"}function $E(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,r=HE(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}var kD=$n({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function mv(t,e){if(e){if(kD[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Oe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Oe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Oe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Oe(62))}}function yv(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vv=null;function Sw(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var wv=null,ph=null,gh=null;function hS(t){if(t=Dp(t)){if(typeof wv!="function")throw Error(Oe(280));var e=t.stateNode;e&&(e=p1(e),wv(t.stateNode,t.type,e))}}function GE(t){ph?gh?gh.push(t):gh=[t]:ph=t}function KE(){if(ph){var t=ph,e=gh;if(gh=ph=null,hS(t),e)for(t=0;t<e.length;t++)hS(e[t])}}function YE(t,e){return t(e)}function XE(){}var Iy=!1;function QE(t,e,n){if(Iy)return t(e,n);Iy=!0;try{return YE(t,e,n)}finally{Iy=!1,(ph!==null||gh!==null)&&(XE(),KE())}}function Hd(t,e){var n=t.stateNode;if(n===null)return null;var i=p1(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Oe(231,e,typeof n));return n}var _v=!1;if(La)try{var Vf={};Object.defineProperty(Vf,"passive",{get:function(){_v=!0}}),window.addEventListener("test",Vf,Vf),window.removeEventListener("test",Vf,Vf)}catch{_v=!1}function TD(t,e,n,i,r,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var md=!1,Zm=null,e0=!1,bv=null,ED={onError:function(t){md=!0,Zm=t}};function PD(t,e,n,i,r,s,o,a,l){md=!1,Zm=null,TD.apply(ED,arguments)}function ID(t,e,n,i,r,s,o,a,l){if(PD.apply(this,arguments),md){if(md){var u=Zm;md=!1,Zm=null}else throw Error(Oe(198));e0||(e0=!0,bv=u)}}function gc(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function JE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function fS(t){if(gc(t)!==t)throw Error(Oe(188))}function CD(t){var e=t.alternate;if(!e){if(e=gc(t),e===null)throw Error(Oe(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return fS(r),t;if(s===i)return fS(r),e;s=s.sibling}throw Error(Oe(188))}if(n.return!==i.return)n=r,i=s;else{for(var o=!1,a=r.child;a;){if(a===n){o=!0,n=r,i=s;break}if(a===i){o=!0,i=r,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,i=r;break}if(a===i){o=!0,i=s,n=r;break}a=a.sibling}if(!o)throw Error(Oe(189))}}if(n.alternate!==i)throw Error(Oe(190))}if(n.tag!==3)throw Error(Oe(188));return n.stateNode.current===n?t:e}function ZE(t){return t=CD(t),t!==null?eP(t):null}function eP(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=eP(t);if(e!==null)return e;t=t.sibling}return null}var tP=ps.unstable_scheduleCallback,dS=ps.unstable_cancelCallback,ND=ps.unstable_shouldYield,LD=ps.unstable_requestPaint,ci=ps.unstable_now,RD=ps.unstable_getCurrentPriorityLevel,Aw=ps.unstable_ImmediatePriority,nP=ps.unstable_UserBlockingPriority,t0=ps.unstable_NormalPriority,MD=ps.unstable_LowPriority,iP=ps.unstable_IdlePriority,c1=null,Bo=null;function DD(t){if(Bo&&typeof Bo.onCommitFiberRoot=="function")try{Bo.onCommitFiberRoot(c1,t,void 0,(t.current.flags&128)===128)}catch{}}var lo=Math.clz32?Math.clz32:jD,OD=Math.log,FD=Math.LN2;function jD(t){return t>>>=0,t===0?32:31-(OD(t)/FD|0)|0}var Eg=64,Pg=4194304;function rd(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function n0(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,r=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~r;a!==0?i=rd(a):(s&=o,s!==0&&(i=rd(s)))}else o=n&~r,o!==0?i=rd(o):s!==0&&(i=rd(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(i&4&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-lo(e),r=1<<n,i|=t[n],e&=~r;return i}function VD(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function BD(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-lo(s),a=1<<o,l=r[o];l===-1?(!(a&n)||a&i)&&(r[o]=VD(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function xv(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function rP(){var t=Eg;return Eg<<=1,!(Eg&4194240)&&(Eg=64),t}function Cy(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Rp(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-lo(e),t[e]=n}function zD(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-lo(n),s=1<<r;e[r]=0,i[r]=-1,t[r]=-1,n&=~s}}function kw(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-lo(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}var pn=0;function sP(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var oP,Tw,aP,lP,uP,Sv=!1,Ig=[],Dl=null,Ol=null,Fl=null,$d=new Map,Gd=new Map,xl=[],UD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pS(t,e){switch(t){case"focusin":case"focusout":Dl=null;break;case"dragenter":case"dragleave":Ol=null;break;case"mouseover":case"mouseout":Fl=null;break;case"pointerover":case"pointerout":$d.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gd.delete(e.pointerId)}}function Bf(t,e,n,i,r,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=Dp(e),e!==null&&Tw(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function WD(t,e,n,i,r){switch(e){case"focusin":return Dl=Bf(Dl,t,e,n,i,r),!0;case"dragenter":return Ol=Bf(Ol,t,e,n,i,r),!0;case"mouseover":return Fl=Bf(Fl,t,e,n,i,r),!0;case"pointerover":var s=r.pointerId;return $d.set(s,Bf($d.get(s)||null,t,e,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,Gd.set(s,Bf(Gd.get(s)||null,t,e,n,i,r)),!0}return!1}function cP(t){var e=Fu(t.target);if(e!==null){var n=gc(e);if(n!==null){if(e=n.tag,e===13){if(e=JE(n),e!==null){t.blockedOn=e,uP(t.priority,function(){aP(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function _m(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Av(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);vv=i,n.target.dispatchEvent(i),vv=null}else return e=Dp(n),e!==null&&Tw(e),t.blockedOn=n,!1;e.shift()}return!0}function gS(t,e,n){_m(t)&&n.delete(e)}function qD(){Sv=!1,Dl!==null&&_m(Dl)&&(Dl=null),Ol!==null&&_m(Ol)&&(Ol=null),Fl!==null&&_m(Fl)&&(Fl=null),$d.forEach(gS),Gd.forEach(gS)}function zf(t,e){t.blockedOn===e&&(t.blockedOn=null,Sv||(Sv=!0,ps.unstable_scheduleCallback(ps.unstable_NormalPriority,qD)))}function Kd(t){function e(r){return zf(r,t)}if(0<Ig.length){zf(Ig[0],t);for(var n=1;n<Ig.length;n++){var i=Ig[n];i.blockedOn===t&&(i.blockedOn=null)}}for(Dl!==null&&zf(Dl,t),Ol!==null&&zf(Ol,t),Fl!==null&&zf(Fl,t),$d.forEach(e),Gd.forEach(e),n=0;n<xl.length;n++)i=xl[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<xl.length&&(n=xl[0],n.blockedOn===null);)cP(n),n.blockedOn===null&&xl.shift()}var mh=Wa.ReactCurrentBatchConfig,i0=!0;function HD(t,e,n,i){var r=pn,s=mh.transition;mh.transition=null;try{pn=1,Ew(t,e,n,i)}finally{pn=r,mh.transition=s}}function $D(t,e,n,i){var r=pn,s=mh.transition;mh.transition=null;try{pn=4,Ew(t,e,n,i)}finally{pn=r,mh.transition=s}}function Ew(t,e,n,i){if(i0){var r=Av(t,e,n,i);if(r===null)By(t,e,i,r0,n),pS(t,i);else if(WD(r,t,e,n,i))i.stopPropagation();else if(pS(t,i),e&4&&-1<UD.indexOf(t)){for(;r!==null;){var s=Dp(r);if(s!==null&&oP(s),s=Av(t,e,n,i),s===null&&By(t,e,i,r0,n),s===r)break;r=s}r!==null&&i.stopPropagation()}else By(t,e,i,null,n)}}var r0=null;function Av(t,e,n,i){if(r0=null,t=Sw(i),t=Fu(t),t!==null)if(e=gc(t),e===null)t=null;else if(n=e.tag,n===13){if(t=JE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return r0=t,null}function hP(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(RD()){case Aw:return 1;case nP:return 4;case t0:case MD:return 16;case iP:return 536870912;default:return 16}default:return 16}}var El=null,Pw=null,bm=null;function fP(){if(bm)return bm;var t,e=Pw,n=e.length,i,r="value"in El?El.value:El.textContent,s=r.length;for(t=0;t<n&&e[t]===r[t];t++);var o=n-t;for(i=1;i<=o&&e[n-i]===r[s-i];i++);return bm=r.slice(t,1<i?1-i:void 0)}function xm(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Cg(){return!0}function mS(){return!1}function ys(t){function e(n,i,r,s,o){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Cg:mS,this.isPropagationStopped=mS,this}return $n(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Cg)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Cg)},persist:function(){},isPersistent:Cg}),e}var rf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Iw=ys(rf),Mp=$n({},rf,{view:0,detail:0}),GD=ys(Mp),Ny,Ly,Uf,h1=$n({},Mp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cw,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Uf&&(Uf&&t.type==="mousemove"?(Ny=t.screenX-Uf.screenX,Ly=t.screenY-Uf.screenY):Ly=Ny=0,Uf=t),Ny)},movementY:function(t){return"movementY"in t?t.movementY:Ly}}),yS=ys(h1),KD=$n({},h1,{dataTransfer:0}),YD=ys(KD),XD=$n({},Mp,{relatedTarget:0}),Ry=ys(XD),QD=$n({},rf,{animationName:0,elapsedTime:0,pseudoElement:0}),JD=ys(QD),ZD=$n({},rf,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),eO=ys(ZD),tO=$n({},rf,{data:0}),vS=ys(tO),nO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},iO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sO(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=rO[t])?!!e[t]:!1}function Cw(){return sO}var oO=$n({},Mp,{key:function(t){if(t.key){var e=nO[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=xm(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?iO[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cw,charCode:function(t){return t.type==="keypress"?xm(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?xm(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),aO=ys(oO),lO=$n({},h1,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wS=ys(lO),uO=$n({},Mp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cw}),cO=ys(uO),hO=$n({},rf,{propertyName:0,elapsedTime:0,pseudoElement:0}),fO=ys(hO),dO=$n({},h1,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),pO=ys(dO),gO=[9,13,27,32],Nw=La&&"CompositionEvent"in window,yd=null;La&&"documentMode"in document&&(yd=document.documentMode);var mO=La&&"TextEvent"in window&&!yd,dP=La&&(!Nw||yd&&8<yd&&11>=yd),_S=" ",bS=!1;function pP(t,e){switch(t){case"keyup":return gO.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gP(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var $c=!1;function yO(t,e){switch(t){case"compositionend":return gP(e);case"keypress":return e.which!==32?null:(bS=!0,_S);case"textInput":return t=e.data,t===_S&&bS?null:t;default:return null}}function vO(t,e){if($c)return t==="compositionend"||!Nw&&pP(t,e)?(t=fP(),bm=Pw=El=null,$c=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return dP&&e.locale!=="ko"?null:e.data;default:return null}}var wO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!wO[t.type]:e==="textarea"}function mP(t,e,n,i){GE(i),e=s0(e,"onChange"),0<e.length&&(n=new Iw("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var vd=null,Yd=null;function _O(t){EP(t,0)}function f1(t){var e=Yc(t);if(BE(e))return t}function bO(t,e){if(t==="change")return e}var yP=!1;if(La){var My;if(La){var Dy="oninput"in document;if(!Dy){var SS=document.createElement("div");SS.setAttribute("oninput","return;"),Dy=typeof SS.oninput=="function"}My=Dy}else My=!1;yP=My&&(!document.documentMode||9<document.documentMode)}function AS(){vd&&(vd.detachEvent("onpropertychange",vP),Yd=vd=null)}function vP(t){if(t.propertyName==="value"&&f1(Yd)){var e=[];mP(e,Yd,t,Sw(t)),QE(_O,e)}}function xO(t,e,n){t==="focusin"?(AS(),vd=e,Yd=n,vd.attachEvent("onpropertychange",vP)):t==="focusout"&&AS()}function SO(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return f1(Yd)}function AO(t,e){if(t==="click")return f1(e)}function kO(t,e){if(t==="input"||t==="change")return f1(e)}function TO(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var fo=typeof Object.is=="function"?Object.is:TO;function Xd(t,e){if(fo(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!ov.call(e,r)||!fo(t[r],e[r]))return!1}return!0}function kS(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function TS(t,e){var n=kS(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=kS(n)}}function wP(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?wP(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function _P(){for(var t=window,e=Jm();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Jm(t.document)}return e}function Lw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function EO(t){var e=_P(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&wP(n.ownerDocument.documentElement,n)){if(i!==null&&Lw(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!t.extend&&s>i&&(r=i,i=s,s=r),r=TS(n,s);var o=TS(n,i);r&&o&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),s>i?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var PO=La&&"documentMode"in document&&11>=document.documentMode,Gc=null,kv=null,wd=null,Tv=!1;function ES(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Tv||Gc==null||Gc!==Jm(i)||(i=Gc,"selectionStart"in i&&Lw(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),wd&&Xd(wd,i)||(wd=i,i=s0(kv,"onSelect"),0<i.length&&(e=new Iw("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=Gc)))}function Ng(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Kc={animationend:Ng("Animation","AnimationEnd"),animationiteration:Ng("Animation","AnimationIteration"),animationstart:Ng("Animation","AnimationStart"),transitionend:Ng("Transition","TransitionEnd")},Oy={},bP={};La&&(bP=document.createElement("div").style,"AnimationEvent"in window||(delete Kc.animationend.animation,delete Kc.animationiteration.animation,delete Kc.animationstart.animation),"TransitionEvent"in window||delete Kc.transitionend.transition);function d1(t){if(Oy[t])return Oy[t];if(!Kc[t])return t;var e=Kc[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in bP)return Oy[t]=e[n];return t}var xP=d1("animationend"),SP=d1("animationiteration"),AP=d1("animationstart"),kP=d1("transitionend"),TP=new Map,PS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ru(t,e){TP.set(t,e),pc(e,[t])}for(var Fy=0;Fy<PS.length;Fy++){var jy=PS[Fy],IO=jy.toLowerCase(),CO=jy[0].toUpperCase()+jy.slice(1);ru(IO,"on"+CO)}ru(xP,"onAnimationEnd");ru(SP,"onAnimationIteration");ru(AP,"onAnimationStart");ru("dblclick","onDoubleClick");ru("focusin","onFocus");ru("focusout","onBlur");ru(kP,"onTransitionEnd");Ch("onMouseEnter",["mouseout","mouseover"]);Ch("onMouseLeave",["mouseout","mouseover"]);Ch("onPointerEnter",["pointerout","pointerover"]);Ch("onPointerLeave",["pointerout","pointerover"]);pc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));pc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));pc("onBeforeInput",["compositionend","keypress","textInput","paste"]);pc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));pc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));pc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),NO=new Set("cancel close invalid load scroll toggle".split(" ").concat(sd));function IS(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,ID(i,e,void 0,t),t.currentTarget=null}function EP(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break e;IS(r,a,u),s=l}else for(o=0;o<i.length;o++){if(a=i[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break e;IS(r,a,u),s=l}}}if(e0)throw t=bv,e0=!1,bv=null,t}function In(t,e){var n=e[Nv];n===void 0&&(n=e[Nv]=new Set);var i=t+"__bubble";n.has(i)||(PP(e,t,2,!1),n.add(i))}function Vy(t,e,n){var i=0;e&&(i|=4),PP(n,t,i,e)}var Lg="_reactListening"+Math.random().toString(36).slice(2);function Qd(t){if(!t[Lg]){t[Lg]=!0,DE.forEach(function(n){n!=="selectionchange"&&(NO.has(n)||Vy(n,!1,t),Vy(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Lg]||(e[Lg]=!0,Vy("selectionchange",!1,e))}}function PP(t,e,n,i){switch(hP(e)){case 1:var r=HD;break;case 4:r=$D;break;default:r=Ew}n=r.bind(null,e,n,t),r=void 0,!_v||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function By(t,e,n,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=i.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=Fu(a),o===null)return;if(l=o.tag,l===5||l===6){i=s=o;continue e}a=a.parentNode}}i=i.return}QE(function(){var u=s,c=Sw(n),h=[];e:{var d=TP.get(t);if(d!==void 0){var f=Iw,y=t;switch(t){case"keypress":if(xm(n)===0)break e;case"keydown":case"keyup":f=aO;break;case"focusin":y="focus",f=Ry;break;case"focusout":y="blur",f=Ry;break;case"beforeblur":case"afterblur":f=Ry;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=yS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=YD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=cO;break;case xP:case SP:case AP:f=JD;break;case kP:f=fO;break;case"scroll":f=GD;break;case"wheel":f=pO;break;case"copy":case"cut":case"paste":f=eO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=wS}var w=(e&4)!==0,b=!w&&t==="scroll",v=w?d!==null?d+"Capture":null:d;w=[];for(var S=u,I;S!==null;){I=S;var P=I.stateNode;if(I.tag===5&&P!==null&&(I=P,v!==null&&(P=Hd(S,v),P!=null&&w.push(Jd(S,P,I)))),b)break;S=S.return}0<w.length&&(d=new f(d,y,null,n,c),h.push({event:d,listeners:w}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",d&&n!==vv&&(y=n.relatedTarget||n.fromElement)&&(Fu(y)||y[Ra]))break e;if((f||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,f?(y=n.relatedTarget||n.toElement,f=u,y=y?Fu(y):null,y!==null&&(b=gc(y),y!==b||y.tag!==5&&y.tag!==6)&&(y=null)):(f=null,y=u),f!==y)){if(w=yS,P="onMouseLeave",v="onMouseEnter",S="mouse",(t==="pointerout"||t==="pointerover")&&(w=wS,P="onPointerLeave",v="onPointerEnter",S="pointer"),b=f==null?d:Yc(f),I=y==null?d:Yc(y),d=new w(P,S+"leave",f,n,c),d.target=b,d.relatedTarget=I,P=null,Fu(c)===u&&(w=new w(v,S+"enter",y,n,c),w.target=I,w.relatedTarget=b,P=w),b=P,f&&y)t:{for(w=f,v=y,S=0,I=w;I;I=Rc(I))S++;for(I=0,P=v;P;P=Rc(P))I++;for(;0<S-I;)w=Rc(w),S--;for(;0<I-S;)v=Rc(v),I--;for(;S--;){if(w===v||v!==null&&w===v.alternate)break t;w=Rc(w),v=Rc(v)}w=null}else w=null;f!==null&&CS(h,d,f,w,!1),y!==null&&b!==null&&CS(h,b,y,w,!0)}}e:{if(d=u?Yc(u):window,f=d.nodeName&&d.nodeName.toLowerCase(),f==="select"||f==="input"&&d.type==="file")var F=bO;else if(xS(d))if(yP)F=kO;else{F=SO;var H=xO}else(f=d.nodeName)&&f.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(F=AO);if(F&&(F=F(t,u))){mP(h,F,n,c);break e}H&&H(t,d,u),t==="focusout"&&(H=d._wrapperState)&&H.controlled&&d.type==="number"&&dv(d,"number",d.value)}switch(H=u?Yc(u):window,t){case"focusin":(xS(H)||H.contentEditable==="true")&&(Gc=H,kv=u,wd=null);break;case"focusout":wd=kv=Gc=null;break;case"mousedown":Tv=!0;break;case"contextmenu":case"mouseup":case"dragend":Tv=!1,ES(h,n,c);break;case"selectionchange":if(PO)break;case"keydown":case"keyup":ES(h,n,c)}var M;if(Nw)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else $c?pP(t,n)&&(k="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(dP&&n.locale!=="ko"&&($c||k!=="onCompositionStart"?k==="onCompositionEnd"&&$c&&(M=fP()):(El=c,Pw="value"in El?El.value:El.textContent,$c=!0)),H=s0(u,k),0<H.length&&(k=new vS(k,t,null,n,c),h.push({event:k,listeners:H}),M?k.data=M:(M=gP(n),M!==null&&(k.data=M)))),(M=mO?yO(t,n):vO(t,n))&&(u=s0(u,"onBeforeInput"),0<u.length&&(c=new vS("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=M))}EP(h,e)})}function Jd(t,e,n){return{instance:t,listener:e,currentTarget:n}}function s0(t,e){for(var n=e+"Capture",i=[];t!==null;){var r=t,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=Hd(t,n),s!=null&&i.unshift(Jd(t,s,r)),s=Hd(t,e),s!=null&&i.push(Jd(t,s,r))),t=t.return}return i}function Rc(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function CS(t,e,n,i,r){for(var s=e._reactName,o=[];n!==null&&n!==i;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&u!==null&&(a=u,r?(l=Hd(n,s),l!=null&&o.unshift(Jd(n,l,a))):r||(l=Hd(n,s),l!=null&&o.push(Jd(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var LO=/\r\n?/g,RO=/\u0000|\uFFFD/g;function NS(t){return(typeof t=="string"?t:""+t).replace(LO,`
`).replace(RO,"")}function Rg(t,e,n){if(e=NS(e),NS(t)!==e&&n)throw Error(Oe(425))}function o0(){}var Ev=null,Pv=null;function Iv(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Cv=typeof setTimeout=="function"?setTimeout:void 0,MO=typeof clearTimeout=="function"?clearTimeout:void 0,LS=typeof Promise=="function"?Promise:void 0,DO=typeof queueMicrotask=="function"?queueMicrotask:typeof LS<"u"?function(t){return LS.resolve(null).then(t).catch(OO)}:Cv;function OO(t){setTimeout(function(){throw t})}function zy(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(i===0){t.removeChild(r),Kd(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=r}while(n);Kd(e)}function jl(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function RS(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var sf=Math.random().toString(36).slice(2),jo="__reactFiber$"+sf,Zd="__reactProps$"+sf,Ra="__reactContainer$"+sf,Nv="__reactEvents$"+sf,FO="__reactListeners$"+sf,jO="__reactHandles$"+sf;function Fu(t){var e=t[jo];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ra]||n[jo]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=RS(t);t!==null;){if(n=t[jo])return n;t=RS(t)}return e}t=n,n=t.parentNode}return null}function Dp(t){return t=t[jo]||t[Ra],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Yc(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Oe(33))}function p1(t){return t[Zd]||null}var Lv=[],Xc=-1;function su(t){return{current:t}}function Ln(t){0>Xc||(t.current=Lv[Xc],Lv[Xc]=null,Xc--)}function Tn(t,e){Xc++,Lv[Xc]=t.current,t.current=e}var Yl={},_r=su(Yl),Wr=su(!1),Ju=Yl;function Nh(t,e){var n=t.type.contextTypes;if(!n)return Yl;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in n)r[s]=e[s];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function qr(t){return t=t.childContextTypes,t!=null}function a0(){Ln(Wr),Ln(_r)}function MS(t,e,n){if(_r.current!==Yl)throw Error(Oe(168));Tn(_r,e),Tn(Wr,n)}function IP(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(Oe(108,xD(t)||"Unknown",r));return $n({},n,i)}function l0(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Yl,Ju=_r.current,Tn(_r,t),Tn(Wr,Wr.current),!0}function DS(t,e,n){var i=t.stateNode;if(!i)throw Error(Oe(169));n?(t=IP(t,e,Ju),i.__reactInternalMemoizedMergedChildContext=t,Ln(Wr),Ln(_r),Tn(_r,t)):Ln(Wr),Tn(Wr,n)}var ma=null,g1=!1,Uy=!1;function CP(t){ma===null?ma=[t]:ma.push(t)}function VO(t){g1=!0,CP(t)}function ou(){if(!Uy&&ma!==null){Uy=!0;var t=0,e=pn;try{var n=ma;for(pn=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}ma=null,g1=!1}catch(r){throw ma!==null&&(ma=ma.slice(t+1)),tP(Aw,ou),r}finally{pn=e,Uy=!1}}return null}var Qc=[],Jc=0,u0=null,c0=0,Ds=[],Os=0,Zu=null,_a=1,ba="";function Pu(t,e){Qc[Jc++]=c0,Qc[Jc++]=u0,u0=t,c0=e}function NP(t,e,n){Ds[Os++]=_a,Ds[Os++]=ba,Ds[Os++]=Zu,Zu=t;var i=_a;t=ba;var r=32-lo(i)-1;i&=~(1<<r),n+=1;var s=32-lo(e)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,_a=1<<32-lo(e)+r|n<<r|i,ba=s+t}else _a=1<<s|n<<r|i,ba=t}function Rw(t){t.return!==null&&(Pu(t,1),NP(t,1,0))}function Mw(t){for(;t===u0;)u0=Qc[--Jc],Qc[Jc]=null,c0=Qc[--Jc],Qc[Jc]=null;for(;t===Zu;)Zu=Ds[--Os],Ds[Os]=null,ba=Ds[--Os],Ds[Os]=null,_a=Ds[--Os],Ds[Os]=null}var hs=null,ls=null,Fn=!1,ao=null;function LP(t,e){var n=Fs(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function OS(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,hs=t,ls=jl(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,hs=t,ls=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Zu!==null?{id:_a,overflow:ba}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Fs(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,hs=t,ls=null,!0):!1;default:return!1}}function Rv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Mv(t){if(Fn){var e=ls;if(e){var n=e;if(!OS(t,e)){if(Rv(t))throw Error(Oe(418));e=jl(n.nextSibling);var i=hs;e&&OS(t,e)?LP(i,n):(t.flags=t.flags&-4097|2,Fn=!1,hs=t)}}else{if(Rv(t))throw Error(Oe(418));t.flags=t.flags&-4097|2,Fn=!1,hs=t}}}function FS(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;hs=t}function Mg(t){if(t!==hs)return!1;if(!Fn)return FS(t),Fn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Iv(t.type,t.memoizedProps)),e&&(e=ls)){if(Rv(t))throw RP(),Error(Oe(418));for(;e;)LP(t,e),e=jl(e.nextSibling)}if(FS(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Oe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ls=jl(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ls=null}}else ls=hs?jl(t.stateNode.nextSibling):null;return!0}function RP(){for(var t=ls;t;)t=jl(t.nextSibling)}function Lh(){ls=hs=null,Fn=!1}function Dw(t){ao===null?ao=[t]:ao.push(t)}var BO=Wa.ReactCurrentBatchConfig;function Wf(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Oe(309));var i=n.stateNode}if(!i)throw Error(Oe(147,t));var r=i,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=r.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(Oe(284));if(!n._owner)throw Error(Oe(290,t))}return t}function Dg(t,e){throw t=Object.prototype.toString.call(e),Error(Oe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function jS(t){var e=t._init;return e(t._payload)}function MP(t){function e(v,S){if(t){var I=v.deletions;I===null?(v.deletions=[S],v.flags|=16):I.push(S)}}function n(v,S){if(!t)return null;for(;S!==null;)e(v,S),S=S.sibling;return null}function i(v,S){for(v=new Map;S!==null;)S.key!==null?v.set(S.key,S):v.set(S.index,S),S=S.sibling;return v}function r(v,S){return v=Ul(v,S),v.index=0,v.sibling=null,v}function s(v,S,I){return v.index=I,t?(I=v.alternate,I!==null?(I=I.index,I<S?(v.flags|=2,S):I):(v.flags|=2,S)):(v.flags|=1048576,S)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,S,I,P){return S===null||S.tag!==6?(S=Yy(I,v.mode,P),S.return=v,S):(S=r(S,I),S.return=v,S)}function l(v,S,I,P){var F=I.type;return F===Hc?c(v,S,I.props.children,P,I.key):S!==null&&(S.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===_l&&jS(F)===S.type)?(P=r(S,I.props),P.ref=Wf(v,S,I),P.return=v,P):(P=Im(I.type,I.key,I.props,null,v.mode,P),P.ref=Wf(v,S,I),P.return=v,P)}function u(v,S,I,P){return S===null||S.tag!==4||S.stateNode.containerInfo!==I.containerInfo||S.stateNode.implementation!==I.implementation?(S=Xy(I,v.mode,P),S.return=v,S):(S=r(S,I.children||[]),S.return=v,S)}function c(v,S,I,P,F){return S===null||S.tag!==7?(S=Hu(I,v.mode,P,F),S.return=v,S):(S=r(S,I),S.return=v,S)}function h(v,S,I){if(typeof S=="string"&&S!==""||typeof S=="number")return S=Yy(""+S,v.mode,I),S.return=v,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Ag:return I=Im(S.type,S.key,S.props,null,v.mode,I),I.ref=Wf(v,null,S),I.return=v,I;case qc:return S=Xy(S,v.mode,I),S.return=v,S;case _l:var P=S._init;return h(v,P(S._payload),I)}if(id(S)||jf(S))return S=Hu(S,v.mode,I,null),S.return=v,S;Dg(v,S)}return null}function d(v,S,I,P){var F=S!==null?S.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return F!==null?null:a(v,S,""+I,P);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Ag:return I.key===F?l(v,S,I,P):null;case qc:return I.key===F?u(v,S,I,P):null;case _l:return F=I._init,d(v,S,F(I._payload),P)}if(id(I)||jf(I))return F!==null?null:c(v,S,I,P,null);Dg(v,I)}return null}function f(v,S,I,P,F){if(typeof P=="string"&&P!==""||typeof P=="number")return v=v.get(I)||null,a(S,v,""+P,F);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Ag:return v=v.get(P.key===null?I:P.key)||null,l(S,v,P,F);case qc:return v=v.get(P.key===null?I:P.key)||null,u(S,v,P,F);case _l:var H=P._init;return f(v,S,I,H(P._payload),F)}if(id(P)||jf(P))return v=v.get(I)||null,c(S,v,P,F,null);Dg(S,P)}return null}function y(v,S,I,P){for(var F=null,H=null,M=S,k=S=0,T=null;M!==null&&k<I.length;k++){M.index>k?(T=M,M=null):T=M.sibling;var O=d(v,M,I[k],P);if(O===null){M===null&&(M=T);break}t&&M&&O.alternate===null&&e(v,M),S=s(O,S,k),H===null?F=O:H.sibling=O,H=O,M=T}if(k===I.length)return n(v,M),Fn&&Pu(v,k),F;if(M===null){for(;k<I.length;k++)M=h(v,I[k],P),M!==null&&(S=s(M,S,k),H===null?F=M:H.sibling=M,H=M);return Fn&&Pu(v,k),F}for(M=i(v,M);k<I.length;k++)T=f(M,v,k,I[k],P),T!==null&&(t&&T.alternate!==null&&M.delete(T.key===null?k:T.key),S=s(T,S,k),H===null?F=T:H.sibling=T,H=T);return t&&M.forEach(function(E){return e(v,E)}),Fn&&Pu(v,k),F}function w(v,S,I,P){var F=jf(I);if(typeof F!="function")throw Error(Oe(150));if(I=F.call(I),I==null)throw Error(Oe(151));for(var H=F=null,M=S,k=S=0,T=null,O=I.next();M!==null&&!O.done;k++,O=I.next()){M.index>k?(T=M,M=null):T=M.sibling;var E=d(v,M,O.value,P);if(E===null){M===null&&(M=T);break}t&&M&&E.alternate===null&&e(v,M),S=s(E,S,k),H===null?F=E:H.sibling=E,H=E,M=T}if(O.done)return n(v,M),Fn&&Pu(v,k),F;if(M===null){for(;!O.done;k++,O=I.next())O=h(v,O.value,P),O!==null&&(S=s(O,S,k),H===null?F=O:H.sibling=O,H=O);return Fn&&Pu(v,k),F}for(M=i(v,M);!O.done;k++,O=I.next())O=f(M,v,k,O.value,P),O!==null&&(t&&O.alternate!==null&&M.delete(O.key===null?k:O.key),S=s(O,S,k),H===null?F=O:H.sibling=O,H=O);return t&&M.forEach(function(L){return e(v,L)}),Fn&&Pu(v,k),F}function b(v,S,I,P){if(typeof I=="object"&&I!==null&&I.type===Hc&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case Ag:e:{for(var F=I.key,H=S;H!==null;){if(H.key===F){if(F=I.type,F===Hc){if(H.tag===7){n(v,H.sibling),S=r(H,I.props.children),S.return=v,v=S;break e}}else if(H.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===_l&&jS(F)===H.type){n(v,H.sibling),S=r(H,I.props),S.ref=Wf(v,H,I),S.return=v,v=S;break e}n(v,H);break}else e(v,H);H=H.sibling}I.type===Hc?(S=Hu(I.props.children,v.mode,P,I.key),S.return=v,v=S):(P=Im(I.type,I.key,I.props,null,v.mode,P),P.ref=Wf(v,S,I),P.return=v,v=P)}return o(v);case qc:e:{for(H=I.key;S!==null;){if(S.key===H)if(S.tag===4&&S.stateNode.containerInfo===I.containerInfo&&S.stateNode.implementation===I.implementation){n(v,S.sibling),S=r(S,I.children||[]),S.return=v,v=S;break e}else{n(v,S);break}else e(v,S);S=S.sibling}S=Xy(I,v.mode,P),S.return=v,v=S}return o(v);case _l:return H=I._init,b(v,S,H(I._payload),P)}if(id(I))return y(v,S,I,P);if(jf(I))return w(v,S,I,P);Dg(v,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,S!==null&&S.tag===6?(n(v,S.sibling),S=r(S,I),S.return=v,v=S):(n(v,S),S=Yy(I,v.mode,P),S.return=v,v=S),o(v)):n(v,S)}return b}var Rh=MP(!0),DP=MP(!1),h0=su(null),f0=null,Zc=null,Ow=null;function Fw(){Ow=Zc=f0=null}function jw(t){var e=h0.current;Ln(h0),t._currentValue=e}function Dv(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function yh(t,e){f0=t,Ow=Zc=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ur=!0),t.firstContext=null)}function Us(t){var e=t._currentValue;if(Ow!==t)if(t={context:t,memoizedValue:e,next:null},Zc===null){if(f0===null)throw Error(Oe(308));Zc=t,f0.dependencies={lanes:0,firstContext:t}}else Zc=Zc.next=t;return e}var ju=null;function Vw(t){ju===null?ju=[t]:ju.push(t)}function OP(t,e,n,i){var r=e.interleaved;return r===null?(n.next=n,Vw(e)):(n.next=r.next,r.next=n),e.interleaved=n,Ma(t,i)}function Ma(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var bl=!1;function Bw(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function FP(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Pa(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Vl(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,Xt&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,Ma(t,n)}return r=i.interleaved,r===null?(e.next=e,Vw(i)):(e.next=r.next,r.next=e),i.interleaved=e,Ma(t,n)}function Sm(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,kw(t,n)}}function VS(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?r=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?r=s=e:s=s.next=e}else r=s=e;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function d0(t,e,n,i){var r=t.updateQueue;bl=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var h=r.baseState;o=0,c=u=l=null,a=s;do{var d=a.lane,f=a.eventTime;if((i&d)===d){c!==null&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,w=a;switch(d=e,f=n,w.tag){case 1:if(y=w.payload,typeof y=="function"){h=y.call(f,h,d);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=w.payload,d=typeof y=="function"?y.call(f,h,d):y,d==null)break e;h=$n({},h,d);break e;case 2:bl=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=r.effects,d===null?r.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=f,l=h):c=c.next=f,o|=d;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;d=a,a=d.next,d.next=null,r.lastBaseUpdate=d,r.shared.pending=null}}while(!0);if(c===null&&(l=h),r.baseState=l,r.firstBaseUpdate=u,r.lastBaseUpdate=c,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);tc|=o,t.lanes=o,t.memoizedState=h}}function BS(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],r=i.callback;if(r!==null){if(i.callback=null,i=n,typeof r!="function")throw Error(Oe(191,r));r.call(i)}}}var Op={},zo=su(Op),ep=su(Op),tp=su(Op);function Vu(t){if(t===Op)throw Error(Oe(174));return t}function zw(t,e){switch(Tn(tp,e),Tn(ep,t),Tn(zo,Op),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:gv(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=gv(e,t)}Ln(zo),Tn(zo,e)}function Mh(){Ln(zo),Ln(ep),Ln(tp)}function jP(t){Vu(tp.current);var e=Vu(zo.current),n=gv(e,t.type);e!==n&&(Tn(ep,t),Tn(zo,n))}function Uw(t){ep.current===t&&(Ln(zo),Ln(ep))}var Wn=su(0);function p0(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Wy=[];function Ww(){for(var t=0;t<Wy.length;t++)Wy[t]._workInProgressVersionPrimary=null;Wy.length=0}var Am=Wa.ReactCurrentDispatcher,qy=Wa.ReactCurrentBatchConfig,ec=0,Hn=null,ki=null,Di=null,g0=!1,_d=!1,np=0,zO=0;function sr(){throw Error(Oe(321))}function qw(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!fo(t[n],e[n]))return!1;return!0}function Hw(t,e,n,i,r,s){if(ec=s,Hn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Am.current=t===null||t.memoizedState===null?HO:$O,t=n(i,r),_d){s=0;do{if(_d=!1,np=0,25<=s)throw Error(Oe(301));s+=1,Di=ki=null,e.updateQueue=null,Am.current=GO,t=n(i,r)}while(_d)}if(Am.current=m0,e=ki!==null&&ki.next!==null,ec=0,Di=ki=Hn=null,g0=!1,e)throw Error(Oe(300));return t}function $w(){var t=np!==0;return np=0,t}function Oo(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Di===null?Hn.memoizedState=Di=t:Di=Di.next=t,Di}function Ws(){if(ki===null){var t=Hn.alternate;t=t!==null?t.memoizedState:null}else t=ki.next;var e=Di===null?Hn.memoizedState:Di.next;if(e!==null)Di=e,ki=t;else{if(t===null)throw Error(Oe(310));ki=t,t={memoizedState:ki.memoizedState,baseState:ki.baseState,baseQueue:ki.baseQueue,queue:ki.queue,next:null},Di===null?Hn.memoizedState=Di=t:Di=Di.next=t}return Di}function ip(t,e){return typeof e=="function"?e(t):e}function Hy(t){var e=Ws(),n=e.queue;if(n===null)throw Error(Oe(311));n.lastRenderedReducer=t;var i=ki,r=i.baseQueue,s=n.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}i.baseQueue=r=s,n.pending=null}if(r!==null){s=r.next,i=i.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((ec&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),i=u.hasEagerState?u.eagerState:t(i,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=i):l=l.next=h,Hn.lanes|=c,tc|=c}u=u.next}while(u!==null&&u!==s);l===null?o=i:l.next=a,fo(i,e.memoizedState)||(Ur=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=l,n.lastRenderedState=i}if(t=n.interleaved,t!==null){r=t;do s=r.lane,Hn.lanes|=s,tc|=s,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function $y(t){var e=Ws(),n=e.queue;if(n===null)throw Error(Oe(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,s=e.memoizedState;if(r!==null){n.pending=null;var o=r=r.next;do s=t(s,o.action),o=o.next;while(o!==r);fo(s,e.memoizedState)||(Ur=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,i]}function VP(){}function BP(t,e){var n=Hn,i=Ws(),r=e(),s=!fo(i.memoizedState,r);if(s&&(i.memoizedState=r,Ur=!0),i=i.queue,Gw(WP.bind(null,n,i,t),[t]),i.getSnapshot!==e||s||Di!==null&&Di.memoizedState.tag&1){if(n.flags|=2048,rp(9,UP.bind(null,n,i,r,e),void 0,null),ji===null)throw Error(Oe(349));ec&30||zP(n,e,r)}return r}function zP(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Hn.updateQueue,e===null?(e={lastEffect:null,stores:null},Hn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function UP(t,e,n,i){e.value=n,e.getSnapshot=i,qP(e)&&HP(t)}function WP(t,e,n){return n(function(){qP(e)&&HP(t)})}function qP(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!fo(t,n)}catch{return!0}}function HP(t){var e=Ma(t,1);e!==null&&uo(e,t,1,-1)}function zS(t){var e=Oo();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ip,lastRenderedState:t},e.queue=t,t=t.dispatch=qO.bind(null,Hn,t),[e.memoizedState,t]}function rp(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=Hn.updateQueue,e===null?(e={lastEffect:null,stores:null},Hn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function $P(){return Ws().memoizedState}function km(t,e,n,i){var r=Oo();Hn.flags|=t,r.memoizedState=rp(1|e,n,void 0,i===void 0?null:i)}function m1(t,e,n,i){var r=Ws();i=i===void 0?null:i;var s=void 0;if(ki!==null){var o=ki.memoizedState;if(s=o.destroy,i!==null&&qw(i,o.deps)){r.memoizedState=rp(e,n,s,i);return}}Hn.flags|=t,r.memoizedState=rp(1|e,n,s,i)}function US(t,e){return km(8390656,8,t,e)}function Gw(t,e){return m1(2048,8,t,e)}function GP(t,e){return m1(4,2,t,e)}function KP(t,e){return m1(4,4,t,e)}function YP(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function XP(t,e,n){return n=n!=null?n.concat([t]):null,m1(4,4,YP.bind(null,e,t),n)}function Kw(){}function QP(t,e){var n=Ws();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&qw(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function JP(t,e){var n=Ws();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&qw(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function ZP(t,e,n){return ec&21?(fo(n,e)||(n=rP(),Hn.lanes|=n,tc|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ur=!0),t.memoizedState=n)}function UO(t,e){var n=pn;pn=n!==0&&4>n?n:4,t(!0);var i=qy.transition;qy.transition={};try{t(!1),e()}finally{pn=n,qy.transition=i}}function eI(){return Ws().memoizedState}function WO(t,e,n){var i=zl(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},tI(t))nI(e,n);else if(n=OP(t,e,n,i),n!==null){var r=Cr();uo(n,t,i,r),iI(n,e,i)}}function qO(t,e,n){var i=zl(t),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(tI(t))nI(e,r);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(r.hasEagerState=!0,r.eagerState=a,fo(a,o)){var l=e.interleaved;l===null?(r.next=r,Vw(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}n=OP(t,e,r,i),n!==null&&(r=Cr(),uo(n,t,i,r),iI(n,e,i))}}function tI(t){var e=t.alternate;return t===Hn||e!==null&&e===Hn}function nI(t,e){_d=g0=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function iI(t,e,n){if(n&4194240){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,kw(t,n)}}var m0={readContext:Us,useCallback:sr,useContext:sr,useEffect:sr,useImperativeHandle:sr,useInsertionEffect:sr,useLayoutEffect:sr,useMemo:sr,useReducer:sr,useRef:sr,useState:sr,useDebugValue:sr,useDeferredValue:sr,useTransition:sr,useMutableSource:sr,useSyncExternalStore:sr,useId:sr,unstable_isNewReconciler:!1},HO={readContext:Us,useCallback:function(t,e){return Oo().memoizedState=[t,e===void 0?null:e],t},useContext:Us,useEffect:US,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,km(4194308,4,YP.bind(null,e,t),n)},useLayoutEffect:function(t,e){return km(4194308,4,t,e)},useInsertionEffect:function(t,e){return km(4,2,t,e)},useMemo:function(t,e){var n=Oo();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=Oo();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=WO.bind(null,Hn,t),[i.memoizedState,t]},useRef:function(t){var e=Oo();return t={current:t},e.memoizedState=t},useState:zS,useDebugValue:Kw,useDeferredValue:function(t){return Oo().memoizedState=t},useTransition:function(){var t=zS(!1),e=t[0];return t=UO.bind(null,t[1]),Oo().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=Hn,r=Oo();if(Fn){if(n===void 0)throw Error(Oe(407));n=n()}else{if(n=e(),ji===null)throw Error(Oe(349));ec&30||zP(i,e,n)}r.memoizedState=n;var s={value:n,getSnapshot:e};return r.queue=s,US(WP.bind(null,i,s,t),[t]),i.flags|=2048,rp(9,UP.bind(null,i,s,n,e),void 0,null),n},useId:function(){var t=Oo(),e=ji.identifierPrefix;if(Fn){var n=ba,i=_a;n=(i&~(1<<32-lo(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=np++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=zO++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},$O={readContext:Us,useCallback:QP,useContext:Us,useEffect:Gw,useImperativeHandle:XP,useInsertionEffect:GP,useLayoutEffect:KP,useMemo:JP,useReducer:Hy,useRef:$P,useState:function(){return Hy(ip)},useDebugValue:Kw,useDeferredValue:function(t){var e=Ws();return ZP(e,ki.memoizedState,t)},useTransition:function(){var t=Hy(ip)[0],e=Ws().memoizedState;return[t,e]},useMutableSource:VP,useSyncExternalStore:BP,useId:eI,unstable_isNewReconciler:!1},GO={readContext:Us,useCallback:QP,useContext:Us,useEffect:Gw,useImperativeHandle:XP,useInsertionEffect:GP,useLayoutEffect:KP,useMemo:JP,useReducer:$y,useRef:$P,useState:function(){return $y(ip)},useDebugValue:Kw,useDeferredValue:function(t){var e=Ws();return ki===null?e.memoizedState=t:ZP(e,ki.memoizedState,t)},useTransition:function(){var t=$y(ip)[0],e=Ws().memoizedState;return[t,e]},useMutableSource:VP,useSyncExternalStore:BP,useId:eI,unstable_isNewReconciler:!1};function ro(t,e){if(t&&t.defaultProps){e=$n({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Ov(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:$n({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var y1={isMounted:function(t){return(t=t._reactInternals)?gc(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=Cr(),r=zl(t),s=Pa(i,r);s.payload=e,n!=null&&(s.callback=n),e=Vl(t,s,r),e!==null&&(uo(e,t,r,i),Sm(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=Cr(),r=zl(t),s=Pa(i,r);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Vl(t,s,r),e!==null&&(uo(e,t,r,i),Sm(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Cr(),i=zl(t),r=Pa(n,i);r.tag=2,e!=null&&(r.callback=e),e=Vl(t,r,i),e!==null&&(uo(e,t,i,n),Sm(e,t,i))}};function WS(t,e,n,i,r,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,s,o):e.prototype&&e.prototype.isPureReactComponent?!Xd(n,i)||!Xd(r,s):!0}function rI(t,e,n){var i=!1,r=Yl,s=e.contextType;return typeof s=="object"&&s!==null?s=Us(s):(r=qr(e)?Ju:_r.current,i=e.contextTypes,s=(i=i!=null)?Nh(t,r):Yl),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=y1,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=s),e}function qS(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&y1.enqueueReplaceState(e,e.state,null)}function Fv(t,e,n,i){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs={},Bw(t);var s=e.contextType;typeof s=="object"&&s!==null?r.context=Us(s):(s=qr(e)?Ju:_r.current,r.context=Nh(t,s)),r.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Ov(t,e,s,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&y1.enqueueReplaceState(r,r.state,null),d0(t,n,r,i),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function Dh(t,e){try{var n="",i=e;do n+=bD(i),i=i.return;while(i);var r=n}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:r,digest:null}}function Gy(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function jv(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var KO=typeof WeakMap=="function"?WeakMap:Map;function sI(t,e,n){n=Pa(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){v0||(v0=!0,Kv=i),jv(t,e)},n}function oI(t,e,n){n=Pa(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;n.payload=function(){return i(r)},n.callback=function(){jv(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){jv(t,e),typeof i!="function"&&(Bl===null?Bl=new Set([this]):Bl.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function HS(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new KO;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(n)||(r.add(n),t=l7.bind(null,t,e,n),e.then(t,t))}function $S(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function GS(t,e,n,i,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Pa(-1,1),e.tag=2,Vl(n,e,1))),n.lanes|=1),t)}var YO=Wa.ReactCurrentOwner,Ur=!1;function Pr(t,e,n,i){e.child=t===null?DP(e,null,n,i):Rh(e,t.child,n,i)}function KS(t,e,n,i,r){n=n.render;var s=e.ref;return yh(e,r),i=Hw(t,e,n,i,s,r),n=$w(),t!==null&&!Ur?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Da(t,e,r)):(Fn&&n&&Rw(e),e.flags|=1,Pr(t,e,i,r),e.child)}function YS(t,e,n,i,r){if(t===null){var s=n.type;return typeof s=="function"&&!n_(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,aI(t,e,s,i,r)):(t=Im(n.type,null,i,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&r)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Xd,n(o,i)&&t.ref===e.ref)return Da(t,e,r)}return e.flags|=1,t=Ul(s,i),t.ref=e.ref,t.return=e,e.child=t}function aI(t,e,n,i,r){if(t!==null){var s=t.memoizedProps;if(Xd(s,i)&&t.ref===e.ref)if(Ur=!1,e.pendingProps=i=s,(t.lanes&r)!==0)t.flags&131072&&(Ur=!0);else return e.lanes=t.lanes,Da(t,e,r)}return Vv(t,e,n,i,r)}function lI(t,e,n){var i=e.pendingProps,r=i.children,s=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Tn(th,as),as|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Tn(th,as),as|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:n,Tn(th,as),as|=i}else s!==null?(i=s.baseLanes|n,e.memoizedState=null):i=n,Tn(th,as),as|=i;return Pr(t,e,r,n),e.child}function uI(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Vv(t,e,n,i,r){var s=qr(n)?Ju:_r.current;return s=Nh(e,s),yh(e,r),n=Hw(t,e,n,i,s,r),i=$w(),t!==null&&!Ur?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Da(t,e,r)):(Fn&&i&&Rw(e),e.flags|=1,Pr(t,e,n,r),e.child)}function XS(t,e,n,i,r){if(qr(n)){var s=!0;l0(e)}else s=!1;if(yh(e,r),e.stateNode===null)Tm(t,e),rI(e,n,i),Fv(e,n,i,r),i=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Us(u):(u=qr(n)?Ju:_r.current,u=Nh(e,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||l!==u)&&qS(e,o,i,u),bl=!1;var d=e.memoizedState;o.state=d,d0(e,i,o,r),l=e.memoizedState,a!==i||d!==l||Wr.current||bl?(typeof c=="function"&&(Ov(e,n,c,i),l=e.memoizedState),(a=bl||WS(e,n,a,i,d,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),o.props=i,o.state=l,o.context=u,i=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,FP(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:ro(e.type,a),o.props=u,h=e.pendingProps,d=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Us(l):(l=qr(n)?Ju:_r.current,l=Nh(e,l));var f=n.getDerivedStateFromProps;(c=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||d!==l)&&qS(e,o,i,l),bl=!1,d=e.memoizedState,o.state=d,d0(e,i,o,r);var y=e.memoizedState;a!==h||d!==y||Wr.current||bl?(typeof f=="function"&&(Ov(e,n,f,i),y=e.memoizedState),(u=bl||WS(e,n,u,i,d,y,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=y),o.props=i,o.state=y,o.context=l,i=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),i=!1)}return Bv(t,e,n,i,s,r)}function Bv(t,e,n,i,r,s){uI(t,e);var o=(e.flags&128)!==0;if(!i&&!o)return r&&DS(e,n,!1),Da(t,e,s);i=e.stateNode,YO.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&o?(e.child=Rh(e,t.child,null,s),e.child=Rh(e,null,a,s)):Pr(t,e,a,s),e.memoizedState=i.state,r&&DS(e,n,!0),e.child}function cI(t){var e=t.stateNode;e.pendingContext?MS(t,e.pendingContext,e.pendingContext!==e.context):e.context&&MS(t,e.context,!1),zw(t,e.containerInfo)}function QS(t,e,n,i,r){return Lh(),Dw(r),e.flags|=256,Pr(t,e,n,i),e.child}var zv={dehydrated:null,treeContext:null,retryLane:0};function Uv(t){return{baseLanes:t,cachePool:null,transitions:null}}function hI(t,e,n){var i=e.pendingProps,r=Wn.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(r&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),Tn(Wn,r&1),t===null)return Mv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,t=i.fallback,s?(i=e.mode,s=e.child,o={mode:"hidden",children:o},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=_1(o,i,0,null),t=Hu(t,i,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Uv(n),e.memoizedState=zv,t):Yw(e,o));if(r=t.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return XO(t,e,o,i,a,r,n);if(s){s=i.fallback,o=e.mode,r=t.child,a=r.sibling;var l={mode:"hidden",children:i.children};return!(o&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=Ul(r,l),i.subtreeFlags=r.subtreeFlags&14680064),a!==null?s=Ul(a,s):(s=Hu(s,o,n,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,o=t.child.memoizedState,o=o===null?Uv(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=zv,i}return s=t.child,t=s.sibling,i=Ul(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function Yw(t,e){return e=_1({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Og(t,e,n,i){return i!==null&&Dw(i),Rh(e,t.child,null,n),t=Yw(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function XO(t,e,n,i,r,s,o){if(n)return e.flags&256?(e.flags&=-257,i=Gy(Error(Oe(422))),Og(t,e,o,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=_1({mode:"visible",children:i.children},r,0,null),s=Hu(s,r,o,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&Rh(e,t.child,null,o),e.child.memoizedState=Uv(o),e.memoizedState=zv,s);if(!(e.mode&1))return Og(t,e,o,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var a=i.dgst;return i=a,s=Error(Oe(419)),i=Gy(s,i,void 0),Og(t,e,o,i)}if(a=(o&t.childLanes)!==0,Ur||a){if(i=ji,i!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|o)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,Ma(t,r),uo(i,t,r,-1))}return t_(),i=Gy(Error(Oe(421))),Og(t,e,o,i)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=u7.bind(null,t),r._reactRetry=e,null):(t=s.treeContext,ls=jl(r.nextSibling),hs=e,Fn=!0,ao=null,t!==null&&(Ds[Os++]=_a,Ds[Os++]=ba,Ds[Os++]=Zu,_a=t.id,ba=t.overflow,Zu=e),e=Yw(e,i.children),e.flags|=4096,e)}function JS(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),Dv(t.return,e,n)}function Ky(t,e,n,i,r){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r)}function fI(t,e,n){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(Pr(t,e,i.children,n),i=Wn.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&JS(t,n,e);else if(t.tag===19)JS(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(Tn(Wn,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&p0(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),Ky(e,!1,r,n,s);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&p0(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}Ky(e,!0,n,null,s);break;case"together":Ky(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Tm(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Da(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),tc|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Oe(153));if(e.child!==null){for(t=e.child,n=Ul(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ul(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function QO(t,e,n){switch(e.tag){case 3:cI(e),Lh();break;case 5:jP(e);break;case 1:qr(e.type)&&l0(e);break;case 4:zw(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;Tn(h0,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(Tn(Wn,Wn.current&1),e.flags|=128,null):n&e.child.childLanes?hI(t,e,n):(Tn(Wn,Wn.current&1),t=Da(t,e,n),t!==null?t.sibling:null);Tn(Wn,Wn.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&128){if(i)return fI(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Tn(Wn,Wn.current),i)break;return null;case 22:case 23:return e.lanes=0,lI(t,e,n)}return Da(t,e,n)}var dI,Wv,pI,gI;dI=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Wv=function(){};pI=function(t,e,n,i){var r=t.memoizedProps;if(r!==i){t=e.stateNode,Vu(zo.current);var s=null;switch(n){case"input":r=hv(t,r),i=hv(t,i),s=[];break;case"select":r=$n({},r,{value:void 0}),i=$n({},i,{value:void 0}),s=[];break;case"textarea":r=pv(t,r),i=pv(t,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=o0)}mv(n,i);var o;n=null;for(u in r)if(!i.hasOwnProperty(u)&&r.hasOwnProperty(u)&&r[u]!=null)if(u==="style"){var a=r[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Wd.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in i){var l=i[u];if(a=r!=null?r[u]:void 0,i.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Wd.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&In("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};gI=function(t,e,n,i){n!==i&&(e.flags|=4)};function qf(t,e){if(!Fn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function or(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function JO(t,e,n){var i=e.pendingProps;switch(Mw(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return or(e),null;case 1:return qr(e.type)&&a0(),or(e),null;case 3:return i=e.stateNode,Mh(),Ln(Wr),Ln(_r),Ww(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(Mg(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ao!==null&&(Qv(ao),ao=null))),Wv(t,e),or(e),null;case 5:Uw(e);var r=Vu(tp.current);if(n=e.type,t!==null&&e.stateNode!=null)pI(t,e,n,i,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(Oe(166));return or(e),null}if(t=Vu(zo.current),Mg(e)){i=e.stateNode,n=e.type;var s=e.memoizedProps;switch(i[jo]=e,i[Zd]=s,t=(e.mode&1)!==0,n){case"dialog":In("cancel",i),In("close",i);break;case"iframe":case"object":case"embed":In("load",i);break;case"video":case"audio":for(r=0;r<sd.length;r++)In(sd[r],i);break;case"source":In("error",i);break;case"img":case"image":case"link":In("error",i),In("load",i);break;case"details":In("toggle",i);break;case"input":aS(i,s),In("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},In("invalid",i);break;case"textarea":uS(i,s),In("invalid",i)}mv(n,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?i.textContent!==a&&(s.suppressHydrationWarning!==!0&&Rg(i.textContent,a,t),r=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Rg(i.textContent,a,t),r=["children",""+a]):Wd.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&In("scroll",i)}switch(n){case"input":kg(i),lS(i,s,!0);break;case"textarea":kg(i),cS(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=o0)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=WE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=o.createElement(n,{is:i.is}):(t=o.createElement(n),n==="select"&&(o=t,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):t=o.createElementNS(t,n),t[jo]=e,t[Zd]=i,dI(t,e,!1,!1),e.stateNode=t;e:{switch(o=yv(n,i),n){case"dialog":In("cancel",t),In("close",t),r=i;break;case"iframe":case"object":case"embed":In("load",t),r=i;break;case"video":case"audio":for(r=0;r<sd.length;r++)In(sd[r],t);r=i;break;case"source":In("error",t),r=i;break;case"img":case"image":case"link":In("error",t),In("load",t),r=i;break;case"details":In("toggle",t),r=i;break;case"input":aS(t,i),r=hv(t,i),In("invalid",t);break;case"option":r=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},r=$n({},i,{value:void 0}),In("invalid",t);break;case"textarea":uS(t,i),r=pv(t,i),In("invalid",t);break;default:r=i}mv(n,r),a=r;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?$E(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&qE(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&qd(t,l):typeof l=="number"&&qd(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Wd.hasOwnProperty(s)?l!=null&&s==="onScroll"&&In("scroll",t):l!=null&&ww(t,s,l,o))}switch(n){case"input":kg(t),lS(t,i,!1);break;case"textarea":kg(t),cS(t);break;case"option":i.value!=null&&t.setAttribute("value",""+Kl(i.value));break;case"select":t.multiple=!!i.multiple,s=i.value,s!=null?dh(t,!!i.multiple,s,!1):i.defaultValue!=null&&dh(t,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=o0)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return or(e),null;case 6:if(t&&e.stateNode!=null)gI(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(Oe(166));if(n=Vu(tp.current),Vu(zo.current),Mg(e)){if(i=e.stateNode,n=e.memoizedProps,i[jo]=e,(s=i.nodeValue!==n)&&(t=hs,t!==null))switch(t.tag){case 3:Rg(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Rg(i.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[jo]=e,e.stateNode=i}return or(e),null;case 13:if(Ln(Wn),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Fn&&ls!==null&&e.mode&1&&!(e.flags&128))RP(),Lh(),e.flags|=98560,s=!1;else if(s=Mg(e),i!==null&&i.dehydrated!==null){if(t===null){if(!s)throw Error(Oe(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Oe(317));s[jo]=e}else Lh(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;or(e),s=!1}else ao!==null&&(Qv(ao),ao=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||Wn.current&1?Ei===0&&(Ei=3):t_())),e.updateQueue!==null&&(e.flags|=4),or(e),null);case 4:return Mh(),Wv(t,e),t===null&&Qd(e.stateNode.containerInfo),or(e),null;case 10:return jw(e.type._context),or(e),null;case 17:return qr(e.type)&&a0(),or(e),null;case 19:if(Ln(Wn),s=e.memoizedState,s===null)return or(e),null;if(i=(e.flags&128)!==0,o=s.rendering,o===null)if(i)qf(s,!1);else{if(Ei!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=p0(t),o!==null){for(e.flags|=128,qf(s,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)s=n,t=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Tn(Wn,Wn.current&1|2),e.child}t=t.sibling}s.tail!==null&&ci()>Oh&&(e.flags|=128,i=!0,qf(s,!1),e.lanes=4194304)}else{if(!i)if(t=p0(o),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),qf(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Fn)return or(e),null}else 2*ci()-s.renderingStartTime>Oh&&n!==1073741824&&(e.flags|=128,i=!0,qf(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ci(),e.sibling=null,n=Wn.current,Tn(Wn,i?n&1|2:n&1),e):(or(e),null);case 22:case 23:return e_(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?as&1073741824&&(or(e),e.subtreeFlags&6&&(e.flags|=8192)):or(e),null;case 24:return null;case 25:return null}throw Error(Oe(156,e.tag))}function ZO(t,e){switch(Mw(e),e.tag){case 1:return qr(e.type)&&a0(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Mh(),Ln(Wr),Ln(_r),Ww(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Uw(e),null;case 13:if(Ln(Wn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Oe(340));Lh()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ln(Wn),null;case 4:return Mh(),null;case 10:return jw(e.type._context),null;case 22:case 23:return e_(),null;case 24:return null;default:return null}}var Fg=!1,gr=!1,e7=typeof WeakSet=="function"?WeakSet:Set,He=null;function eh(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){ei(t,e,i)}else n.current=null}function qv(t,e,n){try{n()}catch(i){ei(t,e,i)}}var ZS=!1;function t7(t,e){if(Ev=i0,t=_P(),Lw(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,h=t,d=null;t:for(;;){for(var f;h!==n||r!==0&&h.nodeType!==3||(a=o+r),h!==s||i!==0&&h.nodeType!==3||(l=o+i),h.nodeType===3&&(o+=h.nodeValue.length),(f=h.firstChild)!==null;)d=h,h=f;for(;;){if(h===t)break t;if(d===n&&++u===r&&(a=o),d===s&&++c===i&&(l=o),(f=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Pv={focusedElem:t,selectionRange:n},i0=!1,He=e;He!==null;)if(e=He,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,He=t;else for(;He!==null;){e=He;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var w=y.memoizedProps,b=y.memoizedState,v=e.stateNode,S=v.getSnapshotBeforeUpdate(e.elementType===e.type?w:ro(e.type,w),b);v.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var I=e.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Oe(163))}}catch(P){ei(e,e.return,P)}if(t=e.sibling,t!==null){t.return=e.return,He=t;break}He=e.return}return y=ZS,ZS=!1,y}function bd(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&t)===t){var s=r.destroy;r.destroy=void 0,s!==void 0&&qv(e,n,s)}r=r.next}while(r!==i)}}function v1(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function Hv(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function mI(t){var e=t.alternate;e!==null&&(t.alternate=null,mI(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[jo],delete e[Zd],delete e[Nv],delete e[FO],delete e[jO])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function yI(t){return t.tag===5||t.tag===3||t.tag===4}function eA(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||yI(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function $v(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=o0));else if(i!==4&&(t=t.child,t!==null))for($v(t,e,n),t=t.sibling;t!==null;)$v(t,e,n),t=t.sibling}function Gv(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(Gv(t,e,n),t=t.sibling;t!==null;)Gv(t,e,n),t=t.sibling}var qi=null,so=!1;function pl(t,e,n){for(n=n.child;n!==null;)vI(t,e,n),n=n.sibling}function vI(t,e,n){if(Bo&&typeof Bo.onCommitFiberUnmount=="function")try{Bo.onCommitFiberUnmount(c1,n)}catch{}switch(n.tag){case 5:gr||eh(n,e);case 6:var i=qi,r=so;qi=null,pl(t,e,n),qi=i,so=r,qi!==null&&(so?(t=qi,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):qi.removeChild(n.stateNode));break;case 18:qi!==null&&(so?(t=qi,n=n.stateNode,t.nodeType===8?zy(t.parentNode,n):t.nodeType===1&&zy(t,n),Kd(t)):zy(qi,n.stateNode));break;case 4:i=qi,r=so,qi=n.stateNode.containerInfo,so=!0,pl(t,e,n),qi=i,so=r;break;case 0:case 11:case 14:case 15:if(!gr&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&qv(n,e,o),r=r.next}while(r!==i)}pl(t,e,n);break;case 1:if(!gr&&(eh(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(a){ei(n,e,a)}pl(t,e,n);break;case 21:pl(t,e,n);break;case 22:n.mode&1?(gr=(i=gr)||n.memoizedState!==null,pl(t,e,n),gr=i):pl(t,e,n);break;default:pl(t,e,n)}}function tA(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new e7),e.forEach(function(i){var r=c7.bind(null,t,i);n.has(i)||(n.add(i),i.then(r,r))})}}function to(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:qi=a.stateNode,so=!1;break e;case 3:qi=a.stateNode.containerInfo,so=!0;break e;case 4:qi=a.stateNode.containerInfo,so=!0;break e}a=a.return}if(qi===null)throw Error(Oe(160));vI(s,o,r),qi=null,so=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(u){ei(r,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)wI(e,t),e=e.sibling}function wI(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(to(e,t),No(t),i&4){try{bd(3,t,t.return),v1(3,t)}catch(w){ei(t,t.return,w)}try{bd(5,t,t.return)}catch(w){ei(t,t.return,w)}}break;case 1:to(e,t),No(t),i&512&&n!==null&&eh(n,n.return);break;case 5:if(to(e,t),No(t),i&512&&n!==null&&eh(n,n.return),t.flags&32){var r=t.stateNode;try{qd(r,"")}catch(w){ei(t,t.return,w)}}if(i&4&&(r=t.stateNode,r!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&zE(r,s),yv(a,o);var u=yv(a,s);for(o=0;o<l.length;o+=2){var c=l[o],h=l[o+1];c==="style"?$E(r,h):c==="dangerouslySetInnerHTML"?qE(r,h):c==="children"?qd(r,h):ww(r,c,h,u)}switch(a){case"input":fv(r,s);break;case"textarea":UE(r,s);break;case"select":var d=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?dh(r,!!s.multiple,f,!1):d!==!!s.multiple&&(s.defaultValue!=null?dh(r,!!s.multiple,s.defaultValue,!0):dh(r,!!s.multiple,s.multiple?[]:"",!1))}r[Zd]=s}catch(w){ei(t,t.return,w)}}break;case 6:if(to(e,t),No(t),i&4){if(t.stateNode===null)throw Error(Oe(162));r=t.stateNode,s=t.memoizedProps;try{r.nodeValue=s}catch(w){ei(t,t.return,w)}}break;case 3:if(to(e,t),No(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Kd(e.containerInfo)}catch(w){ei(t,t.return,w)}break;case 4:to(e,t),No(t);break;case 13:to(e,t),No(t),r=t.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(Jw=ci())),i&4&&tA(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(gr=(u=gr)||c,to(e,t),gr=u):to(e,t),No(t),i&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(He=t,c=t.child;c!==null;){for(h=He=c;He!==null;){switch(d=He,f=d.child,d.tag){case 0:case 11:case 14:case 15:bd(4,d,d.return);break;case 1:eh(d,d.return);var y=d.stateNode;if(typeof y.componentWillUnmount=="function"){i=d,n=d.return;try{e=i,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(w){ei(i,n,w)}}break;case 5:eh(d,d.return);break;case 22:if(d.memoizedState!==null){iA(h);continue}}f!==null?(f.return=d,He=f):iA(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{r=h.stateNode,u?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=HE("display",o))}catch(w){ei(t,t.return,w)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(w){ei(t,t.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:to(e,t),No(t),i&4&&tA(t);break;case 21:break;default:to(e,t),No(t)}}function No(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(yI(n)){var i=n;break e}n=n.return}throw Error(Oe(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(qd(r,""),i.flags&=-33);var s=eA(t);Gv(t,s,r);break;case 3:case 4:var o=i.stateNode.containerInfo,a=eA(t);$v(t,a,o);break;default:throw Error(Oe(161))}}catch(l){ei(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function n7(t,e,n){He=t,_I(t)}function _I(t,e,n){for(var i=(t.mode&1)!==0;He!==null;){var r=He,s=r.child;if(r.tag===22&&i){var o=r.memoizedState!==null||Fg;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||gr;a=Fg;var u=gr;if(Fg=o,(gr=l)&&!u)for(He=r;He!==null;)o=He,l=o.child,o.tag===22&&o.memoizedState!==null?rA(r):l!==null?(l.return=o,He=l):rA(r);for(;s!==null;)He=s,_I(s),s=s.sibling;He=r,Fg=a,gr=u}nA(t)}else r.subtreeFlags&8772&&s!==null?(s.return=r,He=s):nA(t)}}function nA(t){for(;He!==null;){var e=He;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:gr||v1(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!gr)if(n===null)i.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:ro(e.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&BS(e,s,i);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}BS(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&Kd(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Oe(163))}gr||e.flags&512&&Hv(e)}catch(d){ei(e,e.return,d)}}if(e===t){He=null;break}if(n=e.sibling,n!==null){n.return=e.return,He=n;break}He=e.return}}function iA(t){for(;He!==null;){var e=He;if(e===t){He=null;break}var n=e.sibling;if(n!==null){n.return=e.return,He=n;break}He=e.return}}function rA(t){for(;He!==null;){var e=He;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{v1(4,e)}catch(l){ei(e,n,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(l){ei(e,r,l)}}var s=e.return;try{Hv(e)}catch(l){ei(e,s,l)}break;case 5:var o=e.return;try{Hv(e)}catch(l){ei(e,o,l)}}}catch(l){ei(e,e.return,l)}if(e===t){He=null;break}var a=e.sibling;if(a!==null){a.return=e.return,He=a;break}He=e.return}}var i7=Math.ceil,y0=Wa.ReactCurrentDispatcher,Xw=Wa.ReactCurrentOwner,Vs=Wa.ReactCurrentBatchConfig,Xt=0,ji=null,yi=null,Yi=0,as=0,th=su(0),Ei=0,sp=null,tc=0,w1=0,Qw=0,xd=null,Br=null,Jw=0,Oh=1/0,ga=null,v0=!1,Kv=null,Bl=null,jg=!1,Pl=null,w0=0,Sd=0,Yv=null,Em=-1,Pm=0;function Cr(){return Xt&6?ci():Em!==-1?Em:Em=ci()}function zl(t){return t.mode&1?Xt&2&&Yi!==0?Yi&-Yi:BO.transition!==null?(Pm===0&&(Pm=rP()),Pm):(t=pn,t!==0||(t=window.event,t=t===void 0?16:hP(t.type)),t):1}function uo(t,e,n,i){if(50<Sd)throw Sd=0,Yv=null,Error(Oe(185));Rp(t,n,i),(!(Xt&2)||t!==ji)&&(t===ji&&(!(Xt&2)&&(w1|=n),Ei===4&&Sl(t,Yi)),Hr(t,i),n===1&&Xt===0&&!(e.mode&1)&&(Oh=ci()+500,g1&&ou()))}function Hr(t,e){var n=t.callbackNode;BD(t,e);var i=n0(t,t===ji?Yi:0);if(i===0)n!==null&&dS(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&dS(n),e===1)t.tag===0?VO(sA.bind(null,t)):CP(sA.bind(null,t)),DO(function(){!(Xt&6)&&ou()}),n=null;else{switch(sP(i)){case 1:n=Aw;break;case 4:n=nP;break;case 16:n=t0;break;case 536870912:n=iP;break;default:n=t0}n=PI(n,bI.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function bI(t,e){if(Em=-1,Pm=0,Xt&6)throw Error(Oe(327));var n=t.callbackNode;if(vh()&&t.callbackNode!==n)return null;var i=n0(t,t===ji?Yi:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=_0(t,i);else{e=i;var r=Xt;Xt|=2;var s=SI();(ji!==t||Yi!==e)&&(ga=null,Oh=ci()+500,qu(t,e));do try{o7();break}catch(a){xI(t,a)}while(!0);Fw(),y0.current=s,Xt=r,yi!==null?e=0:(ji=null,Yi=0,e=Ei)}if(e!==0){if(e===2&&(r=xv(t),r!==0&&(i=r,e=Xv(t,r))),e===1)throw n=sp,qu(t,0),Sl(t,i),Hr(t,ci()),n;if(e===6)Sl(t,i);else{if(r=t.current.alternate,!(i&30)&&!r7(r)&&(e=_0(t,i),e===2&&(s=xv(t),s!==0&&(i=s,e=Xv(t,s))),e===1))throw n=sp,qu(t,0),Sl(t,i),Hr(t,ci()),n;switch(t.finishedWork=r,t.finishedLanes=i,e){case 0:case 1:throw Error(Oe(345));case 2:Iu(t,Br,ga);break;case 3:if(Sl(t,i),(i&130023424)===i&&(e=Jw+500-ci(),10<e)){if(n0(t,0)!==0)break;if(r=t.suspendedLanes,(r&i)!==i){Cr(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=Cv(Iu.bind(null,t,Br,ga),e);break}Iu(t,Br,ga);break;case 4:if(Sl(t,i),(i&4194240)===i)break;for(e=t.eventTimes,r=-1;0<i;){var o=31-lo(i);s=1<<o,o=e[o],o>r&&(r=o),i&=~s}if(i=r,i=ci()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*i7(i/1960))-i,10<i){t.timeoutHandle=Cv(Iu.bind(null,t,Br,ga),i);break}Iu(t,Br,ga);break;case 5:Iu(t,Br,ga);break;default:throw Error(Oe(329))}}}return Hr(t,ci()),t.callbackNode===n?bI.bind(null,t):null}function Xv(t,e){var n=xd;return t.current.memoizedState.isDehydrated&&(qu(t,e).flags|=256),t=_0(t,e),t!==2&&(e=Br,Br=n,e!==null&&Qv(e)),t}function Qv(t){Br===null?Br=t:Br.push.apply(Br,t)}function r7(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!fo(s(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Sl(t,e){for(e&=~Qw,e&=~w1,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-lo(e),i=1<<n;t[n]=-1,e&=~i}}function sA(t){if(Xt&6)throw Error(Oe(327));vh();var e=n0(t,0);if(!(e&1))return Hr(t,ci()),null;var n=_0(t,e);if(t.tag!==0&&n===2){var i=xv(t);i!==0&&(e=i,n=Xv(t,i))}if(n===1)throw n=sp,qu(t,0),Sl(t,e),Hr(t,ci()),n;if(n===6)throw Error(Oe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Iu(t,Br,ga),Hr(t,ci()),null}function Zw(t,e){var n=Xt;Xt|=1;try{return t(e)}finally{Xt=n,Xt===0&&(Oh=ci()+500,g1&&ou())}}function nc(t){Pl!==null&&Pl.tag===0&&!(Xt&6)&&vh();var e=Xt;Xt|=1;var n=Vs.transition,i=pn;try{if(Vs.transition=null,pn=1,t)return t()}finally{pn=i,Vs.transition=n,Xt=e,!(Xt&6)&&ou()}}function e_(){as=th.current,Ln(th)}function qu(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,MO(n)),yi!==null)for(n=yi.return;n!==null;){var i=n;switch(Mw(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&a0();break;case 3:Mh(),Ln(Wr),Ln(_r),Ww();break;case 5:Uw(i);break;case 4:Mh();break;case 13:Ln(Wn);break;case 19:Ln(Wn);break;case 10:jw(i.type._context);break;case 22:case 23:e_()}n=n.return}if(ji=t,yi=t=Ul(t.current,null),Yi=as=e,Ei=0,sp=null,Qw=w1=tc=0,Br=xd=null,ju!==null){for(e=0;e<ju.length;e++)if(n=ju[e],i=n.interleaved,i!==null){n.interleaved=null;var r=i.next,s=n.pending;if(s!==null){var o=s.next;s.next=r,i.next=o}n.pending=i}ju=null}return t}function xI(t,e){do{var n=yi;try{if(Fw(),Am.current=m0,g0){for(var i=Hn.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}g0=!1}if(ec=0,Di=ki=Hn=null,_d=!1,np=0,Xw.current=null,n===null||n.return===null){Ei=1,sp=e,yi=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Yi,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=$S(o);if(f!==null){f.flags&=-257,GS(f,o,a,s,e),f.mode&1&&HS(s,u,e),e=f,l=u;var y=e.updateQueue;if(y===null){var w=new Set;w.add(l),e.updateQueue=w}else y.add(l);break e}else{if(!(e&1)){HS(s,u,e),t_();break e}l=Error(Oe(426))}}else if(Fn&&a.mode&1){var b=$S(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),GS(b,o,a,s,e),Dw(Dh(l,a));break e}}s=l=Dh(l,a),Ei!==4&&(Ei=2),xd===null?xd=[s]:xd.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var v=sI(s,l,e);VS(s,v);break e;case 1:a=l;var S=s.type,I=s.stateNode;if(!(s.flags&128)&&(typeof S.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(Bl===null||!Bl.has(I)))){s.flags|=65536,e&=-e,s.lanes|=e;var P=oI(s,a,e);VS(s,P);break e}}s=s.return}while(s!==null)}kI(n)}catch(F){e=F,yi===n&&n!==null&&(yi=n=n.return);continue}break}while(!0)}function SI(){var t=y0.current;return y0.current=m0,t===null?m0:t}function t_(){(Ei===0||Ei===3||Ei===2)&&(Ei=4),ji===null||!(tc&268435455)&&!(w1&268435455)||Sl(ji,Yi)}function _0(t,e){var n=Xt;Xt|=2;var i=SI();(ji!==t||Yi!==e)&&(ga=null,qu(t,e));do try{s7();break}catch(r){xI(t,r)}while(!0);if(Fw(),Xt=n,y0.current=i,yi!==null)throw Error(Oe(261));return ji=null,Yi=0,Ei}function s7(){for(;yi!==null;)AI(yi)}function o7(){for(;yi!==null&&!ND();)AI(yi)}function AI(t){var e=EI(t.alternate,t,as);t.memoizedProps=t.pendingProps,e===null?kI(t):yi=e,Xw.current=null}function kI(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=ZO(n,e),n!==null){n.flags&=32767,yi=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ei=6,yi=null;return}}else if(n=JO(n,e,as),n!==null){yi=n;return}if(e=e.sibling,e!==null){yi=e;return}yi=e=t}while(e!==null);Ei===0&&(Ei=5)}function Iu(t,e,n){var i=pn,r=Vs.transition;try{Vs.transition=null,pn=1,a7(t,e,n,i)}finally{Vs.transition=r,pn=i}return null}function a7(t,e,n,i){do vh();while(Pl!==null);if(Xt&6)throw Error(Oe(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Oe(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(zD(t,s),t===ji&&(yi=ji=null,Yi=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||jg||(jg=!0,PI(t0,function(){return vh(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Vs.transition,Vs.transition=null;var o=pn;pn=1;var a=Xt;Xt|=4,Xw.current=null,t7(t,n),wI(n,t),EO(Pv),i0=!!Ev,Pv=Ev=null,t.current=n,n7(n),LD(),Xt=a,pn=o,Vs.transition=s}else t.current=n;if(jg&&(jg=!1,Pl=t,w0=r),s=t.pendingLanes,s===0&&(Bl=null),DD(n.stateNode),Hr(t,ci()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(v0)throw v0=!1,t=Kv,Kv=null,t;return w0&1&&t.tag!==0&&vh(),s=t.pendingLanes,s&1?t===Yv?Sd++:(Sd=0,Yv=t):Sd=0,ou(),null}function vh(){if(Pl!==null){var t=sP(w0),e=Vs.transition,n=pn;try{if(Vs.transition=null,pn=16>t?16:t,Pl===null)var i=!1;else{if(t=Pl,Pl=null,w0=0,Xt&6)throw Error(Oe(331));var r=Xt;for(Xt|=4,He=t.current;He!==null;){var s=He,o=s.child;if(He.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(He=u;He!==null;){var c=He;switch(c.tag){case 0:case 11:case 15:bd(8,c,s)}var h=c.child;if(h!==null)h.return=c,He=h;else for(;He!==null;){c=He;var d=c.sibling,f=c.return;if(mI(c),c===u){He=null;break}if(d!==null){d.return=f,He=d;break}He=f}}}var y=s.alternate;if(y!==null){var w=y.child;if(w!==null){y.child=null;do{var b=w.sibling;w.sibling=null,w=b}while(w!==null)}}He=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,He=o;else e:for(;He!==null;){if(s=He,s.flags&2048)switch(s.tag){case 0:case 11:case 15:bd(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,He=v;break e}He=s.return}}var S=t.current;for(He=S;He!==null;){o=He;var I=o.child;if(o.subtreeFlags&2064&&I!==null)I.return=o,He=I;else e:for(o=S;He!==null;){if(a=He,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:v1(9,a)}}catch(F){ei(a,a.return,F)}if(a===o){He=null;break e}var P=a.sibling;if(P!==null){P.return=a.return,He=P;break e}He=a.return}}if(Xt=r,ou(),Bo&&typeof Bo.onPostCommitFiberRoot=="function")try{Bo.onPostCommitFiberRoot(c1,t)}catch{}i=!0}return i}finally{pn=n,Vs.transition=e}}return!1}function oA(t,e,n){e=Dh(n,e),e=sI(t,e,1),t=Vl(t,e,1),e=Cr(),t!==null&&(Rp(t,1,e),Hr(t,e))}function ei(t,e,n){if(t.tag===3)oA(t,t,n);else for(;e!==null;){if(e.tag===3){oA(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Bl===null||!Bl.has(i))){t=Dh(n,t),t=oI(e,t,1),e=Vl(e,t,1),t=Cr(),e!==null&&(Rp(e,1,t),Hr(e,t));break}}e=e.return}}function l7(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=Cr(),t.pingedLanes|=t.suspendedLanes&n,ji===t&&(Yi&n)===n&&(Ei===4||Ei===3&&(Yi&130023424)===Yi&&500>ci()-Jw?qu(t,0):Qw|=n),Hr(t,e)}function TI(t,e){e===0&&(t.mode&1?(e=Pg,Pg<<=1,!(Pg&130023424)&&(Pg=4194304)):e=1);var n=Cr();t=Ma(t,e),t!==null&&(Rp(t,e,n),Hr(t,n))}function u7(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),TI(t,n)}function c7(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(Oe(314))}i!==null&&i.delete(e),TI(t,n)}var EI;EI=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Wr.current)Ur=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ur=!1,QO(t,e,n);Ur=!!(t.flags&131072)}else Ur=!1,Fn&&e.flags&1048576&&NP(e,c0,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;Tm(t,e),t=e.pendingProps;var r=Nh(e,_r.current);yh(e,n),r=Hw(null,e,i,t,r,n);var s=$w();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,qr(i)?(s=!0,l0(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,Bw(e),r.updater=y1,e.stateNode=r,r._reactInternals=e,Fv(e,i,t,n),e=Bv(null,e,i,!0,s,n)):(e.tag=0,Fn&&s&&Rw(e),Pr(null,e,r,n),e=e.child),e;case 16:i=e.elementType;e:{switch(Tm(t,e),t=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=f7(i),t=ro(i,t),r){case 0:e=Vv(null,e,i,t,n);break e;case 1:e=XS(null,e,i,t,n);break e;case 11:e=KS(null,e,i,t,n);break e;case 14:e=YS(null,e,i,ro(i.type,t),n);break e}throw Error(Oe(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:ro(i,r),Vv(t,e,i,r,n);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:ro(i,r),XS(t,e,i,r,n);case 3:e:{if(cI(e),t===null)throw Error(Oe(387));i=e.pendingProps,s=e.memoizedState,r=s.element,FP(t,e),d0(e,i,null,n);var o=e.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=Dh(Error(Oe(423)),e),e=QS(t,e,i,n,r);break e}else if(i!==r){r=Dh(Error(Oe(424)),e),e=QS(t,e,i,n,r);break e}else for(ls=jl(e.stateNode.containerInfo.firstChild),hs=e,Fn=!0,ao=null,n=DP(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Lh(),i===r){e=Da(t,e,n);break e}Pr(t,e,i,n)}e=e.child}return e;case 5:return jP(e),t===null&&Mv(e),i=e.type,r=e.pendingProps,s=t!==null?t.memoizedProps:null,o=r.children,Iv(i,r)?o=null:s!==null&&Iv(i,s)&&(e.flags|=32),uI(t,e),Pr(t,e,o,n),e.child;case 6:return t===null&&Mv(e),null;case 13:return hI(t,e,n);case 4:return zw(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=Rh(e,null,i,n):Pr(t,e,i,n),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:ro(i,r),KS(t,e,i,r,n);case 7:return Pr(t,e,e.pendingProps,n),e.child;case 8:return Pr(t,e,e.pendingProps.children,n),e.child;case 12:return Pr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,o=r.value,Tn(h0,i._currentValue),i._currentValue=o,s!==null)if(fo(s.value,o)){if(s.children===r.children&&!Wr.current){e=Da(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(s.tag===1){l=Pa(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Dv(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Oe(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Dv(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Pr(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,yh(e,n),r=Us(r),i=i(r),e.flags|=1,Pr(t,e,i,n),e.child;case 14:return i=e.type,r=ro(i,e.pendingProps),r=ro(i.type,r),YS(t,e,i,r,n);case 15:return aI(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:ro(i,r),Tm(t,e),e.tag=1,qr(i)?(t=!0,l0(e)):t=!1,yh(e,n),rI(e,i,r),Fv(e,i,r,n),Bv(null,e,i,!0,t,n);case 19:return fI(t,e,n);case 22:return lI(t,e,n)}throw Error(Oe(156,e.tag))};function PI(t,e){return tP(t,e)}function h7(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fs(t,e,n,i){return new h7(t,e,n,i)}function n_(t){return t=t.prototype,!(!t||!t.isReactComponent)}function f7(t){if(typeof t=="function")return n_(t)?1:0;if(t!=null){if(t=t.$$typeof,t===bw)return 11;if(t===xw)return 14}return 2}function Ul(t,e){var n=t.alternate;return n===null?(n=Fs(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Im(t,e,n,i,r,s){var o=2;if(i=t,typeof t=="function")n_(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Hc:return Hu(n.children,r,s,e);case _w:o=8,r|=8;break;case av:return t=Fs(12,n,e,r|2),t.elementType=av,t.lanes=s,t;case lv:return t=Fs(13,n,e,r),t.elementType=lv,t.lanes=s,t;case uv:return t=Fs(19,n,e,r),t.elementType=uv,t.lanes=s,t;case jE:return _1(n,r,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case OE:o=10;break e;case FE:o=9;break e;case bw:o=11;break e;case xw:o=14;break e;case _l:o=16,i=null;break e}throw Error(Oe(130,t==null?t:typeof t,""))}return e=Fs(o,n,e,r),e.elementType=t,e.type=i,e.lanes=s,e}function Hu(t,e,n,i){return t=Fs(7,t,i,e),t.lanes=n,t}function _1(t,e,n,i){return t=Fs(22,t,i,e),t.elementType=jE,t.lanes=n,t.stateNode={isHidden:!1},t}function Yy(t,e,n){return t=Fs(6,t,null,e),t.lanes=n,t}function Xy(t,e,n){return e=Fs(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function d7(t,e,n,i,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cy(0),this.expirationTimes=Cy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cy(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function i_(t,e,n,i,r,s,o,a,l){return t=new d7(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Fs(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Bw(s),t}function p7(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:qc,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function II(t){if(!t)return Yl;t=t._reactInternals;e:{if(gc(t)!==t||t.tag!==1)throw Error(Oe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(qr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Oe(171))}if(t.tag===1){var n=t.type;if(qr(n))return IP(t,n,e)}return e}function CI(t,e,n,i,r,s,o,a,l){return t=i_(n,i,!0,t,r,s,o,a,l),t.context=II(null),n=t.current,i=Cr(),r=zl(n),s=Pa(i,r),s.callback=e??null,Vl(n,s,r),t.current.lanes=r,Rp(t,r,i),Hr(t,i),t}function b1(t,e,n,i){var r=e.current,s=Cr(),o=zl(r);return n=II(n),e.context===null?e.context=n:e.pendingContext=n,e=Pa(s,o),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=Vl(r,e,o),t!==null&&(uo(t,r,o,s),Sm(t,r,o)),o}function b0(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function aA(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function r_(t,e){aA(t,e),(t=t.alternate)&&aA(t,e)}function g7(){return null}var NI=typeof reportError=="function"?reportError:function(t){console.error(t)};function s_(t){this._internalRoot=t}x1.prototype.render=s_.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Oe(409));b1(t,e,null,null)};x1.prototype.unmount=s_.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;nc(function(){b1(null,t,null,null)}),e[Ra]=null}};function x1(t){this._internalRoot=t}x1.prototype.unstable_scheduleHydration=function(t){if(t){var e=lP();t={blockedOn:null,target:t,priority:e};for(var n=0;n<xl.length&&e!==0&&e<xl[n].priority;n++);xl.splice(n,0,t),n===0&&cP(t)}};function o_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function S1(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function lA(){}function m7(t,e,n,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var u=b0(o);s.call(u)}}var o=CI(e,i,t,0,null,!1,!1,"",lA);return t._reactRootContainer=o,t[Ra]=o.current,Qd(t.nodeType===8?t.parentNode:t),nc(),o}for(;r=t.lastChild;)t.removeChild(r);if(typeof i=="function"){var a=i;i=function(){var u=b0(l);a.call(u)}}var l=i_(t,0,!1,null,null,!1,!1,"",lA);return t._reactRootContainer=l,t[Ra]=l.current,Qd(t.nodeType===8?t.parentNode:t),nc(function(){b1(e,l,n,i)}),l}function A1(t,e,n,i,r){var s=n._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var a=r;r=function(){var l=b0(o);a.call(l)}}b1(e,o,t,r)}else o=m7(n,e,t,r,i);return b0(o)}oP=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=rd(e.pendingLanes);n!==0&&(kw(e,n|1),Hr(e,ci()),!(Xt&6)&&(Oh=ci()+500,ou()))}break;case 13:nc(function(){var i=Ma(t,1);if(i!==null){var r=Cr();uo(i,t,1,r)}}),r_(t,1)}};Tw=function(t){if(t.tag===13){var e=Ma(t,134217728);if(e!==null){var n=Cr();uo(e,t,134217728,n)}r_(t,134217728)}};aP=function(t){if(t.tag===13){var e=zl(t),n=Ma(t,e);if(n!==null){var i=Cr();uo(n,t,e,i)}r_(t,e)}};lP=function(){return pn};uP=function(t,e){var n=pn;try{return pn=t,e()}finally{pn=n}};wv=function(t,e,n){switch(e){case"input":if(fv(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=p1(i);if(!r)throw Error(Oe(90));BE(i),fv(i,r)}}}break;case"textarea":UE(t,n);break;case"select":e=n.value,e!=null&&dh(t,!!n.multiple,e,!1)}};YE=Zw;XE=nc;var y7={usingClientEntryPoint:!1,Events:[Dp,Yc,p1,GE,KE,Zw]},Hf={findFiberByHostInstance:Fu,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},v7={bundleType:Hf.bundleType,version:Hf.version,rendererPackageName:Hf.rendererPackageName,rendererConfig:Hf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Wa.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=ZE(t),t===null?null:t.stateNode},findFiberByHostInstance:Hf.findFiberByHostInstance||g7,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vg.isDisabled&&Vg.supportsFiber)try{c1=Vg.inject(v7),Bo=Vg}catch{}}ms.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=y7;ms.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!o_(e))throw Error(Oe(200));return p7(t,e,null,n)};ms.createRoot=function(t,e){if(!o_(t))throw Error(Oe(299));var n=!1,i="",r=NI;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=i_(t,1,!1,null,null,n,!1,i,r),t[Ra]=e.current,Qd(t.nodeType===8?t.parentNode:t),new s_(e)};ms.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Oe(188)):(t=Object.keys(t).join(","),Error(Oe(268,t)));return t=ZE(e),t=t===null?null:t.stateNode,t};ms.flushSync=function(t){return nc(t)};ms.hydrate=function(t,e,n){if(!S1(e))throw Error(Oe(200));return A1(null,t,e,!0,n)};ms.hydrateRoot=function(t,e,n){if(!o_(t))throw Error(Oe(405));var i=n!=null&&n.hydratedSources||null,r=!1,s="",o=NI;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=CI(e,null,t,1,n??null,r,!1,s,o),t[Ra]=e.current,Qd(t),i)for(t=0;t<i.length;t++)n=i[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new x1(e)};ms.render=function(t,e,n){if(!S1(e))throw Error(Oe(200));return A1(null,t,e,!1,n)};ms.unmountComponentAtNode=function(t){if(!S1(t))throw Error(Oe(40));return t._reactRootContainer?(nc(function(){A1(null,null,t,!1,function(){t._reactRootContainer=null,t[Ra]=null})}),!0):!1};ms.unstable_batchedUpdates=Zw;ms.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!S1(n))throw Error(Oe(200));if(t==null||t._reactInternals===void 0)throw Error(Oe(38));return A1(t,e,n,!1,i)};ms.version="18.3.1-next-f1338f8080-20240426";function LI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(LI)}catch(t){console.error(t)}}LI(),LE.exports=ms;var w7=LE.exports,uA=w7;sv.createRoot=uA.createRoot,sv.hydrateRoot=uA.hydrateRoot;/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _7=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),RI=(...t)=>t.filter((e,n,i)=>!!e&&i.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var b7={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x7=xe.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:r="",children:s,iconNode:o,...a},l)=>xe.createElement("svg",{ref:l,...b7,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:RI("lucide",r),...a},[...o.map(([u,c])=>xe.createElement(u,c)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=(t,e)=>{const n=xe.forwardRef(({className:i,...r},s)=>xe.createElement(x7,{ref:s,iconNode:e,className:RI(`lucide-${_7(t)}`,i),...r}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k1=Ze("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jv=Ze("ArrowDownLeft",[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S7=Ze("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MI=Ze("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DI=Ze("Baby",[["path",{d:"M9 12h.01",key:"157uk2"}],["path",{d:"M15 12h.01",key:"1k8ypt"}],["path",{d:"M10 16c.5.3 1.2.5 2 .5s1.5-.2 2-.5",key:"1u7htd"}],["path",{d:"M19 6.3a9 9 0 0 1 1.8 3.9 2 2 0 0 1 0 3.6 9 9 0 0 1-17.6 0 2 2 0 0 1 0-3.6A9 9 0 0 1 12 3c2 0 3.5 1.1 3.5 2.5s-.9 2.5-2 2.5c-.8 0-1.5-.4-1.5-1",key:"5yv0yz"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zv=Ze("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OI=Ze("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T1=Ze("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FI=Ze("Bus",[["path",{d:"M8 6v6",key:"18i7km"}],["path",{d:"M15 6v6",key:"1sg6z9"}],["path",{d:"M2 12h19.6",key:"de5uta"}],["path",{d:"M18 18h3s.5-1.7.8-2.8c.1-.4.2-.8.2-1.2 0-.4-.1-.8-.2-1.2l-1.4-5C20.1 6.8 19.1 6 18 6H4a2 2 0 0 0-2 2v10h3",key:"1wwztk"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M9 18h5",key:"lrx6i"}],["circle",{cx:"16",cy:"18",r:"2",key:"1v4tcr"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a_=Ze("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jI=Ze("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VI=Ze("ChartLine",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BI=Ze("ChartNoAxesColumn",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l_=Ze("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E1=Ze("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A7=Ze("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zI=Ze("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UI=Ze("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k7=Ze("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T7=Ze("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WI=Ze("Coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u_=Ze("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E7=Ze("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qI=Ze("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HI=Ze("Dumbbell",[["path",{d:"M14.4 14.4 9.6 9.6",key:"ic80wn"}],["path",{d:"M18.657 21.485a2 2 0 1 1-2.829-2.828l-1.767 1.768a2 2 0 1 1-2.829-2.829l6.364-6.364a2 2 0 1 1 2.829 2.829l-1.768 1.767a2 2 0 1 1 2.828 2.829z",key:"nnl7wr"}],["path",{d:"m21.5 21.5-1.4-1.4",key:"1f1ice"}],["path",{d:"M3.9 3.9 2.5 2.5",key:"1evmna"}],["path",{d:"M6.404 12.768a2 2 0 1 1-2.829-2.829l1.768-1.767a2 2 0 1 1-2.828-2.829l2.828-2.828a2 2 0 1 1 2.829 2.828l1.767-1.768a2 2 0 1 1 2.829 2.829z",key:"yhosts"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c_=Ze("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P7=Ze("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I7=Ze("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $I=Ze("Film",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GI=Ze("Fuel",[["line",{x1:"3",x2:"15",y1:"22",y2:"22",key:"xegly4"}],["line",{x1:"4",x2:"14",y1:"9",y2:"9",key:"xcnuvu"}],["path",{d:"M14 22V4a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v18",key:"16j0yd"}],["path",{d:"M14 13h2a2 2 0 0 1 2 2v2a2 2 0 0 0 2 2a2 2 0 0 0 2-2V9.83a2 2 0 0 0-.59-1.42L18 5",key:"7cu91f"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KI=Ze("Gamepad2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YI=Ze("Gem",[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XI=Ze("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QI=Ze("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JI=Ze("Hammer",[["path",{d:"m15 12-8.373 8.373a1 1 0 1 1-3-3L12 9",key:"eefl8a"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172V7l-2.26-2.26a6 6 0 0 0-4.202-1.756L9 2.96l.92.82A6.18 6.18 0 0 1 12 8.4V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"b7pghm"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZI=Ze("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C7=Ze("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h_=Ze("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N7=Ze("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eC=Ze("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tC=Ze("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nC=Ze("PawPrint",[["circle",{cx:"11",cy:"4",r:"2",key:"vol9p0"}],["circle",{cx:"18",cy:"8",r:"2",key:"17gozi"}],["circle",{cx:"20",cy:"16",r:"2",key:"1v9bxh"}],["path",{d:"M9 10a5 5 0 0 1 5 5v3.5a3.5 3.5 0 0 1-6.84 1.045Q6.52 17.48 4.46 16.84A3.5 3.5 0 0 1 5.5 10Z",key:"1ydw1z"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iC=Ze("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f_=Ze("PiggyBank",[["path",{d:"M19 5c-1.5 0-2.8 1.4-3 2-3.5-1.5-11-.3-11 5 0 1.8 0 3 2 4.5V20h4v-2h3v2h4v-4c1-.5 1.7-1 2-2h2v-4h-2c0-1-.5-1.5-1-2V5z",key:"1ivx2i"}],["path",{d:"M2 9v1c0 1.1.9 2 2 2h1",key:"nm575m"}],["path",{d:"M16 11h.01",key:"xkw8gn"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rC=Ze("Plane",[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const op=Ze("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sC=Ze("Shirt",[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oC=Ze("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aC=Ze("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L7=Ze("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lC=Ze("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R7=Ze("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e5=Ze("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uC=Ze("Tv",[["rect",{width:"20",height:"15",x:"2",y:"7",rx:"2",ry:"2",key:"10ag99"}],["polyline",{points:"17 2 12 7 7 2",key:"11pgbg"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M7=Ze("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D7=Ze("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cC=Ze("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fh=Ze("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hC=Ze("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jh=Ze("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d_=Ze("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),O7=({children:t,activeTab:e,setActiveTab:n,user:i,onAddClick:r})=>N.jsxs("div",{className:"min-h-screen pb-24 font-display",children:[N.jsx("header",{className:"flex items-center justify-between p-6 pt-12",children:N.jsxs("div",{className:"flex items-center gap-3",children:[N.jsx("div",{className:"size-10 rounded-full border-2 border-primary/30 p-0.5 overflow-hidden",children:N.jsx("img",{alt:"User Profile",className:"w-full h-full rounded-full object-cover",src:(i==null?void 0:i.photoURL)||"https://via.placeholder.com/40"})}),N.jsxs("div",{children:[N.jsx("p",{className:"text-xs text-slate-400 font-medium",children:"Selamat datang,"}),N.jsx("h1",{className:"text-lg font-bold leading-none",children:(i==null?void 0:i.displayName)||"Alex Rivera"})]})]})}),N.jsx("main",{children:t}),N.jsxs("nav",{className:"fixed bottom-6 left-6 right-6 h-16 glass-nav border border-white/10 rounded-2xl flex items-center justify-around px-4 z-50",children:[N.jsx(Bg,{icon:N.jsx(h_,{size:24}),label:"Beranda",active:e==="home",onClick:()=>n("home")}),N.jsx(Bg,{icon:N.jsx(l_,{size:24}),label:"Anggaran",active:e==="budgets",onClick:()=>n("budgets")}),N.jsx("div",{className:"relative -top-6",children:N.jsx("button",{onClick:r,className:"size-14 bg-primary rounded-full flex items-center justify-center text-background-dark shadow-lg shadow-primary/20 hover:scale-105 transition-transform active:scale-95",children:N.jsx(op,{size:32,strokeWidth:3})})}),N.jsx(Bg,{icon:N.jsx(Fh,{size:24}),label:"Dompet",active:e==="wallets",onClick:()=>n("wallets")}),N.jsx(Bg,{icon:N.jsx(D7,{size:24}),label:"Profil",active:e==="profile",onClick:()=>n("profile")})]})]}),Bg=({icon:t,label:e,active:n,onClick:i})=>N.jsxs("button",{onClick:i,className:`flex flex-col items-center gap-1 transition-colors ${n?"text-primary":"text-slate-400"}`,children:[t,N.jsx("span",{className:"text-[10px] font-bold",children:e})]}),p_=xe.createContext({});function g_(t){const e=xe.useRef(null);return e.current===null&&(e.current=t()),e.current}const P1=xe.createContext(null),m_=xe.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class F7 extends xe.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function j7({children:t,isPresent:e}){const n=xe.useId(),i=xe.useRef(null),r=xe.useRef({width:0,height:0,top:0,left:0}),{nonce:s}=xe.useContext(m_);return xe.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:u}=r.current;if(e||!i.current||!o||!a)return;i.current.dataset.motionPopId=n;const c=document.createElement("style");return s&&(c.nonce=s),document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[e]),N.jsx(F7,{isPresent:e,childRef:i,sizeRef:r,children:xe.cloneElement(t,{ref:i})})}const V7=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:r,presenceAffectsLayout:s,mode:o})=>{const a=g_(B7),l=xe.useId(),u=xe.useCallback(h=>{a.set(h,!0);for(const d of a.values())if(!d)return;i&&i()},[a,i]),c=xe.useMemo(()=>({id:l,initial:e,isPresent:n,custom:r,onExitComplete:u,register:h=>(a.set(h,!1),()=>a.delete(h))}),s?[Math.random(),u]:[n,u]);return xe.useMemo(()=>{a.forEach((h,d)=>a.set(d,!1))},[n]),xe.useEffect(()=>{!n&&!a.size&&i&&i()},[n]),o==="popLayout"&&(t=N.jsx(j7,{isPresent:n,children:t})),N.jsx(P1.Provider,{value:c,children:t})};function B7(){return new Map}function fC(t=!0){const e=xe.useContext(P1);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:r}=e,s=xe.useId();xe.useEffect(()=>{t&&r(s)},[t]);const o=xe.useCallback(()=>t&&i&&i(s),[s,i,t]);return!n&&i?[!1,o]:[!0]}const zg=t=>t.key||"";function cA(t){const e=[];return xe.Children.forEach(t,n=>{xe.isValidElement(n)&&e.push(n)}),e}const y_=typeof window<"u",dC=y_?xe.useLayoutEffect:xe.useEffect,Fp=({children:t,custom:e,initial:n=!0,onExitComplete:i,presenceAffectsLayout:r=!0,mode:s="sync",propagate:o=!1})=>{const[a,l]=fC(o),u=xe.useMemo(()=>cA(t),[t]),c=o&&!a?[]:u.map(zg),h=xe.useRef(!0),d=xe.useRef(u),f=g_(()=>new Map),[y,w]=xe.useState(u),[b,v]=xe.useState(u);dC(()=>{h.current=!1,d.current=u;for(let P=0;P<b.length;P++){const F=zg(b[P]);c.includes(F)?f.delete(F):f.get(F)!==!0&&f.set(F,!1)}},[b,c.length,c.join("-")]);const S=[];if(u!==y){let P=[...u];for(let F=0;F<b.length;F++){const H=b[F],M=zg(H);c.includes(M)||(P.splice(F,0,H),S.push(H))}s==="wait"&&S.length&&(P=S),v(cA(P)),w(u);return}const{forceRender:I}=xe.useContext(p_);return N.jsx(N.Fragment,{children:b.map(P=>{const F=zg(P),H=o&&!a?!1:u===b||c.includes(F),M=()=>{if(f.has(F))f.set(F,!0);else return;let k=!0;f.forEach(T=>{T||(k=!1)}),k&&(I==null||I(),v(d.current),o&&(l==null||l()),i&&i())};return N.jsx(V7,{isPresent:H,initial:!h.current||n?void 0:!1,custom:H?void 0:e,presenceAffectsLayout:r,mode:s,onExitComplete:H?void 0:M,children:P},F)})})},fs=t=>t;let pC=fs;function v_(t){let e;return()=>(e===void 0&&(e=t()),e)}const Vh=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i},Ia=t=>t*1e3,Ca=t=>t/1e3,z7={useManualTiming:!1};function U7(t){let e=new Set,n=new Set,i=!1,r=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(u){s.has(u)&&(l.schedule(u),t()),u(o)}const l={schedule:(u,c=!1,h=!1)=>{const f=h&&i?e:n;return c&&s.add(u),f.has(u)||f.add(u),u},cancel:u=>{n.delete(u),s.delete(u)},process:u=>{if(o=u,i){r=!0;return}i=!0,[e,n]=[n,e],e.forEach(a),e.clear(),i=!1,r&&(r=!1,l.process(u))}};return l}const Ug=["read","resolveKeyframes","update","preRender","render","postRender"],W7=40;function gC(t,e){let n=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=Ug.reduce((v,S)=>(v[S]=U7(s),v),{}),{read:a,resolveKeyframes:l,update:u,preRender:c,render:h,postRender:d}=o,f=()=>{const v=performance.now();n=!1,r.delta=i?1e3/60:Math.max(Math.min(v-r.timestamp,W7),1),r.timestamp=v,r.isProcessing=!0,a.process(r),l.process(r),u.process(r),c.process(r),h.process(r),d.process(r),r.isProcessing=!1,n&&e&&(i=!1,t(f))},y=()=>{n=!0,i=!0,r.isProcessing||t(f)};return{schedule:Ug.reduce((v,S)=>{const I=o[S];return v[S]=(P,F=!1,H=!1)=>(n||y(),I.schedule(P,F,H)),v},{}),cancel:v=>{for(let S=0;S<Ug.length;S++)o[Ug[S]].cancel(v)},state:r,steps:o}}const{schedule:Rn,cancel:Xl,state:Hi,steps:Qy}=gC(typeof requestAnimationFrame<"u"?requestAnimationFrame:fs,!0),mC=xe.createContext({strict:!1}),hA={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Bh={};for(const t in hA)Bh[t]={isEnabled:e=>hA[t].some(n=>!!e[n])};function q7(t){for(const e in t)Bh[e]={...Bh[e],...t[e]}}const H7=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function x0(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||H7.has(t)}let yC=t=>!x0(t);function $7(t){t&&(yC=e=>e.startsWith("on")?!x0(e):t(e))}try{$7(require("@emotion/is-prop-valid").default)}catch{}function G7(t,e,n){const i={};for(const r in t)r==="values"&&typeof t.values=="object"||(yC(r)||n===!0&&x0(r)||!e&&!x0(r)||t.draggable&&r.startsWith("onDrag"))&&(i[r]=t[r]);return i}function K7(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...i)=>t(...i);return new Proxy(n,{get:(i,r)=>r==="create"?t:(e.has(r)||e.set(r,t(r)),e.get(r))})}const I1=xe.createContext({});function ap(t){return typeof t=="string"||Array.isArray(t)}function C1(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const w_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],__=["initial",...w_];function N1(t){return C1(t.animate)||__.some(e=>ap(t[e]))}function vC(t){return!!(N1(t)||t.variants)}function Y7(t,e){if(N1(t)){const{initial:n,animate:i}=t;return{initial:n===!1||ap(n)?n:void 0,animate:ap(i)?i:void 0}}return t.inherit!==!1?e:{}}function X7(t){const{initial:e,animate:n}=Y7(t,xe.useContext(I1));return xe.useMemo(()=>({initial:e,animate:n}),[fA(e),fA(n)])}function fA(t){return Array.isArray(t)?t.join(" "):t}const Q7=Symbol.for("motionComponentSymbol");function nh(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function J7(t,e,n){return xe.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):nh(n)&&(n.current=i))},[e])}const b_=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Z7="framerAppearId",wC="data-"+b_(Z7),{schedule:x_}=gC(queueMicrotask,!1),_C=xe.createContext({});function eF(t,e,n,i,r){var s,o;const{visualElement:a}=xe.useContext(I1),l=xe.useContext(mC),u=xe.useContext(P1),c=xe.useContext(m_).reducedMotion,h=xe.useRef(null);i=i||l.renderer,!h.current&&i&&(h.current=i(t,{visualState:e,parent:a,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:c}));const d=h.current,f=xe.useContext(_C);d&&!d.projection&&r&&(d.type==="html"||d.type==="svg")&&tF(h.current,n,r,f);const y=xe.useRef(!1);xe.useInsertionEffect(()=>{d&&y.current&&d.update(n,u)});const w=n[wC],b=xe.useRef(!!w&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,w))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,w)));return dC(()=>{d&&(y.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),x_.render(d.render),b.current&&d.animationState&&d.animationState.animateChanges())}),xe.useEffect(()=>{d&&(!b.current&&d.animationState&&d.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)===null||v===void 0||v.call(window,w)}),b.current=!1))}),d}function tF(t,e,n,i){const{layoutId:r,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:u}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:bC(t.parent)),t.projection.setOptions({layoutId:r,layout:s,alwaysMeasureLayout:!!o||a&&nh(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:i,layoutScroll:l,layoutRoot:u})}function bC(t){if(t)return t.options.allowProjection!==!1?t.projection:bC(t.parent)}function nF({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:i,Component:r}){var s,o;t&&q7(t);function a(u,c){let h;const d={...xe.useContext(m_),...u,layoutId:iF(u)},{isStatic:f}=d,y=X7(u),w=i(u,f);if(!f&&y_){rF();const b=sF(d);h=b.MeasureLayout,y.visualElement=eF(r,w,d,e,b.ProjectionNode)}return N.jsxs(I1.Provider,{value:y,children:[h&&y.visualElement?N.jsx(h,{visualElement:y.visualElement,...d}):null,n(r,u,J7(w,y.visualElement,c),w,f,y.visualElement)]})}a.displayName=`motion.${typeof r=="string"?r:`create(${(o=(s=r.displayName)!==null&&s!==void 0?s:r.name)!==null&&o!==void 0?o:""})`}`;const l=xe.forwardRef(a);return l[Q7]=r,l}function iF({layoutId:t}){const e=xe.useContext(p_).id;return e&&t!==void 0?e+"-"+t:t}function rF(t,e){xe.useContext(mC).strict}function sF(t){const{drag:e,layout:n}=Bh;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const oF=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function S_(t){return typeof t!="string"||t.includes("-")?!1:!!(oF.indexOf(t)>-1||/[A-Z]/u.test(t))}function dA(t){const e=[{},{}];return t==null||t.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function A_(t,e,n,i){if(typeof e=="function"){const[r,s]=dA(i);e=e(n!==void 0?n:t.custom,r,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[r,s]=dA(i);e=e(n!==void 0?n:t.custom,r,s)}return e}const t5=t=>Array.isArray(t),aF=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),lF=t=>t5(t)?t[t.length-1]||0:t,yr=t=>!!(t&&t.getVelocity);function Cm(t){const e=yr(t)?t.get():t;return aF(e)?e.toValue():e}function uF({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},i,r,s){const o={latestValues:cF(i,r,s,t),renderState:e()};return n&&(o.onMount=a=>n({props:i,current:a,...o}),o.onUpdate=a=>n(a)),o}const xC=t=>(e,n)=>{const i=xe.useContext(I1),r=xe.useContext(P1),s=()=>uF(t,e,i,r);return n?s():g_(s)};function cF(t,e,n,i){const r={},s=i(t,{});for(const d in s)r[d]=Cm(s[d]);let{initial:o,animate:a}=t;const l=N1(t),u=vC(t);e&&u&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let c=n?n.initial===!1:!1;c=c||o===!1;const h=c?a:o;if(h&&typeof h!="boolean"&&!C1(h)){const d=Array.isArray(h)?h:[h];for(let f=0;f<d.length;f++){const y=A_(t,d[f]);if(y){const{transitionEnd:w,transition:b,...v}=y;for(const S in v){let I=v[S];if(Array.isArray(I)){const P=c?I.length-1:0;I=I[P]}I!==null&&(r[S]=I)}for(const S in w)r[S]=w[S]}}}return r}const of=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],mc=new Set(of),SC=t=>e=>typeof e=="string"&&e.startsWith(t),AC=SC("--"),hF=SC("var(--"),k_=t=>hF(t)?fF.test(t.split("/*")[0].trim()):!1,fF=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,kC=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Oa=(t,e,n)=>n>e?e:n<t?t:n,af={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},lp={...af,transform:t=>Oa(0,1,t)},Wg={...af,default:1},jp=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),wl=jp("deg"),Uo=jp("%"),mt=jp("px"),dF=jp("vh"),pF=jp("vw"),pA={...Uo,parse:t=>Uo.parse(t)/100,transform:t=>Uo.transform(t*100)},gF={borderWidth:mt,borderTopWidth:mt,borderRightWidth:mt,borderBottomWidth:mt,borderLeftWidth:mt,borderRadius:mt,radius:mt,borderTopLeftRadius:mt,borderTopRightRadius:mt,borderBottomRightRadius:mt,borderBottomLeftRadius:mt,width:mt,maxWidth:mt,height:mt,maxHeight:mt,top:mt,right:mt,bottom:mt,left:mt,padding:mt,paddingTop:mt,paddingRight:mt,paddingBottom:mt,paddingLeft:mt,margin:mt,marginTop:mt,marginRight:mt,marginBottom:mt,marginLeft:mt,backgroundPositionX:mt,backgroundPositionY:mt},mF={rotate:wl,rotateX:wl,rotateY:wl,rotateZ:wl,scale:Wg,scaleX:Wg,scaleY:Wg,scaleZ:Wg,skew:wl,skewX:wl,skewY:wl,distance:mt,translateX:mt,translateY:mt,translateZ:mt,x:mt,y:mt,z:mt,perspective:mt,transformPerspective:mt,opacity:lp,originX:pA,originY:pA,originZ:mt},gA={...af,transform:Math.round},T_={...gF,...mF,zIndex:gA,size:mt,fillOpacity:lp,strokeOpacity:lp,numOctaves:gA},yF={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},vF=of.length;function wF(t,e,n){let i="",r=!0;for(let s=0;s<vF;s++){const o=of[s],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const u=kC(a,T_[o]);if(!l){r=!1;const c=yF[o]||o;i+=`${c}(${u}) `}n&&(e[o]=u)}}return i=i.trim(),n?i=n(e,r?"":i):r&&(i="none"),i}function E_(t,e,n){const{style:i,vars:r,transformOrigin:s}=t;let o=!1,a=!1;for(const l in e){const u=e[l];if(mc.has(l)){o=!0;continue}else if(AC(l)){r[l]=u;continue}else{const c=kC(u,T_[l]);l.startsWith("origin")?(a=!0,s[l]=c):i[l]=c}}if(e.transform||(o||n?i.transform=wF(e,t.transform,n):i.transform&&(i.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:c=0}=s;i.transformOrigin=`${l} ${u} ${c}`}}const _F={offset:"stroke-dashoffset",array:"stroke-dasharray"},bF={offset:"strokeDashoffset",array:"strokeDasharray"};function xF(t,e,n=1,i=0,r=!0){t.pathLength=1;const s=r?_F:bF;t[s.offset]=mt.transform(-i);const o=mt.transform(e),a=mt.transform(n);t[s.array]=`${o} ${a}`}function mA(t,e,n){return typeof t=="string"?t:mt.transform(e+n*t)}function SF(t,e,n){const i=mA(e,t.x,t.width),r=mA(n,t.y,t.height);return`${i} ${r}`}function P_(t,{attrX:e,attrY:n,attrScale:i,originX:r,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...u},c,h){if(E_(t,u,h),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:d,style:f,dimensions:y}=t;d.transform&&(y&&(f.transform=d.transform),delete d.transform),y&&(r!==void 0||s!==void 0||f.transform)&&(f.transformOrigin=SF(y,r!==void 0?r:.5,s!==void 0?s:.5)),e!==void 0&&(d.x=e),n!==void 0&&(d.y=n),i!==void 0&&(d.scale=i),o!==void 0&&xF(d,o,a,l,!1)}const I_=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),TC=()=>({...I_(),attrs:{}}),C_=t=>typeof t=="string"&&t.toLowerCase()==="svg";function EC(t,{style:e,vars:n},i,r){Object.assign(t.style,e,r&&r.getProjectionStyles(i));for(const s in n)t.style.setProperty(s,n[s])}const PC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function IC(t,e,n,i){EC(t,e,void 0,i);for(const r in e.attrs)t.setAttribute(PC.has(r)?r:b_(r),e.attrs[r])}const S0={};function AF(t){Object.assign(S0,t)}function CC(t,{layout:e,layoutId:n}){return mc.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!S0[t]||t==="opacity")}function N_(t,e,n){var i;const{style:r}=t,s={};for(const o in r)(yr(r[o])||e.style&&yr(e.style[o])||CC(o,t)||((i=n==null?void 0:n.getValue(o))===null||i===void 0?void 0:i.liveStyle)!==void 0)&&(s[o]=r[o]);return s}function NC(t,e,n){const i=N_(t,e,n);for(const r in t)if(yr(t[r])||yr(e[r])){const s=of.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;i[s]=t[r]}return i}function kF(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const yA=["x","y","width","height","cx","cy","r"],TF={useVisualState:xC({scrapeMotionValuesFromProps:NC,createRenderState:TC,onUpdate:({props:t,prevProps:e,current:n,renderState:i,latestValues:r})=>{if(!n)return;let s=!!t.drag;if(!s){for(const a in r)if(mc.has(a)){s=!0;break}}if(!s)return;let o=!e;if(e)for(let a=0;a<yA.length;a++){const l=yA[a];t[l]!==e[l]&&(o=!0)}o&&Rn.read(()=>{kF(n,i),Rn.render(()=>{P_(i,r,C_(n.tagName),t.transformTemplate),IC(n,i)})})}})},EF={useVisualState:xC({scrapeMotionValuesFromProps:N_,createRenderState:I_})};function LC(t,e,n){for(const i in e)!yr(e[i])&&!CC(i,n)&&(t[i]=e[i])}function PF({transformTemplate:t},e){return xe.useMemo(()=>{const n=I_();return E_(n,e,t),Object.assign({},n.vars,n.style)},[e])}function IF(t,e){const n=t.style||{},i={};return LC(i,n,t),Object.assign(i,PF(t,e)),i}function CF(t,e){const n={},i=IF(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}function NF(t,e,n,i){const r=xe.useMemo(()=>{const s=TC();return P_(s,e,C_(i),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};LC(s,t.style,t),r.style={...s,...r.style}}return r}function LF(t=!1){return(n,i,r,{latestValues:s},o)=>{const l=(S_(n)?NF:CF)(i,s,o,n),u=G7(i,typeof n=="string",t),c=n!==xe.Fragment?{...u,...l,ref:r}:{},{children:h}=i,d=xe.useMemo(()=>yr(h)?h.get():h,[h]);return xe.createElement(n,{...c,children:d})}}function RF(t,e){return function(i,{forwardMotionProps:r}={forwardMotionProps:!1}){const o={...S_(i)?TF:EF,preloadedFeatures:t,useRender:LF(r),createVisualElement:e,Component:i};return nF(o)}}function RC(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}function L1(t,e,n){const i=t.getProps();return A_(i,e,n!==void 0?n:i.custom,t)}const MF=v_(()=>window.ScrollTimeline!==void 0);class DF{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let i=0;i<this.animations.length;i++)this.animations[i][e]=n}attachTimeline(e,n){const i=this.animations.map(r=>{if(MF()&&r.attachTimeline)return r.attachTimeline(e);if(typeof n=="function")return n(r)});return()=>{i.forEach((r,s)=>{r&&r(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class OF extends DF{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function L_(t,e){return t?t[e]||t.default||t:void 0}const n5=2e4;function MC(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<n5;)e+=n,i=t.next(e);return e>=n5?1/0:e}function R_(t){return typeof t=="function"}function vA(t,e){t.timeline=e,t.onfinish=null}const M_=t=>Array.isArray(t)&&typeof t[0]=="number",FF={linearEasing:void 0};function jF(t,e){const n=v_(t);return()=>{var i;return(i=FF[e])!==null&&i!==void 0?i:n()}}const A0=jF(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),DC=(t,e,n=10)=>{let i="";const r=Math.max(Math.round(e/n),2);for(let s=0;s<r;s++)i+=t(Vh(0,r-1,s))+", ";return`linear(${i.substring(0,i.length-2)})`};function OC(t){return!!(typeof t=="function"&&A0()||!t||typeof t=="string"&&(t in i5||A0())||M_(t)||Array.isArray(t)&&t.every(OC))}const od=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,i5={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:od([0,.65,.55,1]),circOut:od([.55,0,1,.45]),backIn:od([.31,.01,.66,-.59]),backOut:od([.33,1.53,.69,.99])};function FC(t,e){if(t)return typeof t=="function"&&A0()?DC(t,e):M_(t)?od(t):Array.isArray(t)?t.map(n=>FC(n,e)||i5.easeOut):i5[t]}const io={x:!1,y:!1};function jC(){return io.x||io.y}function VF(t,e,n){var i;if(t instanceof Element)return[t];if(typeof t=="string"){let r=document;const s=(i=void 0)!==null&&i!==void 0?i:r.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}function VC(t,e){const n=VF(t),i=new AbortController,r={passive:!0,...e,signal:i.signal};return[n,r,()=>i.abort()]}function wA(t){return e=>{e.pointerType==="touch"||jC()||t(e)}}function BF(t,e,n={}){const[i,r,s]=VC(t,n),o=wA(a=>{const{target:l}=a,u=e(a);if(typeof u!="function"||!l)return;const c=wA(h=>{u(h),l.removeEventListener("pointerleave",c)});l.addEventListener("pointerleave",c,r)});return i.forEach(a=>{a.addEventListener("pointerenter",o,r)}),s}const BC=(t,e)=>e?t===e?!0:BC(t,e.parentElement):!1,D_=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,zF=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function UF(t){return zF.has(t.tagName)||t.tabIndex!==-1}const ad=new WeakSet;function _A(t){return e=>{e.key==="Enter"&&t(e)}}function Jy(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const WF=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=_A(()=>{if(ad.has(n))return;Jy(n,"down");const r=_A(()=>{Jy(n,"up")}),s=()=>Jy(n,"cancel");n.addEventListener("keyup",r,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function bA(t){return D_(t)&&!jC()}function qF(t,e,n={}){const[i,r,s]=VC(t,n),o=a=>{const l=a.currentTarget;if(!bA(a)||ad.has(l))return;ad.add(l);const u=e(a),c=(f,y)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",d),!(!bA(f)||!ad.has(l))&&(ad.delete(l),typeof u=="function"&&u(f,{success:y}))},h=f=>{c(f,n.useGlobalTarget||BC(l,f.target))},d=f=>{c(f,!1)};window.addEventListener("pointerup",h,r),window.addEventListener("pointercancel",d,r)};return i.forEach(a=>{!UF(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0),(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,r),a.addEventListener("focus",u=>WF(u,r),r)}),s}function HF(t){return t==="x"||t==="y"?io[t]?null:(io[t]=!0,()=>{io[t]=!1}):io.x||io.y?null:(io.x=io.y=!0,()=>{io.x=io.y=!1})}const zC=new Set(["width","height","top","left","right","bottom",...of]);let Nm;function $F(){Nm=void 0}const Wo={now:()=>(Nm===void 0&&Wo.set(Hi.isProcessing||z7.useManualTiming?Hi.timestamp:performance.now()),Nm),set:t=>{Nm=t,queueMicrotask($F)}};function O_(t,e){t.indexOf(e)===-1&&t.push(e)}function F_(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class j_{constructor(){this.subscriptions=[]}add(e){return O_(this.subscriptions,e),()=>F_(this.subscriptions,e)}notify(e,n,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,n,i);else for(let s=0;s<r;s++){const o=this.subscriptions[s];o&&o(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function UC(t,e){return e?t*(1e3/e):0}const xA=30,GF=t=>!isNaN(parseFloat(t));class KF{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,r=!0)=>{const s=Wo.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Wo.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=GF(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new j_);const i=this.events[e].add(n);return e==="change"?()=>{i(),Rn.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Wo.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>xA)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,xA);return UC(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function up(t,e){return new KF(t,e)}function YF(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,up(n))}function XF(t,e){const n=L1(t,e);let{transitionEnd:i={},transition:r={},...s}=n||{};s={...s,...i};for(const o in s){const a=lF(s[o]);YF(t,o,a)}}function QF(t){return!!(yr(t)&&t.add)}function r5(t,e){const n=t.getValue("willChange");if(QF(n))return n.add(e)}function WC(t){return t.props[wC]}const qC=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,JF=1e-7,ZF=12;function ej(t,e,n,i,r){let s,o,a=0;do o=e+(n-e)/2,s=qC(o,i,r)-t,s>0?n=o:e=o;while(Math.abs(s)>JF&&++a<ZF);return o}function Vp(t,e,n,i){if(t===e&&n===i)return fs;const r=s=>ej(s,0,1,t,n);return s=>s===0||s===1?s:qC(r(s),e,i)}const HC=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,$C=t=>e=>1-t(1-e),GC=Vp(.33,1.53,.69,.99),V_=$C(GC),KC=HC(V_),YC=t=>(t*=2)<1?.5*V_(t):.5*(2-Math.pow(2,-10*(t-1))),B_=t=>1-Math.sin(Math.acos(t)),XC=$C(B_),QC=HC(B_),JC=t=>/^0[^.\s]+$/u.test(t);function tj(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||JC(t):!0}const Ad=t=>Math.round(t*1e5)/1e5,z_=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function nj(t){return t==null}const ij=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,U_=(t,e)=>n=>!!(typeof n=="string"&&ij.test(n)&&n.startsWith(t)||e&&!nj(n)&&Object.prototype.hasOwnProperty.call(n,e)),ZC=(t,e,n)=>i=>{if(typeof i!="string")return i;const[r,s,o,a]=i.match(z_);return{[t]:parseFloat(r),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},rj=t=>Oa(0,255,t),Zy={...af,transform:t=>Math.round(rj(t))},Bu={test:U_("rgb","red"),parse:ZC("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+Zy.transform(t)+", "+Zy.transform(e)+", "+Zy.transform(n)+", "+Ad(lp.transform(i))+")"};function sj(t){let e="",n="",i="",r="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),r=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),r=t.substring(4,5),e+=e,n+=n,i+=i,r+=r),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const s5={test:U_("#"),parse:sj,transform:Bu.transform},ih={test:U_("hsl","hue"),parse:ZC("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+Uo.transform(Ad(e))+", "+Uo.transform(Ad(n))+", "+Ad(lp.transform(i))+")"},dr={test:t=>Bu.test(t)||s5.test(t)||ih.test(t),parse:t=>Bu.test(t)?Bu.parse(t):ih.test(t)?ih.parse(t):s5.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Bu.transform(t):ih.transform(t)},oj=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function aj(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(z_))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(oj))===null||n===void 0?void 0:n.length)||0)>0}const eN="number",tN="color",lj="var",uj="var(",SA="${}",cj=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function cp(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},r=[];let s=0;const a=e.replace(cj,l=>(dr.test(l)?(i.color.push(s),r.push(tN),n.push(dr.parse(l))):l.startsWith(uj)?(i.var.push(s),r.push(lj),n.push(l)):(i.number.push(s),r.push(eN),n.push(parseFloat(l))),++s,SA)).split(SA);return{values:n,split:a,indexes:i,types:r}}function nN(t){return cp(t).values}function iN(t){const{split:e,types:n}=cp(t),i=e.length;return r=>{let s="";for(let o=0;o<i;o++)if(s+=e[o],r[o]!==void 0){const a=n[o];a===eN?s+=Ad(r[o]):a===tN?s+=dr.transform(r[o]):s+=r[o]}return s}}const hj=t=>typeof t=="number"?0:t;function fj(t){const e=nN(t);return iN(t)(e.map(hj))}const Ql={test:aj,parse:nN,createTransformer:iN,getAnimatableNone:fj},dj=new Set(["brightness","contrast","saturate","opacity"]);function pj(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(z_)||[];if(!i)return t;const r=n.replace(i,"");let s=dj.has(e)?1:0;return i!==n&&(s*=100),e+"("+s+r+")"}const gj=/\b([a-z-]*)\(.*?\)/gu,o5={...Ql,getAnimatableNone:t=>{const e=t.match(gj);return e?e.map(pj).join(" "):t}},mj={...T_,color:dr,backgroundColor:dr,outlineColor:dr,fill:dr,stroke:dr,borderColor:dr,borderTopColor:dr,borderRightColor:dr,borderBottomColor:dr,borderLeftColor:dr,filter:o5,WebkitFilter:o5},W_=t=>mj[t];function rN(t,e){let n=W_(t);return n!==o5&&(n=Ql),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const yj=new Set(["auto","none","0"]);function vj(t,e,n){let i=0,r;for(;i<t.length&&!r;){const s=t[i];typeof s=="string"&&!yj.has(s)&&cp(s).values.length&&(r=t[i]),i++}if(r&&n)for(const s of e)t[s]=rN(n,r)}const AA=t=>t===af||t===mt,kA=(t,e)=>parseFloat(t.split(", ")[e]),TA=(t,e)=>(n,{transform:i})=>{if(i==="none"||!i)return 0;const r=i.match(/^matrix3d\((.+)\)$/u);if(r)return kA(r[1],e);{const s=i.match(/^matrix\((.+)\)$/u);return s?kA(s[1],t):0}},wj=new Set(["x","y","z"]),_j=of.filter(t=>!wj.has(t));function bj(t){const e=[];return _j.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const zh={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:TA(4,13),y:TA(5,14)};zh.translateX=zh.x;zh.translateY=zh.y;const $u=new Set;let a5=!1,l5=!1;function sN(){if(l5){const t=Array.from($u).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const r=bj(i);r.length&&(n.set(i,r),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const r=n.get(i);r&&r.forEach(([s,o])=>{var a;(a=i.getValue(s))===null||a===void 0||a.set(o)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}l5=!1,a5=!1,$u.forEach(t=>t.complete()),$u.clear()}function oN(){$u.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(l5=!0)})}function xj(){oN(),sN()}class q_{constructor(e,n,i,r,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=r,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?($u.add(this),a5||(a5=!0,Rn.read(oN),Rn.resolveKeyframes(sN))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:r}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const o=r==null?void 0:r.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(i&&n){const l=i.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),r&&o===void 0&&r.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),$u.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,$u.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const aN=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),Sj=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Aj(t){const e=Sj.exec(t);if(!e)return[,];const[,n,i,r]=e;return[`--${n??i}`,r]}function lN(t,e,n=1){const[i,r]=Aj(t);if(!i)return;const s=window.getComputedStyle(e).getPropertyValue(i);if(s){const o=s.trim();return aN(o)?parseFloat(o):o}return k_(r)?lN(r,e,n+1):r}const uN=t=>e=>e.test(t),kj={test:t=>t==="auto",parse:t=>t},cN=[af,mt,Uo,wl,pF,dF,kj],EA=t=>cN.find(uN(t));class hN extends q_{constructor(e,n,i,r,s){super(e,n,i,r,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="string"&&(u=u.trim(),k_(u))){const c=lN(u,n.current);c!==void 0&&(e[l]=c),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!zC.has(i)||e.length!==2)return;const[r,s]=e,o=EA(r),a=EA(s);if(o!==a)if(AA(o)&&AA(a))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let r=0;r<e.length;r++)tj(e[r])&&i.push(r);i.length&&vj(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=zh[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const r=n[n.length-1];r!==void 0&&e.getValue(i,r).jump(r,!1)}measureEndState(){var e;const{element:n,name:i,unresolvedKeyframes:r}=this;if(!n||!n.current)return;const s=n.getValue(i);s&&s.jump(this.measuredOrigin,!1);const o=r.length-1,a=r[o];r[o]=zh[i](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,u])=>{n.getValue(l).set(u)}),this.resolveNoneKeyframes()}}const PA=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ql.test(t)||t==="0")&&!t.startsWith("url("));function Tj(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function Ej(t,e,n,i){const r=t[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=PA(r,e),a=PA(s,e);return!o||!a?!1:Tj(t)||(n==="spring"||R_(n))&&i}const Pj=t=>t!==null;function R1(t,{repeat:e,repeatType:n="loop"},i){const r=t.filter(Pj),s=e&&n!=="loop"&&e%2===1?0:r.length-1;return!s||i===void 0?r[s]:i}const Ij=40;class fN{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Wo.now(),this.options={autoplay:e,delay:n,type:i,repeat:r,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>Ij?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&xj(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Wo.now(),this.hasAttemptedResolve=!0;const{name:i,type:r,velocity:s,delay:o,onComplete:a,onUpdate:l,isGenerator:u}=this.options;if(!u&&!Ej(e,i,r,s))if(o)this.options.duration=0;else{l&&l(R1(e,this.options,n)),a&&a(),this.resolveFinishedPromise();return}const c=this.initPlayback(e,n);c!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...c},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const qn=(t,e,n)=>t+(e-t)*n;function e2(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Cj({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let r=0,s=0,o=0;if(!e)r=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;r=e2(l,a,t+1/3),s=e2(l,a,t),o=e2(l,a,t-1/3)}return{red:Math.round(r*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:i}}function k0(t,e){return n=>n>0?e:t}const t2=(t,e,n)=>{const i=t*t,r=n*(e*e-i)+i;return r<0?0:Math.sqrt(r)},Nj=[s5,Bu,ih],Lj=t=>Nj.find(e=>e.test(t));function IA(t){const e=Lj(t);if(!e)return!1;let n=e.parse(t);return e===ih&&(n=Cj(n)),n}const CA=(t,e)=>{const n=IA(t),i=IA(e);if(!n||!i)return k0(t,e);const r={...n};return s=>(r.red=t2(n.red,i.red,s),r.green=t2(n.green,i.green,s),r.blue=t2(n.blue,i.blue,s),r.alpha=qn(n.alpha,i.alpha,s),Bu.transform(r))},Rj=(t,e)=>n=>e(t(n)),Bp=(...t)=>t.reduce(Rj),u5=new Set(["none","hidden"]);function Mj(t,e){return u5.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function Dj(t,e){return n=>qn(t,e,n)}function H_(t){return typeof t=="number"?Dj:typeof t=="string"?k_(t)?k0:dr.test(t)?CA:jj:Array.isArray(t)?dN:typeof t=="object"?dr.test(t)?CA:Oj:k0}function dN(t,e){const n=[...t],i=n.length,r=t.map((s,o)=>H_(s)(s,e[o]));return s=>{for(let o=0;o<i;o++)n[o]=r[o](s);return n}}function Oj(t,e){const n={...t,...e},i={};for(const r in n)t[r]!==void 0&&e[r]!==void 0&&(i[r]=H_(t[r])(t[r],e[r]));return r=>{for(const s in i)n[s]=i[s](r);return n}}function Fj(t,e){var n;const i=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],a=t.indexes[o][r[o]],l=(n=t.values[a])!==null&&n!==void 0?n:0;i[s]=l,r[o]++}return i}const jj=(t,e)=>{const n=Ql.createTransformer(e),i=cp(t),r=cp(e);return i.indexes.var.length===r.indexes.var.length&&i.indexes.color.length===r.indexes.color.length&&i.indexes.number.length>=r.indexes.number.length?u5.has(t)&&!r.values.length||u5.has(e)&&!i.values.length?Mj(t,e):Bp(dN(Fj(i,r),r.values),n):k0(t,e)};function pN(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?qn(t,e,n):H_(t)(t,e)}const Vj=5;function gN(t,e,n){const i=Math.max(e-Vj,0);return UC(n-t(i),e-i)}const Zn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},n2=.001;function Bj({duration:t=Zn.duration,bounce:e=Zn.bounce,velocity:n=Zn.velocity,mass:i=Zn.mass}){let r,s,o=1-e;o=Oa(Zn.minDamping,Zn.maxDamping,o),t=Oa(Zn.minDuration,Zn.maxDuration,Ca(t)),o<1?(r=u=>{const c=u*o,h=c*t,d=c-n,f=c5(u,o),y=Math.exp(-h);return n2-d/f*y},s=u=>{const h=u*o*t,d=h*n+n,f=Math.pow(o,2)*Math.pow(u,2)*t,y=Math.exp(-h),w=c5(Math.pow(u,2),o);return(-r(u)+n2>0?-1:1)*((d-f)*y)/w}):(r=u=>{const c=Math.exp(-u*t),h=(u-n)*t+1;return-n2+c*h},s=u=>{const c=Math.exp(-u*t),h=(n-u)*(t*t);return c*h});const a=5/t,l=Uj(r,s,a);if(t=Ia(t),isNaN(l))return{stiffness:Zn.stiffness,damping:Zn.damping,duration:t};{const u=Math.pow(l,2)*i;return{stiffness:u,damping:o*2*Math.sqrt(i*u),duration:t}}}const zj=12;function Uj(t,e,n){let i=n;for(let r=1;r<zj;r++)i=i-t(i)/e(i);return i}function c5(t,e){return t*Math.sqrt(1-e*e)}const Wj=["duration","bounce"],qj=["stiffness","damping","mass"];function NA(t,e){return e.some(n=>t[n]!==void 0)}function Hj(t){let e={velocity:Zn.velocity,stiffness:Zn.stiffness,damping:Zn.damping,mass:Zn.mass,isResolvedFromDuration:!1,...t};if(!NA(t,qj)&&NA(t,Wj))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),r=i*i,s=2*Oa(.05,1,1-(t.bounce||0))*Math.sqrt(r);e={...e,mass:Zn.mass,stiffness:r,damping:s}}else{const n=Bj(t);e={...e,...n,mass:Zn.mass},e.isResolvedFromDuration=!0}return e}function mN(t=Zn.visualDuration,e=Zn.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:r}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:u,mass:c,duration:h,velocity:d,isResolvedFromDuration:f}=Hj({...n,velocity:-Ca(n.velocity||0)}),y=d||0,w=u/(2*Math.sqrt(l*c)),b=o-s,v=Ca(Math.sqrt(l/c)),S=Math.abs(b)<5;i||(i=S?Zn.restSpeed.granular:Zn.restSpeed.default),r||(r=S?Zn.restDelta.granular:Zn.restDelta.default);let I;if(w<1){const F=c5(v,w);I=H=>{const M=Math.exp(-w*v*H);return o-M*((y+w*v*b)/F*Math.sin(F*H)+b*Math.cos(F*H))}}else if(w===1)I=F=>o-Math.exp(-v*F)*(b+(y+v*b)*F);else{const F=v*Math.sqrt(w*w-1);I=H=>{const M=Math.exp(-w*v*H),k=Math.min(F*H,300);return o-M*((y+w*v*b)*Math.sinh(k)+F*b*Math.cosh(k))/F}}const P={calculatedDuration:f&&h||null,next:F=>{const H=I(F);if(f)a.done=F>=h;else{let M=0;w<1&&(M=F===0?Ia(y):gN(I,F,H));const k=Math.abs(M)<=i,T=Math.abs(o-H)<=r;a.done=k&&T}return a.value=a.done?o:H,a},toString:()=>{const F=Math.min(MC(P),n5),H=DC(M=>P.next(F*M).value,F,30);return F+"ms "+H}};return P}function LA({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:c}){const h=t[0],d={done:!1,value:h},f=k=>a!==void 0&&k<a||l!==void 0&&k>l,y=k=>a===void 0?l:l===void 0||Math.abs(a-k)<Math.abs(l-k)?a:l;let w=n*e;const b=h+w,v=o===void 0?b:o(b);v!==b&&(w=v-h);const S=k=>-w*Math.exp(-k/i),I=k=>v+S(k),P=k=>{const T=S(k),O=I(k);d.done=Math.abs(T)<=u,d.value=d.done?v:O};let F,H;const M=k=>{f(d.value)&&(F=k,H=mN({keyframes:[d.value,y(d.value)],velocity:gN(I,k,d.value),damping:r,stiffness:s,restDelta:u,restSpeed:c}))};return M(0),{calculatedDuration:null,next:k=>{let T=!1;return!H&&F===void 0&&(T=!0,P(k),M(k)),F!==void 0&&k>=F?H.next(k-F):(!T&&P(k),d)}}}const $j=Vp(.42,0,1,1),Gj=Vp(0,0,.58,1),yN=Vp(.42,0,.58,1),Kj=t=>Array.isArray(t)&&typeof t[0]!="number",Yj={linear:fs,easeIn:$j,easeInOut:yN,easeOut:Gj,circIn:B_,circInOut:QC,circOut:XC,backIn:V_,backInOut:KC,backOut:GC,anticipate:YC},RA=t=>{if(M_(t)){pC(t.length===4);const[e,n,i,r]=t;return Vp(e,n,i,r)}else if(typeof t=="string")return Yj[t];return t};function Xj(t,e,n){const i=[],r=n||pN,s=t.length-1;for(let o=0;o<s;o++){let a=r(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||fs:e;a=Bp(l,a)}i.push(a)}return i}function Qj(t,e,{clamp:n=!0,ease:i,mixer:r}={}){const s=t.length;if(pC(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=Xj(e,i,r),l=a.length,u=c=>{if(o&&c<t[0])return e[0];let h=0;if(l>1)for(;h<t.length-2&&!(c<t[h+1]);h++);const d=Vh(t[h],t[h+1],c);return a[h](d)};return n?c=>u(Oa(t[0],t[s-1],c)):u}function Jj(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const r=Vh(0,e,i);t.push(qn(n,1,r))}}function Zj(t){const e=[0];return Jj(e,t.length-1),e}function e9(t,e){return t.map(n=>n*e)}function t9(t,e){return t.map(()=>e||yN).splice(0,t.length-1)}function T0({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const r=Kj(i)?i.map(RA):RA(i),s={done:!1,value:e[0]},o=e9(n&&n.length===e.length?n:Zj(e),t),a=Qj(o,e,{ease:Array.isArray(r)?r:t9(e,r)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const n9=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Rn.update(e,!0),stop:()=>Xl(e),now:()=>Hi.isProcessing?Hi.timestamp:Wo.now()}},i9={decay:LA,inertia:LA,tween:T0,keyframes:T0,spring:mN},r9=t=>t/100;class $_ extends fN{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:i,element:r,keyframes:s}=this.options,o=(r==null?void 0:r.KeyframeResolver)||q_,a=(l,u)=>this.onKeyframesResolved(l,u);this.resolver=new o(s,a,n,i,r),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:i=0,repeatDelay:r=0,repeatType:s,velocity:o=0}=this.options,a=R_(n)?n:i9[n]||T0;let l,u;a!==T0&&typeof e[0]!="number"&&(l=Bp(r9,pN(e[0],e[1])),e=[0,100]);const c=a({...this.options,keyframes:e});s==="mirror"&&(u=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),c.calculatedDuration===null&&(c.calculatedDuration=MC(c));const{calculatedDuration:h}=c,d=h+r,f=d*(i+1)-r;return{generator:c,mirroredGenerator:u,mapPercentToKeyframes:l,calculatedDuration:h,resolvedDuration:d,totalDuration:f}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:i}=this;if(!i){const{keyframes:k}=this.options;return{done:!0,value:k[k.length-1]}}const{finalKeyframe:r,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:u,totalDuration:c,resolvedDuration:h}=i;if(this.startTime===null)return s.next(0);const{delay:d,repeat:f,repeatType:y,repeatDelay:w,onUpdate:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-c/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const v=this.currentTime-d*(this.speed>=0?1:-1),S=this.speed>=0?v<0:v>c;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=c);let I=this.currentTime,P=s;if(f){const k=Math.min(this.currentTime,c)/h;let T=Math.floor(k),O=k%1;!O&&k>=1&&(O=1),O===1&&T--,T=Math.min(T,f+1),!!(T%2)&&(y==="reverse"?(O=1-O,w&&(O-=w/h)):y==="mirror"&&(P=o)),I=Oa(0,1,O)*h}const F=S?{done:!1,value:l[0]}:P.next(I);a&&(F.value=a(F.value));let{done:H}=F;!S&&u!==null&&(H=this.speed>=0?this.currentTime>=c:this.currentTime<=0);const M=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&H);return M&&r!==void 0&&(F.value=R1(l,this.options,r)),b&&b(F.value),M&&this.finish(),F}get duration(){const{resolved:e}=this;return e?Ca(e.calculatedDuration):0}get time(){return Ca(this.currentTime)}set time(e){e=Ia(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Ca(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=n9,onPlay:n,startTime:i}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),n&&n();const r=this.driver.now();this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=r):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const s9=new Set(["opacity","clipPath","filter","transform"]);function o9(t,e,n,{delay:i=0,duration:r=300,repeat:s=0,repeatType:o="loop",ease:a="easeInOut",times:l}={}){const u={[e]:n};l&&(u.offset=l);const c=FC(a,r);return Array.isArray(c)&&(u.easing=c),t.animate(u,{delay:i,duration:r,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const a9=v_(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),E0=10,l9=2e4;function u9(t){return R_(t.type)||t.type==="spring"||!OC(t.ease)}function c9(t,e){const n=new $_({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:t[0]};const r=[];let s=0;for(;!i.done&&s<l9;)i=n.sample(s),r.push(i.value),s+=E0;return{times:void 0,keyframes:r,duration:s-E0,ease:"linear"}}const vN={anticipate:YC,backInOut:KC,circInOut:QC};function h9(t){return t in vN}class MA extends fN{constructor(e){super(e);const{name:n,motionValue:i,element:r,keyframes:s}=this.options;this.resolver=new hN(s,(o,a)=>this.onKeyframesResolved(o,a),n,i,r),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:i=300,times:r,ease:s,type:o,motionValue:a,name:l,startTime:u}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof s=="string"&&A0()&&h9(s)&&(s=vN[s]),u9(this.options)){const{onComplete:h,onUpdate:d,motionValue:f,element:y,...w}=this.options,b=c9(e,w);e=b.keyframes,e.length===1&&(e[1]=e[0]),i=b.duration,r=b.times,s=b.ease,o="keyframes"}const c=o9(a.owner.current,l,e,{...this.options,duration:i,times:r,ease:s});return c.startTime=u??this.calcStartTime(),this.pendingTimeline?(vA(c,this.pendingTimeline),this.pendingTimeline=void 0):c.onfinish=()=>{const{onComplete:h}=this.options;a.set(R1(e,this.options,n)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:c,duration:i,times:r,type:o,ease:s,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Ca(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Ca(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.currentTime=Ia(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return fs;const{animation:i}=n;vA(i,e)}return fs}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:i,duration:r,type:s,ease:o,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:c,onComplete:h,element:d,...f}=this.options,y=new $_({...f,keyframes:i,duration:r,type:s,ease:o,times:a,isGenerator:!0}),w=Ia(this.time);u.setWithVelocity(y.sample(w-E0).value,y.sample(w).value,E0)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:i,repeatDelay:r,repeatType:s,damping:o,type:a}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=n.owner.getProps();return a9()&&i&&s9.has(i)&&!l&&!u&&!r&&s!=="mirror"&&o!==0&&a!=="inertia"}}const f9={type:"spring",stiffness:500,damping:25,restSpeed:10},d9=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),p9={type:"keyframes",duration:.8},g9={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},m9=(t,{keyframes:e})=>e.length>2?p9:mc.has(t)?t.startsWith("scale")?d9(e[1]):f9:g9;function y9({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:r,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...c}){return!!Object.keys(c).length}const G_=(t,e,n,i={},r,s)=>o=>{const a=L_(i,t)||{},l=a.delay||i.delay||0;let{elapsed:u=0}=i;u=u-Ia(l);let c={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-u,onUpdate:d=>{e.set(d),a.onUpdate&&a.onUpdate(d)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:r};y9(a)||(c={...c,...m9(t,c)}),c.duration&&(c.duration=Ia(c.duration)),c.repeatDelay&&(c.repeatDelay=Ia(c.repeatDelay)),c.from!==void 0&&(c.keyframes[0]=c.from);let h=!1;if((c.type===!1||c.duration===0&&!c.repeatDelay)&&(c.duration=0,c.delay===0&&(h=!0)),h&&!s&&e.get()!==void 0){const d=R1(c.keyframes,a);if(d!==void 0)return Rn.update(()=>{c.onUpdate(d),c.onComplete()}),new OF([])}return!s&&MA.supports(c)?new MA(c):new $_(c)};function v9({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function wN(t,e,{delay:n=0,transitionOverride:i,type:r}={}){var s;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=e;i&&(o=i);const u=[],c=r&&t.animationState&&t.animationState.getState()[r];for(const h in l){const d=t.getValue(h,(s=t.latestValues[h])!==null&&s!==void 0?s:null),f=l[h];if(f===void 0||c&&v9(c,h))continue;const y={delay:n,...L_(o||{},h)};let w=!1;if(window.MotionHandoffAnimation){const v=WC(t);if(v){const S=window.MotionHandoffAnimation(v,h,Rn);S!==null&&(y.startTime=S,w=!0)}}r5(t,h),d.start(G_(h,d,f,t.shouldReduceMotion&&zC.has(h)?{type:!1}:y,t,w));const b=d.animation;b&&u.push(b)}return a&&Promise.all(u).then(()=>{Rn.update(()=>{a&&XF(t,a)})}),u}function h5(t,e,n={}){var i;const r=L1(t,e,n.type==="exit"?(i=t.presenceContext)===null||i===void 0?void 0:i.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const o=r?()=>Promise.all(wN(t,r,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:c=0,staggerChildren:h,staggerDirection:d}=s;return w9(t,e,c+u,h,d,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[u,c]=l==="beforeChildren"?[o,a]:[a,o];return u().then(()=>c())}else return Promise.all([o(),a(n.delay)])}function w9(t,e,n=0,i=0,r=1,s){const o=[],a=(t.variantChildren.size-1)*i,l=r===1?(u=0)=>u*i:(u=0)=>a-u*i;return Array.from(t.variantChildren).sort(_9).forEach((u,c)=>{u.notify("AnimationStart",e),o.push(h5(u,e,{...s,delay:n+l(c)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function _9(t,e){return t.sortNodePosition(e)}function b9(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const r=e.map(s=>h5(t,s,n));i=Promise.all(r)}else if(typeof e=="string")i=h5(t,e,n);else{const r=typeof e=="function"?L1(t,e,n.custom):e;i=Promise.all(wN(t,r,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}const x9=__.length;function _N(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?_N(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<x9;n++){const i=__[n],r=t.props[i];(ap(r)||r===!1)&&(e[i]=r)}return e}const S9=[...w_].reverse(),A9=w_.length;function k9(t){return e=>Promise.all(e.map(({animation:n,options:i})=>b9(t,n,i)))}function T9(t){let e=k9(t),n=DA(),i=!0;const r=l=>(u,c)=>{var h;const d=L1(t,c,l==="exit"?(h=t.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(d){const{transition:f,transitionEnd:y,...w}=d;u={...u,...w,...y}}return u};function s(l){e=l(t)}function o(l){const{props:u}=t,c=_N(t.parent)||{},h=[],d=new Set;let f={},y=1/0;for(let b=0;b<A9;b++){const v=S9[b],S=n[v],I=u[v]!==void 0?u[v]:c[v],P=ap(I),F=v===l?S.isActive:null;F===!1&&(y=b);let H=I===c[v]&&I!==u[v]&&P;if(H&&i&&t.manuallyAnimateOnMount&&(H=!1),S.protectedKeys={...f},!S.isActive&&F===null||!I&&!S.prevProp||C1(I)||typeof I=="boolean")continue;const M=E9(S.prevProp,I);let k=M||v===l&&S.isActive&&!H&&P||b>y&&P,T=!1;const O=Array.isArray(I)?I:[I];let E=O.reduce(r(v),{});F===!1&&(E={});const{prevResolvedValues:L={}}=S,D={...L,...E},Z=ae=>{k=!0,d.has(ae)&&(T=!0,d.delete(ae)),S.needsAnimating[ae]=!0;const $=t.getValue(ae);$&&($.liveStyle=!1)};for(const ae in D){const $=E[ae],ie=L[ae];if(f.hasOwnProperty(ae))continue;let me=!1;t5($)&&t5(ie)?me=!RC($,ie):me=$!==ie,me?$!=null?Z(ae):d.add(ae):$!==void 0&&d.has(ae)?Z(ae):S.protectedKeys[ae]=!0}S.prevProp=I,S.prevResolvedValues=E,S.isActive&&(f={...f,...E}),i&&t.blockInitialAnimation&&(k=!1),k&&(!(H&&M)||T)&&h.push(...O.map(ae=>({animation:ae,options:{type:v}})))}if(d.size){const b={};d.forEach(v=>{const S=t.getBaseTarget(v),I=t.getValue(v);I&&(I.liveStyle=!0),b[v]=S??null}),h.push({animation:b})}let w=!!h.length;return i&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(w=!1),i=!1,w?e(h):Promise.resolve()}function a(l,u){var c;if(n[l].isActive===u)return Promise.resolve();(c=t.variantChildren)===null||c===void 0||c.forEach(d=>{var f;return(f=d.animationState)===null||f===void 0?void 0:f.setActive(l,u)}),n[l].isActive=u;const h=o(l);for(const d in n)n[d].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=DA(),i=!0}}}function E9(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!RC(e,t):!1}function Au(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function DA(){return{animate:Au(!0),whileInView:Au(),whileHover:Au(),whileTap:Au(),whileDrag:Au(),whileFocus:Au(),exit:Au()}}class au{constructor(e){this.isMounted=!1,this.node=e}update(){}}class P9 extends au{constructor(e){super(e),e.animationState||(e.animationState=T9(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();C1(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let I9=0;class C9 extends au{constructor(){super(...arguments),this.id=I9++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const r=this.node.animationState.setActive("exit",!e);n&&!e&&r.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const N9={animation:{Feature:P9},exit:{Feature:C9}};function hp(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function zp(t){return{point:{x:t.pageX,y:t.pageY}}}const L9=t=>e=>D_(e)&&t(e,zp(e));function kd(t,e,n,i){return hp(t,e,L9(n),i)}const OA=(t,e)=>Math.abs(t-e);function R9(t,e){const n=OA(t.x,e.x),i=OA(t.y,e.y);return Math.sqrt(n**2+i**2)}class bN{constructor(e,n,{transformPagePoint:i,contextWindow:r,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=r2(this.lastMoveEventInfo,this.history),d=this.startEvent!==null,f=R9(h.offset,{x:0,y:0})>=3;if(!d&&!f)return;const{point:y}=h,{timestamp:w}=Hi;this.history.push({...y,timestamp:w});const{onStart:b,onMove:v}=this.handlers;d||(b&&b(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,h)},this.handlePointerMove=(h,d)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=i2(d,this.transformPagePoint),Rn.update(this.updatePoint,!0)},this.handlePointerUp=(h,d)=>{this.end();const{onEnd:f,onSessionEnd:y,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=r2(h.type==="pointercancel"?this.lastMoveEventInfo:i2(d,this.transformPagePoint),this.history);this.startEvent&&f&&f(h,b),y&&y(h,b)},!D_(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=i,this.contextWindow=r||window;const o=zp(e),a=i2(o,this.transformPagePoint),{point:l}=a,{timestamp:u}=Hi;this.history=[{...l,timestamp:u}];const{onSessionStart:c}=n;c&&c(e,r2(a,this.history)),this.removeListeners=Bp(kd(this.contextWindow,"pointermove",this.handlePointerMove),kd(this.contextWindow,"pointerup",this.handlePointerUp),kd(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Xl(this.updatePoint)}}function i2(t,e){return e?{point:e(t.point)}:t}function FA(t,e){return{x:t.x-e.x,y:t.y-e.y}}function r2({point:t},e){return{point:t,delta:FA(t,xN(e)),offset:FA(t,M9(e)),velocity:D9(e,.1)}}function M9(t){return t[0]}function xN(t){return t[t.length-1]}function D9(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const r=xN(t);for(;n>=0&&(i=t[n],!(r.timestamp-i.timestamp>Ia(e)));)n--;if(!i)return{x:0,y:0};const s=Ca(r.timestamp-i.timestamp);if(s===0)return{x:0,y:0};const o={x:(r.x-i.x)/s,y:(r.y-i.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const SN=1e-4,O9=1-SN,F9=1+SN,AN=.01,j9=0-AN,V9=0+AN;function gs(t){return t.max-t.min}function B9(t,e,n){return Math.abs(t-e)<=n}function jA(t,e,n,i=.5){t.origin=i,t.originPoint=qn(e.min,e.max,t.origin),t.scale=gs(n)/gs(e),t.translate=qn(n.min,n.max,t.origin)-t.originPoint,(t.scale>=O9&&t.scale<=F9||isNaN(t.scale))&&(t.scale=1),(t.translate>=j9&&t.translate<=V9||isNaN(t.translate))&&(t.translate=0)}function Td(t,e,n,i){jA(t.x,e.x,n.x,i?i.originX:void 0),jA(t.y,e.y,n.y,i?i.originY:void 0)}function VA(t,e,n){t.min=n.min+e.min,t.max=t.min+gs(e)}function z9(t,e,n){VA(t.x,e.x,n.x),VA(t.y,e.y,n.y)}function BA(t,e,n){t.min=e.min-n.min,t.max=t.min+gs(e)}function Ed(t,e,n){BA(t.x,e.x,n.x),BA(t.y,e.y,n.y)}function U9(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?qn(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?qn(n,t,i.max):Math.min(t,n)),t}function zA(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function W9(t,{top:e,left:n,bottom:i,right:r}){return{x:zA(t.x,n,r),y:zA(t.y,e,i)}}function UA(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function q9(t,e){return{x:UA(t.x,e.x),y:UA(t.y,e.y)}}function H9(t,e){let n=.5;const i=gs(t),r=gs(e);return r>i?n=Vh(e.min,e.max-i,t.min):i>r&&(n=Vh(t.min,t.max-r,e.min)),Oa(0,1,n)}function $9(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const f5=.35;function G9(t=f5){return t===!1?t=0:t===!0&&(t=f5),{x:WA(t,"left","right"),y:WA(t,"top","bottom")}}function WA(t,e,n){return{min:qA(t,e),max:qA(t,n)}}function qA(t,e){return typeof t=="number"?t:t[e]||0}const HA=()=>({translate:0,scale:1,origin:0,originPoint:0}),rh=()=>({x:HA(),y:HA()}),$A=()=>({min:0,max:0}),li=()=>({x:$A(),y:$A()});function Ms(t){return[t("x"),t("y")]}function kN({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function K9({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Y9(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function s2(t){return t===void 0||t===1}function d5({scale:t,scaleX:e,scaleY:n}){return!s2(t)||!s2(e)||!s2(n)}function Cu(t){return d5(t)||TN(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function TN(t){return GA(t.x)||GA(t.y)}function GA(t){return t&&t!=="0%"}function P0(t,e,n){const i=t-n,r=e*i;return n+r}function KA(t,e,n,i,r){return r!==void 0&&(t=P0(t,r,i)),P0(t,n,i)+e}function p5(t,e=0,n=1,i,r){t.min=KA(t.min,e,n,i,r),t.max=KA(t.max,e,n,i,r)}function EN(t,{x:e,y:n}){p5(t.x,e.translate,e.scale,e.originPoint),p5(t.y,n.translate,n.scale,n.originPoint)}const YA=.999999999999,XA=1.0000000000001;function X9(t,e,n,i=!1){const r=n.length;if(!r)return;e.x=e.y=1;let s,o;for(let a=0;a<r;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(i&&s.options.layoutScroll&&s.scroll&&s!==s.root&&oh(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,EN(t,o)),i&&Cu(s.latestValues)&&oh(t,s.latestValues))}e.x<XA&&e.x>YA&&(e.x=1),e.y<XA&&e.y>YA&&(e.y=1)}function sh(t,e){t.min=t.min+e,t.max=t.max+e}function QA(t,e,n,i,r=.5){const s=qn(t.min,t.max,r);p5(t,e,n,s,i)}function oh(t,e){QA(t.x,e.x,e.scaleX,e.scale,e.originX),QA(t.y,e.y,e.scaleY,e.scale,e.originY)}function PN(t,e){return kN(Y9(t.getBoundingClientRect(),e))}function Q9(t,e,n){const i=PN(t,n),{scroll:r}=e;return r&&(sh(i.x,r.offset.x),sh(i.y,r.offset.y)),i}const IN=({current:t})=>t?t.ownerDocument.defaultView:null,J9=new WeakMap;class Z9{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=li(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const r=c=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(zp(c).point)},s=(c,h)=>{const{drag:d,dragPropagation:f,onDragStart:y}=this.getProps();if(d&&!f&&(this.openDragLock&&this.openDragLock(),this.openDragLock=HF(d),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ms(b=>{let v=this.getAxisMotionValue(b).get()||0;if(Uo.test(v)){const{projection:S}=this.visualElement;if(S&&S.layout){const I=S.layout.layoutBox[b];I&&(v=gs(I)*(parseFloat(v)/100))}}this.originPoint[b]=v}),y&&Rn.postRender(()=>y(c,h)),r5(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},o=(c,h)=>{const{dragPropagation:d,dragDirectionLock:f,onDirectionLock:y,onDrag:w}=this.getProps();if(!d&&!this.openDragLock)return;const{offset:b}=h;if(f&&this.currentDirection===null){this.currentDirection=eV(b),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",h.point,b),this.updateAxis("y",h.point,b),this.visualElement.render(),w&&w(c,h)},a=(c,h)=>this.stop(c,h),l=()=>Ms(c=>{var h;return this.getAnimationState(c)==="paused"&&((h=this.getAxisMotionValue(c).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new bN(e,{onSessionStart:r,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:IN(this.visualElement)})}stop(e,n){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:r}=n;this.startAnimation(r);const{onDragEnd:s}=this.getProps();s&&Rn.postRender(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:r}=this.getProps();if(!i||!qg(e,r,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(o=U9(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:i}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&nh(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&r?this.constraints=W9(r.layoutBox,n):this.constraints=!1,this.elastic=G9(i),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Ms(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=$9(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!nh(e))return!1;const i=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const s=Q9(i,r.root,this.visualElement.getTransformPagePoint());let o=q9(r.layout.layoutBox,s);if(n){const a=n(K9(o));this.hasMutatedConstraints=!!a,a&&(o=kN(a))}return o}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:r,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=Ms(c=>{if(!qg(c,n,this.currentDirection))return;let h=l&&l[c]||{};o&&(h={min:0,max:0});const d=r?200:1e6,f=r?40:1e7,y={type:"inertia",velocity:i?e[c]:0,bounceStiffness:d,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(c,y)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return r5(this.visualElement,e),i.start(G_(e,i,0,n,this.visualElement,!1))}stopAnimation(){Ms(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ms(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),r=i[n];return r||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){Ms(n=>{const{drag:i}=this.getProps();if(!qg(n,i,this.currentDirection))return;const{projection:r}=this.visualElement,s=this.getAxisMotionValue(n);if(r&&r.layout){const{min:o,max:a}=r.layout.layoutBox[n];s.set(e[n]-qn(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!nh(n)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Ms(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();r[o]=H9({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Ms(o=>{if(!qg(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(qn(l,u,r[o]))})}addListeners(){if(!this.visualElement.current)return;J9.set(this.visualElement,this);const e=this.visualElement.current,n=kd(e,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),i=()=>{const{dragConstraints:l}=this.getProps();nh(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,s=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),Rn.read(i);const o=hp(window,"resize",()=>this.scalePositionWithinConstraints()),a=r.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(Ms(c=>{const h=this.getAxisMotionValue(c);h&&(this.originPoint[c]+=l[c].translate,h.set(h.get()+l[c].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:s=!1,dragElastic:o=f5,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:r,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function qg(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function eV(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class tV extends au{constructor(e){super(e),this.removeGroupControls=fs,this.removeListeners=fs,this.controls=new Z9(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||fs}unmount(){this.removeGroupControls(),this.removeListeners()}}const JA=t=>(e,n)=>{t&&Rn.postRender(()=>t(e,n))};class nV extends au{constructor(){super(...arguments),this.removePointerDownListener=fs}onPointerDown(e){this.session=new bN(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:IN(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:JA(e),onStart:JA(n),onMove:i,onEnd:(s,o)=>{delete this.session,r&&Rn.postRender(()=>r(s,o))}}}mount(){this.removePointerDownListener=kd(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Lm={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function ZA(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const $f={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(mt.test(t))t=parseFloat(t);else return t;const n=ZA(t,e.target.x),i=ZA(t,e.target.y);return`${n}% ${i}%`}},iV={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,r=Ql.parse(t);if(r.length>5)return i;const s=Ql.createTransformer(t),o=typeof r[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;r[0+o]/=a,r[1+o]/=l;const u=qn(a,l,.5);return typeof r[2+o]=="number"&&(r[2+o]/=u),typeof r[3+o]=="number"&&(r[3+o]/=u),s(r)}};class rV extends xe.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:r}=this.props,{projection:s}=e;AF(sV),s&&(n.group&&n.group.add(s),i&&i.register&&r&&i.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Lm.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:r,isPresent:s}=this.props,o=i.projection;return o&&(o.isPresent=s,r||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Rn.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),x_.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function CN(t){const[e,n]=fC(),i=xe.useContext(p_);return N.jsx(rV,{...t,layoutGroup:i,switchLayoutGroup:xe.useContext(_C),isPresent:e,safeToRemove:n})}const sV={borderRadius:{...$f,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:$f,borderTopRightRadius:$f,borderBottomLeftRadius:$f,borderBottomRightRadius:$f,boxShadow:iV};function oV(t,e,n){const i=yr(t)?t:up(t);return i.start(G_("",i,e,n)),i.animation}function aV(t){return t instanceof SVGElement&&t.tagName!=="svg"}const lV=(t,e)=>t.depth-e.depth;class uV{constructor(){this.children=[],this.isDirty=!1}add(e){O_(this.children,e),this.isDirty=!0}remove(e){F_(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(lV),this.isDirty=!1,this.children.forEach(e)}}function cV(t,e){const n=Wo.now(),i=({timestamp:r})=>{const s=r-n;s>=e&&(Xl(i),t(s-e))};return Rn.read(i,!0),()=>Xl(i)}const NN=["TopLeft","TopRight","BottomLeft","BottomRight"],hV=NN.length,e4=t=>typeof t=="string"?parseFloat(t):t,t4=t=>typeof t=="number"||mt.test(t);function fV(t,e,n,i,r,s){r?(t.opacity=qn(0,n.opacity!==void 0?n.opacity:1,dV(i)),t.opacityExit=qn(e.opacity!==void 0?e.opacity:1,0,pV(i))):s&&(t.opacity=qn(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,i));for(let o=0;o<hV;o++){const a=`border${NN[o]}Radius`;let l=n4(e,a),u=n4(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||t4(l)===t4(u)?(t[a]=Math.max(qn(e4(l),e4(u),i),0),(Uo.test(u)||Uo.test(l))&&(t[a]+="%")):t[a]=u}(e.rotate||n.rotate)&&(t.rotate=qn(e.rotate||0,n.rotate||0,i))}function n4(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const dV=LN(0,.5,XC),pV=LN(.5,.95,fs);function LN(t,e,n){return i=>i<t?0:i>e?1:n(Vh(t,e,i))}function i4(t,e){t.min=e.min,t.max=e.max}function Ls(t,e){i4(t.x,e.x),i4(t.y,e.y)}function r4(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function s4(t,e,n,i,r){return t-=e,t=P0(t,1/n,i),r!==void 0&&(t=P0(t,1/r,i)),t}function gV(t,e=0,n=1,i=.5,r,s=t,o=t){if(Uo.test(e)&&(e=parseFloat(e),e=qn(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=qn(s.min,s.max,i);t===s&&(a-=e),t.min=s4(t.min,e,n,a,r),t.max=s4(t.max,e,n,a,r)}function o4(t,e,[n,i,r],s,o){gV(t,e[n],e[i],e[r],e.scale,s,o)}const mV=["x","scaleX","originX"],yV=["y","scaleY","originY"];function a4(t,e,n,i){o4(t.x,e,mV,n?n.x:void 0,i?i.x:void 0),o4(t.y,e,yV,n?n.y:void 0,i?i.y:void 0)}function l4(t){return t.translate===0&&t.scale===1}function RN(t){return l4(t.x)&&l4(t.y)}function u4(t,e){return t.min===e.min&&t.max===e.max}function vV(t,e){return u4(t.x,e.x)&&u4(t.y,e.y)}function c4(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function MN(t,e){return c4(t.x,e.x)&&c4(t.y,e.y)}function h4(t){return gs(t.x)/gs(t.y)}function f4(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class wV{constructor(){this.members=[]}add(e){O_(this.members,e),e.scheduleRender()}remove(e){if(F_(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(r=>e===r);if(n===0)return!1;let i;for(let r=n;r>=0;r--){const s=this.members[r];if(s.isPresent!==!1){i=s;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function _V(t,e,n){let i="";const r=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((r||s||o)&&(i=`translate3d(${r}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:c,rotateX:h,rotateY:d,skewX:f,skewY:y}=n;u&&(i=`perspective(${u}px) ${i}`),c&&(i+=`rotate(${c}deg) `),h&&(i+=`rotateX(${h}deg) `),d&&(i+=`rotateY(${d}deg) `),f&&(i+=`skewX(${f}deg) `),y&&(i+=`skewY(${y}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(i+=`scale(${a}, ${l})`),i||"none"}const Nu={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},ld=typeof window<"u"&&window.MotionDebug!==void 0,o2=["","X","Y","Z"],bV={visibility:"hidden"},d4=1e3;let xV=0;function a2(t,e,n,i){const{latestValues:r}=e;r[t]&&(n[t]=r[t],e.setStaticValue(t,0),i&&(i[t]=0))}function DN(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=WC(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:r,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Rn,!(r||s))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&DN(i)}function ON({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(o={},a=e==null?void 0:e()){this.id=xV++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,ld&&(Nu.totalNodes=Nu.resolvedTargetDeltas=Nu.recalculatedProjection=0),this.nodes.forEach(kV),this.nodes.forEach(CV),this.nodes.forEach(NV),this.nodes.forEach(TV),ld&&window.MotionDebug.record(Nu)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new uV)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new j_),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=aV(o),this.instance=o;const{layoutId:l,layout:u,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),t){let h;const d=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=cV(d,250),Lm.hasAnimatedSinceResize&&(Lm.hasAnimatedSinceResize=!1,this.nodes.forEach(g4))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&c&&(l||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:d,hasRelativeTargetChanged:f,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||c.getDefaultTransition()||OV,{onLayoutAnimationStart:b,onLayoutAnimationComplete:v}=c.getProps(),S=!this.targetLayout||!MN(this.targetLayout,y)||f,I=!d&&f;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||I||d&&(S||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,I);const P={...L_(w,"layout"),onPlay:b,onComplete:v};(c.shouldReduceMotion||this.options.layoutRoot)&&(P.delay=0,P.type=!1),this.startAnimation(P)}else d||g4(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Xl(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(LV),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&DN(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const h=this.path[c];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(p4);return}this.isUpdating||this.nodes.forEach(PV),this.isUpdating=!1,this.nodes.forEach(IV),this.nodes.forEach(SV),this.nodes.forEach(AV),this.clearAllSnapshots();const a=Wo.now();Hi.delta=Oa(0,1e3/60,a-Hi.timestamp),Hi.timestamp=a,Hi.isProcessing=!0,Qy.update.process(Hi),Qy.preRender.process(Hi),Qy.render.process(Hi),Hi.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,x_.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(EV),this.sharedNodes.forEach(RV)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Rn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Rn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=li(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=i(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!r)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!RN(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;o&&(a||Cu(this.latestValues)||c)&&(r(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),FV(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return li();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(jV))){const{scroll:c}=this.root;c&&(sh(l.x,c.offset.x),sh(l.y,c.offset.y))}return l}removeElementScroll(o){var a;const l=li();if(Ls(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let u=0;u<this.path.length;u++){const c=this.path[u],{scroll:h,options:d}=c;c!==this.root&&h&&d.layoutScroll&&(h.wasRoot&&Ls(l,o),sh(l.x,h.offset.x),sh(l.y,h.offset.y))}return l}applyTransform(o,a=!1){const l=li();Ls(l,o);for(let u=0;u<this.path.length;u++){const c=this.path[u];!a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&oh(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),Cu(c.latestValues)&&oh(l,c.latestValues)}return Cu(this.latestValues)&&oh(l,this.latestValues),l}removeTransform(o){const a=li();Ls(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!Cu(u.latestValues))continue;d5(u.latestValues)&&u.updateSnapshot();const c=li(),h=u.measurePageBox();Ls(c,h),a4(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return Cu(this.latestValues)&&a4(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Hi.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:d}=this.options;if(!(!this.layout||!(h||d))){if(this.resolvedRelativeTargetAt=Hi.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=li(),this.relativeTargetOrigin=li(),Ed(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),Ls(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=li(),this.targetWithTransforms=li()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),z9(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ls(this.target,this.layout.layoutBox),EN(this.target,this.targetDelta)):Ls(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=li(),this.relativeTargetOrigin=li(),Ed(this.relativeTargetOrigin,this.target,f.target),Ls(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ld&&Nu.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||d5(this.parent.latestValues)||TN(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Hi.timestamp&&(u=!1),u)return;const{layout:c,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||h))return;Ls(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,f=this.treeScale.y;X9(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=li());const{target:y}=a;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(r4(this.prevProjectionDelta.x,this.projectionDelta.x),r4(this.prevProjectionDelta.y,this.projectionDelta.y)),Td(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==d||this.treeScale.y!==f||!f4(this.projectionDelta.x,this.prevProjectionDelta.x)||!f4(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y)),ld&&Nu.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=rh(),this.projectionDelta=rh(),this.projectionDeltaWithTransform=rh()}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},h=rh();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const d=li(),f=l?l.source:void 0,y=this.layout?this.layout.source:void 0,w=f!==y,b=this.getStack(),v=!b||b.members.length<=1,S=!!(w&&!v&&this.options.crossfade===!0&&!this.path.some(DV));this.animationProgress=0;let I;this.mixTargetDelta=P=>{const F=P/1e3;m4(h.x,o.x,F),m4(h.y,o.y,F),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ed(d,this.layout.layoutBox,this.relativeParent.layout.layoutBox),MV(this.relativeTarget,this.relativeTargetOrigin,d,F),I&&vV(this.relativeTarget,I)&&(this.isProjectionDirty=!1),I||(I=li()),Ls(I,this.relativeTarget)),w&&(this.animationValues=c,fV(c,u,this.latestValues,F,S,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=F},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Xl(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Rn.update(()=>{Lm.hasAnimatedSinceResize=!0,this.currentAnimation=oV(0,d4,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(d4),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:c}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&FN(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||li();const h=gs(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const d=gs(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+d}Ls(a,l),oh(a,c),Td(this.projectionDeltaWithTransform,this.layoutCorrected,a,c)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new wV),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&a2("z",o,u,this.animationValues);for(let c=0;c<o2.length;c++)a2(`rotate${o2[c]}`,o,u,this.animationValues),a2(`skew${o2[c]}`,o,u,this.animationValues);o.render();for(const c in u)o.setStaticValue(c,u[c]),this.animationValues&&(this.animationValues[c]=u[c]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return bV;const u={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Cm(o==null?void 0:o.pointerEvents)||"",u.transform=c?c(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const w={};return this.options.layoutId&&(w.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,w.pointerEvents=Cm(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Cu(this.latestValues)&&(w.transform=c?c({},""):"none",this.hasProjected=!1),w}const d=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=_V(this.projectionDeltaWithTransform,this.treeScale,d),c&&(u.transform=c(d,u.transform));const{x:f,y}=this.projectionDelta;u.transformOrigin=`${f.origin*100}% ${y.origin*100}% 0`,h.animationValues?u.opacity=h===this?(l=(a=d.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:u.opacity=h===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const w in S0){if(d[w]===void 0)continue;const{correct:b,applyTo:v}=S0[w],S=u.transform==="none"?d[w]:b(d[w],h);if(v){const I=v.length;for(let P=0;P<I;P++)u[v[P]]=S}else u[w]=S}return this.options.layoutId&&(u.pointerEvents=h===this?Cm(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(p4),this.root.sharedNodes.clear()}}}function SV(t){t.updateLayout()}function AV(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:r}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?Ms(h=>{const d=o?n.measuredBox[h]:n.layoutBox[h],f=gs(d);d.min=i[h].min,d.max=d.min+f}):FN(s,n.layoutBox,i)&&Ms(h=>{const d=o?n.measuredBox[h]:n.layoutBox[h],f=gs(i[h]);d.max=d.min+f,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+f)});const a=rh();Td(a,i,n.layoutBox);const l=rh();o?Td(l,t.applyTransform(r,!0),n.measuredBox):Td(l,i,n.layoutBox);const u=!RN(a);let c=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:d,layout:f}=h;if(d&&f){const y=li();Ed(y,n.layoutBox,d.layoutBox);const w=li();Ed(w,i,f.layoutBox),MN(y,w)||(c=!0),h.options.layoutRoot&&(t.relativeTarget=w,t.relativeTargetOrigin=y,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:c})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function kV(t){ld&&Nu.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function TV(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function EV(t){t.clearSnapshot()}function p4(t){t.clearMeasurements()}function PV(t){t.isLayoutDirty=!1}function IV(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function g4(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function CV(t){t.resolveTargetDelta()}function NV(t){t.calcProjection()}function LV(t){t.resetSkewAndRotation()}function RV(t){t.removeLeadSnapshot()}function m4(t,e,n){t.translate=qn(e.translate,0,n),t.scale=qn(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function y4(t,e,n,i){t.min=qn(e.min,n.min,i),t.max=qn(e.max,n.max,i)}function MV(t,e,n,i){y4(t.x,e.x,n.x,i),y4(t.y,e.y,n.y,i)}function DV(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const OV={duration:.45,ease:[.4,0,.1,1]},v4=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),w4=v4("applewebkit/")&&!v4("chrome/")?Math.round:fs;function _4(t){t.min=w4(t.min),t.max=w4(t.max)}function FV(t){_4(t.x),_4(t.y)}function FN(t,e,n){return t==="position"||t==="preserve-aspect"&&!B9(h4(e),h4(n),.2)}function jV(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const VV=ON({attachResizeListener:(t,e)=>hp(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),l2={current:void 0},jN=ON({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!l2.current){const t=new VV({});t.mount(window),t.setOptions({layoutScroll:!0}),l2.current=t}return l2.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),BV={pan:{Feature:nV},drag:{Feature:tV,ProjectionNode:jN,MeasureLayout:CN}};function b4(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const r="onHover"+n,s=i[r];s&&Rn.postRender(()=>s(e,zp(e)))}class zV extends au{mount(){const{current:e}=this.node;e&&(this.unmount=BF(e,n=>(b4(this.node,n,"Start"),i=>b4(this.node,i,"End"))))}unmount(){}}class UV extends au{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Bp(hp(this.node.current,"focus",()=>this.onFocus()),hp(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function x4(t,e,n){const{props:i}=t;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const r="onTap"+(n==="End"?"":n),s=i[r];s&&Rn.postRender(()=>s(e,zp(e)))}class WV extends au{mount(){const{current:e}=this.node;e&&(this.unmount=qF(e,n=>(x4(this.node,n,"Start"),(i,{success:r})=>x4(this.node,i,r?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const g5=new WeakMap,u2=new WeakMap,qV=t=>{const e=g5.get(t.target);e&&e(t)},HV=t=>{t.forEach(qV)};function $V({root:t,...e}){const n=t||document;u2.has(n)||u2.set(n,{});const i=u2.get(n),r=JSON.stringify(e);return i[r]||(i[r]=new IntersectionObserver(HV,{root:t,...e})),i[r]}function GV(t,e,n){const i=$V(e);return g5.set(t,n),i.observe(t),()=>{g5.delete(t),i.unobserve(t)}}const KV={some:0,all:1};class YV extends au{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:r="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:KV[r]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:h}=this.node.getProps(),d=u?c:h;d&&d(l)};return GV(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(XV(e,n))&&this.startObserver()}unmount(){}}function XV({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const QV={inView:{Feature:YV},tap:{Feature:WV},focus:{Feature:UV},hover:{Feature:zV}},JV={layout:{ProjectionNode:jN,MeasureLayout:CN}},m5={current:null},VN={current:!1};function ZV(){if(VN.current=!0,!!y_)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>m5.current=t.matches;t.addListener(e),e()}else m5.current=!1}const eB=[...cN,dr,Ql],tB=t=>eB.find(uN(t)),S4=new WeakMap;function nB(t,e,n){for(const i in e){const r=e[i],s=n[i];if(yr(r))t.addValue(i,r);else if(yr(s))t.addValue(i,up(r,{owner:t}));else if(s!==r)if(t.hasValue(i)){const o=t.getValue(i);o.liveStyle===!0?o.jump(r):o.hasAnimated||o.set(r)}else{const o=t.getStaticValue(i);t.addValue(i,up(o!==void 0?o:r,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const A4=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class iB{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:r,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=q_,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=Wo.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,Rn.render(this.render,!1,!0))};const{latestValues:l,renderState:u,onUpdate:c}=o;this.onUpdate=c,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=N1(n),this.isVariantNode=vC(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in d){const y=d[f];l[f]!==void 0&&yr(y)&&y.set(l[f],!1)}}mount(e){this.current=e,S4.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),VN.current||ZV(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:m5.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){S4.delete(this.current),this.projection&&this.projection.unmount(),Xl(this.notifyUpdate),Xl(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=mc.has(e),r=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&Rn.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{r(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Bh){const n=Bh[e];if(!n)continue;const{isEnabled:i,Feature:r}=n;if(!this.features[e]&&r&&i(this.props)&&(this.features[e]=new r(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):li()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<A4.length;i++){const r=A4[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const s="on"+r,o=e[s];o&&(this.propEventSubscriptions[r]=this.on(r,o))}this.prevMotionValues=nB(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=up(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){var i;let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(i=this.getBaseTargetFromProps(this.props,e))!==null&&i!==void 0?i:this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(aN(r)||JC(r))?r=parseFloat(r):!tB(r)&&Ql.test(n)&&(r=rN(e,n)),this.setBaseTarget(e,yr(r)?r.get():r)),yr(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:i}=this.props;let r;if(typeof i=="string"||typeof i=="object"){const o=A_(this.props,i,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(r=o[e])}if(i&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!yr(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new j_),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class BN extends iB{constructor(){super(...arguments),this.KeyframeResolver=hN}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;yr(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function rB(t){return window.getComputedStyle(t)}class sB extends BN{constructor(){super(...arguments),this.type="html",this.renderInstance=EC}readValueFromInstance(e,n){if(mc.has(n)){const i=W_(n);return i&&i.default||0}else{const i=rB(e),r=(AC(n)?i.getPropertyValue(n):i[n])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:n}){return PN(e,n)}build(e,n,i){E_(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return N_(e,n,i)}}class oB extends BN{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=li}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(mc.has(n)){const i=W_(n);return i&&i.default||0}return n=PC.has(n)?n:b_(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return NC(e,n,i)}build(e,n,i){P_(e,n,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,i,r){IC(e,n,i,r)}mount(e){this.isSVGTag=C_(e.tagName),super.mount(e)}}const aB=(t,e)=>S_(t)?new oB(e):new sB(e,{allowProjection:t!==xe.Fragment}),lB=RF({...N9,...QV,...BV,...JV},aB),Uh=K7(lB);/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Up(t){return t+.5|0}const Il=(t,e,n)=>Math.max(Math.min(t,n),e);function ud(t){return Il(Up(t*2.55),0,255)}function Wl(t){return Il(Up(t*255),0,255)}function ya(t){return Il(Up(t/2.55)/100,0,1)}function k4(t){return Il(Up(t*100),0,100)}const Rs={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},y5=[..."0123456789ABCDEF"],uB=t=>y5[t&15],cB=t=>y5[(t&240)>>4]+y5[t&15],Hg=t=>(t&240)>>4===(t&15),hB=t=>Hg(t.r)&&Hg(t.g)&&Hg(t.b)&&Hg(t.a);function fB(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&Rs[t[1]]*17,g:255&Rs[t[2]]*17,b:255&Rs[t[3]]*17,a:e===5?Rs[t[4]]*17:255}:(e===7||e===9)&&(n={r:Rs[t[1]]<<4|Rs[t[2]],g:Rs[t[3]]<<4|Rs[t[4]],b:Rs[t[5]]<<4|Rs[t[6]],a:e===9?Rs[t[7]]<<4|Rs[t[8]]:255})),n}const dB=(t,e)=>t<255?e(t):"";function pB(t){var e=hB(t)?uB:cB;return t?"#"+e(t.r)+e(t.g)+e(t.b)+dB(t.a,e):void 0}const gB=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function zN(t,e,n){const i=e*Math.min(n,1-n),r=(s,o=(s+t/30)%12)=>n-i*Math.max(Math.min(o-3,9-o,1),-1);return[r(0),r(8),r(4)]}function mB(t,e,n){const i=(r,s=(r+t/60)%6)=>n-n*e*Math.max(Math.min(s,4-s,1),0);return[i(5),i(3),i(1)]}function yB(t,e,n){const i=zN(t,1,.5);let r;for(e+n>1&&(r=1/(e+n),e*=r,n*=r),r=0;r<3;r++)i[r]*=1-e-n,i[r]+=e;return i}function vB(t,e,n,i,r){return t===r?(e-n)/i+(e<n?6:0):e===r?(n-t)/i+2:(t-e)/i+4}function K_(t){const n=t.r/255,i=t.g/255,r=t.b/255,s=Math.max(n,i,r),o=Math.min(n,i,r),a=(s+o)/2;let l,u,c;return s!==o&&(c=s-o,u=a>.5?c/(2-s-o):c/(s+o),l=vB(n,i,r,c,s),l=l*60+.5),[l|0,u||0,a]}function Y_(t,e,n,i){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,i)).map(Wl)}function X_(t,e,n){return Y_(zN,t,e,n)}function wB(t,e,n){return Y_(yB,t,e,n)}function _B(t,e,n){return Y_(mB,t,e,n)}function UN(t){return(t%360+360)%360}function bB(t){const e=gB.exec(t);let n=255,i;if(!e)return;e[5]!==i&&(n=e[6]?ud(+e[5]):Wl(+e[5]));const r=UN(+e[2]),s=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?i=wB(r,s,o):e[1]==="hsv"?i=_B(r,s,o):i=X_(r,s,o),{r:i[0],g:i[1],b:i[2],a:n}}function xB(t,e){var n=K_(t);n[0]=UN(n[0]+e),n=X_(n),t.r=n[0],t.g=n[1],t.b=n[2]}function SB(t){if(!t)return;const e=K_(t),n=e[0],i=k4(e[1]),r=k4(e[2]);return t.a<255?`hsla(${n}, ${i}%, ${r}%, ${ya(t.a)})`:`hsl(${n}, ${i}%, ${r}%)`}const T4={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},E4={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function AB(){const t={},e=Object.keys(E4),n=Object.keys(T4);let i,r,s,o,a;for(i=0;i<e.length;i++){for(o=a=e[i],r=0;r<n.length;r++)s=n[r],a=a.replace(s,T4[s]);s=parseInt(E4[o],16),t[a]=[s>>16&255,s>>8&255,s&255]}return t}let $g;function kB(t){$g||($g=AB(),$g.transparent=[0,0,0,0]);const e=$g[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const TB=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function EB(t){const e=TB.exec(t);let n=255,i,r,s;if(e){if(e[7]!==i){const o=+e[7];n=e[8]?ud(o):Il(o*255,0,255)}return i=+e[1],r=+e[3],s=+e[5],i=255&(e[2]?ud(i):Il(i,0,255)),r=255&(e[4]?ud(r):Il(r,0,255)),s=255&(e[6]?ud(s):Il(s,0,255)),{r:i,g:r,b:s,a:n}}}function PB(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${ya(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const c2=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Mc=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function IB(t,e,n){const i=Mc(ya(t.r)),r=Mc(ya(t.g)),s=Mc(ya(t.b));return{r:Wl(c2(i+n*(Mc(ya(e.r))-i))),g:Wl(c2(r+n*(Mc(ya(e.g))-r))),b:Wl(c2(s+n*(Mc(ya(e.b))-s))),a:t.a+n*(e.a-t.a)}}function Gg(t,e,n){if(t){let i=K_(t);i[e]=Math.max(0,Math.min(i[e]+i[e]*n,e===0?360:1)),i=X_(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function WN(t,e){return t&&Object.assign(e||{},t)}function P4(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Wl(t[3]))):(e=WN(t,{r:0,g:0,b:0,a:1}),e.a=Wl(e.a)),e}function CB(t){return t.charAt(0)==="r"?EB(t):bB(t)}class fp{constructor(e){if(e instanceof fp)return e;const n=typeof e;let i;n==="object"?i=P4(e):n==="string"&&(i=fB(e)||kB(e)||CB(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=WN(this._rgb);return e&&(e.a=ya(e.a)),e}set rgb(e){this._rgb=P4(e)}rgbString(){return this._valid?PB(this._rgb):void 0}hexString(){return this._valid?pB(this._rgb):void 0}hslString(){return this._valid?SB(this._rgb):void 0}mix(e,n){if(e){const i=this.rgb,r=e.rgb;let s;const o=n===s?.5:n,a=2*o-1,l=i.a-r.a,u=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;s=1-u,i.r=255&u*i.r+s*r.r+.5,i.g=255&u*i.g+s*r.g+.5,i.b=255&u*i.b+s*r.b+.5,i.a=o*i.a+(1-o)*r.a,this.rgb=i}return this}interpolate(e,n){return e&&(this._rgb=IB(this._rgb,e._rgb,n)),this}clone(){return new fp(this.rgb)}alpha(e){return this._rgb.a=Wl(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=Up(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Gg(this._rgb,2,e),this}darken(e){return Gg(this._rgb,2,-e),this}saturate(e){return Gg(this._rgb,1,e),this}desaturate(e){return Gg(this._rgb,1,-e),this}rotate(e){return xB(this._rgb,e),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function ca(){}const NB=(()=>{let t=0;return()=>t++})();function an(t){return t==null}function Ti(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Qt(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function qs(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Lo(t,e){return qs(t)?t:e}function Dt(t,e){return typeof t>"u"?e:t}const LB=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,qN=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Cn(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function hn(t,e,n,i){let r,s,o;if(Ti(t))for(s=t.length,r=0;r<s;r++)e.call(n,t[r],r);else if(Qt(t))for(o=Object.keys(t),s=o.length,r=0;r<s;r++)e.call(n,t[o[r]],o[r])}function I0(t,e){let n,i,r,s;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(r=t[n],s=e[n],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function C0(t){if(Ti(t))return t.map(C0);if(Qt(t)){const e=Object.create(null),n=Object.keys(t),i=n.length;let r=0;for(;r<i;++r)e[n[r]]=C0(t[n[r]]);return e}return t}function HN(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function RB(t,e,n,i){if(!HN(t))return;const r=e[t],s=n[t];Qt(r)&&Qt(s)?dp(r,s,i):e[t]=C0(s)}function dp(t,e,n){const i=Ti(e)?e:[e],r=i.length;if(!Qt(t))return t;n=n||{};const s=n.merger||RB;let o;for(let a=0;a<r;++a){if(o=i[a],!Qt(o))continue;const l=Object.keys(o);for(let u=0,c=l.length;u<c;++u)s(l[u],t,o,n)}return t}function Pd(t,e){return dp(t,e,{merger:MB})}function MB(t,e,n){if(!HN(t))return;const i=e[t],r=n[t];Qt(i)&&Qt(r)?Pd(i,r):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=C0(r))}const I4={"":t=>t,x:t=>t.x,y:t=>t.y};function DB(t){const e=t.split("."),n=[];let i="";for(const r of e)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function OB(t){const e=DB(t);return n=>{for(const i of e){if(i==="")break;n=n&&n[i]}return n}}function ic(t,e){return(I4[e]||(I4[e]=OB(e)))(t)}function Q_(t){return t.charAt(0).toUpperCase()+t.slice(1)}const pp=t=>typeof t<"u",Jl=t=>typeof t=="function",C4=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function FB(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const dn=Math.PI,ti=2*dn,jB=ti+dn,N0=Number.POSITIVE_INFINITY,VB=dn/180,Pi=dn/2,ku=dn/4,N4=dn*2/3,$N=Math.log10,qo=Math.sign;function Id(t,e,n){return Math.abs(t-e)<n}function L4(t){const e=Math.round(t);t=Id(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor($N(t))),i=t/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function BB(t){const e=[],n=Math.sqrt(t);let i;for(i=1;i<n;i++)t%i===0&&(e.push(i),e.push(t/i));return n===(n|0)&&e.push(n),e.sort((r,s)=>r-s).pop(),e}function zB(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function gp(t){return!zB(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function UB(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function WB(t,e,n){let i,r,s;for(i=0,r=t.length;i<r;i++)s=t[i][n],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function xa(t){return t*(dn/180)}function qB(t){return t*(180/dn)}function R4(t){if(!qs(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function GN(t,e){const n=e.x-t.x,i=e.y-t.y,r=Math.sqrt(n*n+i*i);let s=Math.atan2(i,n);return s<-.5*dn&&(s+=ti),{angle:s,distance:r}}function v5(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function HB(t,e){return(t-e+jB)%ti-dn}function oo(t){return(t%ti+ti)%ti}function mp(t,e,n,i){const r=oo(t),s=oo(e),o=oo(n),a=oo(s-r),l=oo(o-r),u=oo(r-s),c=oo(r-o);return r===s||r===o||i&&s===o||a>l&&u<c}function vr(t,e,n){return Math.max(e,Math.min(n,t))}function $B(t){return vr(t,-32768,32767)}function Cl(t,e,n,i=1e-6){return t>=Math.min(e,n)-i&&t<=Math.max(e,n)+i}function J_(t,e,n){n=n||(o=>t[o]<e);let i=t.length-1,r=0,s;for(;i-r>1;)s=r+i>>1,n(s)?r=s:i=s;return{lo:r,hi:i}}const zu=(t,e,n,i)=>J_(t,n,i?r=>{const s=t[r][e];return s<n||s===n&&t[r+1][e]===n}:r=>t[r][e]<n),GB=(t,e,n)=>J_(t,n,i=>t[i][e]>=n);function KB(t,e,n){let i=0,r=t.length;for(;i<r&&t[i]<e;)i++;for(;r>i&&t[r-1]>n;)r--;return i>0||r<t.length?t.slice(i,r):t}const KN=["push","pop","shift","splice","unshift"];function YB(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),KN.forEach(n=>{const i="_onData"+Q_(n),r=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...s){const o=r.apply(this,s);return t._chartjs.listeners.forEach(a=>{typeof a[i]=="function"&&a[i](...s)}),o}})})}function M4(t,e){const n=t._chartjs;if(!n)return;const i=n.listeners,r=i.indexOf(e);r!==-1&&i.splice(r,1),!(i.length>0)&&(KN.forEach(s=>{delete t[s]}),delete t._chartjs)}function YN(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const XN=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function QN(t,e){let n=[],i=!1;return function(...r){n=r,i||(i=!0,XN.call(window,()=>{i=!1,t.apply(e,n)}))}}function XB(t,e){let n;return function(...i){return e?(clearTimeout(n),n=setTimeout(t,e,i)):t.apply(this,i),e}}const Z_=t=>t==="start"?"left":t==="end"?"right":"center",fr=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,QB=(t,e,n,i)=>t===(i?"left":"right")?n:t==="center"?(e+n)/2:e;function JB(t,e,n){const i=e.length;let r=0,s=i;if(t._sorted){const{iScale:o,vScale:a,_parsed:l}=t,u=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,c=o.axis,{min:h,max:d,minDefined:f,maxDefined:y}=o.getUserBounds();if(f){if(r=Math.min(zu(l,c,h).lo,n?i:zu(e,c,o.getPixelForValue(h)).lo),u){const w=l.slice(0,r+1).reverse().findIndex(b=>!an(b[a.axis]));r-=Math.max(0,w)}r=vr(r,0,i-1)}if(y){let w=Math.max(zu(l,o.axis,d,!0).hi+1,n?0:zu(e,c,o.getPixelForValue(d),!0).hi+1);if(u){const b=l.slice(w-1).findIndex(v=>!an(v[a.axis]));w+=Math.max(0,b)}s=vr(w,r,i)-r}else s=i-r}return{start:r,count:s}}function ZB(t){const{xScale:e,yScale:n,_scaleRanges:i}=t,r={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!i)return t._scaleRanges=r,!0;const s=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,r),s}const Kg=t=>t===0||t===1,D4=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*ti/n)),O4=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*ti/n)+1,Cd={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Pi)+1,easeOutSine:t=>Math.sin(t*Pi),easeInOutSine:t=>-.5*(Math.cos(dn*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Kg(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Kg(t)?t:D4(t,.075,.3),easeOutElastic:t=>Kg(t)?t:O4(t,.075,.3),easeInOutElastic(t){return Kg(t)?t:t<.5?.5*D4(t*2,.1125,.45):.5+.5*O4(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Cd.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Cd.easeInBounce(t*2)*.5:Cd.easeOutBounce(t*2-1)*.5+.5};function eb(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function F4(t){return eb(t)?t:new fp(t)}function h2(t){return eb(t)?t:new fp(t).saturate(.5).darken(.1).hexString()}const ez=["x","y","borderWidth","radius","tension"],tz=["color","borderColor","backgroundColor"];function nz(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:tz},numbers:{type:"number",properties:ez}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function iz(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const j4=new Map;function rz(t,e){e=e||{};const n=t+JSON.stringify(e);let i=j4.get(n);return i||(i=new Intl.NumberFormat(t,e),j4.set(n,i)),i}function tb(t,e,n){return rz(e,n).format(t)}const sz={values(t){return Ti(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const i=this.chart.options.locale;let r,s=t;if(n.length>1){const u=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(u<1e-4||u>1e15)&&(r="scientific"),s=oz(t,n)}const o=$N(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:r,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),tb(t,i,l)}};function oz(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var JN={formatters:sz};function az(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:JN.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const rc=Object.create(null),w5=Object.create(null);function Nd(t,e){if(!e)return t;const n=e.split(".");for(let i=0,r=n.length;i<r;++i){const s=n[i];t=t[s]||(t[s]=Object.create(null))}return t}function f2(t,e,n){return typeof e=="string"?dp(Nd(t,e),n):dp(Nd(t,""),e)}class lz{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>h2(r.backgroundColor),this.hoverBorderColor=(i,r)=>h2(r.borderColor),this.hoverColor=(i,r)=>h2(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return f2(this,e,n)}get(e){return Nd(this,e)}describe(e,n){return f2(w5,e,n)}override(e,n){return f2(rc,e,n)}route(e,n,i,r){const s=Nd(this,e),o=Nd(this,i),a="_"+n;Object.defineProperties(s,{[a]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],u=o[r];return Qt(l)?Object.assign({},u,l):Dt(l,u)},set(l){this[a]=l}}})}apply(e){e.forEach(n=>n(this))}}var pi=new lz({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[nz,iz,az]);function uz(t){return!t||an(t.size)||an(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function V4(t,e,n,i,r){let s=e[r];return s||(s=e[r]=t.measureText(r).width,n.push(r)),s>i&&(i=s),i}function Tu(t,e,n){const i=t.currentDevicePixelRatio,r=n!==0?Math.max(n/2,.5):0;return Math.round((e-r)*i)/i+r}function B4(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function _5(t,e,n,i){ZN(t,e,n,i,null)}function ZN(t,e,n,i,r){let s,o,a,l,u,c,h,d;const f=e.pointStyle,y=e.rotation,w=e.radius;let b=(y||0)*VB;if(f&&typeof f=="object"&&(s=f.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){t.save(),t.translate(n,i),t.rotate(b),t.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),t.restore();return}if(!(isNaN(w)||w<=0)){switch(t.beginPath(),f){default:r?t.ellipse(n,i,r/2,w,0,0,ti):t.arc(n,i,w,0,ti),t.closePath();break;case"triangle":c=r?r/2:w,t.moveTo(n+Math.sin(b)*c,i-Math.cos(b)*w),b+=N4,t.lineTo(n+Math.sin(b)*c,i-Math.cos(b)*w),b+=N4,t.lineTo(n+Math.sin(b)*c,i-Math.cos(b)*w),t.closePath();break;case"rectRounded":u=w*.516,l=w-u,o=Math.cos(b+ku)*l,h=Math.cos(b+ku)*(r?r/2-u:l),a=Math.sin(b+ku)*l,d=Math.sin(b+ku)*(r?r/2-u:l),t.arc(n-h,i-a,u,b-dn,b-Pi),t.arc(n+d,i-o,u,b-Pi,b),t.arc(n+h,i+a,u,b,b+Pi),t.arc(n-d,i+o,u,b+Pi,b+dn),t.closePath();break;case"rect":if(!y){l=Math.SQRT1_2*w,c=r?r/2:l,t.rect(n-c,i-l,2*c,2*l);break}b+=ku;case"rectRot":h=Math.cos(b)*(r?r/2:w),o=Math.cos(b)*w,a=Math.sin(b)*w,d=Math.sin(b)*(r?r/2:w),t.moveTo(n-h,i-a),t.lineTo(n+d,i-o),t.lineTo(n+h,i+a),t.lineTo(n-d,i+o),t.closePath();break;case"crossRot":b+=ku;case"cross":h=Math.cos(b)*(r?r/2:w),o=Math.cos(b)*w,a=Math.sin(b)*w,d=Math.sin(b)*(r?r/2:w),t.moveTo(n-h,i-a),t.lineTo(n+h,i+a),t.moveTo(n+d,i-o),t.lineTo(n-d,i+o);break;case"star":h=Math.cos(b)*(r?r/2:w),o=Math.cos(b)*w,a=Math.sin(b)*w,d=Math.sin(b)*(r?r/2:w),t.moveTo(n-h,i-a),t.lineTo(n+h,i+a),t.moveTo(n+d,i-o),t.lineTo(n-d,i+o),b+=ku,h=Math.cos(b)*(r?r/2:w),o=Math.cos(b)*w,a=Math.sin(b)*w,d=Math.sin(b)*(r?r/2:w),t.moveTo(n-h,i-a),t.lineTo(n+h,i+a),t.moveTo(n+d,i-o),t.lineTo(n-d,i+o);break;case"line":o=r?r/2:Math.cos(b)*w,a=Math.sin(b)*w,t.moveTo(n-o,i-a),t.lineTo(n+o,i+a);break;case"dash":t.moveTo(n,i),t.lineTo(n+Math.cos(b)*(r?r/2:w),i+Math.sin(b)*w);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function yp(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function nb(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function ib(t){t.restore()}function cz(t,e,n,i,r){if(!e)return t.lineTo(n.x,n.y);if(r==="middle"){const s=(e.x+n.x)/2;t.lineTo(s,e.y),t.lineTo(s,n.y)}else r==="after"!=!!i?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function hz(t,e,n,i){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function fz(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),an(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function dz(t,e,n,i,r){if(r.strikethrough||r.underline){const s=t.measureText(i),o=e-s.actualBoundingBoxLeft,a=e+s.actualBoundingBoxRight,l=n-s.actualBoundingBoxAscent,u=n+s.actualBoundingBoxDescent,c=r.strikethrough?(l+u)/2:u;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=r.decorationWidth||2,t.moveTo(o,c),t.lineTo(a,c),t.stroke()}}function pz(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function vp(t,e,n,i,r,s={}){const o=Ti(e)?e:[e],a=s.strokeWidth>0&&s.strokeColor!=="";let l,u;for(t.save(),t.font=r.string,fz(t,s),l=0;l<o.length;++l)u=o[l],s.backdrop&&pz(t,s.backdrop),a&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),an(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(u,n,i,s.maxWidth)),t.fillText(u,n,i,s.maxWidth),dz(t,n,i,u,s),i+=Number(r.lineHeight);t.restore()}function L0(t,e){const{x:n,y:i,w:r,h:s,radius:o}=e;t.arc(n+o.topLeft,i+o.topLeft,o.topLeft,1.5*dn,dn,!0),t.lineTo(n,i+s-o.bottomLeft),t.arc(n+o.bottomLeft,i+s-o.bottomLeft,o.bottomLeft,dn,Pi,!0),t.lineTo(n+r-o.bottomRight,i+s),t.arc(n+r-o.bottomRight,i+s-o.bottomRight,o.bottomRight,Pi,0,!0),t.lineTo(n+r,i+o.topRight),t.arc(n+r-o.topRight,i+o.topRight,o.topRight,0,-Pi,!0),t.lineTo(n+o.topLeft,i)}const gz=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,mz=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function yz(t,e){const n=(""+t).match(gz);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const vz=t=>+t||0;function rb(t,e){const n={},i=Qt(e),r=i?Object.keys(e):e,s=Qt(t)?i?o=>Dt(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of r)n[o]=vz(s(o));return n}function e6(t){return rb(t,{top:"y",right:"x",bottom:"y",left:"x"})}function wh(t){return rb(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Hs(t){const e=e6(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function wr(t,e){t=t||{},e=e||pi.font;let n=Dt(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let i=Dt(t.style,e.style);i&&!(""+i).match(mz)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:Dt(t.family,e.family),lineHeight:yz(Dt(t.lineHeight,e.lineHeight),n),size:n,style:i,weight:Dt(t.weight,e.weight),string:""};return r.string=uz(r),r}function Yg(t,e,n,i){let r,s,o;for(r=0,s=t.length;r<s;++r)if(o=t[r],o!==void 0&&o!==void 0)return o}function wz(t,e,n){const{min:i,max:r}=t,s=qN(e,(r-i)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(i,-Math.abs(s)),max:o(r,s)}}function yc(t,e){return Object.assign(Object.create(t),e)}function sb(t,e=[""],n,i,r=()=>t[0]){const s=n||t;typeof i>"u"&&(i=r6("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:s,_fallback:i,_getTarget:r,override:a=>sb([a,...t],e,s,i)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return n6(a,l,()=>Ez(l,e,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return U4(a).includes(l)},ownKeys(a){return U4(a)},set(a,l,u){const c=a._storage||(a._storage=r());return a[l]=c[l]=u,delete a._keys,!0}})}function Wh(t,e,n,i){const r={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:t6(t,i),setContext:s=>Wh(t,s,n,i),override:s=>Wh(t.override(s),e,n,i)};return new Proxy(r,{deleteProperty(s,o){return delete s[o],delete t[o],!0},get(s,o,a){return n6(s,o,()=>bz(s,o,a))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(s,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(s,o,a){return t[o]=a,delete s[o],!0}})}function t6(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:i=e.indexable,_allKeys:r=e.allKeys}=t;return{allKeys:r,scriptable:n,indexable:i,isScriptable:Jl(n)?n:()=>n,isIndexable:Jl(i)?i:()=>i}}const _z=(t,e)=>t?t+Q_(e):e,ob=(t,e)=>Qt(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function n6(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const i=n();return t[e]=i,i}function bz(t,e,n){const{_proxy:i,_context:r,_subProxy:s,_descriptors:o}=t;let a=i[e];return Jl(a)&&o.isScriptable(e)&&(a=xz(e,a,t,n)),Ti(a)&&a.length&&(a=Sz(e,a,t,o.isIndexable)),ob(e,a)&&(a=Wh(a,r,s&&s[e],o)),a}function xz(t,e,n,i){const{_proxy:r,_context:s,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(s,o||i);return a.delete(t),ob(t,l)&&(l=ab(r._scopes,r,t,l)),l}function Sz(t,e,n,i){const{_proxy:r,_context:s,_subProxy:o,_descriptors:a}=n;if(typeof s.index<"u"&&i(t))return e[s.index%e.length];if(Qt(e[0])){const l=e,u=r._scopes.filter(c=>c!==l);e=[];for(const c of l){const h=ab(u,r,t,c);e.push(Wh(h,s,o&&o[t],a))}}return e}function i6(t,e,n){return Jl(t)?t(e,n):t}const Az=(t,e)=>t===!0?e:typeof t=="string"?ic(e,t):void 0;function kz(t,e,n,i,r){for(const s of e){const o=Az(n,s);if(o){t.add(o);const a=i6(o._fallback,n,r);if(typeof a<"u"&&a!==n&&a!==i)return a}else if(o===!1&&typeof i<"u"&&n!==i)return null}return!1}function ab(t,e,n,i){const r=e._rootScopes,s=i6(e._fallback,n,i),o=[...t,...r],a=new Set;a.add(i);let l=z4(a,o,n,s||n,i);return l===null||typeof s<"u"&&s!==n&&(l=z4(a,o,s,l,i),l===null)?!1:sb(Array.from(a),[""],r,s,()=>Tz(e,n,i))}function z4(t,e,n,i,r){for(;n;)n=kz(t,e,n,i,r);return n}function Tz(t,e,n){const i=t._getTarget();e in i||(i[e]={});const r=i[e];return Ti(r)&&Qt(n)?n:r||{}}function Ez(t,e,n,i){let r;for(const s of e)if(r=r6(_z(s,t),n),typeof r<"u")return ob(t,r)?ab(n,i,t,r):r}function r6(t,e){for(const n of e){if(!n)continue;const i=n[t];if(typeof i<"u")return i}}function U4(t){let e=t._keys;return e||(e=t._keys=Pz(t._scopes)),e}function Pz(t){const e=new Set;for(const n of t)for(const i of Object.keys(n).filter(r=>!r.startsWith("_")))e.add(i);return Array.from(e)}const Iz=Number.EPSILON||1e-14,qh=(t,e)=>e<t.length&&!t[e].skip&&t[e],s6=t=>t==="x"?"y":"x";function Cz(t,e,n,i){const r=t.skip?e:t,s=e,o=n.skip?e:n,a=v5(s,r),l=v5(o,s);let u=a/(a+l),c=l/(a+l);u=isNaN(u)?0:u,c=isNaN(c)?0:c;const h=i*u,d=i*c;return{previous:{x:s.x-h*(o.x-r.x),y:s.y-h*(o.y-r.y)},next:{x:s.x+d*(o.x-r.x),y:s.y+d*(o.y-r.y)}}}function Nz(t,e,n){const i=t.length;let r,s,o,a,l,u=qh(t,0);for(let c=0;c<i-1;++c)if(l=u,u=qh(t,c+1),!(!l||!u)){if(Id(e[c],0,Iz)){n[c]=n[c+1]=0;continue}r=n[c]/e[c],s=n[c+1]/e[c],a=Math.pow(r,2)+Math.pow(s,2),!(a<=9)&&(o=3/Math.sqrt(a),n[c]=r*o*e[c],n[c+1]=s*o*e[c])}}function Lz(t,e,n="x"){const i=s6(n),r=t.length;let s,o,a,l=qh(t,0);for(let u=0;u<r;++u){if(o=a,a=l,l=qh(t,u+1),!a)continue;const c=a[n],h=a[i];o&&(s=(c-o[n])/3,a[`cp1${n}`]=c-s,a[`cp1${i}`]=h-s*e[u]),l&&(s=(l[n]-c)/3,a[`cp2${n}`]=c+s,a[`cp2${i}`]=h+s*e[u])}}function Rz(t,e="x"){const n=s6(e),i=t.length,r=Array(i).fill(0),s=Array(i);let o,a,l,u=qh(t,0);for(o=0;o<i;++o)if(a=l,l=u,u=qh(t,o+1),!!l){if(u){const c=u[e]-l[e];r[o]=c!==0?(u[n]-l[n])/c:0}s[o]=a?u?qo(r[o-1])!==qo(r[o])?0:(r[o-1]+r[o])/2:r[o-1]:r[o]}Nz(t,r,s),Lz(t,s,e)}function Xg(t,e,n){return Math.max(Math.min(t,n),e)}function Mz(t,e){let n,i,r,s,o,a=yp(t[0],e);for(n=0,i=t.length;n<i;++n)o=s,s=a,a=n<i-1&&yp(t[n+1],e),s&&(r=t[n],o&&(r.cp1x=Xg(r.cp1x,e.left,e.right),r.cp1y=Xg(r.cp1y,e.top,e.bottom)),a&&(r.cp2x=Xg(r.cp2x,e.left,e.right),r.cp2y=Xg(r.cp2y,e.top,e.bottom)))}function Dz(t,e,n,i,r){let s,o,a,l;if(e.spanGaps&&(t=t.filter(u=>!u.skip)),e.cubicInterpolationMode==="monotone")Rz(t,r);else{let u=i?t[t.length-1]:t[0];for(s=0,o=t.length;s<o;++s)a=t[s],l=Cz(u,a,t[Math.min(s+1,o-(i?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,u=a}e.capBezierPoints&&Mz(t,n)}function lb(){return typeof window<"u"&&typeof document<"u"}function ub(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function R0(t,e,n){let i;return typeof t=="string"?(i=parseInt(t,10),t.indexOf("%")!==-1&&(i=i/100*e.parentNode[n])):i=t,i}const M1=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function Oz(t,e){return M1(t).getPropertyValue(e)}const Fz=["top","right","bottom","left"];function Gu(t,e,n){const i={};n=n?"-"+n:"";for(let r=0;r<4;r++){const s=Fz[r];i[s]=parseFloat(t[e+"-"+s+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const jz=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function Vz(t,e){const n=t.touches,i=n&&n.length?n[0]:t,{offsetX:r,offsetY:s}=i;let o=!1,a,l;if(jz(r,s,t.target))a=r,l=s;else{const u=e.getBoundingClientRect();a=i.clientX-u.left,l=i.clientY-u.top,o=!0}return{x:a,y:l,box:o}}function Lu(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:i}=e,r=M1(n),s=r.boxSizing==="border-box",o=Gu(r,"padding"),a=Gu(r,"border","width"),{x:l,y:u,box:c}=Vz(t,n),h=o.left+(c&&a.left),d=o.top+(c&&a.top);let{width:f,height:y}=e;return s&&(f-=o.width+a.width,y-=o.height+a.height),{x:Math.round((l-h)/f*n.width/i),y:Math.round((u-d)/y*n.height/i)}}function Bz(t,e,n){let i,r;if(e===void 0||n===void 0){const s=t&&ub(t);if(!s)e=t.clientWidth,n=t.clientHeight;else{const o=s.getBoundingClientRect(),a=M1(s),l=Gu(a,"border","width"),u=Gu(a,"padding");e=o.width-u.width-l.width,n=o.height-u.height-l.height,i=R0(a.maxWidth,s,"clientWidth"),r=R0(a.maxHeight,s,"clientHeight")}}return{width:e,height:n,maxWidth:i||N0,maxHeight:r||N0}}const Nl=t=>Math.round(t*10)/10;function zz(t,e,n,i){const r=M1(t),s=Gu(r,"margin"),o=R0(r.maxWidth,t,"clientWidth")||N0,a=R0(r.maxHeight,t,"clientHeight")||N0,l=Bz(t,e,n);let{width:u,height:c}=l;if(r.boxSizing==="content-box"){const d=Gu(r,"border","width"),f=Gu(r,"padding");u-=f.width+d.width,c-=f.height+d.height}return u=Math.max(0,u-s.width),c=Math.max(0,i?u/i:c-s.height),u=Nl(Math.min(u,o,l.maxWidth)),c=Nl(Math.min(c,a,l.maxHeight)),u&&!c&&(c=Nl(u/2)),(e!==void 0||n!==void 0)&&i&&l.height&&c>l.height&&(c=l.height,u=Nl(Math.floor(c*i))),{width:u,height:c}}function W4(t,e,n){const i=e||1,r=Nl(t.height*i),s=Nl(t.width*i);t.height=Nl(t.height),t.width=Nl(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==i||o.height!==r||o.width!==s?(t.currentDevicePixelRatio=i,o.height=r,o.width=s,t.ctx.setTransform(i,0,0,i,0,0),!0):!1}const Uz=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};lb()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function q4(t,e){const n=Oz(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Ru(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function Wz(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:i==="middle"?n<.5?t.y:e.y:i==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function qz(t,e,n,i){const r={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},o=Ru(t,r,n),a=Ru(r,s,n),l=Ru(s,e,n),u=Ru(o,a,n),c=Ru(a,l,n);return Ru(u,c,n)}const Hz=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},$z=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function _h(t,e,n){return t?Hz(e,n):$z()}function o6(t,e){let n,i;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=i)}function a6(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function l6(t){return t==="angle"?{between:mp,compare:HB,normalize:oo}:{between:Cl,compare:(e,n)=>e-n,normalize:e=>e}}function H4({start:t,end:e,count:n,loop:i,style:r}){return{start:t%n,end:e%n,loop:i&&(e-t+1)%n===0,style:r}}function Gz(t,e,n){const{property:i,start:r,end:s}=n,{between:o,normalize:a}=l6(i),l=e.length;let{start:u,end:c,loop:h}=t,d,f;if(h){for(u+=l,c+=l,d=0,f=l;d<f&&o(a(e[u%l][i]),r,s);++d)u--,c--;u%=l,c%=l}return c<u&&(c+=l),{start:u,end:c,loop:h,style:t.style}}function Kz(t,e,n){if(!n)return[t];const{property:i,start:r,end:s}=n,o=e.length,{compare:a,between:l,normalize:u}=l6(i),{start:c,end:h,loop:d,style:f}=Gz(t,e,n),y=[];let w=!1,b=null,v,S,I;const P=()=>l(r,I,v)&&a(r,I)!==0,F=()=>a(s,v)===0||l(s,I,v),H=()=>w||P(),M=()=>!w||F();for(let k=c,T=c;k<=h;++k)S=e[k%o],!S.skip&&(v=u(S[i]),v!==I&&(w=l(v,r,s),b===null&&H()&&(b=a(v,r)===0?k:T),b!==null&&M()&&(y.push(H4({start:b,end:k,loop:d,count:o,style:f})),b=null),T=k,I=v));return b!==null&&y.push(H4({start:b,end:h,loop:d,count:o,style:f})),y}function Yz(t,e){const n=[],i=t.segments;for(let r=0;r<i.length;r++){const s=Kz(i[r],t.points,e);s.length&&n.push(...s)}return n}function Xz(t,e,n,i){let r=0,s=e-1;if(n&&!i)for(;r<e&&!t[r].skip;)r++;for(;r<e&&t[r].skip;)r++;for(r%=e,n&&(s+=r);s>r&&t[s%e].skip;)s--;return s%=e,{start:r,end:s}}function Qz(t,e,n,i){const r=t.length,s=[];let o=e,a=t[e],l;for(l=e+1;l<=n;++l){const u=t[l%r];u.skip||u.stop?a.skip||(i=!1,s.push({start:e%r,end:(l-1)%r,loop:i}),e=o=u.stop?l:null):(o=l,a.skip&&(e=l)),a=u}return o!==null&&s.push({start:e%r,end:o%r,loop:i}),s}function Jz(t,e){const n=t.points,i=t.options.spanGaps,r=n.length;if(!r)return[];const s=!!t._loop,{start:o,end:a}=Xz(n,r,s,i);if(i===!0)return $4(t,[{start:o,end:a,loop:s}],n,e);const l=a<o?a+r:a,u=!!t._fullLoop&&o===0&&a===r-1;return $4(t,Qz(n,o,l,u),n,e)}function $4(t,e,n,i){return!i||!i.setContext||!n?e:Zz(t,e,n,i)}function Zz(t,e,n,i){const r=t._chart.getContext(),s=G4(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,l=n.length,u=[];let c=s,h=e[0].start,d=h;function f(y,w,b,v){const S=a?-1:1;if(y!==w){for(y+=l;n[y%l].skip;)y-=S;for(;n[w%l].skip;)w+=S;y%l!==w%l&&(u.push({start:y%l,end:w%l,loop:b,style:v}),c=v,h=w%l)}}for(const y of e){h=a?h:y.start;let w=n[h%l],b;for(d=h+1;d<=y.end;d++){const v=n[d%l];b=G4(i.setContext(yc(r,{type:"segment",p0:w,p1:v,p0DataIndex:(d-1)%l,p1DataIndex:d%l,datasetIndex:o}))),eU(b,c)&&f(h,d-1,y.loop,c),w=v,c=b}h<d-1&&f(h,d-1,y.loop,c)}return u}function G4(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function eU(t,e){if(!e)return!1;const n=[],i=function(r,s){return eb(s)?(n.includes(s)||n.push(s),n.indexOf(s)):s};return JSON.stringify(t,i)!==JSON.stringify(e,i)}function Qg(t,e,n){return t.options.clip?t[n]:e[n]}function tU(t,e){const{xScale:n,yScale:i}=t;return n&&i?{left:Qg(n,e,"left"),right:Qg(n,e,"right"),top:Qg(i,e,"top"),bottom:Qg(i,e,"bottom")}:e}function nU(t,e){const n=e._clip;if(n.disabled)return!1;const i=tU(e,t.chartArea);return{left:n.left===!1?0:i.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:i.right+(n.right===!0?0:n.right),top:n.top===!1?0:i.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:i.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class iU{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,i,r){const s=n.listeners[r],o=n.duration;s.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(i-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=XN.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const s=i.items;let o=s.length-1,a=!1,l;for(;o>=0;--o)l=s[o],l._active?(l._total>i.duration&&(i.duration=l._total),l.tick(e),a=!0):(s[o]=s[s.length-1],s.pop());a&&(r.draw(),this._notify(r,i,e,"progress")),s.length||(i.running=!1,this._notify(r,i,e,"complete"),i.initial=!1),n+=s.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let i=n.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,i)),i}listen(e,n,i){this._getAnims(e).listeners[n].push(i)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const i=n.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var da=new iU;const K4="transparent",rU={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const i=F4(t||K4),r=i.valid&&F4(e||K4);return r&&r.valid?r.mix(i,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class sU{constructor(e,n,i,r){const s=n[i];r=Yg([e.to,r,s,e.from]);const o=Yg([e.from,s,r]);this._active=!0,this._fn=e.fn||rU[e.type||typeof o],this._easing=Cd[e.easing]||Cd.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=i,this._from=o,this._to=r,this._promises=void 0}active(){return this._active}update(e,n,i){if(this._active){this._notify(!1);const r=this._target[this._prop],s=i-this._start,o=this._duration-s;this._start=i,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=Yg([e.to,n,r,e.from]),this._from=Yg([e.from,r,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,i=this._duration,r=this._prop,s=this._from,o=this._loop,a=this._to;let l;if(this._active=s!==a&&(o||n<i),!this._active){this._target[r]=a,this._notify(!0);return}if(n<0){this._target[r]=s;return}l=n/i%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[r]=this._fn(s,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,i)=>{e.push({res:n,rej:i})})}_notify(e){const n=e?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][n]()}}class u6{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!Qt(e))return;const n=Object.keys(pi.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const s=e[r];if(!Qt(s))return;const o={};for(const a of n)o[a]=s[a];(Ti(s.properties)&&s.properties||[r]).forEach(a=>{(a===r||!i.has(a))&&i.set(a,o)})})}_animateOptions(e,n){const i=n.options,r=aU(e,i);if(!r)return[];const s=this._createAnimations(r,i);return i.$shared&&oU(e.options.$animations,i).then(()=>{e.options=i},()=>{}),s}_createAnimations(e,n){const i=this._properties,r=[],s=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const u=o[l];if(u.charAt(0)==="$")continue;if(u==="options"){r.push(...this._animateOptions(e,n));continue}const c=n[u];let h=s[u];const d=i.get(u);if(h)if(d&&h.active()){h.update(d,c,a);continue}else h.cancel();if(!d||!d.duration){e[u]=c;continue}s[u]=h=new sU(d,e,u,c),r.push(h)}return r}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const i=this._createAnimations(e,n);if(i.length)return da.add(this._chart,i),!0}}function oU(t,e){const n=[],i=Object.keys(e);for(let r=0;r<i.length;r++){const s=t[i[r]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function aU(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function Y4(t,e){const n=t&&t.options||{},i=n.reverse,r=n.min===void 0?e:0,s=n.max===void 0?e:0;return{start:i?s:r,end:i?r:s}}function lU(t,e,n){if(n===!1)return!1;const i=Y4(t,n),r=Y4(e,n);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function uU(t){let e,n,i,r;return Qt(t)?(e=t.top,n=t.right,i=t.bottom,r=t.left):e=n=i=r=t,{top:e,right:n,bottom:i,left:r,disabled:t===!1}}function c6(t,e){const n=[],i=t._getSortedDatasetMetas(e);let r,s;for(r=0,s=i.length;r<s;++r)n.push(i[r].index);return n}function X4(t,e,n,i={}){const r=t.keys,s=i.mode==="single";let o,a,l,u;if(e===null)return;let c=!1;for(o=0,a=r.length;o<a;++o){if(l=+r[o],l===n){if(c=!0,i.all)continue;break}u=t.values[l],qs(u)&&(s||e===0||qo(e)===qo(u))&&(e+=u)}return!c&&!i.all?0:e}function cU(t,e){const{iScale:n,vScale:i}=e,r=n.axis==="x"?"x":"y",s=i.axis==="x"?"x":"y",o=Object.keys(t),a=new Array(o.length);let l,u,c;for(l=0,u=o.length;l<u;++l)c=o[l],a[l]={[r]:c,[s]:t[c]};return a}function d2(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function hU(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function fU(t){const{min:e,max:n,minDefined:i,maxDefined:r}=t.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}function dU(t,e,n){const i=t[e]||(t[e]={});return i[n]||(i[n]={})}function Q4(t,e,n,i){for(const r of e.getMatchingVisibleMetas(i).reverse()){const s=t[r.index];if(n&&s>0||!n&&s<0)return r.index}return null}function J4(t,e){const{chart:n,_cachedMeta:i}=t,r=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:a}=i,l=s.axis,u=o.axis,c=hU(s,o,i),h=e.length;let d;for(let f=0;f<h;++f){const y=e[f],{[l]:w,[u]:b}=y,v=y._stacks||(y._stacks={});d=v[u]=dU(r,c,w),d[a]=b,d._top=Q4(d,o,!0,i.type),d._bottom=Q4(d,o,!1,i.type);const S=d._visualValues||(d._visualValues={});S[a]=b}}function p2(t,e){const n=t.scales;return Object.keys(n).filter(i=>n[i].axis===e).shift()}function pU(t,e){return yc(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function gU(t,e,n){return yc(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Gf(t,e){const n=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){e=e||t._parsed;for(const r of e){const s=r._stacks;if(!s||s[i]===void 0||s[i][n]===void 0)return;delete s[i][n],s[i]._visualValues!==void 0&&s[i]._visualValues[n]!==void 0&&delete s[i]._visualValues[n]}}}const g2=t=>t==="reset"||t==="none",Z4=(t,e)=>e?t:Object.assign({},t),mU=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:c6(n,!0),values:null};class Ku{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=d2(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Gf(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,i=this.getDataset(),r=(h,d,f,y)=>h==="x"?d:h==="r"?y:f,s=n.xAxisID=Dt(i.xAxisID,p2(e,"x")),o=n.yAxisID=Dt(i.yAxisID,p2(e,"y")),a=n.rAxisID=Dt(i.rAxisID,p2(e,"r")),l=n.indexAxis,u=n.iAxisID=r(l,s,o,a),c=n.vAxisID=r(l,o,s,a);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(u),n.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&M4(this._data,this),e._stacked&&Gf(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),i=this._data;if(Qt(n)){const r=this._cachedMeta;this._data=cU(n,r)}else if(i!==n){if(i){M4(i,this);const r=this._cachedMeta;Gf(r),r._parsed=[]}n&&Object.isExtensible(n)&&YB(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const s=n._stacked;n._stacked=d2(n.vScale,n),n.stack!==i.stack&&(r=!0,Gf(n),n.stack=i.stack),this._resyncElements(e),(r||s!==n._stacked)&&(J4(this,n._parsed),n._stacked=d2(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:i,_data:r}=this,{iScale:s,_stacked:o}=i,a=s.axis;let l=e===0&&n===r.length?!0:i._sorted,u=e>0&&i._parsed[e-1],c,h,d;if(this._parsing===!1)i._parsed=r,i._sorted=!0,d=r;else{Ti(r[e])?d=this.parseArrayData(i,r,e,n):Qt(r[e])?d=this.parseObjectData(i,r,e,n):d=this.parsePrimitiveData(i,r,e,n);const f=()=>h[a]===null||u&&h[a]<u[a];for(c=0;c<n;++c)i._parsed[c+e]=h=d[c],l&&(f()&&(l=!1),u=h);i._sorted=l}o&&J4(this,d)}parsePrimitiveData(e,n,i,r){const{iScale:s,vScale:o}=e,a=s.axis,l=o.axis,u=s.getLabels(),c=s===o,h=new Array(r);let d,f,y;for(d=0,f=r;d<f;++d)y=d+i,h[d]={[a]:c||s.parse(u[y],y),[l]:o.parse(n[y],y)};return h}parseArrayData(e,n,i,r){const{xScale:s,yScale:o}=e,a=new Array(r);let l,u,c,h;for(l=0,u=r;l<u;++l)c=l+i,h=n[c],a[l]={x:s.parse(h[0],c),y:o.parse(h[1],c)};return a}parseObjectData(e,n,i,r){const{xScale:s,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,u=new Array(r);let c,h,d,f;for(c=0,h=r;c<h;++c)d=c+i,f=n[d],u[c]={x:s.parse(ic(f,a),d),y:o.parse(ic(f,l),d)};return u}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,i){const r=this.chart,s=this._cachedMeta,o=n[e.axis],a={keys:c6(r,!0),values:n._stacks[e.axis]._visualValues};return X4(a,o,s.index,{mode:i})}updateRangeFromParsed(e,n,i,r){const s=i[n.axis];let o=s===null?NaN:s;const a=r&&i._stacks[n.axis];r&&a&&(r.values=a,o=X4(r,s,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const i=this._cachedMeta,r=i._parsed,s=i._sorted&&e===i.iScale,o=r.length,a=this._getOtherScale(e),l=mU(n,i,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:h}=fU(a);let d,f;function y(){f=r[d];const w=f[a.axis];return!qs(f[e.axis])||c>w||h<w}for(d=0;d<o&&!(!y()&&(this.updateRangeFromParsed(u,e,f,l),s));++d);if(s){for(d=o-1;d>=0;--d)if(!y()){this.updateRangeFromParsed(u,e,f,l);break}}return u}getAllParsedValues(e){const n=this._cachedMeta._parsed,i=[];let r,s,o;for(r=0,s=n.length;r<s;++r)o=n[r][e.axis],qs(o)&&i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,i=n.iScale,r=n.vScale,s=this.getParsed(e);return{label:i?""+i.getLabelForValue(s[i.axis]):"",value:r?""+r.getLabelForValue(s[r.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=uU(Dt(this.options.clip,lU(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,i=this._cachedMeta,r=i.data||[],s=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||r.length-a,u=this.options.drawActiveElementsOnTop;let c;for(i.dataset&&i.dataset.draw(e,s,a,l),c=a;c<a+l;++c){const h=r[c];h.hidden||(h.active&&u?o.push(h):h.draw(e,s))}for(c=0;c<o.length;++c)o[c].draw(e,s)}getStyle(e,n){const i=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,n,i){const r=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];s=o.$context||(o.$context=gU(this.getContext(),e,o)),s.parsed=this.getParsed(e),s.raw=r.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=pU(this.chart.getContext(),this.index)),s.dataset=r,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=i,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",i){const r=n==="active",s=this._cachedDataOpts,o=e+"-"+n,a=s[o],l=this.enableOptionSharing&&pp(i);if(a)return Z4(a,l);const u=this.chart.config,c=u.datasetElementScopeKeys(this._type,e),h=r?[`${e}Hover`,"hover",e,""]:[e,""],d=u.getOptionScopes(this.getDataset(),c),f=Object.keys(pi.elements[e]),y=()=>this.getContext(i,r,n),w=u.resolveNamedOptions(d,f,y,h);return w.$shared&&(w.$shared=l,s[o]=Object.freeze(Z4(w,l))),w}_resolveAnimations(e,n,i){const r=this.chart,s=this._cachedDataOpts,o=`animation-${n}`,a=s[o];if(a)return a;let l;if(r.options.animation!==!1){const c=this.chart.config,h=c.datasetAnimationScopeKeys(this._type,n),d=c.getOptionScopes(this.getDataset(),h);l=c.createResolver(d,this.getContext(e,i,n))}const u=new u6(r,l&&l.animations);return l&&l._cacheable&&(s[o]=Object.freeze(u)),u}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||g2(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const i=this.resolveDataElementOptions(e,n),r=this._sharedOptions,s=this.getSharedOptions(i),o=this.includeOptions(n,s)||s!==r;return this.updateSharedOptions(s,n,i),{sharedOptions:s,includeOptions:o}}updateElement(e,n,i,r){g2(r)?Object.assign(e,i):this._resolveAnimations(n,r).update(e,i)}updateSharedOptions(e,n,i){e&&!g2(n)&&this._resolveAnimations(void 0,n).update(e,i)}_setStyle(e,n,i,r){e.active=r;const s=this.getStyle(n,r);this._resolveAnimations(n,i,r).update(e,{options:!r&&this.getSharedOptions(s)||s})}removeHoverStyle(e,n,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,n,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,i=this._cachedMeta.data;for(const[a,l,u]of this._syncList)this[a](l,u);this._syncList=[];const r=i.length,s=n.length,o=Math.min(s,r);o&&this.parse(0,o),s>r?this._insertElements(r,s-r,e):s<r&&this._removeElements(s,r-s)}_insertElements(e,n,i=!0){const r=this._cachedMeta,s=r.data,o=e+n;let a;const l=u=>{for(u.length+=n,a=u.length-1;a>=o;a--)u[a]=u[a-n]};for(l(s),a=e;a<o;++a)s[a]=new this.dataElementType;this._parsing&&l(r._parsed),this.parse(e,n),i&&this.updateElements(s,e,n,"reset")}updateElements(e,n,i,r){}_removeElements(e,n){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(e,n);i._stacked&&Gf(i,r)}i.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,i,r]=e;this[n](i,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Fe(Ku,"defaults",{}),Fe(Ku,"datasetElementType",null),Fe(Ku,"dataElementType",null);function yU(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let i=[];for(let r=0,s=n.length;r<s;r++)i=i.concat(n[r].controller.getAllParsedValues(t));t._cache.$bar=YN(i.sort((r,s)=>r-s))}return t._cache.$bar}function vU(t){const e=t.iScale,n=yU(e,t.type);let i=e._length,r,s,o,a;const l=()=>{o===32767||o===-32768||(pp(a)&&(i=Math.min(i,Math.abs(o-a)||i)),a=o)};for(r=0,s=n.length;r<s;++r)o=e.getPixelForValue(n[r]),l();for(a=void 0,r=0,s=e.ticks.length;r<s;++r)o=e.getPixelForTick(r),l();return i}function wU(t,e,n,i){const r=n.barThickness;let s,o;return an(r)?(s=e.min*n.categoryPercentage,o=n.barPercentage):(s=r*i,o=1),{chunk:s/i,ratio:o,start:e.pixels[t]-s/2}}function _U(t,e,n,i){const r=e.pixels,s=r[t];let o=t>0?r[t-1]:null,a=t<r.length-1?r[t+1]:null;const l=n.categoryPercentage;o===null&&(o=s-(a===null?e.end-e.start:a-s)),a===null&&(a=s+s-o);const u=s-(s-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/i,ratio:n.barPercentage,start:u}}function bU(t,e,n,i){const r=n.parse(t[0],i),s=n.parse(t[1],i),o=Math.min(r,s),a=Math.max(r,s);let l=o,u=a;Math.abs(o)>Math.abs(a)&&(l=a,u=o),e[n.axis]=u,e._custom={barStart:l,barEnd:u,start:r,end:s,min:o,max:a}}function h6(t,e,n,i){return Ti(t)?bU(t,e,n,i):e[n.axis]=n.parse(t,i),e}function ek(t,e,n,i){const r=t.iScale,s=t.vScale,o=r.getLabels(),a=r===s,l=[];let u,c,h,d;for(u=n,c=n+i;u<c;++u)d=e[u],h={},h[r.axis]=a||r.parse(o[u],u),l.push(h6(d,h,s,u));return l}function m2(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function xU(t,e,n){return t!==0?qo(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function SU(t){let e,n,i,r,s;return t.horizontal?(e=t.base>t.x,n="left",i="right"):(e=t.base<t.y,n="bottom",i="top"),e?(r="end",s="start"):(r="start",s="end"),{start:n,end:i,reverse:e,top:r,bottom:s}}function AU(t,e,n,i){let r=e.borderSkipped;const s={};if(!r){t.borderSkipped=s;return}if(r===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:u,bottom:c}=SU(t);r==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===i?r=u:(n._bottom||0)===i?r=c:(s[tk(c,o,a,l)]=!0,r=u)),s[tk(r,o,a,l)]=!0,t.borderSkipped=s}function tk(t,e,n,i){return i?(t=kU(t,e,n),t=nk(t,n,e)):t=nk(t,e,n),t}function kU(t,e,n){return t===e?n:t===n?e:t}function nk(t,e,n){return t==="start"?e:t==="end"?n:t}function TU(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class Rm extends Ku{parsePrimitiveData(e,n,i,r){return ek(e,n,i,r)}parseArrayData(e,n,i,r){return ek(e,n,i,r)}parseObjectData(e,n,i,r){const{iScale:s,vScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,u=s.axis==="x"?a:l,c=o.axis==="x"?a:l,h=[];let d,f,y,w;for(d=i,f=i+r;d<f;++d)w=n[d],y={},y[s.axis]=s.parse(ic(w,u),d),h.push(h6(ic(w,c),y,o,d));return h}updateRangeFromParsed(e,n,i,r){super.updateRangeFromParsed(e,n,i,r);const s=i._custom;s&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:i,vScale:r}=n,s=this.getParsed(e),o=s._custom,a=m2(o)?"["+o.start+", "+o.end+"]":""+r.getLabelForValue(s[r.axis]);return{label:""+i.getLabelForValue(s[i.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,i,r){const s=r==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),u=a.isHorizontal(),c=this._getRuler(),{sharedOptions:h,includeOptions:d}=this._getSharedOptions(n,r);for(let f=n;f<n+i;f++){const y=this.getParsed(f),w=s||an(y[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(f),b=this._calculateBarIndexPixels(f,c),v=(y._stacks||{})[a.axis],S={horizontal:u,base:w.base,enableBorderRadius:!v||m2(y._custom)||o===v._top||o===v._bottom,x:u?w.head:b.center,y:u?b.center:w.head,height:u?b.size:Math.abs(w.size),width:u?Math.abs(w.size):b.size};d&&(S.options=h||this.resolveDataElementOptions(f,e[f].active?"active":r));const I=S.options||e[f].options;AU(S,I,v,o),TU(S,I,c.ratio),this.updateElement(e[f],f,S,r)}}_getStacks(e,n){const{iScale:i}=this._cachedMeta,r=i.getMatchingVisibleMetas(this._type).filter(c=>c.controller.options.grouped),s=i.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(n),l=a&&a[i.axis],u=c=>{const h=c._parsed.find(f=>f[i.axis]===l),d=h&&h[c.vScale.axis];if(an(d)||isNaN(d))return!0};for(const c of r)if(!(n!==void 0&&u(c))&&((s===!1||o.indexOf(c.stack)===-1||s===void 0&&c.stack===void 0)&&o.push(c.stack),c.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(e).filter(i=>e[i].axis===n).shift()}_getAxis(){const e={},n=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)e[Dt(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,n)]=!0;return Object.keys(e)}_getStackIndex(e,n,i){const r=this._getStacks(e,i),s=n!==void 0?r.indexOf(n):-1;return s===-1?r.length-1:s}_getRuler(){const e=this.options,n=this._cachedMeta,i=n.iScale,r=[];let s,o;for(s=0,o=n.data.length;s<o;++s)r.push(i.getPixelForValue(this.getParsed(s)[i.axis],s));const a=e.barThickness;return{min:a||vU(n),pixels:r,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:i,index:r},options:{base:s,minBarLength:o}}=this,a=s||0,l=this.getParsed(e),u=l._custom,c=m2(u);let h=l[n.axis],d=0,f=i?this.applyStack(n,l,i):h,y,w;f!==h&&(d=f-h,f=h),c&&(h=u.barStart,f=u.barEnd-u.barStart,h!==0&&qo(h)!==qo(u.barEnd)&&(d=0),d+=h);const b=!an(s)&&!c?s:d;let v=n.getPixelForValue(b);if(this.chart.getDataVisibility(e)?y=n.getPixelForValue(d+f):y=v,w=y-v,Math.abs(w)<o){w=xU(w,n,a)*o,h===a&&(v-=w/2);const S=n.getPixelForDecimal(0),I=n.getPixelForDecimal(1),P=Math.min(S,I),F=Math.max(S,I);v=Math.max(Math.min(v,F),P),y=v+w,i&&!c&&(l._stacks[n.axis]._visualValues[r]=n.getValueForPixel(y)-n.getValueForPixel(v))}if(v===n.getPixelForValue(a)){const S=qo(w)*n.getLineWidthForValue(a)/2;v+=S,w-=S}return{size:w,base:v,head:y,center:y+w/2}}_calculateBarIndexPixels(e,n){const i=n.scale,r=this.options,s=r.skipNull,o=Dt(r.maxBarThickness,1/0);let a,l;const u=this._getAxisCount();if(n.grouped){const c=s?this._getStackCount(e):n.stackCount,h=r.barThickness==="flex"?_U(e,n,r,c*u):wU(e,n,r,c*u),d=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,f=this._getAxis().indexOf(Dt(d,this.getFirstScaleIdForIndexAxis())),y=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0)+f;a=h.start+h.chunk*y+h.chunk/2,l=Math.min(o,h.chunk*h.ratio)}else a=i.getPixelForValue(this.getParsed(e)[i.axis],e),l=Math.min(o,n.min*n.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const e=this._cachedMeta,n=e.vScale,i=e.data,r=i.length;let s=0;for(;s<r;++s)this.getParsed(s)[n.axis]!==null&&!i[s].hidden&&i[s].draw(this._ctx)}}Fe(Rm,"id","bar"),Fe(Rm,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),Fe(Rm,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function EU(t,e,n){let i=1,r=1,s=0,o=0;if(e<ti){const a=t,l=a+e,u=Math.cos(a),c=Math.sin(a),h=Math.cos(l),d=Math.sin(l),f=(I,P,F)=>mp(I,a,l,!0)?1:Math.max(P,P*n,F,F*n),y=(I,P,F)=>mp(I,a,l,!0)?-1:Math.min(P,P*n,F,F*n),w=f(0,u,h),b=f(Pi,c,d),v=y(dn,u,h),S=y(dn+Pi,c,d);i=(w-v)/2,r=(b-S)/2,s=-(w+v)/2,o=-(b+S)/2}return{ratioX:i,ratioY:r,offsetX:s,offsetY:o}}class ah extends Ku{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const i=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=i;else{let s=l=>+i[l];if(Qt(i[e])){const{key:l="value"}=this._parsing;s=u=>+ic(i[u],l)}let o,a;for(o=e,a=e+n;o<a;++o)r._parsed[o]=s(o)}}_getRotation(){return xa(this.options.rotation-90)}_getCircumference(){return xa(this.options.circumference)}_getRotationExtents(){let e=ti,n=-ti;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const r=this.chart.getDatasetMeta(i).controller,s=r._getRotation(),o=r._getCircumference();e=Math.min(e,s),n=Math.max(n,s+o)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:i}=n,r=this._cachedMeta,s=r.data,o=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,a=Math.max((Math.min(i.width,i.height)-o)/2,0),l=Math.min(LB(this.options.cutout,a),1),u=this._getRingWeight(this.index),{circumference:c,rotation:h}=this._getRotationExtents(),{ratioX:d,ratioY:f,offsetX:y,offsetY:w}=EU(h,c,l),b=(i.width-o)/d,v=(i.height-o)/f,S=Math.max(Math.min(b,v)/2,0),I=qN(this.options.radius,S),P=Math.max(I*l,0),F=(I-P)/this._getVisibleDatasetWeightTotal();this.offsetX=y*I,this.offsetY=w*I,r.total=this.calculateTotal(),this.outerRadius=I-F*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-F*u,0),this.updateElements(s,0,s.length,e)}_circumference(e,n){const i=this.options,r=this._cachedMeta,s=this._getCircumference();return n&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||r._parsed[e]===null||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*s/ti)}updateElements(e,n,i,r){const s=r==="reset",o=this.chart,a=o.chartArea,u=o.options.animation,c=(a.left+a.right)/2,h=(a.top+a.bottom)/2,d=s&&u.animateScale,f=d?0:this.innerRadius,y=d?0:this.outerRadius,{sharedOptions:w,includeOptions:b}=this._getSharedOptions(n,r);let v=this._getRotation(),S;for(S=0;S<n;++S)v+=this._circumference(S,s);for(S=n;S<n+i;++S){const I=this._circumference(S,s),P=e[S],F={x:c+this.offsetX,y:h+this.offsetY,startAngle:v,endAngle:v+I,circumference:I,outerRadius:y,innerRadius:f};b&&(F.options=w||this.resolveDataElementOptions(S,P.active?"active":r)),v+=I,this.updateElement(P,S,F,r)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let i=0,r;for(r=0;r<n.length;r++){const s=e._parsed[r];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(r)&&!n[r].hidden&&(i+=Math.abs(s))}return i}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?ti*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,i=this.chart,r=i.data.labels||[],s=tb(n._parsed[e],i.options.locale);return{label:r[e]||"",value:s}}getMaxBorderWidth(e){let n=0;const i=this.chart;let r,s,o,a,l;if(!e){for(r=0,s=i.data.datasets.length;r<s;++r)if(i.isDatasetVisible(r)){o=i.getDatasetMeta(r),e=o.data,a=o.controller;break}}if(!e)return 0;for(r=0,s=e.length;r<s;++r)l=a.resolveDataElementOptions(r),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let i=0,r=e.length;i<r;++i){const s=this.resolveDataElementOptions(i);n=Math.max(n,s.offset||0,s.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(n+=this._getRingWeight(i));return n}_getRingWeight(e){return Math.max(Dt(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Fe(ah,"id","doughnut"),Fe(ah,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),Fe(ah,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),Fe(ah,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data,{labels:{pointStyle:i,textAlign:r,color:s,useBorderRadius:o,borderRadius:a}}=e.legend.options;return n.labels.length&&n.datasets.length?n.labels.map((l,u)=>{const h=e.getDatasetMeta(0).controller.getStyle(u);return{text:l,fillStyle:h.backgroundColor,fontColor:s,hidden:!e.getDataVisibility(u),lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:h.borderWidth,strokeStyle:h.borderColor,textAlign:r,pointStyle:i,borderRadius:o&&(a||h.borderRadius),index:u}}):[]}},onClick(e,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}}});class Mm extends Ku{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:i,data:r=[],_dataset:s}=n,o=this.chart._animationsDisabled;let{start:a,count:l}=JB(n,r,o);this._drawStart=a,this._drawCount=l,ZB(n)&&(a=0,l=r.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!s._decimated,i.points=r;const u=this.resolveDatasetElementOptions(e);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(i,void 0,{animated:!o,options:u},e),this.updateElements(r,a,l,e)}updateElements(e,n,i,r){const s=r==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:u}=this._cachedMeta,{sharedOptions:c,includeOptions:h}=this._getSharedOptions(n,r),d=o.axis,f=a.axis,{spanGaps:y,segment:w}=this.options,b=gp(y)?y:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||s||r==="none",S=n+i,I=e.length;let P=n>0&&this.getParsed(n-1);for(let F=0;F<I;++F){const H=e[F],M=v?H:{};if(F<n||F>=S){M.skip=!0;continue}const k=this.getParsed(F),T=an(k[f]),O=M[d]=o.getPixelForValue(k[d],F),E=M[f]=s||T?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,k,l):k[f],F);M.skip=isNaN(O)||isNaN(E)||T,M.stop=F>0&&Math.abs(k[d]-P[d])>b,w&&(M.parsed=k,M.raw=u.data[F]),h&&(M.options=c||this.resolveDataElementOptions(F,H.active?"active":r)),v||this.updateElement(H,F,M,r),P=k}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,i=n.options&&n.options.borderWidth||0,r=e.data||[];if(!r.length)return i;const s=r[0].size(this.resolveDataElementOptions(0)),o=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(i,s,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}Fe(Mm,"id","line"),Fe(Mm,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Fe(Mm,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class b5 extends ah{}Fe(b5,"id","pie"),Fe(b5,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});function Eu(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class cb{constructor(e){Fe(this,"options");this.options=e||{}}static override(e){Object.assign(cb.prototype,e)}init(){}formats(){return Eu()}parse(){return Eu()}format(){return Eu()}add(){return Eu()}diff(){return Eu()}startOf(){return Eu()}endOf(){return Eu()}}var PU={_date:cb};function IU(t,e,n,i){const{controller:r,data:s,_sorted:o}=t,a=r._cachedMeta.iScale,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(a&&e===a.axis&&e!=="r"&&o&&s.length){const u=a._reversePixels?GB:zu;if(i){if(r._sharedOptions){const c=s[0],h=typeof c.getRange=="function"&&c.getRange(e);if(h){const d=u(s,e,n-h),f=u(s,e,n+h);return{lo:d.lo,hi:f.hi}}}}else{const c=u(s,e,n);if(l){const{vScale:h}=r._cachedMeta,{_parsed:d}=t,f=d.slice(0,c.lo+1).reverse().findIndex(w=>!an(w[h.axis]));c.lo-=Math.max(0,f);const y=d.slice(c.hi).findIndex(w=>!an(w[h.axis]));c.hi+=Math.max(0,y)}return c}}return{lo:0,hi:s.length-1}}function D1(t,e,n,i,r){const s=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,l=s.length;a<l;++a){const{index:u,data:c}=s[a],{lo:h,hi:d}=IU(s[a],e,o,r);for(let f=h;f<=d;++f){const y=c[f];y.skip||i(y,u,f)}}}function CU(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(i,r){const s=e?Math.abs(i.x-r.x):0,o=n?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function y2(t,e,n,i,r){const s=[];return!r&&!t.isPointInArea(e)||D1(t,n,e,function(a,l,u){!r&&!yp(a,t.chartArea,0)||a.inRange(e.x,e.y,i)&&s.push({element:a,datasetIndex:l,index:u})},!0),s}function NU(t,e,n,i){let r=[];function s(o,a,l){const{startAngle:u,endAngle:c}=o.getProps(["startAngle","endAngle"],i),{angle:h}=GN(o,{x:e.x,y:e.y});mp(h,u,c)&&r.push({element:o,datasetIndex:a,index:l})}return D1(t,n,e,s),r}function LU(t,e,n,i,r,s){let o=[];const a=CU(n);let l=Number.POSITIVE_INFINITY;function u(c,h,d){const f=c.inRange(e.x,e.y,r);if(i&&!f)return;const y=c.getCenterPoint(r);if(!(!!s||t.isPointInArea(y))&&!f)return;const b=a(e,y);b<l?(o=[{element:c,datasetIndex:h,index:d}],l=b):b===l&&o.push({element:c,datasetIndex:h,index:d})}return D1(t,n,e,u),o}function v2(t,e,n,i,r,s){return!s&&!t.isPointInArea(e)?[]:n==="r"&&!i?NU(t,e,n,r):LU(t,e,n,i,r,s)}function ik(t,e,n,i,r){const s=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return D1(t,n,e,(l,u,c)=>{l[o]&&l[o](e[n],r)&&(s.push({element:l,datasetIndex:u,index:c}),a=a||l.inRange(e.x,e.y,r))}),i&&!a?[]:s}var RU={modes:{index(t,e,n,i){const r=Lu(e,t),s=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?y2(t,r,s,i,o):v2(t,r,s,!1,i,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(u=>{const c=a[0].index,h=u.data[c];h&&!h.skip&&l.push({element:h,datasetIndex:u.index,index:c})}),l):[]},dataset(t,e,n,i){const r=Lu(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?y2(t,r,s,i,o):v2(t,r,s,!1,i,o);if(a.length>0){const l=a[0].datasetIndex,u=t.getDatasetMeta(l).data;a=[];for(let c=0;c<u.length;++c)a.push({element:u[c],datasetIndex:l,index:c})}return a},point(t,e,n,i){const r=Lu(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return y2(t,r,s,i,o)},nearest(t,e,n,i){const r=Lu(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return v2(t,r,s,n.intersect,i,o)},x(t,e,n,i){const r=Lu(e,t);return ik(t,r,"x",n.intersect,i)},y(t,e,n,i){const r=Lu(e,t);return ik(t,r,"y",n.intersect,i)}}};const f6=["left","top","right","bottom"];function Kf(t,e){return t.filter(n=>n.pos===e)}function rk(t,e){return t.filter(n=>f6.indexOf(n.pos)===-1&&n.box.axis===e)}function Yf(t,e){return t.sort((n,i)=>{const r=e?i:n,s=e?n:i;return r.weight===s.weight?r.index-s.index:r.weight-s.weight})}function MU(t){const e=[];let n,i,r,s,o,a;for(n=0,i=(t||[]).length;n<i;++n)r=t[n],{position:s,options:{stack:o,stackWeight:a=1}}=r,e.push({index:n,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&s+o,stackWeight:a});return e}function DU(t){const e={};for(const n of t){const{stack:i,pos:r,stackWeight:s}=n;if(!i||!f6.includes(r))continue;const o=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return e}function OU(t,e){const n=DU(t),{vBoxMaxWidth:i,hBoxMaxHeight:r}=e;let s,o,a;for(s=0,o=t.length;s<o;++s){a=t[s];const{fullSize:l}=a.box,u=n[a.stack],c=u&&a.stackWeight/u.weight;a.horizontal?(a.width=c?c*i:l&&e.availableWidth,a.height=r):(a.width=i,a.height=c?c*r:l&&e.availableHeight)}return n}function FU(t){const e=MU(t),n=Yf(e.filter(u=>u.box.fullSize),!0),i=Yf(Kf(e,"left"),!0),r=Yf(Kf(e,"right")),s=Yf(Kf(e,"top"),!0),o=Yf(Kf(e,"bottom")),a=rk(e,"x"),l=rk(e,"y");return{fullSize:n,leftAndTop:i.concat(s),rightAndBottom:r.concat(l).concat(o).concat(a),chartArea:Kf(e,"chartArea"),vertical:i.concat(r).concat(l),horizontal:s.concat(o).concat(a)}}function sk(t,e,n,i){return Math.max(t[n],e[n])+Math.max(t[i],e[i])}function d6(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function jU(t,e,n,i){const{pos:r,box:s}=n,o=t.maxPadding;if(!Qt(r)){n.size&&(t[r]-=n.size);const h=i[n.stack]||{size:0,count:1};h.size=Math.max(h.size,n.horizontal?s.height:s.width),n.size=h.size/h.count,t[r]+=n.size}s.getPadding&&d6(o,s.getPadding());const a=Math.max(0,e.outerWidth-sk(o,t,"left","right")),l=Math.max(0,e.outerHeight-sk(o,t,"top","bottom")),u=a!==t.w,c=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:u,other:c}:{same:c,other:u}}function VU(t){const e=t.maxPadding;function n(i){const r=Math.max(e[i]-t[i],0);return t[i]+=r,r}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function BU(t,e){const n=e.maxPadding;function i(r){const s={left:0,top:0,right:0,bottom:0};return r.forEach(o=>{s[o]=Math.max(e[o],n[o])}),s}return i(t?["left","right"]:["top","bottom"])}function cd(t,e,n,i){const r=[];let s,o,a,l,u,c;for(s=0,o=t.length,u=0;s<o;++s){a=t[s],l=a.box,l.update(a.width||e.w,a.height||e.h,BU(a.horizontal,e));const{same:h,other:d}=jU(e,n,a,i);u|=h&&r.length,c=c||d,l.fullSize||r.push(a)}return u&&cd(r,e,n,i)||c}function Jg(t,e,n,i,r){t.top=n,t.left=e,t.right=e+i,t.bottom=n+r,t.width=i,t.height=r}function ok(t,e,n,i){const r=n.padding;let{x:s,y:o}=e;for(const a of t){const l=a.box,u=i[a.stack]||{placed:0,weight:1},c=a.stackWeight/u.weight||1;if(a.horizontal){const h=e.w*c,d=u.size||l.height;pp(u.start)&&(o=u.start),l.fullSize?Jg(l,r.left,o,n.outerWidth-r.right-r.left,d):Jg(l,e.left+u.placed,o,h,d),u.start=o,u.placed+=h,o=l.bottom}else{const h=e.h*c,d=u.size||l.width;pp(u.start)&&(s=u.start),l.fullSize?Jg(l,s,r.top,d,n.outerHeight-r.bottom-r.top):Jg(l,s,e.top+u.placed,d,h),u.start=s,u.placed+=h,s=l.right}}e.x=s,e.y=o}var js={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,i){if(!t)return;const r=Hs(t.options.layout.padding),s=Math.max(e-r.width,0),o=Math.max(n-r.height,0),a=FU(t.boxes),l=a.vertical,u=a.horizontal;hn(t.boxes,w=>{typeof w.beforeLayout=="function"&&w.beforeLayout()});const c=l.reduce((w,b)=>b.box.options&&b.box.options.display===!1?w:w+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:n,padding:r,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/c,hBoxMaxHeight:o/2}),d=Object.assign({},r);d6(d,Hs(i));const f=Object.assign({maxPadding:d,w:s,h:o,x:r.left,y:r.top},r),y=OU(l.concat(u),h);cd(a.fullSize,f,h,y),cd(l,f,h,y),cd(u,f,h,y)&&cd(l,f,h,y),VU(f),ok(a.leftAndTop,f,h,y),f.x+=f.w,f.y+=f.h,ok(a.rightAndBottom,f,h,y),t.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},hn(a.chartArea,w=>{const b=w.box;Object.assign(b,t.chartArea),b.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}};class p6{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,i){}removeEventListener(e,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,i,r){return n=Math.max(0,n||e.width),i=i||e.height,{width:n,height:Math.max(0,r?Math.floor(n/r):i)}}isAttached(e){return!0}updateConfig(e){}}class zU extends p6{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Dm="$chartjs",UU={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},ak=t=>t===null||t==="";function WU(t,e){const n=t.style,i=t.getAttribute("height"),r=t.getAttribute("width");if(t[Dm]={initial:{height:i,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",ak(r)){const s=q4(t,"width");s!==void 0&&(t.width=s)}if(ak(i))if(t.style.height==="")t.height=t.width/(e||2);else{const s=q4(t,"height");s!==void 0&&(t.height=s)}return t}const g6=Uz?{passive:!0}:!1;function qU(t,e,n){t&&t.addEventListener(e,n,g6)}function HU(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,g6)}function $U(t,e){const n=UU[t.type]||t.type,{x:i,y:r}=Lu(t,e);return{type:n,chart:e,native:t,x:i!==void 0?i:null,y:r!==void 0?r:null}}function M0(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function GU(t,e,n){const i=t.canvas,r=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||M0(a.addedNodes,i),o=o&&!M0(a.removedNodes,i);o&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}function KU(t,e,n){const i=t.canvas,r=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||M0(a.removedNodes,i),o=o&&!M0(a.addedNodes,i);o&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}const wp=new Map;let lk=0;function m6(){const t=window.devicePixelRatio;t!==lk&&(lk=t,wp.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function YU(t,e){wp.size||window.addEventListener("resize",m6),wp.set(t,e)}function XU(t){wp.delete(t),wp.size||window.removeEventListener("resize",m6)}function QU(t,e,n){const i=t.canvas,r=i&&ub(i);if(!r)return;const s=QN((a,l)=>{const u=r.clientWidth;n(a,l),u<r.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],u=l.contentRect.width,c=l.contentRect.height;u===0&&c===0||s(u,c)});return o.observe(r),YU(t,s),o}function w2(t,e,n){n&&n.disconnect(),e==="resize"&&XU(t)}function JU(t,e,n){const i=t.canvas,r=QN(s=>{t.ctx!==null&&n($U(s,t))},t);return qU(i,e,r),r}class ZU extends p6{acquireContext(e,n){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(WU(e,n),i):null}releaseContext(e){const n=e.canvas;if(!n[Dm])return!1;const i=n[Dm].initial;["height","width"].forEach(s=>{const o=i[s];an(o)?n.removeAttribute(s):n.setAttribute(s,o)});const r=i.style||{};return Object.keys(r).forEach(s=>{n.style[s]=r[s]}),n.width=n.width,delete n[Dm],!0}addEventListener(e,n,i){this.removeEventListener(e,n);const r=e.$proxies||(e.$proxies={}),o={attach:GU,detach:KU,resize:QU}[n]||JU;r[n]=o(e,n,i)}removeEventListener(e,n){const i=e.$proxies||(e.$proxies={}),r=i[n];if(!r)return;({attach:w2,detach:w2,resize:w2}[n]||HU)(e,n,r),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,i,r){return zz(e,n,i,r)}isAttached(e){const n=e&&ub(e);return!!(n&&n.isConnected)}}function eW(t){return!lb()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?zU:ZU}var ym;let qa=(ym=class{constructor(){Fe(this,"x");Fe(this,"y");Fe(this,"active",!1);Fe(this,"options");Fe(this,"$animations")}tooltipPosition(e){const{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}hasValue(){return gp(this.x)&&gp(this.y)}getProps(e,n){const i=this.$animations;if(!n||!i)return this;const r={};return e.forEach(s=>{r[s]=i[s]&&i[s].active()?i[s]._to:this[s]}),r}},Fe(ym,"defaults",{}),Fe(ym,"defaultRoutes"),ym);function tW(t,e){const n=t.options.ticks,i=nW(t),r=Math.min(n.maxTicksLimit||i,i),s=n.major.enabled?rW(e):[],o=s.length,a=s[0],l=s[o-1],u=[];if(o>r)return sW(e,u,s,o/r),u;const c=iW(s,e,r);if(o>0){let h,d;const f=o>1?Math.round((l-a)/(o-1)):null;for(Zg(e,u,c,an(f)?0:a-f,a),h=0,d=o-1;h<d;h++)Zg(e,u,c,s[h],s[h+1]);return Zg(e,u,c,l,an(f)?e.length:l+f),u}return Zg(e,u,c),u}function nW(t){const e=t.options.offset,n=t._tickSize(),i=t._length/n+(e?0:1),r=t._maxLength/n;return Math.floor(Math.min(i,r))}function iW(t,e,n){const i=oW(t),r=e.length/n;if(!i)return Math.max(r,1);const s=BB(i);for(let o=0,a=s.length-1;o<a;o++){const l=s[o];if(l>r)return l}return Math.max(r,1)}function rW(t){const e=[];let n,i;for(n=0,i=t.length;n<i;n++)t[n].major&&e.push(n);return e}function sW(t,e,n,i){let r=0,s=n[0],o;for(i=Math.ceil(i),o=0;o<t.length;o++)o===s&&(e.push(t[o]),r++,s=n[r*i])}function Zg(t,e,n,i,r){const s=Dt(i,0),o=Math.min(Dt(r,t.length),t.length);let a=0,l,u,c;for(n=Math.ceil(n),r&&(l=r-i,n=l/Math.floor(l/n)),c=s;c<0;)a++,c=Math.round(s+a*n);for(u=Math.max(s,0);u<o;u++)u===c&&(e.push(t[u]),a++,c=Math.round(s+a*n))}function oW(t){const e=t.length;let n,i;if(e<2)return!1;for(i=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==i)return!1;return i}const aW=t=>t==="left"?"right":t==="right"?"left":t,uk=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,ck=(t,e)=>Math.min(e||t,t);function hk(t,e){const n=[],i=t.length/e,r=t.length;let s=0;for(;s<r;s+=i)n.push(t[Math.floor(s)]);return n}function lW(t,e,n){const i=t.ticks.length,r=Math.min(e,i-1),s=t._startPixel,o=t._endPixel,a=1e-6;let l=t.getPixelForTick(r),u;if(!(n&&(i===1?u=Math.max(l-s,o-l):e===0?u=(t.getPixelForTick(1)-l)/2:u=(l-t.getPixelForTick(r-1))/2,l+=r<e?u:-u,l<s-a||l>o+a)))return l}function uW(t,e){hn(t,n=>{const i=n.gc,r=i.length/2;let s;if(r>e){for(s=0;s<r;++s)delete n.data[i[s]];i.splice(0,r)}})}function Xf(t){return t.drawTicks?t.tickLength:0}function fk(t,e){if(!t.display)return 0;const n=wr(t.font,e),i=Hs(t.padding);return(Ti(t.text)?t.text.length:1)*n.lineHeight+i.height}function cW(t,e){return yc(t,{scale:e,type:"scale"})}function hW(t,e,n){return yc(t,{tick:n,index:e,type:"tick"})}function fW(t,e,n){let i=Z_(t);return(n&&e!=="right"||!n&&e==="right")&&(i=aW(i)),i}function dW(t,e,n,i){const{top:r,left:s,bottom:o,right:a,chart:l}=t,{chartArea:u,scales:c}=l;let h=0,d,f,y;const w=o-r,b=a-s;if(t.isHorizontal()){if(f=fr(i,s,a),Qt(n)){const v=Object.keys(n)[0],S=n[v];y=c[v].getPixelForValue(S)+w-e}else n==="center"?y=(u.bottom+u.top)/2+w-e:y=uk(t,n,e);d=a-s}else{if(Qt(n)){const v=Object.keys(n)[0],S=n[v];f=c[v].getPixelForValue(S)-b+e}else n==="center"?f=(u.left+u.right)/2-b+e:f=uk(t,n,e);y=fr(i,o,r),h=n==="left"?-Pi:Pi}return{titleX:f,titleY:y,maxWidth:d,rotation:h}}class lf extends qa{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:i,_suggestedMax:r}=this;return e=Lo(e,Number.POSITIVE_INFINITY),n=Lo(n,Number.NEGATIVE_INFINITY),i=Lo(i,Number.POSITIVE_INFINITY),r=Lo(r,Number.NEGATIVE_INFINITY),{min:Lo(e,i),max:Lo(n,r),minDefined:qs(e),maxDefined:qs(n)}}getMinMax(e){let{min:n,max:i,minDefined:r,maxDefined:s}=this.getUserBounds(),o;if(r&&s)return{min:n,max:i};const a=this.getMatchingVisibleMetas();for(let l=0,u=a.length;l<u;++l)o=a[l].controller.getMinMax(this,e),r||(n=Math.min(n,o.min)),s||(i=Math.max(i,o.max));return n=s&&n>i?i:n,i=r&&n>i?n:i,{min:Lo(n,Lo(i,n)),max:Lo(i,Lo(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Cn(this.options.beforeUpdate,[this])}update(e,n,i){const{beginAtZero:r,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=wz(this,s,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?hk(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=tW(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,e=!e),this._startPixel=n,this._endPixel=i,this._reversePixels=e,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Cn(this.options.afterUpdate,[this])}beforeSetDimensions(){Cn(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Cn(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Cn(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Cn(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let i,r,s;for(i=0,r=e.length;i<r;i++)s=e[i],s.label=Cn(n.callback,[s.value,i,e],this)}afterTickToLabelConversion(){Cn(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Cn(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,i=ck(this.ticks.length,e.ticks.maxTicksLimit),r=n.minRotation||0,s=n.maxRotation;let o=r,a,l,u;if(!this._isVisible()||!n.display||r>=s||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const c=this._getLabelSizes(),h=c.widest.width,d=c.highest.height,f=vr(this.chart.width-h,0,this.maxWidth);a=e.offset?this.maxWidth/i:f/(i-1),h+6>a&&(a=f/(i-(e.offset?.5:1)),l=this.maxHeight-Xf(e.grid)-n.padding-fk(e.title,this.chart.options.font),u=Math.sqrt(h*h+d*d),o=qB(Math.min(Math.asin(vr((c.highest.height+6)/a,-1,1)),Math.asin(vr(l/u,-1,1))-Math.asin(vr(d/u,-1,1)))),o=Math.max(r,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){Cn(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Cn(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:i,title:r,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=fk(r,n.options.font);if(a?(e.width=this.maxWidth,e.height=Xf(s)+l):(e.height=this.maxHeight,e.width=Xf(s)+l),i.display&&this.ticks.length){const{first:u,last:c,widest:h,highest:d}=this._getLabelSizes(),f=i.padding*2,y=xa(this.labelRotation),w=Math.cos(y),b=Math.sin(y);if(a){const v=i.mirror?0:b*h.width+w*d.height;e.height=Math.min(this.maxHeight,e.height+v+f)}else{const v=i.mirror?0:w*h.width+b*d.height;e.width=Math.min(this.maxWidth,e.width+v+f)}this._calculatePadding(u,c,b,w)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,i,r){const{ticks:{align:s,padding:o},position:a}=this.options,l=this.labelRotation!==0,u=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const c=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let d=0,f=0;l?u?(d=r*e.width,f=i*n.height):(d=i*e.height,f=r*n.width):s==="start"?f=n.width:s==="end"?d=e.width:s!=="inner"&&(d=e.width/2,f=n.width/2),this.paddingLeft=Math.max((d-c+o)*this.width/(this.width-c),0),this.paddingRight=Math.max((f-h+o)*this.width/(this.width-h),0)}else{let c=n.height/2,h=e.height/2;s==="start"?(c=0,h=e.height):s==="end"&&(c=n.height,h=0),this.paddingTop=c+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Cn(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,i;for(n=0,i=e.length;n<i;n++)an(e[n].label)&&(e.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=hk(i,n)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,i){const{ctx:r,_longestTextCache:s}=this,o=[],a=[],l=Math.floor(n/ck(n,i));let u=0,c=0,h,d,f,y,w,b,v,S,I,P,F;for(h=0;h<n;h+=l){if(y=e[h].label,w=this._resolveTickFontOptions(h),r.font=b=w.string,v=s[b]=s[b]||{data:{},gc:[]},S=w.lineHeight,I=P=0,!an(y)&&!Ti(y))I=V4(r,v.data,v.gc,I,y),P=S;else if(Ti(y))for(d=0,f=y.length;d<f;++d)F=y[d],!an(F)&&!Ti(F)&&(I=V4(r,v.data,v.gc,I,F),P+=S);o.push(I),a.push(P),u=Math.max(I,u),c=Math.max(P,c)}uW(s,n);const H=o.indexOf(u),M=a.indexOf(c),k=T=>({width:o[T]||0,height:a[T]||0});return{first:k(0),last:k(n-1),widest:k(H),highest:k(M),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return $B(this._alignToPixels?Tu(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const i=n[e];return i.$context||(i.$context=hW(this.getContext(),e,i))}return this.$context||(this.$context=cW(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=xa(this.labelRotation),i=Math.abs(Math.cos(n)),r=Math.abs(Math.sin(n)),s=this._getLabelSizes(),o=e.autoSkipPadding||0,a=s?s.widest.width+o:0,l=s?s.highest.height+o:0;return this.isHorizontal()?l*i>a*r?a/i:l/r:l*r<a*i?l/i:a/r}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,i=this.chart,r=this.options,{grid:s,position:o,border:a}=r,l=s.offset,u=this.isHorizontal(),h=this.ticks.length+(l?1:0),d=Xf(s),f=[],y=a.setContext(this.getContext()),w=y.display?y.width:0,b=w/2,v=function(ce){return Tu(i,ce,w)};let S,I,P,F,H,M,k,T,O,E,L,D;if(o==="top")S=v(this.bottom),M=this.bottom-d,T=S-b,E=v(e.top)+b,D=e.bottom;else if(o==="bottom")S=v(this.top),E=e.top,D=v(e.bottom)-b,M=S+b,T=this.top+d;else if(o==="left")S=v(this.right),H=this.right-d,k=S-b,O=v(e.left)+b,L=e.right;else if(o==="right")S=v(this.left),O=e.left,L=v(e.right)-b,H=S+b,k=this.left+d;else if(n==="x"){if(o==="center")S=v((e.top+e.bottom)/2+.5);else if(Qt(o)){const ce=Object.keys(o)[0],ae=o[ce];S=v(this.chart.scales[ce].getPixelForValue(ae))}E=e.top,D=e.bottom,M=S+b,T=M+d}else if(n==="y"){if(o==="center")S=v((e.left+e.right)/2);else if(Qt(o)){const ce=Object.keys(o)[0],ae=o[ce];S=v(this.chart.scales[ce].getPixelForValue(ae))}H=S-b,k=H-d,O=e.left,L=e.right}const Z=Dt(r.ticks.maxTicksLimit,h),oe=Math.max(1,Math.ceil(h/Z));for(I=0;I<h;I+=oe){const ce=this.getContext(I),ae=s.setContext(ce),$=a.setContext(ce),ie=ae.lineWidth,me=ae.color,ve=$.dash||[],B=$.dashOffset,Y=ae.tickWidth,ee=ae.tickColor,ne=ae.tickBorderDash||[],re=ae.tickBorderDashOffset;P=lW(this,I,l),P!==void 0&&(F=Tu(i,P,ie),u?H=k=O=L=F:M=T=E=D=F,f.push({tx1:H,ty1:M,tx2:k,ty2:T,x1:O,y1:E,x2:L,y2:D,width:ie,color:me,borderDash:ve,borderDashOffset:B,tickWidth:Y,tickColor:ee,tickBorderDash:ne,tickBorderDashOffset:re}))}return this._ticksLength=h,this._borderValue=S,f}_computeLabelItems(e){const n=this.axis,i=this.options,{position:r,ticks:s}=i,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:u,padding:c,mirror:h}=s,d=Xf(i.grid),f=d+c,y=h?-c:f,w=-xa(this.labelRotation),b=[];let v,S,I,P,F,H,M,k,T,O,E,L,D="middle";if(r==="top")H=this.bottom-y,M=this._getXAxisLabelAlignment();else if(r==="bottom")H=this.top+y,M=this._getXAxisLabelAlignment();else if(r==="left"){const oe=this._getYAxisLabelAlignment(d);M=oe.textAlign,F=oe.x}else if(r==="right"){const oe=this._getYAxisLabelAlignment(d);M=oe.textAlign,F=oe.x}else if(n==="x"){if(r==="center")H=(e.top+e.bottom)/2+f;else if(Qt(r)){const oe=Object.keys(r)[0],ce=r[oe];H=this.chart.scales[oe].getPixelForValue(ce)+f}M=this._getXAxisLabelAlignment()}else if(n==="y"){if(r==="center")F=(e.left+e.right)/2-f;else if(Qt(r)){const oe=Object.keys(r)[0],ce=r[oe];F=this.chart.scales[oe].getPixelForValue(ce)}M=this._getYAxisLabelAlignment(d).textAlign}n==="y"&&(l==="start"?D="top":l==="end"&&(D="bottom"));const Z=this._getLabelSizes();for(v=0,S=a.length;v<S;++v){I=a[v],P=I.label;const oe=s.setContext(this.getContext(v));k=this.getPixelForTick(v)+s.labelOffset,T=this._resolveTickFontOptions(v),O=T.lineHeight,E=Ti(P)?P.length:1;const ce=E/2,ae=oe.color,$=oe.textStrokeColor,ie=oe.textStrokeWidth;let me=M;o?(F=k,M==="inner"&&(v===S-1?me=this.options.reverse?"left":"right":v===0?me=this.options.reverse?"right":"left":me="center"),r==="top"?u==="near"||w!==0?L=-E*O+O/2:u==="center"?L=-Z.highest.height/2-ce*O+O:L=-Z.highest.height+O/2:u==="near"||w!==0?L=O/2:u==="center"?L=Z.highest.height/2-ce*O:L=Z.highest.height-E*O,h&&(L*=-1),w!==0&&!oe.showLabelBackdrop&&(F+=O/2*Math.sin(w))):(H=k,L=(1-E)*O/2);let ve;if(oe.showLabelBackdrop){const B=Hs(oe.backdropPadding),Y=Z.heights[v],ee=Z.widths[v];let ne=L-B.top,re=0-B.left;switch(D){case"middle":ne-=Y/2;break;case"bottom":ne-=Y;break}switch(M){case"center":re-=ee/2;break;case"right":re-=ee;break;case"inner":v===S-1?re-=ee:v>0&&(re-=ee/2);break}ve={left:re,top:ne,width:ee+B.width,height:Y+B.height,color:oe.backdropColor}}b.push({label:P,font:T,textOffset:L,options:{rotation:w,color:ae,strokeColor:$,strokeWidth:ie,textAlign:me,textBaseline:D,translation:[F,H],backdrop:ve}})}return b}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-xa(this.labelRotation))return e==="top"?"left":"right";let r="center";return n.align==="start"?r="left":n.align==="end"?r="right":n.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:i,mirror:r,padding:s}}=this.options,o=this._getLabelSizes(),a=e+s,l=o.widest.width;let u,c;return n==="left"?r?(c=this.right+s,i==="near"?u="left":i==="center"?(u="center",c+=l/2):(u="right",c+=l)):(c=this.right-a,i==="near"?u="right":i==="center"?(u="center",c-=l/2):(u="left",c=this.left)):n==="right"?r?(c=this.left+s,i==="near"?u="right":i==="center"?(u="center",c-=l/2):(u="left",c-=l)):(c=this.left+a,i==="near"?u="left":i==="center"?(u="center",c+=l/2):(u="right",c=this.right)):u="right",{textAlign:u,x:c}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:i,top:r,width:s,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(i,r,s,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const r=this.ticks.findIndex(s=>s.value===e);return r>=0?n.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){const n=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,o;const a=(l,u,c)=>{!c.width||!c.color||(i.save(),i.lineWidth=c.width,i.strokeStyle=c.color,i.setLineDash(c.borderDash||[]),i.lineDashOffset=c.borderDashOffset,i.beginPath(),i.moveTo(l.x,l.y),i.lineTo(u.x,u.y),i.stroke(),i.restore())};if(n.display)for(s=0,o=r.length;s<o;++s){const l=r[s];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:i,grid:r}}=this,s=i.setContext(this.getContext()),o=i.display?s.width:0;if(!o)return;const a=r.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let u,c,h,d;this.isHorizontal()?(u=Tu(e,this.left,o)-o/2,c=Tu(e,this.right,a)+a/2,h=d=l):(h=Tu(e,this.top,o)-o/2,d=Tu(e,this.bottom,a)+a/2,u=c=l),n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.beginPath(),n.moveTo(u,h),n.lineTo(c,d),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&nb(i,r);const s=this.getLabelItems(e);for(const o of s){const a=o.options,l=o.font,u=o.label,c=o.textOffset;vp(i,u,0,c,l,a)}r&&ib(i)}drawTitle(){const{ctx:e,options:{position:n,title:i,reverse:r}}=this;if(!i.display)return;const s=wr(i.font),o=Hs(i.padding),a=i.align;let l=s.lineHeight/2;n==="bottom"||n==="center"||Qt(n)?(l+=o.bottom,Ti(i.text)&&(l+=s.lineHeight*(i.text.length-1))):l+=o.top;const{titleX:u,titleY:c,maxWidth:h,rotation:d}=dW(this,l,n,a);vp(e,i.text,0,0,s,{color:i.color,maxWidth:h,rotation:d,textAlign:fW(a,n,r),textBaseline:"middle",translation:[u,c]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,i=Dt(e.grid&&e.grid.z,-1),r=Dt(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==lf.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:i,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let s,o;for(s=0,o=n.length;s<o;++s){const a=n[s];a[i]===this.id&&(!e||a.type===e)&&r.push(a)}return r}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return wr(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class em{constructor(e,n,i){this.type=e,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let i;mW(n)&&(i=this.register(n));const r=this.items,s=e.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in r||(r[s]=e,pW(e,o,i),this.override&&pi.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,i=e.id,r=this.scope;i in n&&delete n[i],r&&i in pi[r]&&(delete pi[r][i],this.override&&delete rc[i])}}function pW(t,e,n){const i=dp(Object.create(null),[n?pi.get(n):{},pi.get(e),t.defaults]);pi.set(e,i),t.defaultRoutes&&gW(e,t.defaultRoutes),t.descriptors&&pi.describe(e,t.descriptors)}function gW(t,e){Object.keys(e).forEach(n=>{const i=n.split("."),r=i.pop(),s=[t].concat(i).join("."),o=e[n].split("."),a=o.pop(),l=o.join(".");pi.route(s,r,l,a)})}function mW(t){return"id"in t&&"defaults"in t}class yW{constructor(){this.controllers=new em(Ku,"datasets",!0),this.elements=new em(qa,"elements"),this.plugins=new em(Object,"plugins"),this.scales=new em(lf,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,i){[...n].forEach(r=>{const s=i||this._getRegistryForType(r);i||s.isForType(r)||s===this.plugins&&r.id?this._exec(e,s,r):hn(r,o=>{const a=i||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,i){const r=Q_(e);Cn(i["before"+r],[],i),n[e](i),Cn(i["after"+r],[],i)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(e))return i}return this.plugins}_get(e,n,i){const r=n.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return r}}var Fo=new yW;class vW{constructor(){this._init=void 0}notify(e,n,i,r){if(n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const s=r?this._descriptors(e).filter(r):this._descriptors(e),o=this._notify(s,e,n,i);return n==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),o}_notify(e,n,i,r){r=r||{};for(const s of e){const o=s.plugin,a=o[i],l=[n,r,s.options];if(Cn(a,l,o)===!1&&r.cancelable)return!1}return!0}invalidate(){an(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const i=e&&e.config,r=Dt(i.options&&i.options.plugins,{}),s=wW(i);return r===!1&&!n?[]:bW(e,s,r,n)}_notifyStateChanges(e){const n=this._oldCache||[],i=this._cache,r=(s,o)=>s.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(r(n,i),e,"stop"),this._notify(r(i,n),e,"start")}}function wW(t){const e={},n=[],i=Object.keys(Fo.plugins.items);for(let s=0;s<i.length;s++)n.push(Fo.getPlugin(i[s]));const r=t.plugins||[];for(let s=0;s<r.length;s++){const o=r[s];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function _W(t,e){return!e&&t===!1?null:t===!0?{}:t}function bW(t,{plugins:e,localIds:n},i,r){const s=[],o=t.getContext();for(const a of e){const l=a.id,u=_W(i[l],r);u!==null&&s.push({plugin:a,options:xW(t.config,{plugin:a,local:n[l]},u,o)})}return s}function xW(t,{plugin:e,local:n},i,r){const s=t.pluginScopeKeys(e),o=t.getOptionScopes(i,s);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function x5(t,e){const n=pi.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function SW(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function AW(t,e){return t===e?"_index_":"_value_"}function dk(t){if(t==="x"||t==="y"||t==="r")return t}function kW(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function S5(t,...e){if(dk(t))return t;for(const n of e){const i=n.axis||kW(n.position)||t.length>1&&dk(t[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function pk(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function TW(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(i=>i.xAxisID===t||i.yAxisID===t);if(n.length)return pk(t,"x",n[0])||pk(t,"y",n[0])}return{}}function EW(t,e){const n=rc[t.type]||{scales:{}},i=e.scales||{},r=x5(t.type,e),s=Object.create(null);return Object.keys(i).forEach(o=>{const a=i[o];if(!Qt(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=S5(o,a,TW(o,t),pi.scales[a.type]),u=AW(l,r),c=n.scales||{};s[o]=Pd(Object.create(null),[{axis:l},a,c[l],c[u]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,l=o.indexAxis||x5(a,e),c=(rc[a]||{}).scales||{};Object.keys(c).forEach(h=>{const d=SW(h,l),f=o[d+"AxisID"]||d;s[f]=s[f]||Object.create(null),Pd(s[f],[{axis:d},i[f],c[h]])})}),Object.keys(s).forEach(o=>{const a=s[o];Pd(a,[pi.scales[a.type],pi.scale])}),s}function y6(t){const e=t.options||(t.options={});e.plugins=Dt(e.plugins,{}),e.scales=EW(t,e)}function v6(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function PW(t){return t=t||{},t.data=v6(t.data),y6(t),t}const gk=new Map,w6=new Set;function tm(t,e){let n=gk.get(t);return n||(n=e(),gk.set(t,n),w6.add(n)),n}const Qf=(t,e,n)=>{const i=ic(e,n);i!==void 0&&t.add(i)};class IW{constructor(e){this._config=PW(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=v6(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),y6(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return tm(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return tm(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return tm(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,i=this.type;return tm(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const i=this._scopeCache;let r=i.get(e);return(!r||n)&&(r=new Map,i.set(e,r)),r}getOptionScopes(e,n,i){const{options:r,type:s}=this,o=this._cachedScopes(e,i),a=o.get(n);if(a)return a;const l=new Set;n.forEach(c=>{e&&(l.add(e),c.forEach(h=>Qf(l,e,h))),c.forEach(h=>Qf(l,r,h)),c.forEach(h=>Qf(l,rc[s]||{},h)),c.forEach(h=>Qf(l,pi,h)),c.forEach(h=>Qf(l,w5,h))});const u=Array.from(l);return u.length===0&&u.push(Object.create(null)),w6.has(n)&&o.set(n,u),u}chartOptionScopes(){const{options:e,type:n}=this;return[e,rc[n]||{},pi.datasets[n]||{},{type:n},pi,w5]}resolveNamedOptions(e,n,i,r=[""]){const s={$shared:!0},{resolver:o,subPrefixes:a}=mk(this._resolverCache,e,r);let l=o;if(NW(o,n)){s.$shared=!1,i=Jl(i)?i():i;const u=this.createResolver(e,i,a);l=Wh(o,i,u)}for(const u of n)s[u]=l[u];return s}createResolver(e,n,i=[""],r){const{resolver:s}=mk(this._resolverCache,e,i);return Qt(n)?Wh(s,n,void 0,r):s}}function mk(t,e,n){let i=t.get(e);i||(i=new Map,t.set(e,i));const r=n.join();let s=i.get(r);return s||(s={resolver:sb(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},i.set(r,s)),s}const CW=t=>Qt(t)&&Object.getOwnPropertyNames(t).some(e=>Jl(t[e]));function NW(t,e){const{isScriptable:n,isIndexable:i}=t6(t);for(const r of e){const s=n(r),o=i(r),a=(o||s)&&t[r];if(s&&(Jl(a)||CW(a))||o&&Ti(a))return!0}return!1}var LW="4.5.1";const RW=["top","bottom","left","right","chartArea"];function yk(t,e){return t==="top"||t==="bottom"||RW.indexOf(t)===-1&&e==="x"}function vk(t,e){return function(n,i){return n[t]===i[t]?n[e]-i[e]:n[t]-i[t]}}function wk(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Cn(n&&n.onComplete,[t],e)}function MW(t){const e=t.chart,n=e.options.animation;Cn(n&&n.onProgress,[t],e)}function _6(t){return lb()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Om={},_k=t=>{const e=_6(t);return Object.values(Om).filter(n=>n.canvas===e).pop()};function DW(t,e,n){const i=Object.keys(t);for(const r of i){const s=+r;if(s>=e){const o=t[r];delete t[r],(n>0||s>e)&&(t[s+n]=o)}}}function OW(t,e,n,i){return!n||t.type==="mouseout"?null:i?e:t}var vl;let Wp=(vl=class{static register(...e){Fo.add(...e),bk()}static unregister(...e){Fo.remove(...e),bk()}constructor(e,n){const i=this.config=new IW(n),r=_6(e),s=_k(r);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||eW(r)),this.platform.updateConfig(i);const a=this.platform.acquireContext(r,o.aspectRatio),l=a&&a.canvas,u=l&&l.height,c=l&&l.width;if(this.id=NB(),this.ctx=a,this.canvas=l,this.width=c,this.height=u,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new vW,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=XB(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],Om[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}da.listen(this,"complete",wk),da.listen(this,"progress",MW),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:i,height:r,_aspectRatio:s}=this;return an(e)?n&&s?s:r?i/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Fo}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():W4(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return B4(this.canvas,this.ctx),this}stop(){return da.stop(this),this}resize(e,n){da.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const i=this.options,r=this.canvas,s=i.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(r,e,n,s),a=i.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,W4(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),Cn(i.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};hn(n,(i,r)=>{i.id=r})}buildOrUpdateScales(){const e=this.options,n=e.scales,i=this.scales,r=Object.keys(i).reduce((o,a)=>(o[a]=!1,o),{});let s=[];n&&(s=s.concat(Object.keys(n).map(o=>{const a=n[o],l=S5(o,a),u=l==="r",c=l==="x";return{options:a,dposition:u?"chartArea":c?"bottom":"left",dtype:u?"radialLinear":c?"category":"linear"}}))),hn(s,o=>{const a=o.options,l=a.id,u=S5(l,a),c=Dt(a.type,o.dtype);(a.position===void 0||yk(a.position,u)!==yk(o.dposition))&&(a.position=o.dposition),r[l]=!0;let h=null;if(l in i&&i[l].type===c)h=i[l];else{const d=Fo.getScale(c);h=new d({id:l,type:c,ctx:this.ctx,chart:this}),i[h.id]=h}h.init(a,e)}),hn(r,(o,a)=>{o||delete i[a]}),hn(i,o=>{js.configure(this,o,o.options),js.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,i=e.length;if(e.sort((r,s)=>r.index-s.index),i>n){for(let r=n;r<i;++r)this._destroyDatasetMeta(r);e.splice(n,i-n)}this._sortedMetasets=e.slice(0).sort(vk("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((i,r)=>{n.filter(s=>s===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=n.length;i<r;i++){const s=n[i];let o=this.getDatasetMeta(i);const a=s.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(i),o=this.getDatasetMeta(i)),o.type=a,o.indexAxis=s.indexAxis||x5(a,this.options),o.order=s.order||0,o.index=i,o.label=""+s.label,o.visible=this.isDatasetVisible(i),o.controller)o.controller.updateIndex(i),o.controller.linkScales();else{const l=Fo.getController(a),{datasetElementType:u,dataElementType:c}=pi.datasets[a];Object.assign(l,{dataElementType:Fo.getElement(c),datasetElementType:u&&Fo.getElement(u)}),o.controller=new l(this,i),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){hn(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let u=0,c=this.data.datasets.length;u<c;u++){const{controller:h}=this.getDatasetMeta(u),d=!r&&s.indexOf(h)===-1;h.buildOrUpdateElements(d),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=i.layout.autoPadding?o:0,this._updateLayout(o),r||hn(s,u=>{u.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(vk("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){hn(this.scales,e=>{js.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!C4(n,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:s}of n){const o=i==="_removeElements"?-s:s;DW(e,r,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=s=>new Set(e.filter(o=>o[0]===s).map((o,a)=>a+","+o.splice(1).join(","))),r=i(0);for(let s=1;s<n;s++)if(!C4(r,i(s)))return;return Array.from(r).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;js.update(this,this.width,this.height,e);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],hn(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,s)=>{r._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,Jl(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const i=this.getDatasetMeta(e),r={meta:i,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(n),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(da.has(this)?this.attached&&!da.running(this)&&da.start(this):(this.draw(),wk({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,i=[];let r,s;for(r=0,s=n.length;r<s;++r){const o=n[r];(!e||o.visible)&&i.push(o)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,i={meta:e,index:e.index,cancelable:!0},r=nU(this,e);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(r&&nb(n,r),e.controller.draw(),r&&ib(n),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(e){return yp(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,i,r){const s=RU.modes[n];return typeof s=="function"?s(this,e,i,r):[]}getDatasetMeta(e){const n=this.data.datasets[e],i=this._metasets;let r=i.filter(s=>s&&s._dataset===n).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=yc(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(e,n){const i=this.getDatasetMeta(e);i.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,i){const r=i?"show":"hide",s=this.getDatasetMeta(e),o=s.controller._resolveAnimations(void 0,r);pp(n)?(s.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),o.update(s,{visible:i}),this.update(a=>a.datasetIndex===e?r:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),da.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),B4(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Om[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,i=(s,o)=>{n.addEventListener(this,s,o),e[s]=o},r=(s,o,a)=>{s.offsetX=o,s.offsetY=a,this._eventHandler(s)};hn(this.options.events,s=>i(s,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,i=(l,u)=>{n.addEventListener(this,l,u),e[l]=u},r=(l,u)=>{e[l]&&(n.removeEventListener(this,l,u),delete e[l])},s=(l,u)=>{this.canvas&&this.resize(l,u)};let o;const a=()=>{r("attach",a),this.attached=!0,this.resize(),i("resize",s),i("detach",o)};o=()=>{this.attached=!1,r("resize",s),this._stop(),this._resize(0,0),i("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){hn(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},hn(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,i){const r=i?"set":"remove";let s,o,a,l;for(n==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+r+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const u=o&&this.getDatasetMeta(o.datasetIndex).controller;u&&u[r+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],i=e.map(({datasetIndex:s,index:o})=>{const a=this.getDatasetMeta(s);if(!a)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:a.data[o],index:o}});!I0(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(e,n,i){return this._plugins.notify(this,e,n,i)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,i){const r=this.options.hover,s=(l,u)=>l.filter(c=>!u.some(h=>c.datasetIndex===h.datasetIndex&&c.index===h.index)),o=s(n,e),a=i?e:s(e,n);o.length&&this.updateHoverStyle(o,r.mode,!1),a.length&&r.mode&&this.updateHoverStyle(a,r.mode,!0)}_eventHandler(e,n){const i={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},r=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const s=this._handleEvent(e,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(s||i.changed)&&this.render(),this}_handleEvent(e,n,i){const{_active:r=[],options:s}=this,o=n,a=this._getActiveElements(e,r,i,o),l=FB(e),u=OW(e,this._lastEvent,i,l);i&&(this._lastEvent=null,Cn(s.onHover,[e,a,this],this),l&&Cn(s.onClick,[e,a,this],this));const c=!I0(a,r);return(c||n)&&(this._active=a,this._updateHoverStyles(a,r,n)),this._lastEvent=u,c}_getActiveElements(e,n,i,r){if(e.type==="mouseout")return[];if(!i)return n;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,r)}},Fe(vl,"defaults",pi),Fe(vl,"instances",Om),Fe(vl,"overrides",rc),Fe(vl,"registry",Fo),Fe(vl,"version",LW),Fe(vl,"getChart",_k),vl);function bk(){return hn(Wp.instances,t=>t._plugins.invalidate())}function FW(t,e,n){const{startAngle:i,x:r,y:s,outerRadius:o,innerRadius:a,options:l}=e,{borderWidth:u,borderJoinStyle:c}=l,h=Math.min(u/o,oo(i-n));if(t.beginPath(),t.arc(r,s,o-u/2,i+h/2,n-h/2),a>0){const d=Math.min(u/a,oo(i-n));t.arc(r,s,a+u/2,n-d/2,i+d/2,!0)}else{const d=Math.min(u/2,o*oo(i-n));if(c==="round")t.arc(r,s,d,n-dn/2,i+dn/2,!0);else if(c==="bevel"){const f=2*d*d,y=-f*Math.cos(n+dn/2)+r,w=-f*Math.sin(n+dn/2)+s,b=f*Math.cos(i+dn/2)+r,v=f*Math.sin(i+dn/2)+s;t.lineTo(y,w),t.lineTo(b,v)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function jW(t,e,n){const{startAngle:i,pixelMargin:r,x:s,y:o,outerRadius:a,innerRadius:l}=e;let u=r/a;t.beginPath(),t.arc(s,o,a,i-u,n+u),l>r?(u=r/l,t.arc(s,o,l,n+u,i-u,!0)):t.arc(s,o,r,n+Pi,i-Pi),t.closePath(),t.clip()}function VW(t){return rb(t,["outerStart","outerEnd","innerStart","innerEnd"])}function BW(t,e,n,i){const r=VW(t.options.borderRadius),s=(n-e)/2,o=Math.min(s,i*e/2),a=l=>{const u=(n-Math.min(s,l))*i/2;return vr(l,0,Math.min(s,u))};return{outerStart:a(r.outerStart),outerEnd:a(r.outerEnd),innerStart:vr(r.innerStart,0,o),innerEnd:vr(r.innerEnd,0,o)}}function Dc(t,e,n,i){return{x:n+t*Math.cos(e),y:i+t*Math.sin(e)}}function D0(t,e,n,i,r,s){const{x:o,y:a,startAngle:l,pixelMargin:u,innerRadius:c}=e,h=Math.max(e.outerRadius+i+n-u,0),d=c>0?c+i+n+u:0;let f=0;const y=r-l;if(i){const oe=c>0?c-i:0,ce=h>0?h-i:0,ae=(oe+ce)/2,$=ae!==0?y*ae/(ae+i):y;f=(y-$)/2}const w=Math.max(.001,y*h-n/dn)/h,b=(y-w)/2,v=l+b+f,S=r-b-f,{outerStart:I,outerEnd:P,innerStart:F,innerEnd:H}=BW(e,d,h,S-v),M=h-I,k=h-P,T=v+I/M,O=S-P/k,E=d+F,L=d+H,D=v+F/E,Z=S-H/L;if(t.beginPath(),s){const oe=(T+O)/2;if(t.arc(o,a,h,T,oe),t.arc(o,a,h,oe,O),P>0){const ie=Dc(k,O,o,a);t.arc(ie.x,ie.y,P,O,S+Pi)}const ce=Dc(L,S,o,a);if(t.lineTo(ce.x,ce.y),H>0){const ie=Dc(L,Z,o,a);t.arc(ie.x,ie.y,H,S+Pi,Z+Math.PI)}const ae=(S-H/d+(v+F/d))/2;if(t.arc(o,a,d,S-H/d,ae,!0),t.arc(o,a,d,ae,v+F/d,!0),F>0){const ie=Dc(E,D,o,a);t.arc(ie.x,ie.y,F,D+Math.PI,v-Pi)}const $=Dc(M,v,o,a);if(t.lineTo($.x,$.y),I>0){const ie=Dc(M,T,o,a);t.arc(ie.x,ie.y,I,v-Pi,T)}}else{t.moveTo(o,a);const oe=Math.cos(T)*h+o,ce=Math.sin(T)*h+a;t.lineTo(oe,ce);const ae=Math.cos(O)*h+o,$=Math.sin(O)*h+a;t.lineTo(ae,$)}t.closePath()}function zW(t,e,n,i,r){const{fullCircles:s,startAngle:o,circumference:a}=e;let l=e.endAngle;if(s){D0(t,e,n,i,l,r);for(let u=0;u<s;++u)t.fill();isNaN(a)||(l=o+(a%ti||ti))}return D0(t,e,n,i,l,r),t.fill(),l}function UW(t,e,n,i,r){const{fullCircles:s,startAngle:o,circumference:a,options:l}=e,{borderWidth:u,borderJoinStyle:c,borderDash:h,borderDashOffset:d,borderRadius:f}=l,y=l.borderAlign==="inner";if(!u)return;t.setLineDash(h||[]),t.lineDashOffset=d,y?(t.lineWidth=u*2,t.lineJoin=c||"round"):(t.lineWidth=u,t.lineJoin=c||"bevel");let w=e.endAngle;if(s){D0(t,e,n,i,w,r);for(let b=0;b<s;++b)t.stroke();isNaN(a)||(w=o+(a%ti||ti))}y&&jW(t,e,w),l.selfJoin&&w-o>=dn&&f===0&&c!=="miter"&&FW(t,e,w),s||(D0(t,e,n,i,w,r),t.stroke())}class lh extends qa{constructor(n){super();Fe(this,"circumference");Fe(this,"endAngle");Fe(this,"fullCircles");Fe(this,"innerRadius");Fe(this,"outerRadius");Fe(this,"pixelMargin");Fe(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,i,r){const s=this.getProps(["x","y"],r),{angle:o,distance:a}=GN(s,{x:n,y:i}),{startAngle:l,endAngle:u,innerRadius:c,outerRadius:h,circumference:d}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),f=(this.options.spacing+this.options.borderWidth)/2,y=Dt(d,u-l),w=mp(o,l,u)&&l!==u,b=y>=ti||w,v=Cl(a,c+f,h+f);return b&&v}getCenterPoint(n){const{x:i,y:r,startAngle:s,endAngle:o,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:u,spacing:c}=this.options,h=(s+o)/2,d=(a+l+c+u)/2;return{x:i+Math.cos(h)*d,y:r+Math.sin(h)*d}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:i,circumference:r}=this,s=(i.offset||0)/4,o=(i.spacing||0)/2,a=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=r>ti?Math.floor(r/ti):0,r===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const l=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(l)*s,Math.sin(l)*s);const u=1-Math.sin(Math.min(dn,r||0)),c=s*u;n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,zW(n,this,c,o,a),UW(n,this,c,o,a),n.restore()}}Fe(lh,"id","arc"),Fe(lh,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),Fe(lh,"defaultRoutes",{backgroundColor:"backgroundColor"}),Fe(lh,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function b6(t,e,n=e){t.lineCap=Dt(n.borderCapStyle,e.borderCapStyle),t.setLineDash(Dt(n.borderDash,e.borderDash)),t.lineDashOffset=Dt(n.borderDashOffset,e.borderDashOffset),t.lineJoin=Dt(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Dt(n.borderWidth,e.borderWidth),t.strokeStyle=Dt(n.borderColor,e.borderColor)}function WW(t,e,n){t.lineTo(n.x,n.y)}function qW(t){return t.stepped?cz:t.tension||t.cubicInterpolationMode==="monotone"?hz:WW}function x6(t,e,n={}){const i=t.length,{start:r=0,end:s=i-1}=n,{start:o,end:a}=e,l=Math.max(r,o),u=Math.min(s,a),c=r<o&&s<o||r>a&&s>a;return{count:i,start:l,loop:e.loop,ilen:u<l&&!c?i+u-l:u-l}}function HW(t,e,n,i){const{points:r,options:s}=e,{count:o,start:a,loop:l,ilen:u}=x6(r,n,i),c=qW(s);let{move:h=!0,reverse:d}=i||{},f,y,w;for(f=0;f<=u;++f)y=r[(a+(d?u-f:f))%o],!y.skip&&(h?(t.moveTo(y.x,y.y),h=!1):c(t,w,y,d,s.stepped),w=y);return l&&(y=r[(a+(d?u:0))%o],c(t,w,y,d,s.stepped)),!!l}function $W(t,e,n,i){const r=e.points,{count:s,start:o,ilen:a}=x6(r,n,i),{move:l=!0,reverse:u}=i||{};let c=0,h=0,d,f,y,w,b,v;const S=P=>(o+(u?a-P:P))%s,I=()=>{w!==b&&(t.lineTo(c,b),t.lineTo(c,w),t.lineTo(c,v))};for(l&&(f=r[S(0)],t.moveTo(f.x,f.y)),d=0;d<=a;++d){if(f=r[S(d)],f.skip)continue;const P=f.x,F=f.y,H=P|0;H===y?(F<w?w=F:F>b&&(b=F),c=(h*c+P)/++h):(I(),t.lineTo(P,F),y=H,h=0,w=b=F),v=F}I()}function A5(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?$W:HW}function GW(t){return t.stepped?Wz:t.tension||t.cubicInterpolationMode==="monotone"?qz:Ru}function KW(t,e,n,i){let r=e._path;r||(r=e._path=new Path2D,e.path(r,n,i)&&r.closePath()),b6(t,e.options),t.stroke(r)}function YW(t,e,n,i){const{segments:r,options:s}=e,o=A5(e);for(const a of r)b6(t,s,a.style),t.beginPath(),o(t,e,a,{start:n,end:n+i-1})&&t.closePath(),t.stroke()}const XW=typeof Path2D=="function";function QW(t,e,n,i){XW&&!e.options.segment?KW(t,e,n,i):YW(t,e,n,i)}class uh extends qa{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const r=i.spanGaps?this._loop:this._fullLoop;Dz(this._points,i,e,r,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Jz(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,i=e.length;return i&&n[e[i-1].end]}interpolate(e,n){const i=this.options,r=e[n],s=this.points,o=Yz(this,{property:n,start:r,end:r});if(!o.length)return;const a=[],l=GW(i);let u,c;for(u=0,c=o.length;u<c;++u){const{start:h,end:d}=o[u],f=s[h],y=s[d];if(f===y){a.push(f);continue}const w=Math.abs((r-f[n])/(y[n]-f[n])),b=l(f,y,w,i.stepped);b[n]=e[n],a.push(b)}return a.length===1?a[0]:a}pathSegment(e,n,i){return A5(this)(e,this,n,i)}path(e,n,i){const r=this.segments,s=A5(this);let o=this._loop;n=n||0,i=i||this.points.length-n;for(const a of r)o&=s(e,this,a,{start:n,end:n+i-1});return!!o}draw(e,n,i,r){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),QW(e,this,i,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Fe(uh,"id","line"),Fe(uh,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Fe(uh,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Fe(uh,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function xk(t,e,n,i){const r=t.options,{[n]:s}=t.getProps([n],i);return Math.abs(e-s)<r.radius+r.hitRadius}class Ld extends qa{constructor(n){super();Fe(this,"parsed");Fe(this,"skip");Fe(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,i,r){const s=this.options,{x:o,y:a}=this.getProps(["x","y"],r);return Math.pow(n-o,2)+Math.pow(i-a,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(n,i){return xk(this,n,"x",i)}inYRange(n,i){return xk(this,n,"y",i)}getCenterPoint(n){const{x:i,y:r}=this.getProps(["x","y"],n);return{x:i,y:r}}size(n){n=n||this.options||{};let i=n.radius||0;i=Math.max(i,i&&n.hoverRadius||0);const r=i&&n.borderWidth||0;return(i+r)*2}draw(n,i){const r=this.options;this.skip||r.radius<.1||!yp(this,i,this.size(r)/2)||(n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.fillStyle=r.backgroundColor,_5(n,r,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}Fe(Ld,"id","point"),Fe(Ld,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Fe(Ld,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function S6(t,e){const{x:n,y:i,base:r,width:s,height:o}=t.getProps(["x","y","base","width","height"],e);let a,l,u,c,h;return t.horizontal?(h=o/2,a=Math.min(n,r),l=Math.max(n,r),u=i-h,c=i+h):(h=s/2,a=n-h,l=n+h,u=Math.min(i,r),c=Math.max(i,r)),{left:a,top:u,right:l,bottom:c}}function Ll(t,e,n,i){return t?0:vr(e,n,i)}function JW(t,e,n){const i=t.options.borderWidth,r=t.borderSkipped,s=e6(i);return{t:Ll(r.top,s.top,0,n),r:Ll(r.right,s.right,0,e),b:Ll(r.bottom,s.bottom,0,n),l:Ll(r.left,s.left,0,e)}}function ZW(t,e,n){const{enableBorderRadius:i}=t.getProps(["enableBorderRadius"]),r=t.options.borderRadius,s=wh(r),o=Math.min(e,n),a=t.borderSkipped,l=i||Qt(r);return{topLeft:Ll(!l||a.top||a.left,s.topLeft,0,o),topRight:Ll(!l||a.top||a.right,s.topRight,0,o),bottomLeft:Ll(!l||a.bottom||a.left,s.bottomLeft,0,o),bottomRight:Ll(!l||a.bottom||a.right,s.bottomRight,0,o)}}function eq(t){const e=S6(t),n=e.right-e.left,i=e.bottom-e.top,r=JW(t,n/2,i/2),s=ZW(t,n/2,i/2);return{outer:{x:e.left,y:e.top,w:n,h:i,radius:s},inner:{x:e.left+r.l,y:e.top+r.t,w:n-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,s.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(r.b,r.r))}}}}function _2(t,e,n,i){const r=e===null,s=n===null,a=t&&!(r&&s)&&S6(t,i);return a&&(r||Cl(e,a.left,a.right))&&(s||Cl(n,a.top,a.bottom))}function tq(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function nq(t,e){t.rect(e.x,e.y,e.w,e.h)}function b2(t,e,n={}){const i=t.x!==n.x?-e:0,r=t.y!==n.y?-e:0,s=(t.x+t.w!==n.x+n.w?e:0)-i,o=(t.y+t.h!==n.y+n.h?e:0)-r;return{x:t.x+i,y:t.y+r,w:t.w+s,h:t.h+o,radius:t.radius}}class Rd extends qa{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:i,backgroundColor:r}}=this,{inner:s,outer:o}=eq(this),a=tq(o.radius)?L0:nq;e.save(),(o.w!==s.w||o.h!==s.h)&&(e.beginPath(),a(e,b2(o,n,s)),e.clip(),a(e,b2(s,-n,o)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),a(e,b2(s,n)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,n,i){return _2(this,e,n,i)}inXRange(e,n){return _2(this,e,null,n)}inYRange(e,n){return _2(this,null,e,n)}getCenterPoint(e){const{x:n,y:i,base:r,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(n+r)/2:n,y:s?i:(i+r)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}Fe(Rd,"id","bar"),Fe(Rd,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Fe(Rd,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const Sk=(t,e)=>{let{boxHeight:n=e,boxWidth:i=e}=t;return t.usePointStyle&&(n=Math.min(n,e),i=t.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(e,n)}},iq=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class Ak extends qa{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,i){this.maxWidth=e,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=Cn(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(i=>e.filter(i,this.chart.data))),e.sort&&(n=n.sort((i,r)=>e.sort(i,r,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,r=wr(i.font),s=r.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=Sk(i,s);let u,c;n.font=r.string,this.isHorizontal()?(u=this.maxWidth,c=this._fitRows(o,s,a,l)+10):(c=this.maxHeight,u=this._fitCols(o,r,a,l)+10),this.width=Math.min(u,e.maxWidth||this.maxWidth),this.height=Math.min(c,e.maxHeight||this.maxHeight)}_fitRows(e,n,i,r){const{ctx:s,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],u=this.lineWidths=[0],c=r+a;let h=e;s.textAlign="left",s.textBaseline="middle";let d=-1,f=-c;return this.legendItems.forEach((y,w)=>{const b=i+n/2+s.measureText(y.text).width;(w===0||u[u.length-1]+b+2*a>o)&&(h+=c,u[u.length-(w>0?0:1)]=0,f+=c,d++),l[w]={left:0,top:f,row:d,width:b,height:r},u[u.length-1]+=b+a}),h}_fitCols(e,n,i,r){const{ctx:s,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],u=this.columnSizes=[],c=o-e;let h=a,d=0,f=0,y=0,w=0;return this.legendItems.forEach((b,v)=>{const{itemWidth:S,itemHeight:I}=rq(i,n,s,b,r);v>0&&f+I+2*a>c&&(h+=d+a,u.push({width:d,height:f}),y+=d+a,w++,d=f=0),l[v]={left:y,top:f,col:w,width:S,height:I},d=Math.max(d,S),f+=I+a}),h+=d,u.push({width:d,height:f}),h}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:r},rtl:s}}=this,o=_h(s,this.left,this.width);if(this.isHorizontal()){let a=0,l=fr(i,this.left+r,this.right-this.lineWidths[a]);for(const u of n)a!==u.row&&(a=u.row,l=fr(i,this.left+r,this.right-this.lineWidths[a])),u.top+=this.top+e+r,u.left=o.leftForLtr(o.x(l),u.width),l+=u.width+r}else{let a=0,l=fr(i,this.top+e+r,this.bottom-this.columnSizes[a].height);for(const u of n)u.col!==a&&(a=u.col,l=fr(i,this.top+e+r,this.bottom-this.columnSizes[a].height)),u.top=l,u.left+=this.left+r,u.left=o.leftForLtr(o.x(u.left),u.width),l+=u.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;nb(e,this),this._draw(),ib(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:i,ctx:r}=this,{align:s,labels:o}=e,a=pi.color,l=_h(e.rtl,this.left,this.width),u=wr(o.font),{padding:c}=o,h=u.size,d=h/2;let f;this.drawTitle(),r.textAlign=l.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=u.string;const{boxWidth:y,boxHeight:w,itemHeight:b}=Sk(o,h),v=function(H,M,k){if(isNaN(y)||y<=0||isNaN(w)||w<0)return;r.save();const T=Dt(k.lineWidth,1);if(r.fillStyle=Dt(k.fillStyle,a),r.lineCap=Dt(k.lineCap,"butt"),r.lineDashOffset=Dt(k.lineDashOffset,0),r.lineJoin=Dt(k.lineJoin,"miter"),r.lineWidth=T,r.strokeStyle=Dt(k.strokeStyle,a),r.setLineDash(Dt(k.lineDash,[])),o.usePointStyle){const O={radius:w*Math.SQRT2/2,pointStyle:k.pointStyle,rotation:k.rotation,borderWidth:T},E=l.xPlus(H,y/2),L=M+d;ZN(r,O,E,L,o.pointStyleWidth&&y)}else{const O=M+Math.max((h-w)/2,0),E=l.leftForLtr(H,y),L=wh(k.borderRadius);r.beginPath(),Object.values(L).some(D=>D!==0)?L0(r,{x:E,y:O,w:y,h:w,radius:L}):r.rect(E,O,y,w),r.fill(),T!==0&&r.stroke()}r.restore()},S=function(H,M,k){vp(r,k.text,H,M+b/2,u,{strikethrough:k.hidden,textAlign:l.textAlign(k.textAlign)})},I=this.isHorizontal(),P=this._computeTitleHeight();I?f={x:fr(s,this.left+c,this.right-i[0]),y:this.top+c+P,line:0}:f={x:this.left+c,y:fr(s,this.top+P+c,this.bottom-n[0].height),line:0},o6(this.ctx,e.textDirection);const F=b+c;this.legendItems.forEach((H,M)=>{r.strokeStyle=H.fontColor,r.fillStyle=H.fontColor;const k=r.measureText(H.text).width,T=l.textAlign(H.textAlign||(H.textAlign=o.textAlign)),O=y+d+k;let E=f.x,L=f.y;l.setWidth(this.width),I?M>0&&E+O+c>this.right&&(L=f.y+=F,f.line++,E=f.x=fr(s,this.left+c,this.right-i[f.line])):M>0&&L+F>this.bottom&&(E=f.x=E+n[f.line].width+c,f.line++,L=f.y=fr(s,this.top+P+c,this.bottom-n[f.line].height));const D=l.x(E);if(v(D,L,H),E=QB(T,E+y+d,I?E+O:this.right,e.rtl),S(l.x(E),L,H),I)f.x+=O+c;else if(typeof H.text!="string"){const Z=u.lineHeight;f.y+=A6(H,Z)+c}else f.y+=F}),a6(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,i=wr(n.font),r=Hs(n.padding);if(!n.display)return;const s=_h(e.rtl,this.left,this.width),o=this.ctx,a=n.position,l=i.size/2,u=r.top+l;let c,h=this.left,d=this.width;if(this.isHorizontal())d=Math.max(...this.lineWidths),c=this.top+u,h=fr(e.align,h,this.right-d);else{const y=this.columnSizes.reduce((w,b)=>Math.max(w,b.height),0);c=u+fr(e.align,this.top,this.bottom-y-e.labels.padding-this._computeTitleHeight())}const f=fr(a,h,h+d);o.textAlign=s.textAlign(Z_(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=i.string,vp(o,n.text,f,c,i)}_computeTitleHeight(){const e=this.options.title,n=wr(e.font),i=Hs(e.padding);return e.display?n.lineHeight+i.height:0}_getLegendItemAt(e,n){let i,r,s;if(Cl(e,this.left,this.right)&&Cl(n,this.top,this.bottom)){for(s=this.legendHitBoxes,i=0;i<s.length;++i)if(r=s[i],Cl(e,r.left,r.left+r.width)&&Cl(n,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(e){const n=this.options;if(!aq(e.type,n))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const r=this._hoveredItem,s=iq(r,i);r&&!s&&Cn(n.onLeave,[e,r,this],this),this._hoveredItem=i,i&&!s&&Cn(n.onHover,[e,i,this],this)}else i&&Cn(n.onClick,[e,i,this],this)}}function rq(t,e,n,i,r){const s=sq(i,t,e,n),o=oq(r,i,e.lineHeight);return{itemWidth:s,itemHeight:o}}function sq(t,e,n,i){let r=t.text;return r&&typeof r!="string"&&(r=r.reduce((s,o)=>s.length>o.length?s:o)),e+n.size/2+i.measureText(r).width}function oq(t,e,n){let i=t;return typeof e.text!="string"&&(i=A6(e,n)),i}function A6(t,e){const n=t.text?t.text.length:0;return e*n}function aq(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var k6={id:"legend",_element:Ak,start(t,e,n){const i=t.legend=new Ak({ctx:t.ctx,options:n,chart:t});js.configure(t,i,n),js.addBox(t,i)},stop(t){js.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const i=t.legend;js.configure(t,i,n),i.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const i=e.datasetIndex,r=n.chart;r.isDatasetVisible(i)?(r.hide(i),e.hidden=!0):(r.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:r,color:s,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const u=l.controller.getStyle(n?0:void 0),c=Hs(u.borderWidth);return{text:e[l.index].label,fillStyle:u.backgroundColor,fontColor:s,hidden:!l.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:u.borderColor,pointStyle:i||u.pointStyle,rotation:u.rotation,textAlign:r||u.textAlign,borderRadius:o&&(a||u.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class T6 extends qa{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const r=Ti(i.text)?i.text.length:1;this._padding=Hs(i.padding);const s=r*wr(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:i,bottom:r,right:s,options:o}=this,a=o.align;let l=0,u,c,h;return this.isHorizontal()?(c=fr(a,i,s),h=n+e,u=s-i):(o.position==="left"?(c=i+e,h=fr(a,r,n),l=dn*-.5):(c=s-e,h=fr(a,n,r),l=dn*.5),u=r-n),{titleX:c,titleY:h,maxWidth:u,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const i=wr(n.font),s=i.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:u}=this._drawArgs(s);vp(e,n.text,0,0,i,{color:n.color,maxWidth:l,rotation:u,textAlign:Z_(n.align),textBaseline:"middle",translation:[o,a]})}}function lq(t,e){const n=new T6({ctx:t.ctx,options:e,chart:t});js.configure(t,n,e),js.addBox(t,n),t.titleBlock=n}var uq={id:"title",_element:T6,start(t,e,n){lq(t,n)},stop(t){const e=t.titleBlock;js.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const i=t.titleBlock;js.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const hd={average(t){if(!t.length)return!1;let e,n,i=new Set,r=0,s=0;for(e=0,n=t.length;e<n;++e){const a=t[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();i.add(l.x),r+=l.y,++s}}return s===0||i.size===0?!1:{x:[...i].reduce((a,l)=>a+l)/i.size,y:r/s}},nearest(t,e){if(!t.length)return!1;let n=e.x,i=e.y,r=Number.POSITIVE_INFINITY,s,o,a;for(s=0,o=t.length;s<o;++s){const l=t[s].element;if(l&&l.hasValue()){const u=l.getCenterPoint(),c=v5(e,u);c<r&&(r=c,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,i=l.y}return{x:n,y:i}}};function Mo(t,e){return e&&(Ti(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function pa(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function cq(t,e){const{element:n,datasetIndex:i,index:r}=e,s=t.getDatasetMeta(i).controller,{label:o,value:a}=s.getLabelAndValue(r);return{chart:t,label:o,parsed:s.getParsed(r),raw:t.data.datasets[i].data[r],formattedValue:a,dataset:s.getDataset(),dataIndex:r,datasetIndex:i,element:n}}function kk(t,e){const n=t.chart.ctx,{body:i,footer:r,title:s}=t,{boxWidth:o,boxHeight:a}=e,l=wr(e.bodyFont),u=wr(e.titleFont),c=wr(e.footerFont),h=s.length,d=r.length,f=i.length,y=Hs(e.padding);let w=y.height,b=0,v=i.reduce((P,F)=>P+F.before.length+F.lines.length+F.after.length,0);if(v+=t.beforeBody.length+t.afterBody.length,h&&(w+=h*u.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),v){const P=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;w+=f*P+(v-f)*l.lineHeight+(v-1)*e.bodySpacing}d&&(w+=e.footerMarginTop+d*c.lineHeight+(d-1)*e.footerSpacing);let S=0;const I=function(P){b=Math.max(b,n.measureText(P).width+S)};return n.save(),n.font=u.string,hn(t.title,I),n.font=l.string,hn(t.beforeBody.concat(t.afterBody),I),S=e.displayColors?o+2+e.boxPadding:0,hn(i,P=>{hn(P.before,I),hn(P.lines,I),hn(P.after,I)}),S=0,n.font=c.string,hn(t.footer,I),n.restore(),b+=y.width,{width:b,height:w}}function hq(t,e){const{y:n,height:i}=e;return n<i/2?"top":n>t.height-i/2?"bottom":"center"}function fq(t,e,n,i){const{x:r,width:s}=i,o=n.caretSize+n.caretPadding;if(t==="left"&&r+s+o>e.width||t==="right"&&r-s-o<0)return!0}function dq(t,e,n,i){const{x:r,width:s}=n,{width:o,chartArea:{left:a,right:l}}=t;let u="center";return i==="center"?u=r<=(a+l)/2?"left":"right":r<=s/2?u="left":r>=o-s/2&&(u="right"),fq(u,t,e,n)&&(u="center"),u}function Tk(t,e,n){const i=n.yAlign||e.yAlign||hq(t,n);return{xAlign:n.xAlign||e.xAlign||dq(t,e,n,i),yAlign:i}}function pq(t,e){let{x:n,width:i}=t;return e==="right"?n-=i:e==="center"&&(n-=i/2),n}function gq(t,e,n){let{y:i,height:r}=t;return e==="top"?i+=n:e==="bottom"?i-=r+n:i-=r/2,i}function Ek(t,e,n,i){const{caretSize:r,caretPadding:s,cornerRadius:o}=t,{xAlign:a,yAlign:l}=n,u=r+s,{topLeft:c,topRight:h,bottomLeft:d,bottomRight:f}=wh(o);let y=pq(e,a);const w=gq(e,l,u);return l==="center"?a==="left"?y+=u:a==="right"&&(y-=u):a==="left"?y-=Math.max(c,d)+r:a==="right"&&(y+=Math.max(h,f)+r),{x:vr(y,0,i.width-e.width),y:vr(w,0,i.height-e.height)}}function nm(t,e,n){const i=Hs(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-i.right:t.x+i.left}function Pk(t){return Mo([],pa(t))}function mq(t,e,n){return yc(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function Ik(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const E6={beforeTitle:ca,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return n[e.dataIndex]}return""},afterTitle:ca,beforeBody:ca,beforeLabel:ca,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return an(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:ca,afterBody:ca,beforeFooter:ca,footer:ca,afterFooter:ca};function Vr(t,e,n,i){const r=t[e].call(n,i);return typeof r>"u"?E6[e].call(n,i):r}class k5 extends qa{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&n.options.animation&&i.animations,s=new u6(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=mq(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:i}=n,r=Vr(i,"beforeTitle",this,e),s=Vr(i,"title",this,e),o=Vr(i,"afterTitle",this,e);let a=[];return a=Mo(a,pa(r)),a=Mo(a,pa(s)),a=Mo(a,pa(o)),a}getBeforeBody(e,n){return Pk(Vr(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:i}=n,r=[];return hn(e,s=>{const o={before:[],lines:[],after:[]},a=Ik(i,s);Mo(o.before,pa(Vr(a,"beforeLabel",this,s))),Mo(o.lines,Vr(a,"label",this,s)),Mo(o.after,pa(Vr(a,"afterLabel",this,s))),r.push(o)}),r}getAfterBody(e,n){return Pk(Vr(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:i}=n,r=Vr(i,"beforeFooter",this,e),s=Vr(i,"footer",this,e),o=Vr(i,"afterFooter",this,e);let a=[];return a=Mo(a,pa(r)),a=Mo(a,pa(s)),a=Mo(a,pa(o)),a}_createItems(e){const n=this._active,i=this.chart.data,r=[],s=[],o=[];let a=[],l,u;for(l=0,u=n.length;l<u;++l)a.push(cq(this.chart,n[l]));return e.filter&&(a=a.filter((c,h,d)=>e.filter(c,h,d,i))),e.itemSort&&(a=a.sort((c,h)=>e.itemSort(c,h,i))),hn(a,c=>{const h=Ik(e.callbacks,c);r.push(Vr(h,"labelColor",this,c)),s.push(Vr(h,"labelPointStyle",this,c)),o.push(Vr(h,"labelTextColor",this,c))}),this.labelColors=r,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=a,a}update(e,n){const i=this.options.setContext(this.getContext()),r=this._active;let s,o=[];if(!r.length)this.opacity!==0&&(s={opacity:0});else{const a=hd[i.position].call(this,r,this._eventPosition);o=this._createItems(i),this.title=this.getTitle(o,i),this.beforeBody=this.getBeforeBody(o,i),this.body=this.getBody(o,i),this.afterBody=this.getAfterBody(o,i),this.footer=this.getFooter(o,i);const l=this._size=kk(this,i),u=Object.assign({},a,l),c=Tk(this.chart,i,u),h=Ek(i,u,c,this.chart);this.xAlign=c.xAlign,this.yAlign=c.yAlign,s={opacity:1,x:h.x,y:h.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,i,r){const s=this.getCaretPosition(e,i,r);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(e,n,i){const{xAlign:r,yAlign:s}=this,{caretSize:o,cornerRadius:a}=i,{topLeft:l,topRight:u,bottomLeft:c,bottomRight:h}=wh(a),{x:d,y:f}=e,{width:y,height:w}=n;let b,v,S,I,P,F;return s==="center"?(P=f+w/2,r==="left"?(b=d,v=b-o,I=P+o,F=P-o):(b=d+y,v=b+o,I=P-o,F=P+o),S=b):(r==="left"?v=d+Math.max(l,c)+o:r==="right"?v=d+y-Math.max(u,h)-o:v=this.caretX,s==="top"?(I=f,P=I-o,b=v-o,S=v+o):(I=f+w,P=I+o,b=v+o,S=v-o),F=I),{x1:b,x2:v,x3:S,y1:I,y2:P,y3:F}}drawTitle(e,n,i){const r=this.title,s=r.length;let o,a,l;if(s){const u=_h(i.rtl,this.x,this.width);for(e.x=nm(this,i.titleAlign,i),n.textAlign=u.textAlign(i.titleAlign),n.textBaseline="middle",o=wr(i.titleFont),a=i.titleSpacing,n.fillStyle=i.titleColor,n.font=o.string,l=0;l<s;++l)n.fillText(r[l],u.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===s&&(e.y+=i.titleMarginBottom-a)}}_drawColorBox(e,n,i,r,s){const o=this.labelColors[i],a=this.labelPointStyles[i],{boxHeight:l,boxWidth:u}=s,c=wr(s.bodyFont),h=nm(this,"left",s),d=r.x(h),f=l<c.lineHeight?(c.lineHeight-l)/2:0,y=n.y+f;if(s.usePointStyle){const w={radius:Math.min(u,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},b=r.leftForLtr(d,u)+u/2,v=y+l/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,_5(e,w,b,v),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,_5(e,w,b,v)}else{e.lineWidth=Qt(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const w=r.leftForLtr(d,u),b=r.leftForLtr(r.xPlus(d,1),u-2),v=wh(o.borderRadius);Object.values(v).some(S=>S!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,L0(e,{x:w,y,w:u,h:l,radius:v}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),L0(e,{x:b,y:y+1,w:u-2,h:l-2,radius:v}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(w,y,u,l),e.strokeRect(w,y,u,l),e.fillStyle=o.backgroundColor,e.fillRect(b,y+1,u-2,l-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,n,i){const{body:r}=this,{bodySpacing:s,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:u,boxPadding:c}=i,h=wr(i.bodyFont);let d=h.lineHeight,f=0;const y=_h(i.rtl,this.x,this.width),w=function(k){n.fillText(k,y.x(e.x+f),e.y+d/2),e.y+=d+s},b=y.textAlign(o);let v,S,I,P,F,H,M;for(n.textAlign=o,n.textBaseline="middle",n.font=h.string,e.x=nm(this,b,i),n.fillStyle=i.bodyColor,hn(this.beforeBody,w),f=a&&b!=="right"?o==="center"?u/2+c:u+2+c:0,P=0,H=r.length;P<H;++P){for(v=r[P],S=this.labelTextColors[P],n.fillStyle=S,hn(v.before,w),I=v.lines,a&&I.length&&(this._drawColorBox(n,e,P,y,i),d=Math.max(h.lineHeight,l)),F=0,M=I.length;F<M;++F)w(I[F]),d=h.lineHeight;hn(v.after,w)}f=0,d=h.lineHeight,hn(this.afterBody,w),e.y-=s}drawFooter(e,n,i){const r=this.footer,s=r.length;let o,a;if(s){const l=_h(i.rtl,this.x,this.width);for(e.x=nm(this,i.footerAlign,i),e.y+=i.footerMarginTop,n.textAlign=l.textAlign(i.footerAlign),n.textBaseline="middle",o=wr(i.footerFont),n.fillStyle=i.footerColor,n.font=o.string,a=0;a<s;++a)n.fillText(r[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+i.footerSpacing}}drawBackground(e,n,i,r){const{xAlign:s,yAlign:o}=this,{x:a,y:l}=e,{width:u,height:c}=i,{topLeft:h,topRight:d,bottomLeft:f,bottomRight:y}=wh(r.cornerRadius);n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.beginPath(),n.moveTo(a+h,l),o==="top"&&this.drawCaret(e,n,i,r),n.lineTo(a+u-d,l),n.quadraticCurveTo(a+u,l,a+u,l+d),o==="center"&&s==="right"&&this.drawCaret(e,n,i,r),n.lineTo(a+u,l+c-y),n.quadraticCurveTo(a+u,l+c,a+u-y,l+c),o==="bottom"&&this.drawCaret(e,n,i,r),n.lineTo(a+f,l+c),n.quadraticCurveTo(a,l+c,a,l+c-f),o==="center"&&s==="left"&&this.drawCaret(e,n,i,r),n.lineTo(a,l+h),n.quadraticCurveTo(a,l,a+h,l),n.closePath(),n.fill(),r.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,i=this.$animations,r=i&&i.x,s=i&&i.y;if(r||s){const o=hd[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=kk(this,e),l=Object.assign({},o,this._size),u=Tk(n,e,l),c=Ek(e,l,u,n);(r._to!==c.x||s._to!==c.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,c))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const r={width:this.width,height:this.height},s={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const o=Hs(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=i,this.drawBackground(s,e,r,n),o6(e,n.textDirection),s.y+=o.top,this.drawTitle(s,e,n),this.drawBody(s,e,n),this.drawFooter(s,e,n),a6(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const i=this._active,r=e.map(({datasetIndex:a,index:l})=>{const u=this.chart.getDatasetMeta(a);if(!u)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:u.data[l],index:l}}),s=!I0(i,r),o=this._positionChanged(r,n);(s||o)&&(this._active=r,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,s=this._active||[],o=this._getActiveElements(e,s,n,i),a=this._positionChanged(o,e),l=n||!I0(o,s)||a;return l&&(this._active=o,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,i,r){const s=this.options;if(e.type==="mouseout")return[];if(!r)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,s.mode,s,i);return s.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:i,caretY:r,options:s}=this,o=hd[s.position].call(this,e,n);return o!==!1&&(i!==o.x||r!==o.y)}}Fe(k5,"positioners",hd);var P6={id:"tooltip",_element:k5,positioners:hd,afterInit(t,e,n){n&&(t.tooltip=new k5({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:E6},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const yq=(t,e,n,i)=>(typeof e=="string"?(n=t.push(e)-1,i.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function vq(t,e,n,i){const r=t.indexOf(e);if(r===-1)return yq(t,e,n,i);const s=t.lastIndexOf(e);return r!==s?n:r}const wq=(t,e)=>t===null?null:vr(Math.round(t),0,e);function Ck(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class O0 extends lf{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:r,label:s}of n)i[r]===s&&i.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(an(e))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===e?n:vq(i,e,Dt(n,e),this._addedLabels),wq(n,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),n||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const e=this.min,n=this.max,i=this.options.offset,r=[];let s=this.getLabels();s=e===0&&n===s.length-1?s:s.slice(e,n+1),this._valueRange=Math.max(s.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let o=e;o<=n;o++)r.push({value:o});return r}getLabelForValue(e){return Ck.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}Fe(O0,"id","category"),Fe(O0,"defaults",{ticks:{callback:Ck}});function _q(t,e){const n=[],{bounds:r,step:s,min:o,max:a,precision:l,count:u,maxTicks:c,maxDigits:h,includeBounds:d}=t,f=s||1,y=c-1,{min:w,max:b}=e,v=!an(o),S=!an(a),I=!an(u),P=(b-w)/(h+1);let F=L4((b-w)/y/f)*f,H,M,k,T;if(F<1e-14&&!v&&!S)return[{value:w},{value:b}];T=Math.ceil(b/F)-Math.floor(w/F),T>y&&(F=L4(T*F/y/f)*f),an(l)||(H=Math.pow(10,l),F=Math.ceil(F*H)/H),r==="ticks"?(M=Math.floor(w/F)*F,k=Math.ceil(b/F)*F):(M=w,k=b),v&&S&&s&&UB((a-o)/s,F/1e3)?(T=Math.round(Math.min((a-o)/F,c)),F=(a-o)/T,M=o,k=a):I?(M=v?o:M,k=S?a:k,T=u-1,F=(k-M)/T):(T=(k-M)/F,Id(T,Math.round(T),F/1e3)?T=Math.round(T):T=Math.ceil(T));const O=Math.max(R4(F),R4(M));H=Math.pow(10,an(l)?O:l),M=Math.round(M*H)/H,k=Math.round(k*H)/H;let E=0;for(v&&(d&&M!==o?(n.push({value:o}),M<o&&E++,Id(Math.round((M+E*F)*H)/H,o,Nk(o,P,t))&&E++):M<o&&E++);E<T;++E){const L=Math.round((M+E*F)*H)/H;if(S&&L>a)break;n.push({value:L})}return S&&d&&k!==a?n.length&&Id(n[n.length-1].value,a,Nk(a,P,t))?n[n.length-1].value=a:n.push({value:a}):(!S||k===a)&&n.push({value:k}),n}function Nk(t,e,{horizontal:n,minRotation:i}){const r=xa(i),s=(n?Math.sin(r):Math.cos(r))||.001,o=.75*e*(""+t).length;return Math.min(e/s,o)}class bq extends lf{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return an(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:r,max:s}=this;const o=l=>r=n?r:l,a=l=>s=i?s:l;if(e){const l=qo(r),u=qo(s);l<0&&u<0?a(0):l>0&&u>0&&o(0)}if(r===s){let l=s===0?1:Math.abs(s*.05);a(s+l),e||o(r-l)}this.min=r,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=e,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),n=n||11),n&&(r=Math.min(n,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},s=this._range||this,o=_q(r,s);return e.bounds==="ticks"&&WB(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const r=(i-n)/Math.max(e.length-1,1)/2;n-=r,i+=r}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(e){return tb(e,this.chart.options.locale,this.options.ticks.format)}}class F0 extends bq{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=qs(e)?e:0,this.max=qs(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,i=xa(this.options.ticks.minRotation),r=(e?Math.sin(i):Math.cos(i))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/r))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}Fe(F0,"id","linear"),Fe(F0,"defaults",{ticks:{callback:JN.formatters.numeric}});const O1={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},zr=Object.keys(O1);function Lk(t,e){return t-e}function Rk(t,e){if(an(e))return null;const n=t._adapter,{parser:i,round:r,isoWeekday:s}=t._parseOpts;let o=e;return typeof i=="function"&&(o=i(o)),qs(o)||(o=typeof i=="string"?n.parse(o,i):n.parse(o)),o===null?null:(r&&(o=r==="week"&&(gp(s)||s===!0)?n.startOf(o,"isoWeek",s):n.startOf(o,r)),+o)}function Mk(t,e,n,i){const r=zr.length;for(let s=zr.indexOf(t);s<r-1;++s){const o=O1[zr[s]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=i)return zr[s]}return zr[r-1]}function xq(t,e,n,i,r){for(let s=zr.length-1;s>=zr.indexOf(n);s--){const o=zr[s];if(O1[o].common&&t._adapter.diff(r,i,o)>=e-1)return o}return zr[n?zr.indexOf(n):0]}function Sq(t){for(let e=zr.indexOf(t)+1,n=zr.length;e<n;++e)if(O1[zr[e]].common)return zr[e]}function Dk(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:i,hi:r}=J_(n,e),s=n[i]>=e?n[i]:n[r];t[s]=!0}}function Aq(t,e,n,i){const r=t._adapter,s=+r.startOf(e[0].value,i),o=e[e.length-1].value;let a,l;for(a=s;a<=o;a=+r.add(a,1,i))l=n[a],l>=0&&(e[l].major=!0);return e}function Ok(t,e,n){const i=[],r={},s=e.length;let o,a;for(o=0;o<s;++o)a=e[o],r[a]=o,i.push({value:a,major:!1});return s===0||!n?i:Aq(t,i,r,n)}class j0 extends lf{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const i=e.time||(e.time={}),r=this._adapter=new PU._date(e.adapters.date);r.init(n),Pd(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:Rk(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,i=e.time.unit||"day";let{min:r,max:s,minDefined:o,maxDefined:a}=this.getUserBounds();function l(u){!o&&!isNaN(u.min)&&(r=Math.min(r,u.min)),!a&&!isNaN(u.max)&&(s=Math.max(s,u.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),r=qs(r)&&!isNaN(r)?r:+n.startOf(Date.now(),i),s=qs(s)&&!isNaN(s)?s:+n.endOf(Date.now(),i)+1,this.min=Math.min(r,s-1),this.max=Math.max(r+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],i=e[e.length-1]),{min:n,max:i}}buildTicks(){const e=this.options,n=e.time,i=e.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const s=this.min,o=this.max,a=KB(r,s,o);return this._unit=n.unit||(i.autoSkip?Mk(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):xq(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:Sq(this._unit),this.initOffsets(r),e.reverse&&a.reverse(),Ok(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,i=0,r,s;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),e.length===1?n=1-r:n=(this.getDecimalForValue(e[1])-r)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?i=s:i=(s-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=vr(n,0,o),i=vr(i,0,o),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const e=this._adapter,n=this.min,i=this.max,r=this.options,s=r.time,o=s.unit||Mk(s.minUnit,n,i,this._getLabelCapacity(n)),a=Dt(r.ticks.stepSize,1),l=o==="week"?s.isoWeekday:!1,u=gp(l)||l===!0,c={};let h=n,d,f;if(u&&(h=+e.startOf(h,"isoWeek",l)),h=+e.startOf(h,u?"day":o),e.diff(i,n,o)>1e5*a)throw new Error(n+" and "+i+" are too far apart with stepSize of "+a+" "+o);const y=r.ticks.source==="data"&&this.getDataTimestamps();for(d=h,f=0;d<i;d=+e.add(d,a,o),f++)Dk(c,d,y);return(d===i||r.bounds==="ticks"||f===1)&&Dk(c,d,y),Object.keys(c).sort(Lk).map(w=>+w)}getLabelForValue(e){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(e,i.tooltipFormat):n.format(e,i.displayFormats.datetime)}format(e,n){const r=this.options.time.displayFormats,s=this._unit,o=n||r[s];return this._adapter.format(e,o)}_tickFormatFunction(e,n,i,r){const s=this.options,o=s.ticks.callback;if(o)return Cn(o,[e,n,i],this);const a=s.time.displayFormats,l=this._unit,u=this._majorUnit,c=l&&a[l],h=u&&a[u],d=i[n],f=u&&h&&d&&d.major;return this._adapter.format(e,r||(f?h:c))}generateTickLabels(e){let n,i,r;for(n=0,i=e.length;n<i;++n)r=e[n],r.label=this._tickFormatFunction(r.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,i=this.ctx.measureText(e).width,r=xa(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(r),o=Math.sin(r),a=this._resolveTickFontOptions(0).size;return{w:i*s+a*o,h:i*o+a*s}}_getLabelCapacity(e){const n=this.options.time,i=n.displayFormats,r=i[n.unit]||i.millisecond,s=this._tickFormatFunction(e,0,Ok(this,[e],this._majorUnit),r),o=this._getLabelSize(s),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,i;if(e.length)return e;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(n=0,i=r.length;n<i;++n)e=e.concat(r[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,i;if(e.length)return e;const r=this.getLabels();for(n=0,i=r.length;n<i;++n)e.push(Rk(this,r[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return YN(e.sort(Lk))}}Fe(j0,"id","time"),Fe(j0,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function im(t,e,n){let i=0,r=t.length-1,s,o,a,l;n?(e>=t[i].pos&&e<=t[r].pos&&({lo:i,hi:r}=zu(t,"pos",e)),{pos:s,time:a}=t[i],{pos:o,time:l}=t[r]):(e>=t[i].time&&e<=t[r].time&&({lo:i,hi:r}=zu(t,"time",e)),{time:s,pos:a}=t[i],{time:o,pos:l}=t[r]);const u=o-s;return u?a+(l-a)*(e-s)/u:a}class Fk extends j0{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=im(n,this.min),this._tableRange=im(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:i}=this,r=[],s=[];let o,a,l,u,c;for(o=0,a=e.length;o<a;++o)u=e[o],u>=n&&u<=i&&r.push(u);if(r.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(o=0,a=r.length;o<a;++o)c=r[o+1],l=r[o-1],u=r[o],Math.round((c+l)/2)!==u&&s.push({time:u,pos:o/(a-1)});return s}_generate(){const e=this.min,n=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((r,s)=>r-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?e=this.normalize(n.concat(i)):e=n.length?n:i,e=this._cache.all=e,e}getDecimalForValue(e){return(im(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return im(this._table,i*this._tableRange+this._minPos,!0)}}Fe(Fk,"id","timeseries"),Fe(Fk,"defaults",j0.defaults);const I6="label";function jk(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function kq(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function C6(t,e){t.labels=e}function N6(t,e,n=I6){const i=[];t.datasets=e.map(r=>{const s=t.datasets.find(o=>o[n]===r[n]);return!s||!r.data||i.includes(s)?{...r}:(i.push(s),Object.assign(s,r),s)})}function Tq(t,e=I6){const n={labels:[],datasets:[]};return C6(n,t.labels),N6(n,t.datasets,e),n}function Eq(t,e){const{height:n=150,width:i=300,redraw:r=!1,datasetIdKey:s,type:o,data:a,options:l,plugins:u=[],fallbackContent:c,updateMode:h,...d}=t,f=xe.useRef(null),y=xe.useRef(null),w=()=>{f.current&&(y.current=new Wp(f.current,{type:o,data:Tq(a,s),options:l&&{...l},plugins:u}),jk(e,y.current))},b=()=>{jk(e,null),y.current&&(y.current.destroy(),y.current=null)};return xe.useEffect(()=>{!r&&y.current&&l&&kq(y.current,l)},[r,l]),xe.useEffect(()=>{!r&&y.current&&C6(y.current.config.data,a.labels)},[r,a.labels]),xe.useEffect(()=>{!r&&y.current&&a.datasets&&N6(y.current.config.data,a.datasets,s)},[r,a.datasets]),xe.useEffect(()=>{y.current&&(r?(b(),setTimeout(w)):y.current.update(h))},[r,l,a.labels,a.datasets,h]),xe.useEffect(()=>{y.current&&(b(),setTimeout(w))},[o]),xe.useEffect(()=>(w(),()=>b()),[]),N.jsx("canvas",{ref:f,role:"img",height:n,width:i,...d,children:c})}const Pq=xe.forwardRef(Eq);function F1(t,e){return Wp.register(e),xe.forwardRef((n,i)=>N.jsx(Pq,{...n,ref:i,type:t}))}const L6=F1("line",Mm),R6=F1("bar",Rm),Iq=F1("doughnut",ah),Cq=F1("pie",b5),Nq={Utensils:N.jsx(cC,{}),ShoppingBag:N.jsx(oC,{}),Plane:N.jsx(rC,{}),Zap:N.jsx(d_,{}),Car:N.jsx(jI,{}),Coffee:N.jsx(WI,{}),Home:N.jsx(h_,{}),Smartphone:N.jsx(aC,{}),Activity:N.jsx(k1,{}),MoreHorizontal:N.jsx(c_,{}),TrendingUp:N.jsx(e5,{}),CreditCard:N.jsx(u_,{}),PiggyBank:N.jsx(f_,{}),Briefcase:N.jsx(T1,{}),Wallet:N.jsx(Fh,{}),Gamepad2:N.jsx(KI,{}),Baby:N.jsx(DI,{}),PawPrint:N.jsx(nC,{}),Gift:N.jsx(XI,{}),Tv:N.jsx(uC,{}),Heart:N.jsx(ZI,{}),Wifi:N.jsx(hC,{}),Droplets:N.jsx(qI,{}),Lightbulb:N.jsx(eC,{}),Book:N.jsx(OI,{}),GraduationCap:N.jsx(QI,{}),Hammer:N.jsx(JI,{}),Shirt:N.jsx(sC,{}),Gem:N.jsx(YI,{}),Bus:N.jsx(FI,{}),Calendar:N.jsx(a_,{}),Fuel:N.jsx(GI,{}),Music:N.jsx(tC,{}),Film:N.jsx($I,{}),Dumbbell:N.jsx(HI,{}),TrendingDown:N.jsx(R7,{})},Hh=(t,e=18)=>{const n=Nq[t]||N.jsx(c_,{});return CE.cloneElement(n,{size:e})},ch=t=>{const e=t==null?void 0:t.toLowerCase();return e!=null&&e.includes("makan")||e!=null&&e.includes("food")?"#13ec5b":e!=null&&e.includes("belanja")||e!=null&&e.includes("shop")?"#fbbf24":e!=null&&e.includes("travel")||e!=null&&e.includes("jalan")||e!=null&&e.includes("transport")?"#60a5fa":e!=null&&e.includes("kendaraan")||e!=null&&e.includes("bensin")||e!=null&&e.includes("motor")||e!=null&&e.includes("car")?"#f87171":e!=null&&e.includes("tagihan")||e!=null&&e.includes("bill")||e!=null&&e.includes("listrik")?"#a78bfa":e!=null&&e.includes("sehat")||e!=null&&e.includes("health")||e!=null&&e.includes("obat")?"#fb7185":e!=null&&e.includes("hobi")||e!=null&&e.includes("game")?"#2dd4bf":e!=null&&e.includes("pendidikan")||e!=null&&e.includes("sekolah")||e!=null&&e.includes("edukasi")?"#fb923c":"#94a3b8"},Lq=(t,e,n="MoreHorizontal")=>{const i=t.find(r=>{var s;return((s=r.category)==null?void 0:s.toLowerCase())===(e==null?void 0:e.toLowerCase())});return Hh((i==null?void 0:i.iconName)||n)},M6=(t,e)=>{if(t.type==="income")return{color:"#13ec5b",icon:"TrendingUp"};if(t.type==="transfer")return{color:"#60a5fa",icon:"Activity"};const n=e.find(s=>{var o,a;return((o=s.category)==null?void 0:o.toLowerCase())===((a=t.category)==null?void 0:a.toLowerCase())}),i=n?ch(n.category):"#fbbf24",r=(n==null?void 0:n.iconName)||"TrendingDown";return{color:i,icon:r}};Wp.register(O0,F0,Rd,Ld,uh,lh,uq,P6,k6);const Rq=({wallets:t=[],transactions:e=[],budgets:n=[],onSeeAllTransactions:i,onIsiSaldo:r,onTransfer:s,setActiveTab:o})=>{const[a,l]=xe.useState(0),[u,c]=xe.useState("month"),[h,d]=xe.useState("bar"),f=t.reduce((P,F)=>P+(Number(F.balance)||0),0),y=P=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(P),w=xe.useMemo(()=>{const P=new Date;let F=[],H=[],M=[];if(u==="week"?(F=["Sen","Sel","Rab","Kam","Jum","Sab","Min"],H=Array(7).fill(0),M=Array(7).fill(0),e.forEach(k=>{const T=new Date(k.date);if((P-T)/(1e3*60*60*24)<7){const E=(T.getDay()+6)%7;k.type==="income"&&(H[E]+=Number(k.amount)),k.type==="expense"&&(M[E]+=Number(k.amount))}})):u==="month"?(F=["Mgg 1","Mgg 2","Mgg 3","Mgg 4"],H=Array(4).fill(0),M=Array(4).fill(0),e.forEach(k=>{const T=new Date(k.date);if(T.getMonth()===P.getMonth()&&T.getFullYear()===P.getFullYear()){const O=Math.min(Math.floor((T.getDate()-1)/7),3);k.type==="income"&&(H[O]+=Number(k.amount)),k.type==="expense"&&(M[O]+=Number(k.amount))}})):(F=["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Agu","Sep","Okt","Nov","Des"],H=Array(12).fill(0),M=Array(12).fill(0),e.forEach(k=>{const T=new Date(k.date);if(T.getFullYear()===P.getFullYear()){const O=T.getMonth();k.type==="income"&&(H[O]+=Number(k.amount)),k.type==="expense"&&(M[O]+=Number(k.amount))}})),h==="pie"){const k=H.reduce((O,E)=>O+E,0),T=M.reduce((O,E)=>O+E,0);return{labels:["Pemasukan","Pengeluaran"],datasets:[{data:[k,T],backgroundColor:["#13ec5b","#fbbf24"],borderWidth:0,hoverOffset:10}]}}return{labels:F,datasets:[{label:"Pemasukan",data:H,backgroundColor:"#13ec5b",borderColor:"#13ec5b",tension:.4,fill:h==="line",pointBackgroundColor:"#13ec5b",borderRadius:8,barThickness:12},{label:"Pengeluaran",data:M,backgroundColor:h==="line"?"#fbbf2488":"#fbbf24",borderColor:"#fbbf24",tension:.4,fill:h==="line",pointBackgroundColor:"#fbbf24",borderRadius:8,barThickness:12}]}},[e,u,h]),b={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:h==="pie",position:"bottom",labels:{color:"#94a3b8",font:{size:10,weight:"bold"}}},tooltip:{backgroundColor:"rgba(15, 23, 42, 0.9)",titleFont:{size:10,weight:"bold"},bodyFont:{size:12,weight:"black"},padding:12,cornerRadius:12,displayColors:!1,callbacks:{label:P=>y(P.raw)}}},scales:h==="pie"?{}:{x:{grid:{display:!1},ticks:{color:"#94a3b8",font:{size:10,weight:"bold"}}},y:{display:!1,grid:{display:!1}}}},v=xe.useMemo(()=>{if(!e.length)return{percent:0,label:"No Data",isUp:!0};const P=new Date,F=new Date(P.getFullYear(),P.getMonth(),P.getDate()),H=new Date(Math.min(...e.map(Z=>new Date(Z.date)))),M=Math.ceil((P-H)/(1e3*60*60*24)),k=(Z,oe)=>e.filter(ce=>{const ae=new Date(ce.date);return ae>=Z&&ae<oe}).reduce((ce,ae)=>ae.type==="income"?ce+Number(ae.amount):ae.type==="expense"?ce-Number(ae.amount):ce,0);if(M<7){const Z=new Date(F);Z.setDate(Z.getDate()-1);const oe=k(F,new Date(P.getTime()+1)),ce=k(Z,F);if(ce===0)return{percent:oe>0?100:0,label:"vs Kemarin",isUp:oe>=0};const ae=(oe-ce)/Math.abs(ce)*100;return{percent:Math.abs(Math.round(ae)),label:"vs Kemarin",isUp:ae>=0}}if(M<30){const Z=new Date(F);Z.setDate(Z.getDate()-7);const oe=new Date(Z);oe.setDate(oe.getDate()-7);const ce=k(Z,new Date(P.getTime()+1)),ae=k(oe,Z);if(ae===0)return{percent:ce>0?100:0,label:"vs Minggu Lalu",isUp:ce>=0};const $=(ce-ae)/Math.abs(ae)*100;return{percent:Math.abs(Math.round($)),label:"vs Minggu Lalu",isUp:$>=0}}const T=new Date(P.getFullYear(),P.getMonth(),1),O=new Date(P.getFullYear(),P.getMonth()-1,1),E=k(T,new Date(P.getTime()+1)),L=k(O,T);if(L===0)return{percent:E>0?100:0,label:"vs Bulan Lalu",isUp:E>=0};const D=(E-L)/Math.abs(L)*100;return{percent:Math.abs(Math.round(D)),label:"vs Bulan Lalu",isUp:D>=0}},[e]),S=P=>{const F=(a+P+(t.length+1))%(t.length+1);l(F)},I=P=>{switch(P==null?void 0:P.toLowerCase()){case"bank":return N.jsx(u_,{size:20});case"saving":return N.jsx(f_,{size:20});case"business":return N.jsx(T1,{size:20});default:return N.jsx(Fh,{size:20})}};return N.jsxs("div",{className:"px-6 space-y-8 animate-in fade-in duration-500 overflow-x-hidden pt-4",children:[N.jsxs("section",{className:"relative group",children:[N.jsxs("div",{className:"relative h-[240px] w-full flex items-center justify-center",children:[N.jsx(Fp,{initial:!1,mode:"wait",children:N.jsx(Uh.div,{drag:"x",dragConstraints:{left:0,right:0},dragElastic:1,onDragEnd:(P,{offset:F,velocity:H})=>{const M=F.x;M<-50?S(1):M>50&&S(-1)},initial:{x:100,opacity:0,scale:.9},animate:{x:0,opacity:1,scale:1},exit:{x:-100,opacity:0,scale:.9},transition:{type:"spring",stiffness:300,damping:30},className:"absolute inset-0 cursor-grab active:cursor-grabbing",children:a===0?N.jsxs("div",{className:"h-full glass-card rounded-[2.5rem] p-8 relative overflow-hidden flex flex-col justify-between shadow-2xl shadow-primary/10 border-white/5",children:[N.jsx("div",{className:"absolute -top-24 -right-24 size-64 bg-primary/20 blur-[80px] rounded-full"}),N.jsx("div",{className:"absolute -bottom-24 -left-24 size-64 bg-amber-accent/10 blur-[80px] rounded-full"}),N.jsxs("div",{className:"relative z-10",children:[N.jsxs("div",{className:"flex justify-between items-start mb-6",children:[N.jsxs("div",{children:[N.jsx("p",{className:"text-slate-400 text-[10px] font-bold tracking-[0.2em] uppercase",children:"TOTAL SALDO"}),N.jsx("div",{className:"h-1 w-8 bg-primary mt-1 rounded-full"})]}),N.jsx("div",{className:"size-10 glass-card rounded-xl flex items-center justify-center text-primary border-primary/20",children:N.jsx(Fh,{size:20})})]}),N.jsx("h2",{className:"text-4xl font-black tracking-tighter mb-2",children:y(f)}),N.jsxs("div",{className:`flex w-fit items-center gap-2 font-bold px-3 py-1 rounded-full border transition-all ${v.isUp?"bg-primary/10 text-primary border-primary/20":"bg-red-500/10 text-red-400 border-red-500/20"}`,children:[v.isUp?N.jsx(e5,{size:12,strokeWidth:3}):N.jsx(Jv,{size:12,strokeWidth:3}),N.jsxs("p",{className:"text-[10px] uppercase truncate",children:[v.percent,"% ",v.isUp?"Grow up":"Down"," ",v.label]})]})]}),N.jsxs("div",{className:"relative z-10 flex gap-4 mt-3",children:[N.jsxs("button",{onClick:r,className:"flex-1 bg-primary text-background-dark font-black py-4 rounded-[1.25rem] flex items-center justify-center gap-2 hover:opacity-90 active:scale-95 transition-all shadow-lg shadow-primary/20 text-[10px] uppercase tracking-wider",children:[N.jsx(op,{size:16,strokeWidth:4})," ISI SALDO"]}),N.jsxs("button",{onClick:s,className:"flex-1 glass-card border-white/10 text-white font-black py-4 rounded-[1.25rem] flex items-center justify-center gap-2 hover:bg-white/5 active:scale-95 transition-all text-[10px] uppercase tracking-wider",children:[N.jsx(e5,{size:16,strokeWidth:4})," TRANSFER"]})]})]}):N.jsx(Mq,{wallet:t[a-1],formatIDR:y,getWalletIcon:I,onIsiSaldo:r,onTransfer:s})},a)}),N.jsx("button",{onClick:()=>S(-1),className:"absolute left-[-15px] z-20 size-10 glass-card rounded-full flex items-center justify-center text-white/50 hover:text-white hover:bg-white/5 sm:flex hidden",children:N.jsx(zI,{size:20})}),N.jsx("button",{onClick:()=>S(1),className:"absolute right-[-15px] z-20 size-10 glass-card rounded-full flex items-center justify-center text-white/50 hover:text-white hover:bg-white/5 sm:flex hidden",children:N.jsx(UI,{size:20})})]}),N.jsx("div",{className:"flex justify-center gap-2 mt-6",children:Array.from({length:t.length+1}).map((P,F)=>N.jsx("div",{className:`h-1.5 rounded-full transition-all duration-300 ${a===F?"w-8 bg-primary shadow-[0_0_8px_rgba(19,236,91,0.5)]":"w-2 bg-white/10"}`},F))})]}),N.jsxs("section",{className:"space-y-4",children:[N.jsxs("div",{className:"flex flex-col gap-4 px-1",children:[N.jsxs("div",{className:"flex items-center justify-between",children:[N.jsx("h3",{className:"text-lg font-bold",children:"Analisis Keuangan"}),N.jsx("div",{className:"flex bg-white/5 p-1 rounded-xl",children:["week","month","year"].map(P=>N.jsx("button",{onClick:()=>c(P),className:`px-3 py-1.5 text-[10px] font-black uppercase tracking-widest rounded-lg transition-all ${u===P?"bg-primary text-background-dark":"text-slate-400"}`,children:P==="week"?"Minggu":P==="month"?"Bulan":"Tahun"},P))})]}),N.jsx("div",{className:"flex items-center gap-2",children:[{id:"bar",icon:N.jsx(BI,{size:14}),label:"Bar"},{id:"line",icon:N.jsx(VI,{size:14}),label:"Line"},{id:"pie",icon:N.jsx(l_,{size:14}),label:"Pie"}].map(P=>N.jsxs("button",{onClick:()=>d(P.id),className:`flex items-center gap-2 px-4 py-2 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${h===P.id?"bg-white/10 text-white border border-white/20":"text-slate-500 grayscale opacity-50"}`,children:[P.icon," ",P.label]},P.id))})]}),N.jsxs("div",{className:"glass-card p-6 rounded-[2rem] border-white/5 h-[260px] relative overflow-hidden",children:[h==="bar"&&N.jsx(R6,{data:w,options:b}),h==="line"&&N.jsx(L6,{data:w,options:b}),h==="pie"&&N.jsx("div",{className:"h-full flex items-center justify-center",children:N.jsx("div",{className:"size-48",children:N.jsx(Cq,{data:w,options:b})})})]})]}),N.jsxs("section",{className:"space-y-4",children:[N.jsxs("div",{className:"flex items-center justify-between px-1",children:[N.jsx("h3",{className:"text-lg font-bold",children:"Progres Anggaran"}),N.jsx("button",{onClick:()=>o("stats"),className:"text-primary text-[10px] font-black uppercase tracking-widest",children:"Lihat Semua"})]}),N.jsx("div",{className:"flex gap-4 overflow-x-auto no-scrollbar pb-2",children:n.length>0?n.slice(0,3).map(P=>N.jsx(Dq,{icon:Hh(P.iconName||"ShoppingBag",20),label:P.category,spent:y(P.current_spent||0),percent:Math.min(Math.round((P.current_spent||0)/P.limit*100),100),color:ch(P.category)},P.id)):N.jsx("div",{className:"w-full py-8 glass-card rounded-2xl text-center text-slate-500 text-[10px] font-bold uppercase tracking-widest border-white/5 border-dashed border-2",children:"No active budgets"})})]}),N.jsxs("section",{className:"space-y-4 pb-28",children:[N.jsxs("div",{className:"flex items-center justify-between px-1",children:[N.jsx("h3",{className:"text-lg font-bold",children:"Transaksi Terakhir"}),N.jsx("button",{onClick:i,className:"text-primary text-[10px] font-black uppercase tracking-widest",children:"Lihat Semua"})]}),N.jsxs("div",{className:"space-y-3",children:[e.slice(0,5).map(P=>{const F=M6(P,n);return N.jsxs("div",{className:"glass-card p-4 rounded-2xl flex items-center justify-between border-white/5 hover:bg-white/5 transition-all",children:[N.jsxs("div",{className:"flex items-center gap-4",children:[N.jsx("div",{className:"size-12 rounded-xl flex items-center justify-center shadow-md",style:{backgroundColor:`${F.color}1a`,color:F.color},children:Hh(F.icon,20)}),N.jsxs("div",{children:[N.jsx("p",{className:"font-bold text-sm text-slate-100",children:P.note||P.category}),N.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-wider",children:new Date(P.date).toLocaleDateString("id-ID",{day:"numeric",month:"short"})})]})]}),N.jsx("div",{className:"text-right",children:N.jsxs("p",{className:"font-black text-sm flex items-center justify-end gap-1",style:{color:F.color},children:[P.type==="income"?N.jsx(MI,{size:14,strokeWidth:3}):P.type==="transfer"?N.jsx(k1,{size:12}):N.jsx(Jv,{size:14,strokeWidth:3}),y(P.amount)]})})]},P.id)}),e.length===0&&N.jsx("div",{className:"text-center py-10 glass-card rounded-2xl text-slate-500 text-[10px] font-bold uppercase tracking-widest border-white/5 border-dashed border-2",children:"No recent transactions"})]})]})]})},Mq=({wallet:t,formatIDR:e,getWalletIcon:n,onIsiSaldo:i,onTransfer:r})=>{var a,l;const s=["from-blue-600/40 to-indigo-600/10","from-purple-600/40 to-pink-600/10","from-emerald-600/40 to-teal-600/10"],o=(((a=t.id)==null?void 0:a.length)||0)%s.length;return N.jsxs("div",{className:`h-full glass-card rounded-[2.5rem] p-8 relative overflow-hidden flex flex-col justify-between border-2 border-white/5 bg-gradient-to-br ${s[o]}`,children:[N.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-5",children:n(t.type)}),N.jsxs("div",{className:"relative z-10",children:[N.jsxs("div",{className:"flex justify-between items-start mb-6",children:[N.jsxs("div",{children:[N.jsx("p",{className:"text-slate-200 text-[10px] font-bold tracking-[0.2em] uppercase",children:t.name}),N.jsxs("p",{className:"text-[8px] text-slate-400 font-mono mt-1 opacity-50 tracking-widest",children:["**** ",(l=t.id)==null?void 0:l.slice(-4)]})]}),N.jsx("div",{className:"size-10 bg-white/10 rounded-xl flex items-center justify-center text-white border border-white/10 backdrop-blur-md",children:n(t.type)})]}),N.jsx("h2",{className:"text-4xl font-black tracking-tighter mb-2 text-white",children:e(t.balance)}),N.jsxs("div",{className:"text-[10px] text-slate-300 font-bold uppercase tracking-widest opacity-80",children:[t.type||"Personal"," Wallet"]})]}),N.jsxs("div",{className:"relative z-10 flex gap-4 mt-3",children:[N.jsx("button",{onClick:i,className:"flex-1 bg-white/10 border border-white/10 text-white font-black py-4 rounded-[1.25rem] flex items-center justify-center gap-2 hover:bg-white/20 active:scale-95 transition-all text-[10px] backdrop-blur-md uppercase tracking-wider",children:"ISI SALDO"}),N.jsx("button",{onClick:r,className:"flex-1 bg-white/10 border border-white/10 text-white font-black py-4 rounded-[1.25rem] flex items-center justify-center gap-2 hover:bg-white/20 active:scale-95 transition-all text-[10px] backdrop-blur-md uppercase tracking-wider",children:"TRANSFER"})]})]})},Dq=({icon:t,label:e,spent:n,percent:i,color:r})=>N.jsxs("div",{className:"flex-shrink-0 w-48 glass-card rounded-2xl p-5 border-white/5 shadow-lg",children:[N.jsx("div",{className:"size-12 rounded-xl flex items-center justify-center mb-4 transition-transform hover:scale-110",style:{backgroundColor:`${r}1a`,color:r},children:t}),N.jsx("p",{className:"font-bold text-sm mb-1 truncate",children:e}),N.jsxs("div",{className:"flex justify-between text-[10px] text-slate-400 mb-3 font-bold uppercase tracking-wider",children:[N.jsx("span",{children:n}),N.jsxs("span",{children:[i,"%"]})]}),N.jsx("div",{className:"h-1.5 w-full bg-white/5 rounded-full overflow-hidden",children:N.jsx("div",{className:"h-full transition-all duration-1000",style:{width:`${i}%`,backgroundColor:r,boxShadow:`0 0 10px ${r}80`}})})]}),Oq=({transactions:t=[],budgets:e=[],onEditTransaction:n,onBack:i})=>{const r=[...t].sort((o,a)=>new Date(a.date)-new Date(o.date)),s=o=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(o);return N.jsxs("div",{className:"px-6 space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[N.jsxs("header",{className:"flex justify-between items-center",children:[N.jsxs("div",{className:"flex items-center gap-3",children:[N.jsx("button",{onClick:i,className:"size-10 flex items-center justify-center rounded-xl glass-card hover:bg-white/5 transition-all active:scale-90",children:N.jsx(S7,{size:20})}),N.jsx("h2",{className:"text-2xl font-bold",children:"Riwayat"})]}),N.jsxs("span",{className:"text-xs text-slate-400 bg-white/5 px-3 py-1 rounded-full border border-white/5 font-bold uppercase tracking-widest",children:[t.length," Transaksi"]})]}),N.jsx("div",{className:"space-y-3 pb-24",children:r.length===0?N.jsx("div",{className:"text-center py-20 text-slate-500 glass-card rounded-3xl",children:N.jsx("p",{className:"text-sm font-bold uppercase tracking-widest",children:"Belum ada transaksi"})}):r.map(o=>{const a=M6(o,e);return N.jsxs("div",{onClick:()=>n&&n(o),className:"glass-card p-4 rounded-2xl flex items-center justify-between hover:bg-white/5 active:scale-[0.98] transition-all cursor-pointer group border-white/5",children:[N.jsxs("div",{className:"flex items-center gap-4",children:[N.jsx("div",{className:"size-12 rounded-xl flex items-center justify-center transition-transform group-hover:scale-110 shadow-lg",style:{backgroundColor:`${a.color}1a`,color:a.color},children:Hh(a.icon,20)}),N.jsxs("div",{children:[N.jsx("p",{className:"font-bold text-sm text-slate-100",children:o.note||o.category}),N.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-wider",children:new Date(o.date).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"})})]})]}),N.jsxs("div",{className:"text-right",children:[N.jsxs("p",{className:"font-black flex items-center justify-end gap-1",style:{color:a.color},children:[o.type==="income"?N.jsx(MI,{size:14,strokeWidth:3}):o.type==="transfer"?N.jsx(k1,{size:12}):N.jsx(Jv,{size:14,strokeWidth:3}),s(o.amount)]}),N.jsx("p",{className:"text-[10px] text-slate-500 font-bold uppercase tracking-[0.1em]",children:o.walletName||"Dompet"})]})]},o.id)})})]})},Fq=({wallets:t=[],onAddWallet:e,onEditWallet:n,onDeleteWallet:i})=>{const r=l=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(l),s=l=>{switch(l==null?void 0:l.toLowerCase()){case"bank":return N.jsx(u_,{size:24});case"saving":return N.jsx(f_,{size:24});case"business":return N.jsx(T1,{size:24});default:return N.jsx(Fh,{size:24})}},o=l=>{const u=["from-primary/80 to-green-600/40","from-amber-accent/80 to-orange-600/40","from-blue-500/80 to-indigo-600/40"];return u[l%u.length]},a=(l,u)=>{l.stopPropagation(),window.confirm(`Hapus dompet "${u.name}"?`)&&i(u.id)};return N.jsxs("div",{className:"px-6 space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[N.jsxs("header",{className:"flex justify-between items-center",children:[N.jsx("h2",{className:"text-2xl font-bold",children:"Dompet Saya"}),N.jsx("button",{onClick:e,className:"size-10 glass-card rounded-full flex items-center justify-center text-primary border-primary/20 hover:bg-primary/10 transition-all",children:N.jsx(op,{size:20})})]}),N.jsxs("div",{className:"space-y-4 pb-24",children:[t.map((l,u)=>N.jsxs("div",{className:`relative overflow-hidden glass-card rounded-3xl p-6 border-white/5 bg-gradient-to-br ${o(u)}`,children:[N.jsxs("div",{className:"absolute top-4 right-4 z-20 flex gap-2",children:[N.jsx("button",{onClick:c=>{c.stopPropagation(),n(l)},className:"size-8 glass-card border-white/10 rounded-full flex items-center justify-center text-white/80 hover:bg-white/10",children:N.jsx(iC,{size:14})}),N.jsx("button",{onClick:c=>a(c,l),className:"size-8 glass-card border-white/10 rounded-full flex items-center justify-center text-red-300 hover:bg-red-500/20",children:N.jsx(lC,{size:14})})]}),N.jsx("div",{className:"absolute top-0 left-0 p-8 opacity-10 pointer-events-none",children:s(l.type)}),N.jsxs("div",{className:"relative z-10 flex flex-col justify-between h-32",children:[N.jsxs("div",{className:"flex justify-between items-start pt-2",children:[N.jsxs("div",{children:[N.jsx("p",{className:"text-white/60 text-xs font-bold uppercase tracking-widest mb-1",children:l.name}),N.jsx("h3",{className:"text-2xl font-black text-white",children:r(l.balance)})]}),N.jsx("div",{className:"size-10 bg-white/10 rounded-xl flex items-center justify-center backdrop-blur-md",children:s(l.type)})]}),N.jsxs("div",{className:"flex justify-between items-end",children:[N.jsxs("p",{className:"text-white/50 text-[10px] font-mono tracking-widest",children:["**** **** **** ",l.id.slice(-4)]}),N.jsx("div",{className:"text-white/80 font-bold text-[10px] uppercase",children:l.type||"General"})]})]})]},l.id)),N.jsxs("button",{onClick:e,className:"w-full h-24 border-2 border-dashed border-white/10 rounded-3xl flex flex-col items-center justify-center gap-2 text-slate-500 hover:border-primary/40 hover:text-primary transition-all group",children:[N.jsx(op,{className:"group-hover:scale-110 transition-transform"}),N.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"Tambah Dompet Baru"})]})]})]})};Wp.register(lh,P6,k6,O0,F0,Rd,Ld,uh);const jq=({transactions:t=[],budgets:e=[],onAddBudget:n,onEditBudget:i})=>{const[r,s]=xe.useState("pie"),o=c=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(c),a=e.reduce((c,h)=>c+(h.current_spent||0),0),l={labels:e.map(c=>c.category),datasets:[{label:"Terpakai",data:e.map(c=>c.current_spent||0),backgroundColor:e.map(c=>ch(c.category)+(r==="pie"?"99":"44")),borderColor:e.map(c=>ch(c.category)),borderWidth:2,borderRadius:r==="bar"?8:0,tension:.4,fill:r==="line",pointBackgroundColor:e.map(c=>ch(c.category))}]},u={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},cutout:r==="pie"?"70%":void 0,scales:r==="pie"?{}:{x:{grid:{display:!1},ticks:{color:"#94a3b8",font:{size:10,weight:"bold"}}},y:{display:!1,grid:{display:!1}}}};return N.jsxs("div",{className:"px-6 space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[N.jsxs("header",{className:"flex justify-between items-center",children:[N.jsx("h2",{className:"text-2xl font-bold",children:"Anggaran"}),N.jsx("div",{className:"flex bg-white/5 p-1 rounded-xl border border-white/10 shrink-0",children:[{id:"pie",icon:N.jsx(l_,{size:14})},{id:"bar",icon:N.jsx(BI,{size:14})},{id:"line",icon:N.jsx(VI,{size:14})}].map(c=>N.jsx("button",{onClick:()=>s(c.id),className:`p-2 rounded-lg transition-all ${r===c.id?"bg-primary text-background-dark shadow-lg shadow-primary/20":"text-slate-500 hover:text-white"}`,children:c.icon},c.id))})]}),N.jsxs("div",{className:"glass-card p-6 rounded-[2.5rem] flex flex-col items-center justify-center relative shadow-xl shadow-black/20 overflow-hidden",children:[N.jsx("div",{className:"w-full h-48 flex items-center justify-center relative",children:e.length>0?N.jsxs(N.Fragment,{children:[r==="pie"&&N.jsx(Iq,{data:l,options:u}),r==="bar"&&N.jsx(R6,{data:l,options:u}),r==="line"&&N.jsx(L6,{data:l,options:u}),r==="pie"&&N.jsxs("div",{className:"absolute flex flex-col items-center",children:[N.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest",children:"Total Pakai"}),N.jsx("p",{className:"text-lg font-black text-slate-100",children:o(a)})]})]}):N.jsx("div",{className:"size-full rounded-[2rem] border-4 border-dashed border-white/5 flex items-center justify-center text-center p-4",children:N.jsx("p",{className:"text-[10px] text-slate-500 font-bold uppercase tracking-[0.2em]",children:"Belum Ada Anggaran"})})}),r!=="pie"&&e.length>0&&N.jsxs("div",{className:"mt-4 text-center",children:[N.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest",children:"Total Pengeluaran Teranggarkan"}),N.jsx("p",{className:"text-xl font-black text-primary",children:o(a)})]})]}),N.jsxs("div",{className:"space-y-4 pb-24",children:[e.map(c=>{const h=c.current_spent||0,d=Math.min(Math.round(h/c.limit*100),100),f=d>85,y=ch(c.category),w=Hh(c.iconName||"ShoppingBag",20);return N.jsxs("div",{className:"glass-card p-5 rounded-3xl border-white/5 relative group",children:[N.jsxs("div",{className:"flex justify-between items-start mb-4",children:[N.jsxs("div",{className:"flex gap-4",children:[N.jsx("div",{className:"size-12 rounded-2xl flex items-center justify-center",style:{backgroundColor:`${y}1a`,color:y},children:w}),N.jsxs("div",{children:[N.jsx("h4",{className:"font-bold text-slate-100 capitalize",children:c.category}),N.jsxs("p",{className:"text-[10px] text-slate-500 font-bold uppercase tracking-wider",children:["Batas: ",o(c.limit)]})]})]}),N.jsxs("div",{className:"flex items-center gap-3",children:[N.jsx("div",{className:"text-right",children:N.jsxs("p",{className:`font-black text-lg ${f?"text-red-400":"text-slate-100"}`,children:[d,"%"]})}),N.jsx("button",{onClick:()=>i&&i(c),className:"size-8 glass-card border-white/10 rounded-full flex items-center justify-center text-white/50 hover:text-white hover:bg-white/5 transition-all opacity-0 group-hover:opacity-100",children:N.jsx(iC,{size:14})})]})]}),N.jsxs("div",{className:"space-y-2",children:[N.jsxs("div",{className:"flex justify-between text-xs font-bold",children:[N.jsx("span",{className:"text-slate-400",children:"Terpakai"}),N.jsx("span",{className:f?"text-red-400":"text-slate-200",children:o(h)})]}),N.jsx("div",{className:"h-2 w-full bg-white/5 rounded-full overflow-hidden",children:N.jsx("div",{className:`h-full transition-all duration-1000 rounded-full ${f?"bg-red-400":""}`,style:{width:`${d}%`,backgroundColor:f?void 0:y,boxShadow:`0 0 10px ${f?"rgba(248,113,113,0.3)":`${y}4d`}`}})}),f&&N.jsx("p",{className:"text-[10px] text-red-400 font-bold animate-pulse",children:"Hampir melewati batas!"})]})]},c.id)}),N.jsxs("button",{onClick:n,className:"w-full glass-card border-dashed border-white/10 p-5 rounded-3xl flex items-center justify-center gap-2 text-slate-500 hover:text-primary transition-all group",children:[N.jsx(op,{size:20,className:"group-hover:scale-110 transition-transform"}),N.jsx("span",{className:"text-xs font-black uppercase tracking-widest",children:"Atur Anggaran Baru"})]})]})]})},$h=({label:t,value:e,onChange:n,placeholder:i,type:r="text",prefix:s,className:o="",error:a,align:l="left",size:u="normal"})=>N.jsxs("div",{className:`space-y-2 ${o}`,children:[t&&N.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest px-1",children:t}),N.jsxs("div",{className:`
                flex items-center gap-2 bg-white/5 border border-white/10 rounded-2xl p-4 
                focus-within:border-primary/50 focus-within:bg-white/10 transition-all
                ${a?"border-red-500/50":""}
            `,children:[s&&N.jsx("span",{className:"text-primary font-bold",children:s}),N.jsx("input",{type:r,value:e,onChange:n,placeholder:i,className:`
                        bg-transparent border-none focus:ring-0 p-0 w-full text-white placeholder:text-slate-600 font-bold
                        ${l==="center"?"text-center":"text-left"}
                        ${u==="large"?"text-4xl":"text-sm"}
                    `})]}),a&&N.jsx("p",{className:"text-[10px] text-red-500 font-bold px-1",children:a})]}),T5=({label:t,options:e,value:n,onChange:i,placeholder:r="Pilih opsi...",className:s=""})=>{const[o,a]=xe.useState(!1),l=xe.useRef(null),u=e.find(c=>c.value===n);return xe.useEffect(()=>{const c=h=>{l.current&&!l.current.contains(h.target)&&a(!1)};return document.addEventListener("mousedown",c),()=>document.removeEventListener("mousedown",c)},[]),N.jsxs("div",{className:`space-y-2 relative ${s}`,ref:l,children:[t&&N.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest px-1 text-center",children:t}),N.jsxs("button",{type:"button",onClick:()=>a(!o),className:`
                    w-full flex items-center justify-between gap-2 bg-white/5 border border-white/10 rounded-2xl p-3 
                    text-xs font-bold text-white hover:bg-white/10 transition-all
                    ${o?"border-primary/50":""}
                `,children:[N.jsx("span",{className:u?"text-white":"text-slate-500 italic",children:u?u.label:r}),N.jsx(A7,{className:`size-4 text-slate-500 transition-transform ${o?"rotate-180":""}`})]}),N.jsx(Fp,{children:o&&N.jsx(Uh.div,{initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:10,scale:.95},className:"absolute z-[110] left-0 right-0 mt-2 bg-slate-900 border border-white/10 rounded-2xl shadow-2xl overflow-hidden backdrop-blur-xl",children:N.jsx("div",{className:"max-h-60 overflow-y-auto py-2 custom-scrollbar",children:e.map(c=>N.jsxs("button",{type:"button",onClick:()=>{i(c.value),a(!1)},className:`
                                        w-full flex items-center justify-between px-4 py-3 text-xs font-bold transition-all
                                        ${n===c.value?"bg-primary/10 text-primary":"text-slate-300 hover:bg-white/5"}
                                    `,children:[N.jsx("span",{children:c.label}),n===c.value&&N.jsx(E1,{className:"size-4"})]},c.value))})})})]})},Vq=({label:t,value:e,onChange:n,className:i=""})=>{const[r,s]=xe.useState(!1),[o,a]=xe.useState(new Date(e||new Date)),l=xe.useRef(null),u=new Date(e||new Date);xe.useEffect(()=>{const I=P=>{l.current&&!l.current.contains(P.target)&&s(!1)};return document.addEventListener("mousedown",I),()=>document.removeEventListener("mousedown",I)},[]);const c=(I,P)=>new Date(I,P+1,0).getDate(),h=(I,P)=>new Date(I,P,1).getDay(),d=()=>{a(new Date(o.getFullYear(),o.getMonth()-1,1))},f=()=>{a(new Date(o.getFullYear(),o.getMonth()+1,1))},y=I=>{const P=new Date(o.getFullYear(),o.getMonth(),I),F=P.getTimezoneOffset()*6e4,H=new Date(P.getTime()-F).toISOString().split("T")[0];n(H),s(!1)},w=()=>{const I=[],P=c(o.getFullYear(),o.getMonth()),F=h(o.getFullYear(),b()),H=F===0?6:F-1;for(let M=0;M<H;M++)I.push(N.jsx("div",{className:"size-8"},`empty-${M}`));for(let M=1;M<=P;M++){const k=M===u.getDate()&&o.getMonth()===u.getMonth()&&o.getFullYear()===u.getFullYear();I.push(N.jsx("button",{type:"button",onClick:()=>y(M),className:`
                        size-8 rounded-full flex items-center justify-center text-[10px] font-bold transition-all
                        ${k?"bg-primary text-background-dark shadow-lg shadow-primary/30 scale-110":"text-slate-300 hover:bg-white/10"}
                    `,children:M},M))}return I},b=()=>o.getMonth(),v=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],S=u.toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"});return N.jsxs("div",{className:`space-y-2 relative ${i}`,ref:l,children:[t&&N.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest px-1",children:t}),N.jsxs("button",{type:"button",onClick:()=>s(!r),className:`
                    w-full flex items-center gap-3 bg-white/5 border border-white/10 rounded-2xl p-3 
                    text-xs font-bold text-white hover:bg-white/10 transition-all
                    ${r?"border-primary/50":""}
                `,children:[N.jsx(a_,{className:"size-4 text-primary"}),N.jsx("span",{children:S})]}),N.jsx(Fp,{children:r&&N.jsxs(Uh.div,{initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:10,scale:.95},className:"absolute z-[110] left-0 right-0 mt-2 bg-slate-900 border border-white/10 rounded-[2rem] p-4 shadow-2xl backdrop-blur-xl",children:[N.jsxs("div",{className:"flex items-center justify-between mb-4",children:[N.jsx("button",{onClick:d,className:"size-8 flex items-center justify-center rounded-full hover:bg-white/5",children:N.jsx(zI,{className:"size-4"})}),N.jsxs("span",{className:"text-xs font-black uppercase tracking-widest text-white",children:[v[o.getMonth()]," ",o.getFullYear()]}),N.jsx("button",{onClick:f,className:"size-8 flex items-center justify-center rounded-full hover:bg-white/5",children:N.jsx(UI,{className:"size-4"})})]}),N.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["S","S","R","K","J","S","M"].map((I,P)=>N.jsx("div",{className:"size-8 flex items-center justify-center text-[8px] font-black text-slate-500",children:I},`${I}-${P}`))}),N.jsx("div",{className:"grid grid-cols-7 gap-1",children:w()})]})})]})},Bq=({isOpen:t,onClose:e,onSave:n,onDelete:i,wallets:r=[],budgets:s=[],initialData:o=null,defaultType:a="expense"})=>{const[l,u]=xe.useState(a),[c,h]=xe.useState(""),[d,f]=xe.useState(""),[y,w]=xe.useState(""),[b,v]=xe.useState(""),[S,I]=xe.useState(""),[P,F]=xe.useState(""),[H,M]=xe.useState(new Date().toISOString().split("T")[0]),[k,T]=xe.useState(""),O=$=>{if(!$)return"";const ie=String($).replace(/[^0-9]/g,"");return new Intl.NumberFormat("id-ID").format(ie)};xe.useEffect(()=>{var $,ie;if(t)if(T(""),o){u(o.type||"expense");const me=String(o.amount||"");h(me),f(O(me)),w(o.category||""),v(o.walletId||""),I(o.targetWalletId||""),F(o.note||""),o.date?M(new Date(o.date).toISOString().split("T")[0]):M(new Date().toISOString().split("T")[0])}else{u(a),h(""),f(""),w("");const me=(($=r[0])==null?void 0:$.id)||"";v(me);const ve=((ie=r.find(B=>B.id!==me))==null?void 0:ie.id)||"";I(ve),F(""),M(new Date().toISOString().split("T")[0])}},[t,o,a,r]);const E=$=>{const ie=$.target.value.replace(/[^0-9]/g,"");h(ie),f(O(ie)),k&&T("")},L=$=>{var ie;if(v($),l==="transfer"&&$===S){const me=((ie=r.find(ve=>ve.id!==$))==null?void 0:ie.id)||"";I(me)}k&&T("")},D=$=>{I($),k&&T("")},Z=s.map($=>({id:$.id,label:$.category,isExhausted:$.current_spent>=$.limit,limit:$.limit,spent:$.current_spent,iconName:$.iconName}));(l==="transfer"||l==="income")&&Z.unshift({id:"none",label:"Tanpa Kategori",isExhausted:!1});const oe=async()=>{const $=Number(c);if(!$){T("Masukkan nominal transaksi");return}if(!b){T("Pilih dompet asal");return}if(l==="transfer"){if(!S){T("Pilih dompet tujuan");return}if(S===b){T("Dompet asal dan tujuan tidak boleh sama");return}}const ie=s.find(me=>me.category===y);try{await n({...o?{id:o.id}:{},type:l,amount:$,category:y||"General",walletId:b,targetWalletId:l==="transfer"?S:null,budgetId:(ie==null?void 0:ie.id)||null,note:P,date:new Date(H).toISOString()}),e()}catch(me){T(me.message||"Gagal menyimpan transaksi")}};if(!t)return null;const ce=r.map($=>({label:$.name,value:$.id})),ae=r.filter($=>$.id!==b).map($=>({label:$.name,value:$.id}));return N.jsx("div",{className:"fixed inset-0 z-[100] bg-background-dark/80 backdrop-blur-md flex items-end sm:items-center justify-center p-0 sm:p-6 animate-in slide-in-from-bottom duration-300",children:N.jsxs("div",{className:"w-full max-w-lg glass-card rounded-t-[2.5rem] sm:rounded-[2.5rem] p-8 space-y-6 relative overflow-y-auto max-h-[95vh] custom-scrollbar",children:[N.jsx("button",{onClick:e,className:"absolute top-6 left-6 size-10 flex items-center justify-center rounded-full glass-card hover:bg-white/5",children:N.jsx(jh,{className:"size-6"})}),N.jsx("div",{className:"text-center",children:N.jsx("h2",{className:"text-xl font-bold",children:o?"Edit Transaksi":"Tambah Transaksi"})}),N.jsx("div",{className:"flex bg-white/5 p-1 rounded-2xl",children:[{id:"income",label:"Pemasukan"},{id:"expense",label:"Pengeluaran"},{id:"transfer",label:"Transfer"}].map($=>N.jsx("button",{onClick:()=>{u($.id),w(""),T("")},className:`flex-1 py-3 text-sm font-bold rounded-xl transition-all ${l===$.id?"bg-primary text-background-dark shadow-lg shadow-primary/20":"text-slate-400"}`,children:$.label},$.id))}),N.jsx("div",{className:"space-y-2 text-center",children:N.jsx($h,{label:"NOMINAL",value:d,onChange:E,placeholder:"0",prefix:"Rp",align:"center",size:"large",error:k})}),N.jsxs("div",{className:"space-y-4",children:[N.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[N.jsx(T5,{label:l==="transfer"?"DARI":l==="income"?"KE":"DARI",options:ce,value:b,onChange:L}),l==="transfer"&&N.jsx(T5,{label:"KE",options:ae,value:S,onChange:D,placeholder:"Pilih Tujuan"})]}),N.jsxs("div",{className:"grid grid-cols-2 gap-4 items-end",children:[N.jsx(Vq,{label:"TANGGAL",value:H,onChange:M}),N.jsx($h,{label:"CATATAN",placeholder:"Opsional...",value:P,onChange:$=>F($.target.value)})]})]}),Z.length>0&&N.jsxs("div",{className:"space-y-4",children:[N.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest",children:"KATEGORI (ANGGARAN)"}),N.jsx("div",{className:"grid grid-cols-4 gap-4 pb-2",children:Z.map($=>N.jsx(zq,{label:$.label,active:y===$.label,disabled:$.isExhausted&&l==="expense",onClick:()=>{w($.label==="Tanpa Kategori"?"":$.label),T("")},spent:$.spent,limit:$.limit,budgets:s,type:l},$.id))})]}),N.jsxs("div",{className:"flex gap-3",children:[o&&i&&N.jsx("button",{onClick:()=>{window.confirm("Hapus transaksi ini?")&&i(o)},className:"bg-red-500/10 text-red-500 font-bold py-5 px-6 rounded-2xl hover:bg-red-500/20 transition-all",children:N.jsx(jh,{size:24})}),N.jsxs("button",{onClick:oe,className:"flex-1 bg-primary text-background-dark font-bold py-5 rounded-2xl flex items-center justify-center gap-3 shadow-xl shadow-primary/20 hover:scale-[1.02] active:scale-[0.98] transition-all",children:[N.jsx(E1,{size:24,strokeWidth:3}),o?"Simpan Perubahan":"Simpan Transaksi"]})]})]})})},zq=({label:t,active:e,onClick:n,disabled:i,spent:r,limit:s,budgets:o,type:a})=>N.jsxs("button",{type:"button",onClick:n,disabled:i,className:`flex flex-col items-center gap-1 transition-all ${i?"opacity-30 cursor-not-allowed":""}`,children:[N.jsxs("div",{className:`size-12 rounded-full flex flex-col items-center justify-center transition-all border ${e?"ring-2 ring-primary ring-offset-2 ring-offset-background-dark border-primary bg-primary text-background-dark":"border-white/10 bg-white/5 text-slate-400"}`,children:[t==="Tanpa Kategori"?Hh(a==="income"?"TrendingUp":"TrendingDown",18):Lq(o,t,a==="income"?"TrendingUp":"TrendingDown"),s>0&&N.jsxs("span",{className:`text-[7px] font-bold mt-0.5 ${e?"text-background-dark":"text-slate-500"}`,children:[Math.round(r/s*100),"%"]})]}),N.jsx("span",{className:`text-[9px] font-bold break-words w-full text-center ${e?"text-primary":"text-slate-500"}`,children:t})]}),Uq=({isOpen:t,onClose:e,onSave:n,onDelete:i,initialData:r=null})=>{const[s,o]=xe.useState(""),[a,l]=xe.useState(""),[u,c]=xe.useState(""),[h,d]=xe.useState("cash"),f=v=>{if(!v)return"";const S=String(v).replace(/[^0-9]/g,"");return new Intl.NumberFormat("id-ID").format(S)},y=v=>{const S=v.target.value.replace(/[^0-9]/g,"");l(S),c(f(S))};if(xe.useEffect(()=>{if(t)if(r){o(r.name||"");const v=String(r.balance||"");l(v),c(f(v)),d(r.type||"cash")}else o(""),l(""),c(""),d("cash")},[t,r]),!t)return null;const w=()=>{const v=Number(a);!s||isNaN(v)||(n({...r?{id:r.id}:{},name:s,balance:v,type:h}),o(""),l(""),c(""))},b=[{value:"cash",label:"Tunai"},{value:"bank",label:"Bank"},{value:"saving",label:"Tabungan"},{value:"business",label:"Bisnis"}];return N.jsx("div",{className:"fixed inset-0 z-[100] bg-background-dark/80 backdrop-blur-md flex items-end sm:items-center justify-center p-0 sm:p-6 animate-in slide-in-from-bottom duration-300",children:N.jsxs("div",{className:"w-full max-w-lg glass-card rounded-t-[2.5rem] sm:rounded-[2.5rem] p-8 space-y-6 relative",children:[N.jsx("button",{onClick:e,className:"absolute top-6 left-6 size-10 flex items-center justify-center rounded-full glass-card hover:bg-white/5",children:N.jsx(jh,{className:"size-6"})}),N.jsx("div",{className:"text-center",children:N.jsx("h2",{className:"text-xl font-bold",children:r?"Edit Dompet":"Tambah Dompet Baru"})}),N.jsxs("div",{className:"space-y-4",children:[N.jsx($h,{label:"NAMA DOMPET",placeholder:"Contoh: BCA Utama",value:s,onChange:v=>o(v.target.value)}),N.jsx($h,{label:"SALDO AWAL",placeholder:"0",value:u,onChange:y,prefix:"Rp"}),N.jsx(T5,{label:"TIPE DOMPET",options:b,value:h,onChange:d,placeholder:"Pilih Tipe"})]}),N.jsxs("button",{onClick:w,className:"w-full bg-primary text-background-dark font-bold py-5 rounded-2xl flex items-center justify-center gap-3 shadow-xl shadow-primary/20 hover:scale-[1.02] active:scale-[0.98] transition-all",children:[N.jsx(E1,{size:24,strokeWidth:3}),r?"Simpan Perubahan":"Buat Dompet"]})]})})},Wq=({isOpen:t,onClose:e,onSave:n,onDelete:i,initialData:r=null})=>{const[s,o]=xe.useState(""),[a,l]=xe.useState(""),[u,c]=xe.useState(""),[h,d]=xe.useState("Utensils"),[f,y]=xe.useState(""),w=[{name:"Utensils",icon:N.jsx(cC,{size:18})},{name:"ShoppingBag",icon:N.jsx(oC,{size:18})},{name:"Plane",icon:N.jsx(rC,{size:18})},{name:"Zap",icon:N.jsx(d_,{size:18})},{name:"Car",icon:N.jsx(jI,{size:18})},{name:"Bus",icon:N.jsx(FI,{size:18})},{name:"Fuel",icon:N.jsx(GI,{size:18})},{name:"Coffee",icon:N.jsx(WI,{size:18})},{name:"Home",icon:N.jsx(h_,{size:18})},{name:"Smartphone",icon:N.jsx(aC,{size:18})},{name:"Tv",icon:N.jsx(uC,{size:18})},{name:"Wifi",icon:N.jsx(hC,{size:18})},{name:"Lightbulb",icon:N.jsx(eC,{size:18})},{name:"Droplets",icon:N.jsx(qI,{size:18})},{name:"Activity",icon:N.jsx(k1,{size:18})},{name:"Heart",icon:N.jsx(ZI,{size:18})},{name:"Dumbbell",icon:N.jsx(HI,{size:18})},{name:"GraduationCap",icon:N.jsx(QI,{size:18})},{name:"Book",icon:N.jsx(OI,{size:18})},{name:"Briefcase",icon:N.jsx(T1,{size:18})},{name:"Hammer",icon:N.jsx(JI,{size:18})},{name:"Shirt",icon:N.jsx(sC,{size:18})},{name:"Gem",icon:N.jsx(YI,{size:18})},{name:"Gift",icon:N.jsx(XI,{size:18})},{name:"Baby",icon:N.jsx(DI,{size:18})},{name:"Dog",icon:N.jsx(nC,{size:18})},{name:"Gamepad2",icon:N.jsx(KI,{size:18})},{name:"Music",icon:N.jsx(tC,{size:18})},{name:"Film",icon:N.jsx($I,{size:18})},{name:"MoreHorizontal",icon:N.jsx(c_,{size:18})}],b=P=>{if(!P)return"";const F=String(P).replace(/[^0-9]/g,"");return new Intl.NumberFormat("id-ID").format(F)};if(xe.useEffect(()=>{if(t)if(y(""),r){o(r.category||"");const P=String(r.limit||"");l(P),c(b(P)),d(r.iconName||"Utensils")}else o(""),l(""),c(""),d("Utensils")},[t,r]),!t)return null;const v=P=>{const F=P.target.value.replace(/[^0-9]/g,"");l(F),c(b(F)),f&&y("")},S=async()=>{const P=Number(a);if(!s.trim()){y("Nama kategori tidak boleh kosong");return}if(!P){y("Masukkan limit anggaran");return}try{await n({...r?{id:r.id}:{},category:s.trim(),limit:P,iconName:h}),e()}catch(F){y(F.message||"Gagal menyimpan anggaran")}},I=async()=>{if(!(!r||!i)&&window.confirm(`Hapus anggaran "${r.category}"?`))try{await i(r.id),e()}catch(P){y(P.message||"Gagal menghapus anggaran")}};return N.jsx("div",{className:"fixed inset-0 z-[100] bg-background-dark/80 backdrop-blur-md flex items-end sm:items-center justify-center p-0 sm:p-6 animate-in slide-in-from-bottom duration-300",children:N.jsxs("div",{className:"w-full max-w-lg glass-card rounded-t-[2.5rem] sm:rounded-[2.5rem] p-8 space-y-6 relative overflow-y-auto max-h-[95vh] custom-scrollbar",children:[N.jsx("button",{onClick:e,className:"absolute top-6 left-6 size-10 flex items-center justify-center rounded-full glass-card hover:bg-white/5",children:N.jsx(jh,{className:"size-6"})}),N.jsxs("div",{className:"text-center",children:[N.jsx("h2",{className:"text-xl font-bold",children:r?"Edit Anggaran":"Atur Anggaran"}),N.jsx("p",{className:"text-slate-400 text-xs mt-1",children:"Tentukan batas pengeluaran bulanan"})]}),N.jsxs("div",{className:"space-y-6",children:[N.jsx($h,{label:"LIMIT ANGGARAN",placeholder:"0",value:u,onChange:v,prefix:"Rp",align:"center",size:"large"}),N.jsx($h,{label:"NAMA KATEGORI",placeholder:"Contoh: Makan, Belanja, Jajan...",value:s,onChange:P=>{o(P.target.value),f&&y("")}}),N.jsxs("div",{className:"space-y-3",children:[N.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest",children:"PILIH ICON"}),N.jsx("div",{className:"grid grid-cols-5 gap-3 max-h-48 overflow-y-auto pr-2 custom-scrollbar",children:w.map(P=>N.jsx("button",{onClick:()=>d(P.name),className:`size-12 rounded-xl flex items-center justify-center transition-all flex-shrink-0 ${h===P.name?"bg-primary text-background-dark shadow-lg shadow-primary/20 scale-110":"bg-white/5 text-slate-400 border border-white/5 hover:bg-white/10"}`,children:P.icon},P.name))})]}),f&&N.jsx("p",{className:"text-xs text-red-500 font-bold text-center",children:f})]}),N.jsxs("div",{className:"flex gap-3",children:[r&&N.jsx("button",{onClick:I,className:"bg-red-500/10 text-red-500 font-bold py-5 px-6 rounded-2xl hover:bg-red-500/20 transition-all",children:N.jsx(lC,{size:24})}),N.jsxs("button",{onClick:S,className:"flex-1 bg-primary text-background-dark font-bold py-5 rounded-2xl flex items-center justify-center gap-3 shadow-xl shadow-primary/20 hover:scale-[1.02] active:scale-[0.98] transition-all",children:[N.jsx(E1,{size:24,strokeWidth:3}),r?"Simpan Perubahan":"Simpan Anggaran"]})]})]})})};var Vk={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D6=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},qq=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=t[n++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=t[n++],o=t[n++],a=t[n++],l=((r&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(l>>10)),e[i++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return e.join("")},O6={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const s=t[r],o=r+1<t.length,a=o?t[r+1]:0,l=r+2<t.length,u=l?t[r+2]:0,c=s>>2,h=(s&3)<<4|a>>4;let d=(a&15)<<2|u>>6,f=u&63;l||(f=64,o||(d=64)),i.push(n[c],n[h],n[d],n[f])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(D6(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):qq(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const s=n[t.charAt(r++)],a=r<t.length?n[t.charAt(r)]:0;++r;const u=r<t.length?n[t.charAt(r)]:64;++r;const h=r<t.length?n[t.charAt(r)]:64;if(++r,s==null||a==null||u==null||h==null)throw new Hq;const d=s<<2|a>>4;if(i.push(d),u!==64){const f=a<<4&240|u>>2;if(i.push(f),h!==64){const y=u<<6&192|h;i.push(y)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Hq extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $q=function(t){const e=D6(t);return O6.encodeByteArray(e,!0)},V0=function(t){return $q(t).replace(/\./g,"")},F6=function(t){try{return O6.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gq(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kq=()=>Gq().__FIREBASE_DEFAULTS__,Yq=()=>{if(typeof process>"u"||typeof Vk>"u")return;const t=Vk.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Xq=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&F6(t[1]);return e&&JSON.parse(e)},j1=()=>{try{return Kq()||Yq()||Xq()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},j6=t=>{var e,n;return(n=(e=j1())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Qq=t=>{const e=j6(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},V6=()=>{var t;return(t=j1())===null||t===void 0?void 0:t.config},B6=t=>{var e;return(e=j1())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jq{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zq(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[V0(JSON.stringify(n)),V0(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function br(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function eH(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(br())}function tH(){var t;const e=(t=j1())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function nH(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function iH(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function rH(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function sH(){const t=br();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function oH(){return!tH()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function aH(){try{return typeof indexedDB=="object"}catch{return!1}}function lH(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;e(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uH="FirebaseError";class Ha extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=uH,Object.setPrototypeOf(this,Ha.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qp.prototype.create)}}class qp{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?cH(s,i):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new Ha(r,a,i)}}function cH(t,e){return t.replace(hH,(n,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const hH=/\{\$([^}]+)}/g;function fH(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function B0(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const s=t[r],o=e[r];if(Bk(s)&&Bk(o)){if(!B0(s,o))return!1}else if(s!==o)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function Bk(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hp(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function dH(t,e){const n=new pH(t,e);return n.subscribe.bind(n)}class pH{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");gH(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=x2),r.error===void 0&&(r.error=x2),r.complete===void 0&&(r.complete=x2);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function gH(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function x2(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wi(t){return t&&t._delegate?t._delegate:t}class sc{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mu="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mH{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new Jq;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(vH(e))try{this.getOrInitializeService({instanceIdentifier:Mu})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=Mu){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Mu){return this.instances.has(e)}getOptions(e=Mu){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);i===a&&o.resolve(r)}return r}onInit(e,n){var i;const r=this.normalizeInstanceIdentifier(n),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:yH(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Mu){return this.component?this.component.multipleInstances?e:Mu:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function yH(t){return t===Mu?void 0:t}function vH(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wH{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new mH(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ht;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ht||(Ht={}));const _H={debug:Ht.DEBUG,verbose:Ht.VERBOSE,info:Ht.INFO,warn:Ht.WARN,error:Ht.ERROR,silent:Ht.SILENT},bH=Ht.INFO,xH={[Ht.DEBUG]:"log",[Ht.VERBOSE]:"log",[Ht.INFO]:"info",[Ht.WARN]:"warn",[Ht.ERROR]:"error"},SH=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),r=xH[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class hb{constructor(e){this.name=e,this._logLevel=bH,this._logHandler=SH,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ht))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_H[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ht.DEBUG,...e),this._logHandler(this,Ht.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ht.VERBOSE,...e),this._logHandler(this,Ht.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ht.INFO,...e),this._logHandler(this,Ht.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ht.WARN,...e),this._logHandler(this,Ht.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ht.ERROR,...e),this._logHandler(this,Ht.ERROR,...e)}}const AH=(t,e)=>e.some(n=>t instanceof n);let zk,Uk;function kH(){return zk||(zk=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function TH(){return Uk||(Uk=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const z6=new WeakMap,E5=new WeakMap,U6=new WeakMap,S2=new WeakMap,fb=new WeakMap;function EH(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ql(t.result)),r()},o=()=>{i(t.error),r()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&z6.set(n,t)}).catch(()=>{}),fb.set(e,t),e}function PH(t){if(E5.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),r()},o=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});E5.set(t,e)}let P5={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return E5.get(t);if(e==="objectStoreNames")return t.objectStoreNames||U6.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ql(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function IH(t){P5=t(P5)}function CH(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(A2(this),e,...n);return U6.set(i,e.sort?e.sort():[e]),ql(i)}:TH().includes(t)?function(...e){return t.apply(A2(this),e),ql(z6.get(this))}:function(...e){return ql(t.apply(A2(this),e))}}function NH(t){return typeof t=="function"?CH(t):(t instanceof IDBTransaction&&PH(t),AH(t,kH())?new Proxy(t,P5):t)}function ql(t){if(t instanceof IDBRequest)return EH(t);if(S2.has(t))return S2.get(t);const e=NH(t);return e!==t&&(S2.set(t,e),fb.set(e,t)),e}const A2=t=>fb.get(t);function LH(t,e,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const o=indexedDB.open(t,e),a=ql(o);return i&&o.addEventListener("upgradeneeded",l=>{i(ql(o.result),l.oldVersion,l.newVersion,ql(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),r&&l.addEventListener("versionchange",u=>r(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const RH=["get","getKey","getAll","getAllKeys","count"],MH=["put","add","delete","clear"],k2=new Map;function Wk(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(k2.get(e))return k2.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=MH.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||RH.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,r?"readwrite":"readonly");let u=l.store;return i&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),r&&l.done]))[0]};return k2.set(e,s),s}IH(t=>({...t,get:(e,n,i)=>Wk(e,n)||t.get(e,n,i),has:(e,n)=>!!Wk(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DH{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(OH(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function OH(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const I5="@firebase/app",qk="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fa=new hb("@firebase/app"),FH="@firebase/app-compat",jH="@firebase/analytics-compat",VH="@firebase/analytics",BH="@firebase/app-check-compat",zH="@firebase/app-check",UH="@firebase/auth",WH="@firebase/auth-compat",qH="@firebase/database",HH="@firebase/data-connect",$H="@firebase/database-compat",GH="@firebase/functions",KH="@firebase/functions-compat",YH="@firebase/installations",XH="@firebase/installations-compat",QH="@firebase/messaging",JH="@firebase/messaging-compat",ZH="@firebase/performance",e$="@firebase/performance-compat",t$="@firebase/remote-config",n$="@firebase/remote-config-compat",i$="@firebase/storage",r$="@firebase/storage-compat",s$="@firebase/firestore",o$="@firebase/vertexai-preview",a$="@firebase/firestore-compat",l$="firebase",u$="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C5="[DEFAULT]",c$={[I5]:"fire-core",[FH]:"fire-core-compat",[VH]:"fire-analytics",[jH]:"fire-analytics-compat",[zH]:"fire-app-check",[BH]:"fire-app-check-compat",[UH]:"fire-auth",[WH]:"fire-auth-compat",[qH]:"fire-rtdb",[HH]:"fire-data-connect",[$H]:"fire-rtdb-compat",[GH]:"fire-fn",[KH]:"fire-fn-compat",[YH]:"fire-iid",[XH]:"fire-iid-compat",[QH]:"fire-fcm",[JH]:"fire-fcm-compat",[ZH]:"fire-perf",[e$]:"fire-perf-compat",[t$]:"fire-rc",[n$]:"fire-rc-compat",[i$]:"fire-gcs",[r$]:"fire-gcs-compat",[s$]:"fire-fst",[a$]:"fire-fst-compat",[o$]:"fire-vertex","fire-js":"fire-js",[l$]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z0=new Map,h$=new Map,N5=new Map;function Hk(t,e){try{t.container.addComponent(e)}catch(n){Fa.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Gh(t){const e=t.name;if(N5.has(e))return Fa.debug(`There were multiple attempts to register component ${e}.`),!1;N5.set(e,t);for(const n of z0.values())Hk(n,t);for(const n of h$.values())Hk(n,t);return!0}function db(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Sa(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f$={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hl=new qp("app","Firebase",f$);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d${constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new sc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hl.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uf=u$;function W6(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:C5,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw Hl.create("bad-app-name",{appName:String(r)});if(n||(n=V6()),!n)throw Hl.create("no-options");const s=z0.get(r);if(s){if(B0(n,s.options)&&B0(i,s.config))return s;throw Hl.create("duplicate-app",{appName:r})}const o=new wH(r);for(const l of N5.values())o.addComponent(l);const a=new d$(n,i,o);return z0.set(r,a),a}function q6(t=C5){const e=z0.get(t);if(!e&&t===C5&&V6())return W6();if(!e)throw Hl.create("no-app",{appName:t});return e}function $l(t,e,n){var i;let r=(i=c$[t])!==null&&i!==void 0?i:t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${r}" with version "${e}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Fa.warn(a.join(" "));return}Gh(new sc(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p$="firebase-heartbeat-database",g$=1,_p="firebase-heartbeat-store";let T2=null;function H6(){return T2||(T2=LH(p$,g$,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(_p)}catch(n){console.warn(n)}}}}).catch(t=>{throw Hl.create("idb-open",{originalErrorMessage:t.message})})),T2}async function m$(t){try{const n=(await H6()).transaction(_p),i=await n.objectStore(_p).get($6(t));return await n.done,i}catch(e){if(e instanceof Ha)Fa.warn(e.message);else{const n=Hl.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Fa.warn(n.message)}}}async function $k(t,e){try{const i=(await H6()).transaction(_p,"readwrite");await i.objectStore(_p).put(e,$6(t)),await i.done}catch(n){if(n instanceof Ha)Fa.warn(n.message);else{const i=Hl.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Fa.warn(i.message)}}}function $6(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y$=1024,v$=30*24*60*60*1e3;class w${constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new b$(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Gk();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=v$}),this._storage.overwrite(this._heartbeatsCache))}catch(i){Fa.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Gk(),{heartbeatsToSend:i,unsentEntries:r}=_$(this._heartbeatsCache.heartbeats),s=V0(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Fa.warn(n),""}}}function Gk(){return new Date().toISOString().substring(0,10)}function _$(t,e=y$){const n=[];let i=t.slice();for(const r of t){const s=n.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),Kk(n)>e){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),Kk(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class b${constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return aH()?lH().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await m$(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return $k(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return $k(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Kk(t){return V0(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x$(t){Gh(new sc("platform-logger",e=>new DH(e),"PRIVATE")),Gh(new sc("heartbeat",e=>new w$(e),"PRIVATE")),$l(I5,qk,t),$l(I5,qk,"esm2017"),$l("fire-js","")}x$("");function pb(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function G6(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const S$=G6,K6=new qp("auth","Firebase",G6());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0=new hb("@firebase/auth");function A$(t,...e){U0.logLevel<=Ht.WARN&&U0.warn(`Auth (${uf}): ${t}`,...e)}function Fm(t,...e){U0.logLevel<=Ht.ERROR&&U0.error(`Auth (${uf}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Go(t,...e){throw mb(t,...e)}function co(t,...e){return mb(t,...e)}function gb(t,e,n){const i=Object.assign(Object.assign({},S$()),{[e]:n});return new qp("auth","Firebase",i).create(e,{appName:t.name})}function Yu(t){return gb(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function k$(t,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&Go(t,"argument-error"),gb(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function mb(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return K6.create(t,...e)}function bt(t,e,...n){if(!t)throw mb(e,...n)}function Aa(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Fm(e),new Error(e)}function ja(t,e){t||Aa(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L5(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function T$(){return Yk()==="http:"||Yk()==="https:"}function Yk(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E$(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(T$()||iH()||"connection"in navigator)?navigator.onLine:!0}function P$(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p{constructor(e,n){this.shortDelay=e,this.longDelay=n,ja(n>e,"Short delay should be less than long delay!"),this.isMobile=eH()||rH()}get(){return E$()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yb(t,e){ja(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y6{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Aa("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Aa("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Aa("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I$={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C$=new $p(3e4,6e4);function vb(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function cf(t,e,n,i,r={}){return X6(t,r,async()=>{let s={},o={};i&&(e==="GET"?o=i:s={body:JSON.stringify(i)});const a=Hp(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},s);return nH()||(u.referrerPolicy="no-referrer"),Y6.fetch()(Q6(t,t.config.apiHost,n,a),u)})}async function X6(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},I$),e);try{const r=new L$(t),s=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw rm(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw rm(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw rm(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw rm(t,"user-disabled",o);const c=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw gb(t,c,u);Go(t,c)}}catch(r){if(r instanceof Ha)throw r;Go(t,"network-request-failed",{message:String(r)})}}async function N$(t,e,n,i,r={}){const s=await cf(t,e,n,i,r);return"mfaPendingCredential"in s&&Go(t,"multi-factor-auth-required",{_serverResponse:s}),s}function Q6(t,e,n,i){const r=`${e}${n}?${i}`;return t.config.emulator?yb(t.config,r):`${t.config.apiScheme}://${r}`}class L${constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(co(this.auth,"network-request-failed")),C$.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function rm(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=co(t,e,i);return r.customData._tokenResponse=n,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R$(t,e){return cf(t,"POST","/v1/accounts:delete",e)}async function J6(t,e){return cf(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Md(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function M$(t,e=!1){const n=wi(t),i=await n.getIdToken(e),r=wb(i);bt(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:Md(E2(r.auth_time)),issuedAtTime:Md(E2(r.iat)),expirationTime:Md(E2(r.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function E2(t){return Number(t)*1e3}function wb(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Fm("JWT malformed, contained fewer than 3 sections"),null;try{const r=F6(n);return r?JSON.parse(r):(Fm("Failed to decode base64 JWT payload"),null)}catch(r){return Fm("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function Xk(t){const e=wb(t);return bt(e,"internal-error"),bt(typeof e.exp<"u","internal-error"),bt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bp(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Ha&&D$(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function D$({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O${constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R5{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Md(this.lastLoginAt),this.creationTime=Md(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W0(t){var e;const n=t.auth,i=await t.getIdToken(),r=await bp(t,J6(n,{idToken:i}));bt(r==null?void 0:r.users.length,n,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Z6(s.providerUserInfo):[],a=j$(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new R5(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,h)}async function F$(t){const e=wi(t);await W0(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function j$(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function Z6(t){return t.map(e=>{var{providerId:n}=e,i=pb(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V$(t,e){const n=await X6(t,{},async()=>{const i=Hp({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=t.config,o=Q6(t,r,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Y6.fetch()(o,{method:"POST",headers:a,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function B$(t,e){return cf(t,"POST","/v2/accounts:revokeToken",vb(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){bt(e.idToken,"internal-error"),bt(typeof e.idToken<"u","internal-error"),bt(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Xk(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){bt(e.length!==0,"internal-error");const n=Xk(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(bt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:r,expiresIn:s}=await V$(e,n);this.updateTokensAndExpiration(i,r,Number(s))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:r,expirationTime:s}=n,o=new bh;return i&&(bt(typeof i=="string","internal-error",{appName:e}),o.refreshToken=i),r&&(bt(typeof r=="string","internal-error",{appName:e}),o.accessToken=r),s&&(bt(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new bh,this.toJSON())}_performRefresh(){return Aa("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gl(t,e){bt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ka{constructor(e){var{uid:n,auth:i,stsTokenManager:r}=e,s=pb(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new O$(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new R5(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await bp(this,this.stsTokenManager.getToken(this.auth,e));return bt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return M$(this,e)}reload(){return F$(this)}_assign(e){this!==e&&(bt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ka(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){bt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await W0(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Sa(this.auth.app))return Promise.reject(Yu(this.auth));const e=await this.getIdToken();return await bp(this,R$(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,r,s,o,a,l,u,c;const h=(i=n.displayName)!==null&&i!==void 0?i:void 0,d=(r=n.email)!==null&&r!==void 0?r:void 0,f=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,y=(o=n.photoURL)!==null&&o!==void 0?o:void 0,w=(a=n.tenantId)!==null&&a!==void 0?a:void 0,b=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,v=(u=n.createdAt)!==null&&u!==void 0?u:void 0,S=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:I,emailVerified:P,isAnonymous:F,providerData:H,stsTokenManager:M}=n;bt(I&&M,e,"internal-error");const k=bh.fromJSON(this.name,M);bt(typeof I=="string",e,"internal-error"),gl(h,e.name),gl(d,e.name),bt(typeof P=="boolean",e,"internal-error"),bt(typeof F=="boolean",e,"internal-error"),gl(f,e.name),gl(y,e.name),gl(w,e.name),gl(b,e.name),gl(v,e.name),gl(S,e.name);const T=new ka({uid:I,auth:e,email:d,emailVerified:P,displayName:h,isAnonymous:F,photoURL:y,phoneNumber:f,tenantId:w,stsTokenManager:k,createdAt:v,lastLoginAt:S});return H&&Array.isArray(H)&&(T.providerData=H.map(O=>Object.assign({},O))),b&&(T._redirectEventId=b),T}static async _fromIdTokenResponse(e,n,i=!1){const r=new bh;r.updateFromServerResponse(n);const s=new ka({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await W0(s),s}static async _fromGetAccountInfoResponse(e,n,i){const r=n.users[0];bt(r.localId!==void 0,"internal-error");const s=r.providerUserInfo!==void 0?Z6(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(s!=null&&s.length),a=new bh;a.updateFromIdToken(i);const l=new ka({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new R5(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qk=new Map;function Ta(t){ja(t instanceof Function,"Expected a class definition");let e=Qk.get(t);return e?(ja(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Qk.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}eL.type="NONE";const Jk=eL;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jm(t,e,n){return`firebase:${t}:${e}:${n}`}class xh{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=jm(this.userKey,r.apiKey,s),this.fullPersistenceKey=jm("persistence",r.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ka._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new xh(Ta(Jk),e,i);const r=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=r[0]||Ta(Jk);const o=jm(i,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const h=ka._fromJSON(e,c);u!==s&&(a=h),s=u;break}}catch{}const l=r.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new xh(s,e,i):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new xh(s,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zk(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(rL(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(tL(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(oL(e))return"Blackberry";if(aL(e))return"Webos";if(nL(e))return"Safari";if((e.includes("chrome/")||iL(e))&&!e.includes("edge/"))return"Chrome";if(sL(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function tL(t=br()){return/firefox\//i.test(t)}function nL(t=br()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function iL(t=br()){return/crios\//i.test(t)}function rL(t=br()){return/iemobile/i.test(t)}function sL(t=br()){return/android/i.test(t)}function oL(t=br()){return/blackberry/i.test(t)}function aL(t=br()){return/webos/i.test(t)}function _b(t=br()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function z$(t=br()){var e;return _b(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function U$(){return sH()&&document.documentMode===10}function lL(t=br()){return _b(t)||sL(t)||aL(t)||oL(t)||/windows phone/i.test(t)||rL(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uL(t,e=[]){let n;switch(t){case"Browser":n=Zk(br());break;case"Worker":n=`${Zk(br())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${uf}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W${constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q$(t,e={}){return cf(t,"GET","/v2/passwordPolicy",vb(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H$=6;class $${constructor(e){var n,i,r,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:H$,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,r,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(i=l.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(r=l.containsLowercaseLetter)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G${constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new eT(this),this.idTokenSubscription=new eT(this),this.beforeStateQueue=new W$(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=K6,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ta(n)),this._initializationPromise=this.queue(async()=>{var i,r;if(!this._deleted&&(this.persistenceManager=await xh.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await J6(this,{idToken:e}),i=await ka._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Sa(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return bt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await W0(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=P$()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Sa(this.app))return Promise.reject(Yu(this));const n=e?wi(e):null;return n&&bt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&bt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Sa(this.app)?Promise.reject(Yu(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Sa(this.app)?Promise.reject(Yu(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ta(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await q$(this),n=new $$(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new qp("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await B$(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ta(e)||this._popupRedirectResolver;bt(n,this,"argument-error"),this.redirectPersistenceManager=await xh.create(this,[Ta(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(bt(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,i,r);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return bt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=uL(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&A$(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function V1(t){return wi(t)}class eT{constructor(e){this.auth=e,this.observer=null,this.addObserver=dH(n=>this.observer=n)}get next(){return bt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bb={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function K$(t){bb=t}function Y$(t){return bb.loadJS(t)}function X$(){return bb.gapiScript}function Q$(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J$(t,e){const n=db(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),s=n.getOptions();if(B0(s,e??{}))return r;Go(r,"already-initialized")}return n.initialize({options:e})}function Z$(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Ta);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function eG(t,e,n){const i=V1(t);bt(i._canInitEmulator,i,"emulator-config-failed"),bt(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!1,s=cL(e),{host:o,port:a}=tG(e),l=a===null?"":`:${a}`;i.config.emulator={url:`${s}//${o}${l}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})}),nG()}function cL(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function tG(t){const e=cL(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:tT(i.substr(s.length+1))}}else{const[s,o]=i.split(":");return{host:s,port:tT(o)}}}function tT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function nG(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hL{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Aa("not implemented")}_getIdTokenResponse(e){return Aa("not implemented")}_linkToIdToken(e,n){return Aa("not implemented")}_getReauthenticationResolver(e){return Aa("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sh(t,e){return N$(t,"POST","/v1/accounts:signInWithIdp",vb(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iG="http://localhost";class oc extends hL{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new oc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Go("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r}=n,s=pb(n,["providerId","signInMethod"]);if(!i||!r)return null;const o=new oc(i,r);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Sh(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Sh(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Sh(e,n)}buildRequest(){const e={requestUri:iG,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Hp(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp extends xb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al extends Gp{constructor(){super("facebook.com")}static credential(e){return oc._fromParams({providerId:Al.PROVIDER_ID,signInMethod:Al.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Al.credentialFromTaggedObject(e)}static credentialFromError(e){return Al.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Al.credential(e.oauthAccessToken)}catch{return null}}}Al.FACEBOOK_SIGN_IN_METHOD="facebook.com";Al.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa extends Gp{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return oc._fromParams({providerId:wa.PROVIDER_ID,signInMethod:wa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return wa.credentialFromTaggedObject(e)}static credentialFromError(e){return wa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return wa.credential(n,i)}catch{return null}}}wa.GOOGLE_SIGN_IN_METHOD="google.com";wa.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl extends Gp{constructor(){super("github.com")}static credential(e){return oc._fromParams({providerId:kl.PROVIDER_ID,signInMethod:kl.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return kl.credentialFromTaggedObject(e)}static credentialFromError(e){return kl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return kl.credential(e.oauthAccessToken)}catch{return null}}}kl.GITHUB_SIGN_IN_METHOD="github.com";kl.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl extends Gp{constructor(){super("twitter.com")}static credential(e,n){return oc._fromParams({providerId:Tl.PROVIDER_ID,signInMethod:Tl.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Tl.credentialFromTaggedObject(e)}static credentialFromError(e){return Tl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Tl.credential(n,i)}catch{return null}}}Tl.TWITTER_SIGN_IN_METHOD="twitter.com";Tl.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,r=!1){const s=await ka._fromIdTokenResponse(e,i,r),o=nT(i);return new Kh({user:s,providerId:o,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const r=nT(i);return new Kh({user:e,providerId:r,_tokenResponse:i,operationType:n})}}function nT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0 extends Ha{constructor(e,n,i,r){var s;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,q0.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,r){return new q0(e,n,i,r)}}function fL(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?q0._fromErrorAndOperation(t,s,e,i):s})}async function rG(t,e,n=!1){const i=await bp(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Kh._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sG(t,e,n=!1){const{auth:i}=t;if(Sa(i.app))return Promise.reject(Yu(i));const r="reauthenticate";try{const s=await bp(t,fL(i,r,e,t),n);bt(s.idToken,i,"internal-error");const o=wb(s.idToken);bt(o,i,"internal-error");const{sub:a}=o;return bt(t.uid===a,i,"user-mismatch"),Kh._forOperation(t,r,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Go(i,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oG(t,e,n=!1){if(Sa(t.app))return Promise.reject(Yu(t));const i="signIn",r=await fL(t,i,e),s=await Kh._fromIdTokenResponse(t,i,r);return n||await t._updateCurrentUser(s.user),s}function aG(t,e,n,i){return wi(t).onIdTokenChanged(e,n,i)}function lG(t,e,n){return wi(t).beforeAuthStateChanged(e,n)}function uG(t,e,n,i){return wi(t).onAuthStateChanged(e,n,i)}function cG(t){return wi(t).signOut()}const H0="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dL{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(H0,"1"),this.storage.removeItem(H0),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hG=1e3,fG=10;class pL extends dL{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=lL(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&e(n,r,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const i=e.key;n?this.detachListener():this.stopPolling();const r=()=>{const o=this.storage.getItem(i);!n&&this.localCache[i]===o||this.notifyListeners(i,o)},s=this.storage.getItem(i);U$()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,fG):r()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},hG)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}pL.type="LOCAL";const dG=pL;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gL extends dL{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}gL.type="SESSION";const mL=gL;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pG(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const i=new B1(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:r,data:s}=n.data,o=this.handlersMap[r];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await pG(a);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}B1.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sb(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gG{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=Sb("",20);r.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},i);o={messageChannel:r,onMessage(h){const d=h;if(d.data.eventId===u)switch(d.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(d.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ho(){return window}function mG(t){Ho().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yL(){return typeof Ho().WorkerGlobalScope<"u"&&typeof Ho().importScripts=="function"}async function yG(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function vG(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function wG(){return yL()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vL="firebaseLocalStorageDb",_G=1,$0="firebaseLocalStorage",wL="fbase_key";class Kp{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function z1(t,e){return t.transaction([$0],e?"readwrite":"readonly").objectStore($0)}function bG(){const t=indexedDB.deleteDatabase(vL);return new Kp(t).toPromise()}function M5(){const t=indexedDB.open(vL,_G);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore($0,{keyPath:wL})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains($0)?e(i):(i.close(),await bG(),e(await M5()))})})}async function iT(t,e,n){const i=z1(t,!0).put({[wL]:e,value:n});return new Kp(i).toPromise()}async function xG(t,e){const n=z1(t,!1).get(e),i=await new Kp(n).toPromise();return i===void 0?null:i.value}function rT(t,e){const n=z1(t,!0).delete(e);return new Kp(n).toPromise()}const SG=800,AG=3;class _L{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await M5(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>AG)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return yL()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=B1._getInstance(wG()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await yG(),!this.activeServiceWorker)return;this.sender=new gG(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||vG()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await M5();return await iT(e,H0,"1"),await rT(e,H0),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>iT(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>xG(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>rT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const s=z1(r,!1).getAll();return new Kp(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:r,value:s}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),SG)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}_L.type="LOCAL";const kG=_L;new $p(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bL(t,e){return e?Ta(e):(bt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab extends hL{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Sh(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Sh(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Sh(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function TG(t){return oG(t.auth,new Ab(t),t.bypassAuthState)}function EG(t){const{auth:e,user:n}=t;return bt(n,e,"internal-error"),sG(n,new Ab(t),t.bypassAuthState)}async function PG(t){const{auth:e,user:n}=t;return bt(n,e,"internal-error"),rG(n,new Ab(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xL{constructor(e,n,i,r,s=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:r,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return TG;case"linkViaPopup":case"linkViaRedirect":return PG;case"reauthViaPopup":case"reauthViaRedirect":return EG;default:Go(this.auth,"internal-error")}}resolve(e){ja(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ja(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IG=new $p(2e3,1e4);async function CG(t,e,n){if(Sa(t.app))return Promise.reject(co(t,"operation-not-supported-in-this-environment"));const i=V1(t);k$(t,e,xb);const r=bL(i,n);return new Uu(i,"signInViaPopup",e,r).executeNotNull()}class Uu extends xL{constructor(e,n,i,r,s){super(e,n,r,s),this.provider=i,this.authWindow=null,this.pollId=null,Uu.currentPopupAction&&Uu.currentPopupAction.cancel(),Uu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return bt(e,this.auth,"internal-error"),e}async onExecution(){ja(this.filter.length===1,"Popup operations only handle one event");const e=Sb();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(co(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(co(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Uu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(co(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,IG.get())};e()}}Uu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NG="pendingRedirect",Vm=new Map;class LG extends xL{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Vm.get(this.auth._key());if(!e){try{const i=await RG(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Vm.set(this.auth._key(),e)}return this.bypassAuthState||Vm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function RG(t,e){const n=OG(e),i=DG(t);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}function MG(t,e){Vm.set(t._key(),e)}function DG(t){return Ta(t._redirectPersistence)}function OG(t){return jm(NG,t.config.apiKey,t.name)}async function FG(t,e,n=!1){if(Sa(t.app))return Promise.reject(Yu(t));const i=V1(t),r=bL(i,e),o=await new LG(i,r,n).execute();return o&&!n&&(delete o.user._redirectEventId,await i._persistUserIfCurrent(o.user),await i._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jG=10*60*1e3;class VG{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!BG(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!SL(e)){const r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(co(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=jG&&this.cachedEventUids.clear(),this.cachedEventUids.has(sT(e))}saveEventToCache(e){this.cachedEventUids.add(sT(e)),this.lastProcessedEventTime=Date.now()}}function sT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function SL({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function BG(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return SL(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zG(t,e={}){return cf(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UG=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,WG=/^https?/;async function qG(t){if(t.config.emulator)return;const{authorizedDomains:e}=await zG(t);for(const n of e)try{if(HG(n))return}catch{}Go(t,"unauthorized-domain")}function HG(t){const e=L5(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===i}if(!WG.test(n))return!1;if(UG.test(t))return i===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $G=new $p(3e4,6e4);function oT(){const t=Ho().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function GG(t){return new Promise((e,n)=>{var i,r,s;function o(){oT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{oT(),n(co(t,"network-request-failed"))},timeout:$G.get()})}if(!((r=(i=Ho().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((s=Ho().gapi)===null||s===void 0)&&s.load)o();else{const a=Q$("iframefcb");return Ho()[a]=()=>{gapi.load?o():n(co(t,"network-request-failed"))},Y$(`${X$()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Bm=null,e})}let Bm=null;function KG(t){return Bm=Bm||GG(t),Bm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YG=new $p(5e3,15e3),XG="__/auth/iframe",QG="emulator/auth/iframe",JG={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ZG=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function eK(t){const e=t.config;bt(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?yb(e,QG):`https://${t.config.authDomain}/${XG}`,i={apiKey:e.apiKey,appName:t.name,v:uf},r=ZG.get(t.config.apiHost);r&&(i.eid=r);const s=t._getFrameworks();return s.length&&(i.fw=s.join(",")),`${n}?${Hp(i).slice(1)}`}async function tK(t){const e=await KG(t),n=Ho().gapi;return bt(n,t,"internal-error"),e.open({where:document.body,url:eK(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:JG,dontclear:!0},i=>new Promise(async(r,s)=>{await i.restyle({setHideOnLeave:!1});const o=co(t,"network-request-failed"),a=Ho().setTimeout(()=>{s(o)},YG.get());function l(){Ho().clearTimeout(a),r(i)}i.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nK={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},iK=500,rK=600,sK="_blank",oK="http://localhost";class aT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function aK(t,e,n,i=iK,r=rK){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString();let a="";const l=Object.assign(Object.assign({},nK),{width:i.toString(),height:r.toString(),top:s,left:o}),u=br().toLowerCase();n&&(a=iL(u)?sK:n),tL(u)&&(e=e||oK,l.scrollbars="yes");const c=Object.entries(l).reduce((d,[f,y])=>`${d}${f}=${y},`,"");if(z$(u)&&a!=="_self")return lK(e||"",a),new aT(null);const h=window.open(e||"",a,c);bt(h,t,"popup-blocked");try{h.focus()}catch{}return new aT(h)}function lK(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uK="__/auth/handler",cK="emulator/auth/handler",hK=encodeURIComponent("fac");async function lT(t,e,n,i,r,s){bt(t.config.authDomain,t,"auth-domain-config-required"),bt(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:uf,eventId:r};if(e instanceof xb){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",fH(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,h]of Object.entries({}))o[c]=h}if(e instanceof Gp){const c=e.getScopes().filter(h=>h!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${hK}=${encodeURIComponent(l)}`:"";return`${fK(t)}?${Hp(a).slice(1)}${u}`}function fK({config:t}){return t.emulator?yb(t,cK):`https://${t.authDomain}/${uK}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2="webStorageSupport";class dK{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=mL,this._completeRedirectFn=FG,this._overrideRedirectResult=MG}async _openPopup(e,n,i,r){var s;ja((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await lT(e,n,i,L5(),r);return aK(e,o,Sb())}async _openRedirect(e,n,i,r){await this._originValidation(e);const s=await lT(e,n,i,L5(),r);return mG(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:s}=this.eventManagers[n];return r?Promise.resolve(r):(ja(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await tK(e),i=new VG(e);return n.register("authEvent",r=>(bt(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(P2,{type:P2},r=>{var s;const o=(s=r==null?void 0:r[0])===null||s===void 0?void 0:s[P2];o!==void 0&&n(!!o),Go(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=qG(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return lL()||nL()||_b()}}const pK=dK;var uT="@firebase/auth",cT="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gK{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){bt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mK(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function yK(t){Gh(new sc("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=i.options;bt(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:uL(t)},u=new G$(i,r,s,l);return Z$(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Gh(new sc("auth-internal",e=>{const n=V1(e.getProvider("auth").getImmediate());return(i=>new gK(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),$l(uT,cT,mK(t)),$l(uT,cT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vK=5*60,wK=B6("authIdTokenMaxAge")||vK;let hT=null;const _K=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>wK)return;const r=n==null?void 0:n.token;hT!==r&&(hT=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function bK(t=q6()){const e=db(t,"auth");if(e.isInitialized())return e.getImmediate();const n=J$(t,{popupRedirectResolver:pK,persistence:[kG,dG,mL]}),i=B6("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(i,location.origin);if(location.origin===s.origin){const o=_K(s.toString());lG(n,o,()=>o(n.currentUser)),aG(n,a=>o(a))}}const r=j6("auth");return r&&eG(n,`http://${r}`),n}function xK(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}K$({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{const s=co("internal-error");s.customData=r,n(s)},i.type="text/javascript",i.charset="UTF-8",xK().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});yK("Browser");var SK="firebase",AK="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$l(SK,AK,"app");var fT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Xu,AL;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,k){function T(){}T.prototype=k.prototype,M.D=k.prototype,M.prototype=new T,M.prototype.constructor=M,M.C=function(O,E,L){for(var D=Array(arguments.length-2),Z=2;Z<arguments.length;Z++)D[Z-2]=arguments[Z];return k.prototype[E].apply(O,D)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(M,k,T){T||(T=0);var O=Array(16);if(typeof k=="string")for(var E=0;16>E;++E)O[E]=k.charCodeAt(T++)|k.charCodeAt(T++)<<8|k.charCodeAt(T++)<<16|k.charCodeAt(T++)<<24;else for(E=0;16>E;++E)O[E]=k[T++]|k[T++]<<8|k[T++]<<16|k[T++]<<24;k=M.g[0],T=M.g[1],E=M.g[2];var L=M.g[3],D=k+(L^T&(E^L))+O[0]+3614090360&4294967295;k=T+(D<<7&4294967295|D>>>25),D=L+(E^k&(T^E))+O[1]+3905402710&4294967295,L=k+(D<<12&4294967295|D>>>20),D=E+(T^L&(k^T))+O[2]+606105819&4294967295,E=L+(D<<17&4294967295|D>>>15),D=T+(k^E&(L^k))+O[3]+3250441966&4294967295,T=E+(D<<22&4294967295|D>>>10),D=k+(L^T&(E^L))+O[4]+4118548399&4294967295,k=T+(D<<7&4294967295|D>>>25),D=L+(E^k&(T^E))+O[5]+1200080426&4294967295,L=k+(D<<12&4294967295|D>>>20),D=E+(T^L&(k^T))+O[6]+2821735955&4294967295,E=L+(D<<17&4294967295|D>>>15),D=T+(k^E&(L^k))+O[7]+4249261313&4294967295,T=E+(D<<22&4294967295|D>>>10),D=k+(L^T&(E^L))+O[8]+1770035416&4294967295,k=T+(D<<7&4294967295|D>>>25),D=L+(E^k&(T^E))+O[9]+2336552879&4294967295,L=k+(D<<12&4294967295|D>>>20),D=E+(T^L&(k^T))+O[10]+4294925233&4294967295,E=L+(D<<17&4294967295|D>>>15),D=T+(k^E&(L^k))+O[11]+2304563134&4294967295,T=E+(D<<22&4294967295|D>>>10),D=k+(L^T&(E^L))+O[12]+1804603682&4294967295,k=T+(D<<7&4294967295|D>>>25),D=L+(E^k&(T^E))+O[13]+4254626195&4294967295,L=k+(D<<12&4294967295|D>>>20),D=E+(T^L&(k^T))+O[14]+2792965006&4294967295,E=L+(D<<17&4294967295|D>>>15),D=T+(k^E&(L^k))+O[15]+1236535329&4294967295,T=E+(D<<22&4294967295|D>>>10),D=k+(E^L&(T^E))+O[1]+4129170786&4294967295,k=T+(D<<5&4294967295|D>>>27),D=L+(T^E&(k^T))+O[6]+3225465664&4294967295,L=k+(D<<9&4294967295|D>>>23),D=E+(k^T&(L^k))+O[11]+643717713&4294967295,E=L+(D<<14&4294967295|D>>>18),D=T+(L^k&(E^L))+O[0]+3921069994&4294967295,T=E+(D<<20&4294967295|D>>>12),D=k+(E^L&(T^E))+O[5]+3593408605&4294967295,k=T+(D<<5&4294967295|D>>>27),D=L+(T^E&(k^T))+O[10]+38016083&4294967295,L=k+(D<<9&4294967295|D>>>23),D=E+(k^T&(L^k))+O[15]+3634488961&4294967295,E=L+(D<<14&4294967295|D>>>18),D=T+(L^k&(E^L))+O[4]+3889429448&4294967295,T=E+(D<<20&4294967295|D>>>12),D=k+(E^L&(T^E))+O[9]+568446438&4294967295,k=T+(D<<5&4294967295|D>>>27),D=L+(T^E&(k^T))+O[14]+3275163606&4294967295,L=k+(D<<9&4294967295|D>>>23),D=E+(k^T&(L^k))+O[3]+4107603335&4294967295,E=L+(D<<14&4294967295|D>>>18),D=T+(L^k&(E^L))+O[8]+1163531501&4294967295,T=E+(D<<20&4294967295|D>>>12),D=k+(E^L&(T^E))+O[13]+2850285829&4294967295,k=T+(D<<5&4294967295|D>>>27),D=L+(T^E&(k^T))+O[2]+4243563512&4294967295,L=k+(D<<9&4294967295|D>>>23),D=E+(k^T&(L^k))+O[7]+1735328473&4294967295,E=L+(D<<14&4294967295|D>>>18),D=T+(L^k&(E^L))+O[12]+2368359562&4294967295,T=E+(D<<20&4294967295|D>>>12),D=k+(T^E^L)+O[5]+4294588738&4294967295,k=T+(D<<4&4294967295|D>>>28),D=L+(k^T^E)+O[8]+2272392833&4294967295,L=k+(D<<11&4294967295|D>>>21),D=E+(L^k^T)+O[11]+1839030562&4294967295,E=L+(D<<16&4294967295|D>>>16),D=T+(E^L^k)+O[14]+4259657740&4294967295,T=E+(D<<23&4294967295|D>>>9),D=k+(T^E^L)+O[1]+2763975236&4294967295,k=T+(D<<4&4294967295|D>>>28),D=L+(k^T^E)+O[4]+1272893353&4294967295,L=k+(D<<11&4294967295|D>>>21),D=E+(L^k^T)+O[7]+4139469664&4294967295,E=L+(D<<16&4294967295|D>>>16),D=T+(E^L^k)+O[10]+3200236656&4294967295,T=E+(D<<23&4294967295|D>>>9),D=k+(T^E^L)+O[13]+681279174&4294967295,k=T+(D<<4&4294967295|D>>>28),D=L+(k^T^E)+O[0]+3936430074&4294967295,L=k+(D<<11&4294967295|D>>>21),D=E+(L^k^T)+O[3]+3572445317&4294967295,E=L+(D<<16&4294967295|D>>>16),D=T+(E^L^k)+O[6]+76029189&4294967295,T=E+(D<<23&4294967295|D>>>9),D=k+(T^E^L)+O[9]+3654602809&4294967295,k=T+(D<<4&4294967295|D>>>28),D=L+(k^T^E)+O[12]+3873151461&4294967295,L=k+(D<<11&4294967295|D>>>21),D=E+(L^k^T)+O[15]+530742520&4294967295,E=L+(D<<16&4294967295|D>>>16),D=T+(E^L^k)+O[2]+3299628645&4294967295,T=E+(D<<23&4294967295|D>>>9),D=k+(E^(T|~L))+O[0]+4096336452&4294967295,k=T+(D<<6&4294967295|D>>>26),D=L+(T^(k|~E))+O[7]+1126891415&4294967295,L=k+(D<<10&4294967295|D>>>22),D=E+(k^(L|~T))+O[14]+2878612391&4294967295,E=L+(D<<15&4294967295|D>>>17),D=T+(L^(E|~k))+O[5]+4237533241&4294967295,T=E+(D<<21&4294967295|D>>>11),D=k+(E^(T|~L))+O[12]+1700485571&4294967295,k=T+(D<<6&4294967295|D>>>26),D=L+(T^(k|~E))+O[3]+2399980690&4294967295,L=k+(D<<10&4294967295|D>>>22),D=E+(k^(L|~T))+O[10]+4293915773&4294967295,E=L+(D<<15&4294967295|D>>>17),D=T+(L^(E|~k))+O[1]+2240044497&4294967295,T=E+(D<<21&4294967295|D>>>11),D=k+(E^(T|~L))+O[8]+1873313359&4294967295,k=T+(D<<6&4294967295|D>>>26),D=L+(T^(k|~E))+O[15]+4264355552&4294967295,L=k+(D<<10&4294967295|D>>>22),D=E+(k^(L|~T))+O[6]+2734768916&4294967295,E=L+(D<<15&4294967295|D>>>17),D=T+(L^(E|~k))+O[13]+1309151649&4294967295,T=E+(D<<21&4294967295|D>>>11),D=k+(E^(T|~L))+O[4]+4149444226&4294967295,k=T+(D<<6&4294967295|D>>>26),D=L+(T^(k|~E))+O[11]+3174756917&4294967295,L=k+(D<<10&4294967295|D>>>22),D=E+(k^(L|~T))+O[2]+718787259&4294967295,E=L+(D<<15&4294967295|D>>>17),D=T+(L^(E|~k))+O[9]+3951481745&4294967295,M.g[0]=M.g[0]+k&4294967295,M.g[1]=M.g[1]+(E+(D<<21&4294967295|D>>>11))&4294967295,M.g[2]=M.g[2]+E&4294967295,M.g[3]=M.g[3]+L&4294967295}i.prototype.u=function(M,k){k===void 0&&(k=M.length);for(var T=k-this.blockSize,O=this.B,E=this.h,L=0;L<k;){if(E==0)for(;L<=T;)r(this,M,L),L+=this.blockSize;if(typeof M=="string"){for(;L<k;)if(O[E++]=M.charCodeAt(L++),E==this.blockSize){r(this,O),E=0;break}}else for(;L<k;)if(O[E++]=M[L++],E==this.blockSize){r(this,O),E=0;break}}this.h=E,this.o+=k},i.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var k=1;k<M.length-8;++k)M[k]=0;var T=8*this.o;for(k=M.length-8;k<M.length;++k)M[k]=T&255,T/=256;for(this.u(M),M=Array(16),k=T=0;4>k;++k)for(var O=0;32>O;O+=8)M[T++]=this.g[k]>>>O&255;return M};function s(M,k){var T=a;return Object.prototype.hasOwnProperty.call(T,M)?T[M]:T[M]=k(M)}function o(M,k){this.h=k;for(var T=[],O=!0,E=M.length-1;0<=E;E--){var L=M[E]|0;O&&L==k||(T[E]=L,O=!1)}this.g=T}var a={};function l(M){return-128<=M&&128>M?s(M,function(k){return new o([k|0],0>k?-1:0)}):new o([M|0],0>M?-1:0)}function u(M){if(isNaN(M)||!isFinite(M))return h;if(0>M)return b(u(-M));for(var k=[],T=1,O=0;M>=T;O++)k[O]=M/T|0,T*=4294967296;return new o(k,0)}function c(M,k){if(M.length==0)throw Error("number format error: empty string");if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(M.charAt(0)=="-")return b(c(M.substring(1),k));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=u(Math.pow(k,8)),O=h,E=0;E<M.length;E+=8){var L=Math.min(8,M.length-E),D=parseInt(M.substring(E,E+L),k);8>L?(L=u(Math.pow(k,L)),O=O.j(L).add(u(D))):(O=O.j(T),O=O.add(u(D)))}return O}var h=l(0),d=l(1),f=l(16777216);t=o.prototype,t.m=function(){if(w(this))return-b(this).m();for(var M=0,k=1,T=0;T<this.g.length;T++){var O=this.i(T);M+=(0<=O?O:4294967296+O)*k,k*=4294967296}return M},t.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(y(this))return"0";if(w(this))return"-"+b(this).toString(M);for(var k=u(Math.pow(M,6)),T=this,O="";;){var E=P(T,k).g;T=v(T,E.j(k));var L=((0<T.g.length?T.g[0]:T.h)>>>0).toString(M);if(T=E,y(T))return L+O;for(;6>L.length;)L="0"+L;O=L+O}},t.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function y(M){if(M.h!=0)return!1;for(var k=0;k<M.g.length;k++)if(M.g[k]!=0)return!1;return!0}function w(M){return M.h==-1}t.l=function(M){return M=v(this,M),w(M)?-1:y(M)?0:1};function b(M){for(var k=M.g.length,T=[],O=0;O<k;O++)T[O]=~M.g[O];return new o(T,~M.h).add(d)}t.abs=function(){return w(this)?b(this):this},t.add=function(M){for(var k=Math.max(this.g.length,M.g.length),T=[],O=0,E=0;E<=k;E++){var L=O+(this.i(E)&65535)+(M.i(E)&65535),D=(L>>>16)+(this.i(E)>>>16)+(M.i(E)>>>16);O=D>>>16,L&=65535,D&=65535,T[E]=D<<16|L}return new o(T,T[T.length-1]&-2147483648?-1:0)};function v(M,k){return M.add(b(k))}t.j=function(M){if(y(this)||y(M))return h;if(w(this))return w(M)?b(this).j(b(M)):b(b(this).j(M));if(w(M))return b(this.j(b(M)));if(0>this.l(f)&&0>M.l(f))return u(this.m()*M.m());for(var k=this.g.length+M.g.length,T=[],O=0;O<2*k;O++)T[O]=0;for(O=0;O<this.g.length;O++)for(var E=0;E<M.g.length;E++){var L=this.i(O)>>>16,D=this.i(O)&65535,Z=M.i(E)>>>16,oe=M.i(E)&65535;T[2*O+2*E]+=D*oe,S(T,2*O+2*E),T[2*O+2*E+1]+=L*oe,S(T,2*O+2*E+1),T[2*O+2*E+1]+=D*Z,S(T,2*O+2*E+1),T[2*O+2*E+2]+=L*Z,S(T,2*O+2*E+2)}for(O=0;O<k;O++)T[O]=T[2*O+1]<<16|T[2*O];for(O=k;O<2*k;O++)T[O]=0;return new o(T,0)};function S(M,k){for(;(M[k]&65535)!=M[k];)M[k+1]+=M[k]>>>16,M[k]&=65535,k++}function I(M,k){this.g=M,this.h=k}function P(M,k){if(y(k))throw Error("division by zero");if(y(M))return new I(h,h);if(w(M))return k=P(b(M),k),new I(b(k.g),b(k.h));if(w(k))return k=P(M,b(k)),new I(b(k.g),k.h);if(30<M.g.length){if(w(M)||w(k))throw Error("slowDivide_ only works with positive integers.");for(var T=d,O=k;0>=O.l(M);)T=F(T),O=F(O);var E=H(T,1),L=H(O,1);for(O=H(O,2),T=H(T,2);!y(O);){var D=L.add(O);0>=D.l(M)&&(E=E.add(T),L=D),O=H(O,1),T=H(T,1)}return k=v(M,E.j(k)),new I(E,k)}for(E=h;0<=M.l(k);){for(T=Math.max(1,Math.floor(M.m()/k.m())),O=Math.ceil(Math.log(T)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),L=u(T),D=L.j(k);w(D)||0<D.l(M);)T-=O,L=u(T),D=L.j(k);y(L)&&(L=d),E=E.add(L),M=v(M,D)}return new I(E,M)}t.A=function(M){return P(this,M).h},t.and=function(M){for(var k=Math.max(this.g.length,M.g.length),T=[],O=0;O<k;O++)T[O]=this.i(O)&M.i(O);return new o(T,this.h&M.h)},t.or=function(M){for(var k=Math.max(this.g.length,M.g.length),T=[],O=0;O<k;O++)T[O]=this.i(O)|M.i(O);return new o(T,this.h|M.h)},t.xor=function(M){for(var k=Math.max(this.g.length,M.g.length),T=[],O=0;O<k;O++)T[O]=this.i(O)^M.i(O);return new o(T,this.h^M.h)};function F(M){for(var k=M.g.length+1,T=[],O=0;O<k;O++)T[O]=M.i(O)<<1|M.i(O-1)>>>31;return new o(T,M.h)}function H(M,k){var T=k>>5;k%=32;for(var O=M.g.length-T,E=[],L=0;L<O;L++)E[L]=0<k?M.i(L+T)>>>k|M.i(L+T+1)<<32-k:M.i(L+T);return new o(E,M.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,AL=i,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=c,Xu=o}).apply(typeof fT<"u"?fT:typeof self<"u"?self:typeof window<"u"?window:{});var sm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var kL,fd,TL,zm,D5,EL,PL,IL;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(g,A,R){return g==Array.prototype||g==Object.prototype||(g[A]=R.value),g};function n(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof sm=="object"&&sm];for(var A=0;A<g.length;++A){var R=g[A];if(R&&R.Math==Math)return R}throw Error("Cannot find global object")}var i=n(this);function r(g,A){if(A)e:{var R=i;g=g.split(".");for(var q=0;q<g.length-1;q++){var he=g[q];if(!(he in R))break e;R=R[he]}g=g[g.length-1],q=R[g],A=A(q),A!=q&&A!=null&&e(R,g,{configurable:!0,writable:!0,value:A})}}function s(g,A){g instanceof String&&(g+="");var R=0,q=!1,he={next:function(){if(!q&&R<g.length){var ye=R++;return{value:A(ye,g[ye]),done:!1}}return q=!0,{done:!0,value:void 0}}};return he[Symbol.iterator]=function(){return he},he}r("Array.prototype.values",function(g){return g||function(){return s(this,function(A,R){return R})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(g){var A=typeof g;return A=A!="object"?A:g?Array.isArray(g)?"array":A:"null",A=="array"||A=="object"&&typeof g.length=="number"}function u(g){var A=typeof g;return A=="object"&&g!=null||A=="function"}function c(g,A,R){return g.call.apply(g.bind,arguments)}function h(g,A,R){if(!g)throw Error();if(2<arguments.length){var q=Array.prototype.slice.call(arguments,2);return function(){var he=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(he,q),g.apply(A,he)}}return function(){return g.apply(A,arguments)}}function d(g,A,R){return d=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:h,d.apply(null,arguments)}function f(g,A){var R=Array.prototype.slice.call(arguments,1);return function(){var q=R.slice();return q.push.apply(q,arguments),g.apply(this,q)}}function y(g,A){function R(){}R.prototype=A.prototype,g.aa=A.prototype,g.prototype=new R,g.prototype.constructor=g,g.Qb=function(q,he,ye){for(var je=Array(arguments.length-2),Wt=2;Wt<arguments.length;Wt++)je[Wt-2]=arguments[Wt];return A.prototype[he].apply(q,je)}}function w(g){const A=g.length;if(0<A){const R=Array(A);for(let q=0;q<A;q++)R[q]=g[q];return R}return[]}function b(g,A){for(let R=1;R<arguments.length;R++){const q=arguments[R];if(l(q)){const he=g.length||0,ye=q.length||0;g.length=he+ye;for(let je=0;je<ye;je++)g[he+je]=q[je]}else g.push(q)}}class v{constructor(A,R){this.i=A,this.j=R,this.h=0,this.g=null}get(){let A;return 0<this.h?(this.h--,A=this.g,this.g=A.next,A.next=null):A=this.i(),A}}function S(g){return/^[\s\xa0]*$/.test(g)}function I(){var g=a.navigator;return g&&(g=g.userAgent)?g:""}function P(g){return P[" "](g),g}P[" "]=function(){};var F=I().indexOf("Gecko")!=-1&&!(I().toLowerCase().indexOf("webkit")!=-1&&I().indexOf("Edge")==-1)&&!(I().indexOf("Trident")!=-1||I().indexOf("MSIE")!=-1)&&I().indexOf("Edge")==-1;function H(g,A,R){for(const q in g)A.call(R,g[q],q,g)}function M(g,A){for(const R in g)A.call(void 0,g[R],R,g)}function k(g){const A={};for(const R in g)A[R]=g[R];return A}const T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(g,A){let R,q;for(let he=1;he<arguments.length;he++){q=arguments[he];for(R in q)g[R]=q[R];for(let ye=0;ye<T.length;ye++)R=T[ye],Object.prototype.hasOwnProperty.call(q,R)&&(g[R]=q[R])}}function E(g){var A=1;g=g.split(":");const R=[];for(;0<A&&g.length;)R.push(g.shift()),A--;return g.length&&R.push(g.join(":")),R}function L(g){a.setTimeout(()=>{throw g},0)}function D(){var g=ie;let A=null;return g.g&&(A=g.g,g.g=g.g.next,g.g||(g.h=null),A.next=null),A}class Z{constructor(){this.h=this.g=null}add(A,R){const q=oe.get();q.set(A,R),this.h?this.h.next=q:this.g=q,this.h=q}}var oe=new v(()=>new ce,g=>g.reset());class ce{constructor(){this.next=this.g=this.h=null}set(A,R){this.h=A,this.g=R,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,$=!1,ie=new Z,me=()=>{const g=a.Promise.resolve(void 0);ae=()=>{g.then(ve)}};var ve=()=>{for(var g;g=D();){try{g.h.call(g.g)}catch(R){L(R)}var A=oe;A.j(g),100>A.h&&(A.h++,g.next=A.g,A.g=g)}$=!1};function B(){this.s=this.s,this.C=this.C}B.prototype.s=!1,B.prototype.ma=function(){this.s||(this.s=!0,this.N())},B.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Y(g,A){this.type=g,this.g=this.target=A,this.defaultPrevented=!1}Y.prototype.h=function(){this.defaultPrevented=!0};var ee=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var g=!1,A=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const R=()=>{};a.addEventListener("test",R,A),a.removeEventListener("test",R,A)}catch{}return g}();function ne(g,A){if(Y.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g){var R=this.type=g.type,q=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;if(this.target=g.target||g.srcElement,this.g=A,A=g.relatedTarget){if(F){e:{try{P(A.nodeName);var he=!0;break e}catch{}he=!1}he||(A=null)}}else R=="mouseover"?A=g.fromElement:R=="mouseout"&&(A=g.toElement);this.relatedTarget=A,q?(this.clientX=q.clientX!==void 0?q.clientX:q.pageX,this.clientY=q.clientY!==void 0?q.clientY:q.pageY,this.screenX=q.screenX||0,this.screenY=q.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=typeof g.pointerType=="string"?g.pointerType:re[g.pointerType]||"",this.state=g.state,this.i=g,g.defaultPrevented&&ne.aa.h.call(this)}}y(ne,Y);var re={2:"touch",3:"pen",4:"mouse"};ne.prototype.h=function(){ne.aa.h.call(this);var g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var fe="closure_listenable_"+(1e6*Math.random()|0),we=0;function be(g,A,R,q,he){this.listener=g,this.proxy=null,this.src=A,this.type=R,this.capture=!!q,this.ha=he,this.key=++we,this.da=this.fa=!1}function Te(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function Re(g){this.src=g,this.g={},this.h=0}Re.prototype.add=function(g,A,R,q,he){var ye=g.toString();g=this.g[ye],g||(g=this.g[ye]=[],this.h++);var je=Ce(g,A,q,he);return-1<je?(A=g[je],R||(A.fa=!1)):(A=new be(A,this.src,ye,!!q,he),A.fa=R,g.push(A)),A};function _e(g,A){var R=A.type;if(R in g.g){var q=g.g[R],he=Array.prototype.indexOf.call(q,A,void 0),ye;(ye=0<=he)&&Array.prototype.splice.call(q,he,1),ye&&(Te(A),g.g[R].length==0&&(delete g.g[R],g.h--))}}function Ce(g,A,R,q){for(var he=0;he<g.length;++he){var ye=g[he];if(!ye.da&&ye.listener==A&&ye.capture==!!R&&ye.ha==q)return he}return-1}var Ue="closure_lm_"+(1e6*Math.random()|0),K={};function Be(g,A,R,q,he){if(Array.isArray(A)){for(var ye=0;ye<A.length;ye++)Be(g,A[ye],R,q,he);return null}return R=Mt(R),g&&g[fe]?g.K(A,R,u(q)?!!q.capture:!1,he):Pt(g,A,R,!1,q,he)}function Pt(g,A,R,q,he,ye){if(!A)throw Error("Invalid event type");var je=u(he)?!!he.capture:!!he,Wt=it(g);if(Wt||(g[Ue]=Wt=new Re(g)),R=Wt.add(A,R,q,je,ye),R.proxy)return R;if(q=ct(),R.proxy=q,q.src=g,q.listener=R,g.addEventListener)ee||(he=je),he===void 0&&(he=!1),g.addEventListener(A.toString(),q,he);else if(g.attachEvent)g.attachEvent(We(A.toString()),q);else if(g.addListener&&g.removeListener)g.addListener(q);else throw Error("addEventListener and attachEvent are unavailable.");return R}function ct(){function g(R){return A.call(g.src,g.listener,R)}const A=lt;return g}function Le(g,A,R,q,he){if(Array.isArray(A))for(var ye=0;ye<A.length;ye++)Le(g,A[ye],R,q,he);else q=u(q)?!!q.capture:!!q,R=Mt(R),g&&g[fe]?(g=g.i,A=String(A).toString(),A in g.g&&(ye=g.g[A],R=Ce(ye,R,q,he),-1<R&&(Te(ye[R]),Array.prototype.splice.call(ye,R,1),ye.length==0&&(delete g.g[A],g.h--)))):g&&(g=it(g))&&(A=g.g[A.toString()],g=-1,A&&(g=Ce(A,R,q,he)),(R=-1<g?A[g]:null)&&st(R))}function st(g){if(typeof g!="number"&&g&&!g.da){var A=g.src;if(A&&A[fe])_e(A.i,g);else{var R=g.type,q=g.proxy;A.removeEventListener?A.removeEventListener(R,q,g.capture):A.detachEvent?A.detachEvent(We(R),q):A.addListener&&A.removeListener&&A.removeListener(q),(R=it(A))?(_e(R,g),R.h==0&&(R.src=null,A[Ue]=null)):Te(g)}}}function We(g){return g in K?K[g]:K[g]="on"+g}function lt(g,A){if(g.da)g=!0;else{A=new ne(A,this);var R=g.listener,q=g.ha||g.src;g.fa&&st(g),g=R.call(q,A)}return g}function it(g){return g=g[Ue],g instanceof Re?g:null}var $t="__closure_events_fn_"+(1e9*Math.random()>>>0);function Mt(g){return typeof g=="function"?g:(g[$t]||(g[$t]=function(A){return g.handleEvent(A)}),g[$t])}function et(){B.call(this),this.i=new Re(this),this.M=this,this.F=null}y(et,B),et.prototype[fe]=!0,et.prototype.removeEventListener=function(g,A,R,q){Le(this,g,A,R,q)};function pt(g,A){var R,q=g.F;if(q)for(R=[];q;q=q.F)R.push(q);if(g=g.M,q=A.type||A,typeof A=="string")A=new Y(A,g);else if(A instanceof Y)A.target=A.target||g;else{var he=A;A=new Y(q,g),O(A,he)}if(he=!0,R)for(var ye=R.length-1;0<=ye;ye--){var je=A.g=R[ye];he=Nt(je,q,!0,A)&&he}if(je=A.g=g,he=Nt(je,q,!0,A)&&he,he=Nt(je,q,!1,A)&&he,R)for(ye=0;ye<R.length;ye++)je=A.g=R[ye],he=Nt(je,q,!1,A)&&he}et.prototype.N=function(){if(et.aa.N.call(this),this.i){var g=this.i,A;for(A in g.g){for(var R=g.g[A],q=0;q<R.length;q++)Te(R[q]);delete g.g[A],g.h--}}this.F=null},et.prototype.K=function(g,A,R,q){return this.i.add(String(g),A,!1,R,q)},et.prototype.L=function(g,A,R,q){return this.i.add(String(g),A,!0,R,q)};function Nt(g,A,R,q){if(A=g.i.g[String(A)],!A)return!0;A=A.concat();for(var he=!0,ye=0;ye<A.length;++ye){var je=A[ye];if(je&&!je.da&&je.capture==R){var Wt=je.listener,Un=je.ha||je.src;je.fa&&_e(g.i,je),he=Wt.call(Un,q)!==!1&&he}}return he&&!q.defaultPrevented}function Ke(g,A,R){if(typeof g=="function")R&&(g=d(g,R));else if(g&&typeof g.handleEvent=="function")g=d(g.handleEvent,g);else throw Error("Invalid listener argument");return 2147483647<Number(A)?-1:a.setTimeout(g,A||0)}function St(g){g.g=Ke(()=>{g.g=null,g.i&&(g.i=!1,St(g))},g.l);const A=g.h;g.h=null,g.m.apply(null,A)}class tt extends B{constructor(A,R){super(),this.m=A,this.l=R,this.h=null,this.i=!1,this.g=null}j(A){this.h=arguments,this.g?this.i=!0:St(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function mn(g){B.call(this),this.h=g,this.g={}}y(mn,B);var Vt=[];function It(g){H(g.g,function(A,R){this.g.hasOwnProperty(R)&&st(A)},g),g.g={}}mn.prototype.N=function(){mn.aa.N.call(this),It(this)},mn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Tt=a.JSON.stringify,Sn=a.JSON.parse,ot=class{stringify(g){return a.JSON.stringify(g,void 0)}parse(g){return a.JSON.parse(g,void 0)}};function rn(){}rn.prototype.h=null;function ft(g){return g.h||(g.h=g.i())}function _t(){}var sn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ct(){Y.call(this,"d")}y(Ct,Y);function ut(){Y.call(this,"c")}y(ut,Y);var Ot={},vo=null;function ni(){return vo=vo||new et}Ot.La="serverreachability";function vs(g){Y.call(this,Ot.La,g)}y(vs,Y);function er(g){const A=ni();pt(A,new vs(A))}Ot.STAT_EVENT="statevent";function ht(g,A){Y.call(this,Ot.STAT_EVENT,g),this.stat=A}y(ht,Y);function En(g){const A=ni();pt(A,new ht(A,g))}Ot.Ma="timingevent";function ws(g,A){Y.call(this,Ot.Ma,g),this.size=A}y(ws,Y);function Ci(g,A){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){g()},A)}function Ni(){this.g=!0}Ni.prototype.xa=function(){this.g=!1};function Mn(g,A,R,q,he,ye){g.info(function(){if(g.g)if(ye)for(var je="",Wt=ye.split("&"),Un=0;Un<Wt.length;Un++){var Ft=Wt[Un].split("=");if(1<Ft.length){var Zt=Ft[0];Ft=Ft[1];var An=Zt.split("_");je=2<=An.length&&An[1]=="type"?je+(Zt+"="+Ft+"&"):je+(Zt+"=redacted&")}}else je=null;else je=ye;return"XMLHTTP REQ ("+q+") [attempt "+he+"]: "+A+`
`+R+`
`+je})}function gi(g,A,R,q,he,ye,je){g.info(function(){return"XMLHTTP RESP ("+q+") [ attempt "+he+"]: "+A+`
`+R+`
`+ye+" "+je})}function Dn(g,A,R,q){g.info(function(){return"XMLHTTP TEXT ("+A+"): "+wo(g,R)+(q?" "+q:"")})}function Xo(g,A){g.info(function(){return"TIMEOUT: "+A})}Ni.prototype.info=function(){};function wo(g,A){if(!g.g)return A;if(!A)return null;try{var R=JSON.parse(A);if(R){for(g=0;g<R.length;g++)if(Array.isArray(R[g])){var q=R[g];if(!(2>q.length)){var he=q[1];if(Array.isArray(he)&&!(1>he.length)){var ye=he[0];if(ye!="noop"&&ye!="stop"&&ye!="close")for(var je=1;je<he.length;je++)he[je]=""}}}}return Tt(R)}catch{return A}}var tr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Gr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},xr;function nr(){}y(nr,rn),nr.prototype.g=function(){return new XMLHttpRequest},nr.prototype.i=function(){return{}},xr=new nr;function ii(g,A,R,q){this.j=g,this.i=A,this.l=R,this.R=q||1,this.U=new mn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new _o}function _o(){this.i=null,this.g="",this.h=!1}var Kr={},Ks={};function bo(g,A,R){g.L=1,g.v=ta(_i(A)),g.m=R,g.P=!0,Qo(g,null)}function Qo(g,A){g.F=Date.now(),xo(g),g.A=_i(g.v);var R=g.A,q=g.R;Array.isArray(q)||(q=[String(q)]),Ec(R.i,"t",q),g.C=0,R=g.j.J,g.h=new _o,g.g=Kn(g.j,R?A:null,!g.m),0<g.O&&(g.M=new tt(d(g.Y,g,g.g),g.O)),A=g.U,R=g.g,q=g.ca;var he="readystatechange";Array.isArray(he)||(he&&(Vt[0]=he.toString()),he=Vt);for(var ye=0;ye<he.length;ye++){var je=Be(R,he[ye],q||A.handleEvent,!1,A.h||A);if(!je)break;A.g[je.key]=je}A=g.H?k(g.H):{},g.m?(g.u||(g.u="POST"),A["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.A,g.u,g.m,A)):(g.u="GET",g.g.ea(g.A,g.u,null,A)),er(),Mn(g.i,g.u,g.A,g.l,g.R,g.m)}ii.prototype.ca=function(g){g=g.target;const A=this.M;A&&Sr(g)==3?A.j():this.Y(g)},ii.prototype.Y=function(g){try{if(g==this.g)e:{const An=Sr(this.g);var A=this.g.Ba();const Qr=this.g.Z();if(!(3>An)&&(An!=3||this.g&&(this.h.h||this.g.oa()||vu(this.g)))){this.J||An!=4||A==7||(A==8||0>=Qr?er(3):er(2)),Ga(this);var R=this.g.Z();this.X=R;t:if(Jo(this)){var q=vu(this.g);g="";var he=q.length,ye=Sr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Yr(this),Li(this);var je="";break t}this.h.i=new a.TextDecoder}for(A=0;A<he;A++)this.h.h=!0,g+=this.h.i.decode(q[A],{stream:!(ye&&A==he-1)});q.length=0,this.h.g+=g,this.C=0,je=this.h.g}else je=this.g.oa();if(this.o=R==200,gi(this.i,this.u,this.A,this.l,this.R,An,R),this.o){if(this.T&&!this.K){t:{if(this.g){var Wt,Un=this.g;if((Wt=Un.g?Un.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(Wt)){var Ft=Wt;break t}}Ft=null}if(R=Ft)Dn(this.i,this.l,R,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ka(this,R);else{this.o=!1,this.s=3,En(12),Yr(this),Li(this);break e}}if(this.P){R=!0;let ir;for(;!this.J&&this.C<je.length;)if(ir=yf(this,je),ir==Ks){An==4&&(this.s=4,En(14),R=!1),Dn(this.i,this.l,null,"[Incomplete Response]");break}else if(ir==Kr){this.s=4,En(15),Dn(this.i,this.l,je,"[Invalid Chunk]"),R=!1;break}else Dn(this.i,this.l,ir,null),Ka(this,ir);if(Jo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),An!=4||je.length!=0||this.h.h||(this.s=1,En(16),R=!1),this.o=this.o&&R,!R)Dn(this.i,this.l,je,"[Invalid Chunked Response]"),Yr(this),Li(this);else if(0<je.length&&!this.W){this.W=!0;var Zt=this.j;Zt.g==this&&Zt.ba&&!Zt.M&&(Zt.j.info("Great, no buffering proxy detected. Bytes received: "+je.length),qe(Zt),Zt.M=!0,En(11))}}else Dn(this.i,this.l,je,null),Ka(this,je);An==4&&Yr(this),this.o&&!this.J&&(An==4?At(this.j,this):(this.o=!1,xo(this)))}else Ic(this.g),R==400&&0<je.indexOf("Unknown SID")?(this.s=3,En(12)):(this.s=0,En(13)),Yr(this),Li(this)}}}catch{}finally{}};function Jo(g){return g.g?g.u=="GET"&&g.L!=2&&g.j.Ca:!1}function yf(g,A){var R=g.C,q=A.indexOf(`
`,R);return q==-1?Ks:(R=Number(A.substring(R,q)),isNaN(R)?Kr:(q+=1,q+R>A.length?Ks:(A=A.slice(q,q+R),g.C=q+R,A)))}ii.prototype.cancel=function(){this.J=!0,Yr(this)};function xo(g){g.S=Date.now()+g.I,uu(g,g.I)}function uu(g,A){if(g.B!=null)throw Error("WatchDog timer not null");g.B=Ci(d(g.ba,g),A)}function Ga(g){g.B&&(a.clearTimeout(g.B),g.B=null)}ii.prototype.ba=function(){this.B=null;const g=Date.now();0<=g-this.S?(Xo(this.i,this.A),this.L!=2&&(er(),En(17)),Yr(this),this.s=2,Li(this)):uu(this,this.S-g)};function Li(g){g.j.G==0||g.J||At(g.j,g)}function Yr(g){Ga(g);var A=g.M;A&&typeof A.ma=="function"&&A.ma(),g.M=null,It(g.U),g.g&&(A=g.g,g.g=null,A.abort(),A.ma())}function Ka(g,A){try{var R=g.j;if(R.G!=0&&(R.g==g||Mr(R.h,g))){if(!g.K&&Mr(R.h,g)&&R.G==3){try{var q=R.Da.g.parse(A)}catch{q=null}if(Array.isArray(q)&&q.length==3){var he=q;if(he[0]==0){e:if(!R.u){if(R.g)if(R.g.F+3e3<g.F)gt(R),Ts(R);else break e;Ie(R),En(18)}}else R.za=he[1],0<R.za-R.T&&37500>he[2]&&R.F&&R.v==0&&!R.C&&(R.C=Ci(d(R.Za,R),6e3));if(1>=du(R.h)&&R.ca){try{R.ca()}catch{}R.ca=void 0}}else nn(R,11)}else if((g.K||R.g==g)&&gt(R),!S(A))for(he=R.Da.g.parse(A),A=0;A<he.length;A++){let Ft=he[A];if(R.T=Ft[0],Ft=Ft[1],R.G==2)if(Ft[0]=="c"){R.K=Ft[1],R.ia=Ft[2];const Zt=Ft[3];Zt!=null&&(R.la=Zt,R.j.info("VER="+R.la));const An=Ft[4];An!=null&&(R.Aa=An,R.j.info("SVER="+R.Aa));const Qr=Ft[5];Qr!=null&&typeof Qr=="number"&&0<Qr&&(q=1.5*Qr,R.L=q,R.j.info("backChannelRequestTimeoutMs_="+q)),q=R;const ir=g.g;if(ir){const Bi=ir.g?ir.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Bi){var ye=q.h;ye.g||Bi.indexOf("spdy")==-1&&Bi.indexOf("quic")==-1&&Bi.indexOf("h2")==-1||(ye.j=ye.l,ye.g=new Set,ye.h&&(So(ye,ye.h),ye.h=null))}if(q.D){const Qs=ir.g?ir.g.getResponseHeader("X-HTTP-Session-Id"):null;Qs&&(q.ya=Qs,Bt(q.I,q.D,Qs))}}R.G=3,R.l&&R.l.ua(),R.ba&&(R.R=Date.now()-g.F,R.j.info("Handshake RTT: "+R.R+"ms")),q=R;var je=g;if(q.qa=ln(q,q.J?q.ia:null,q.W),je.K){xc(q.h,je);var Wt=je,Un=q.L;Un&&(Wt.I=Un),Wt.B&&(Ga(Wt),xo(Wt)),q.g=je}else Ae(q);0<R.i.length&&_(R)}else Ft[0]!="stop"&&Ft[0]!="close"||nn(R,7);else R.G==3&&(Ft[0]=="stop"||Ft[0]=="close"?Ft[0]=="stop"?nn(R,7):el(R):Ft[0]!="noop"&&R.l&&R.l.ta(Ft),R.v=0)}}er(4)}catch{}}var cu=class{constructor(g,A){this.g=g,this.map=A}};function hu(g){this.l=g||10,a.PerformanceNavigationTiming?(g=a.performance.getEntriesByType("navigation"),g=0<g.length&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function fu(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function du(g){return g.h?1:g.g?g.g.size:0}function Mr(g,A){return g.h?g.h==A:g.g?g.g.has(A):!1}function So(g,A){g.g?g.g.add(A):g.h=A}function xc(g,A){g.h&&g.h==A?g.h=null:g.g&&g.g.has(A)&&g.g.delete(A)}hu.prototype.cancel=function(){if(this.i=jn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function jn(g){if(g.h!=null)return g.i.concat(g.h.D);if(g.g!=null&&g.g.size!==0){let A=g.i;for(const R of g.g.values())A=A.concat(R.D);return A}return w(g.i)}function Sc(g){if(g.V&&typeof g.V=="function")return g.V();if(typeof Map<"u"&&g instanceof Map||typeof Set<"u"&&g instanceof Set)return Array.from(g.values());if(typeof g=="string")return g.split("");if(l(g)){for(var A=[],R=g.length,q=0;q<R;q++)A.push(g[q]);return A}A=[],R=0;for(q in g)A[R++]=g[q];return A}function _s(g){if(g.na&&typeof g.na=="function")return g.na();if(!g.V||typeof g.V!="function"){if(typeof Map<"u"&&g instanceof Map)return Array.from(g.keys());if(!(typeof Set<"u"&&g instanceof Set)){if(l(g)||typeof g=="string"){var A=[];g=g.length;for(var R=0;R<g;R++)A.push(R);return A}A=[],R=0;for(const q in g)A[R++]=q;return A}}}function Zo(g,A){if(g.forEach&&typeof g.forEach=="function")g.forEach(A,void 0);else if(l(g)||typeof g=="string")Array.prototype.forEach.call(g,A,void 0);else for(var R=_s(g),q=Sc(g),he=q.length,ye=0;ye<he;ye++)A.call(void 0,q[ye],R&&R[ye],g)}var pu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Dr(g,A){if(g){g=g.split("&");for(var R=0;R<g.length;R++){var q=g[R].indexOf("="),he=null;if(0<=q){var ye=g[R].substring(0,q);he=g[R].substring(q+1)}else ye=g[R];A(ye,he?decodeURIComponent(he.replace(/\+/g," ")):"")}}}function yn(g){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,g instanceof yn){this.h=g.h,ea(this,g.j),this.o=g.o,this.g=g.g,Ya(this,g.s),this.l=g.l;var A=g.i,R=new Vi;R.i=A.i,A.g&&(R.g=new Map(A.g),R.h=A.h),Ac(this,R),this.m=g.m}else g&&(A=String(g).match(pu))?(this.h=!1,ea(this,A[1]||"",!0),this.o=Ao(A[2]||""),this.g=Ao(A[3]||"",!0),Ya(this,A[4]),this.l=Ao(A[5]||"",!0),Ac(this,A[6]||"",!0),this.m=Ao(A[7]||"")):(this.h=!1,this.i=new Vi(null,this.h))}yn.prototype.toString=function(){var g=[],A=this.j;A&&g.push(bs(A,kc,!0),":");var R=this.g;return(R||A=="file")&&(g.push("//"),(A=this.o)&&g.push(bs(A,kc,!0),"@"),g.push(encodeURIComponent(String(R)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),R=this.s,R!=null&&g.push(":",String(R))),(R=this.l)&&(this.g&&R.charAt(0)!="/"&&g.push("/"),g.push(bs(R,R.charAt(0)=="/"?wf:vf,!0))),(R=this.i.toString())&&g.push("?",R),(R=this.m)&&g.push("#",bs(R,Tc)),g.join("")};function _i(g){return new yn(g)}function ea(g,A,R){g.j=R?Ao(A,!0):A,g.j&&(g.j=g.j.replace(/:$/,""))}function Ya(g,A){if(A){if(A=Number(A),isNaN(A)||0>A)throw Error("Bad port number "+A);g.s=A}else g.s=null}function Ac(g,A,R){A instanceof Vi?(g.i=A,_f(g.i,g.h)):(R||(A=bs(A,gu)),g.i=new Vi(A,g.h))}function Bt(g,A,R){g.i.set(A,R)}function ta(g){return Bt(g,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),g}function Ao(g,A){return g?A?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function bs(g,A,R){return typeof g=="string"?(g=encodeURI(g).replace(A,na),R&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function na(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var kc=/[#\/\?@]/g,vf=/[#\?:]/g,wf=/[#\?]/g,gu=/[#\?@]/g,Tc=/#/g;function Vi(g,A){this.h=this.g=null,this.i=g||null,this.j=!!A}function xs(g){g.g||(g.g=new Map,g.h=0,g.i&&Dr(g.i,function(A,R){g.add(decodeURIComponent(A.replace(/\+/g," ")),R)}))}t=Vi.prototype,t.add=function(g,A){xs(this),this.i=null,g=dt(this,g);var R=this.g.get(g);return R||this.g.set(g,R=[]),R.push(A),this.h+=1,this};function ko(g,A){xs(g),A=dt(g,A),g.g.has(A)&&(g.i=null,g.h-=g.g.get(A).length,g.g.delete(A))}function Xa(g,A){return xs(g),A=dt(g,A),g.g.has(A)}t.forEach=function(g,A){xs(this),this.g.forEach(function(R,q){R.forEach(function(he){g.call(A,he,q,this)},this)},this)},t.na=function(){xs(this);const g=Array.from(this.g.values()),A=Array.from(this.g.keys()),R=[];for(let q=0;q<A.length;q++){const he=g[q];for(let ye=0;ye<he.length;ye++)R.push(A[q])}return R},t.V=function(g){xs(this);let A=[];if(typeof g=="string")Xa(this,g)&&(A=A.concat(this.g.get(dt(this,g))));else{g=Array.from(this.g.values());for(let R=0;R<g.length;R++)A=A.concat(g[R])}return A},t.set=function(g,A){return xs(this),this.i=null,g=dt(this,g),Xa(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[A]),this.h+=1,this},t.get=function(g,A){return g?(g=this.V(g),0<g.length?String(g[0]):A):A};function Ec(g,A,R){ko(g,A),0<R.length&&(g.i=null,g.g.set(dt(g,A),w(R)),g.h+=R.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],A=Array.from(this.g.keys());for(var R=0;R<A.length;R++){var q=A[R];const ye=encodeURIComponent(String(q)),je=this.V(q);for(q=0;q<je.length;q++){var he=ye;je[q]!==""&&(he+="="+encodeURIComponent(String(je[q]))),g.push(he)}}return this.i=g.join("&")};function dt(g,A){return A=String(A),g.j&&(A=A.toLowerCase()),A}function _f(g,A){A&&!g.j&&(xs(g),g.i=null,g.g.forEach(function(R,q){var he=q.toLowerCase();q!=he&&(ko(this,q),Ec(this,he,R))},g)),g.j=A}function bf(g,A){const R=new Ni;if(a.Image){const q=new Image;q.onload=f(Ri,R,"TestLoadImage: loaded",!0,A,q),q.onerror=f(Ri,R,"TestLoadImage: error",!1,A,q),q.onabort=f(Ri,R,"TestLoadImage: abort",!1,A,q),q.ontimeout=f(Ri,R,"TestLoadImage: timeout",!1,A,q),a.setTimeout(function(){q.ontimeout&&q.ontimeout()},1e4),q.src=g}else A(!1)}function xf(g,A){const R=new Ni,q=new AbortController,he=setTimeout(()=>{q.abort(),Ri(R,"TestPingServer: timeout",!1,A)},1e4);fetch(g,{signal:q.signal}).then(ye=>{clearTimeout(he),ye.ok?Ri(R,"TestPingServer: ok",!0,A):Ri(R,"TestPingServer: server error",!1,A)}).catch(()=>{clearTimeout(he),Ri(R,"TestPingServer: error",!1,A)})}function Ri(g,A,R,q,he){try{he&&(he.onload=null,he.onerror=null,he.onabort=null,he.ontimeout=null),q(R)}catch{}}function Ys(){this.g=new ot}function Sf(g,A,R){const q=R||"";try{Zo(g,function(he,ye){let je=he;u(he)&&(je=Tt(he)),A.push(q+ye+"="+encodeURIComponent(je))})}catch(he){throw A.push(q+"type="+encodeURIComponent("_badmap")),he}}function Qa(g){this.l=g.Ub||null,this.j=g.eb||!1}y(Qa,rn),Qa.prototype.g=function(){return new Xs(this.l,this.j)},Qa.prototype.i=function(g){return function(){return g}}({});function Xs(g,A){et.call(this),this.D=g,this.o=A,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}y(Xs,et),t=Xs.prototype,t.open=function(g,A){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=g,this.A=A,this.readyState=1,ia(this)},t.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const A={headers:this.u,method:this.B,credentials:this.m,cache:void 0};g&&(A.body=g),(this.D||a).fetch(new Request(this.A,A)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Xr(this)),this.readyState=0},t.Sa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,ia(this)),this.g&&(this.readyState=3,ia(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ja(this)}else g.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ja(g){g.j.read().then(g.Pa.bind(g)).catch(g.ga.bind(g))}t.Pa=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var A=g.value?g.value:new Uint8Array(0);(A=this.v.decode(A,{stream:!g.done}))&&(this.response=this.responseText+=A)}g.done?Xr(this):ia(this),this.readyState==3&&Ja(this)}},t.Ra=function(g){this.g&&(this.response=this.responseText=g,Xr(this))},t.Qa=function(g){this.g&&(this.response=g,Xr(this))},t.ga=function(){this.g&&Xr(this)};function Xr(g){g.readyState=4,g.l=null,g.j=null,g.v=null,ia(g)}t.setRequestHeader=function(g,A){this.u.append(g,A)},t.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],A=this.h.entries();for(var R=A.next();!R.done;)R=R.value,g.push(R[0]+": "+R[1]),R=A.next();return g.join(`\r
`)};function ia(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(Xs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function Ss(g){let A="";return H(g,function(R,q){A+=q,A+=":",A+=R,A+=`\r
`}),A}function mu(g,A,R){e:{for(q in R){var q=!1;break e}q=!0}q||(R=Ss(R),typeof g=="string"?R!=null&&encodeURIComponent(String(R)):Bt(g,A,R))}function gn(g){et.call(this),this.headers=new Map,this.o=g||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}y(gn,et);var yu=/^https?$/i,Pc=["POST","PUT"];t=gn.prototype,t.Ha=function(g){this.J=g},t.ea=function(g,A,R,q){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);A=A?A.toUpperCase():"GET",this.D=g,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():xr.g(),this.v=this.o?ft(this.o):ft(xr),this.g.onreadystatechange=d(this.Ea,this);try{this.B=!0,this.g.open(A,String(g),!0),this.B=!1}catch(ye){As(this,ye);return}if(g=R||"",R=new Map(this.headers),q)if(Object.getPrototypeOf(q)===Object.prototype)for(var he in q)R.set(he,q[he]);else if(typeof q.keys=="function"&&typeof q.get=="function")for(const ye of q.keys())R.set(ye,q.get(ye));else throw Error("Unknown input type for opt_headers: "+String(q));q=Array.from(R.keys()).find(ye=>ye.toLowerCase()=="content-type"),he=a.FormData&&g instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Pc,A,void 0))||q||he||R.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ye,je]of R)this.g.setRequestHeader(ye,je);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Eo(this),this.u=!0,this.g.send(g),this.u=!1}catch(ye){As(this,ye)}};function As(g,A){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=A,g.m=5,Za(g),To(g)}function Za(g){g.A||(g.A=!0,pt(g,"complete"),pt(g,"error"))}t.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=g||7,pt(this,"complete"),pt(this,"abort"),To(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),To(this,!0)),gn.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?ra(this):this.bb())},t.bb=function(){ra(this)};function ra(g){if(g.h&&typeof o<"u"&&(!g.v[1]||Sr(g)!=4||g.Z()!=2)){if(g.u&&Sr(g)==4)Ke(g.Ea,0,g);else if(pt(g,"readystatechange"),Sr(g)==4){g.h=!1;try{const je=g.Z();e:switch(je){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var A=!0;break e;default:A=!1}var R;if(!(R=A)){var q;if(q=je===0){var he=String(g.D).match(pu)[1]||null;!he&&a.self&&a.self.location&&(he=a.self.location.protocol.slice(0,-1)),q=!yu.test(he?he.toLowerCase():"")}R=q}if(R)pt(g,"complete"),pt(g,"success");else{g.m=6;try{var ye=2<Sr(g)?g.g.statusText:""}catch{ye=""}g.l=ye+" ["+g.Z()+"]",Za(g)}}finally{To(g)}}}}function To(g,A){if(g.g){Eo(g);const R=g.g,q=g.v[0]?()=>{}:null;g.g=null,g.v=null,A||pt(g,"ready");try{R.onreadystatechange=q}catch{}}}function Eo(g){g.I&&(a.clearTimeout(g.I),g.I=null)}t.isActive=function(){return!!this.g};function Sr(g){return g.g?g.g.readyState:0}t.Z=function(){try{return 2<Sr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(g){if(this.g){var A=this.g.responseText;return g&&A.indexOf(g)==0&&(A=A.substring(g.length)),Sn(A)}};function vu(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.H){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function Ic(g){const A={};g=(g.g&&2<=Sr(g)&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let q=0;q<g.length;q++){if(S(g[q]))continue;var R=E(g[q]);const he=R[0];if(R=R[1],typeof R!="string")continue;R=R.trim();const ye=A[he]||[];A[he]=ye,ye.push(R)}M(A,function(q){return q.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ar(g,A,R){return R&&R.internalChannelParams&&R.internalChannelParams[g]||A}function ks(g){this.Aa=0,this.i=[],this.j=new Ni,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ar("failFast",!1,g),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ar("baseRetryDelayMs",5e3,g),this.cb=Ar("retryDelaySeedMs",1e4,g),this.Wa=Ar("forwardChannelMaxRetries",2,g),this.wa=Ar("forwardChannelRequestTimeoutMs",2e4,g),this.pa=g&&g.xmlHttpFactory||void 0,this.Xa=g&&g.Tb||void 0,this.Ca=g&&g.useFetchStreams||!1,this.L=void 0,this.J=g&&g.supportsCrossDomainXhr||!1,this.K="",this.h=new hu(g&&g.concurrentRequestLimit),this.Da=new Ys,this.P=g&&g.fastHandshake||!1,this.O=g&&g.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=g&&g.Rb||!1,g&&g.xa&&this.j.xa(),g&&g.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&g&&g.detectBufferingProxy||!1,this.ja=void 0,g&&g.longPollingTimeout&&0<g.longPollingTimeout&&(this.ja=g.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=ks.prototype,t.la=8,t.G=1,t.connect=function(g,A,R,q){En(0),this.W=g,this.H=A||{},R&&q!==void 0&&(this.H.OSID=R,this.H.OAID=q),this.F=this.X,this.I=ln(this,null,this.W),_(this)};function el(g){if(wu(g),g.G==3){var A=g.U++,R=_i(g.I);if(Bt(R,"SID",g.K),Bt(R,"RID",A),Bt(R,"TYPE","terminate"),te(g,R),A=new ii(g,g.j,A),A.L=2,A.v=ta(_i(R)),R=!1,a.navigator&&a.navigator.sendBeacon)try{R=a.navigator.sendBeacon(A.v.toString(),"")}catch{}!R&&a.Image&&(new Image().src=A.v,R=!0),R||(A.g=Kn(A.j,null),A.g.ea(A.v)),A.F=Date.now(),xo(A)}Vn(g)}function Ts(g){g.g&&(qe(g),g.g.cancel(),g.g=null)}function wu(g){Ts(g),g.u&&(a.clearTimeout(g.u),g.u=null),gt(g),g.h.cancel(),g.s&&(typeof g.s=="number"&&a.clearTimeout(g.s),g.s=null)}function _(g){if(!fu(g.h)&&!g.s){g.s=!0;var A=g.Ga;ae||me(),$||(ae(),$=!0),ie.add(A,g),g.B=0}}function j(g,A){return du(g.h)>=g.h.j-(g.s?1:0)?!1:g.s?(g.i=A.D.concat(g.i),!0):g.G==1||g.G==2||g.B>=(g.Va?0:g.Wa)?!1:(g.s=Ci(d(g.Ga,g,A),zt(g,g.B)),g.B++,!0)}t.Ga=function(g){if(this.s)if(this.s=null,this.G==1){if(!g){this.U=Math.floor(1e5*Math.random()),g=this.U++;const he=new ii(this,this.j,g);let ye=this.o;if(this.S&&(ye?(ye=k(ye),O(ye,this.S)):ye=this.S),this.m!==null||this.O||(he.H=ye,ye=null),this.P)e:{for(var A=0,R=0;R<this.i.length;R++){t:{var q=this.i[R];if("__data__"in q.map&&(q=q.map.__data__,typeof q=="string")){q=q.length;break t}q=void 0}if(q===void 0)break;if(A+=q,4096<A){A=R;break e}if(A===4096||R===this.i.length-1){A=R+1;break e}}A=1e3}else A=1e3;A=ue(this,he,A),R=_i(this.I),Bt(R,"RID",g),Bt(R,"CVER",22),this.D&&Bt(R,"X-HTTP-Session-Id",this.D),te(this,R),ye&&(this.O?A="headers="+encodeURIComponent(String(Ss(ye)))+"&"+A:this.m&&mu(R,this.m,ye)),So(this.h,he),this.Ua&&Bt(R,"TYPE","init"),this.P?(Bt(R,"$req",A),Bt(R,"SID","null"),he.T=!0,bo(he,R,null)):bo(he,R,A),this.G=2}}else this.G==3&&(g?X(this,g):this.i.length==0||fu(this.h)||X(this))};function X(g,A){var R;A?R=A.l:R=g.U++;const q=_i(g.I);Bt(q,"SID",g.K),Bt(q,"RID",R),Bt(q,"AID",g.T),te(g,q),g.m&&g.o&&mu(q,g.m,g.o),R=new ii(g,g.j,R,g.B+1),g.m===null&&(R.H=g.o),A&&(g.i=A.D.concat(g.i)),A=ue(g,R,1e3),R.I=Math.round(.5*g.wa)+Math.round(.5*g.wa*Math.random()),So(g.h,R),bo(R,q,A)}function te(g,A){g.H&&H(g.H,function(R,q){Bt(A,q,R)}),g.l&&Zo({},function(R,q){Bt(A,q,R)})}function ue(g,A,R){R=Math.min(g.i.length,R);var q=g.l?d(g.l.Na,g.l,g):null;e:{var he=g.i;let ye=-1;for(;;){const je=["count="+R];ye==-1?0<R?(ye=he[0].g,je.push("ofs="+ye)):ye=0:je.push("ofs="+ye);let Wt=!0;for(let Un=0;Un<R;Un++){let Ft=he[Un].g;const Zt=he[Un].map;if(Ft-=ye,0>Ft)ye=Math.max(0,he[Un].g-100),Wt=!1;else try{Sf(Zt,je,"req"+Ft+"_")}catch{q&&q(Zt)}}if(Wt){q=je.join("&");break e}}}return g=g.i.splice(0,R),A.D=g,q}function Ae(g){if(!g.g&&!g.u){g.Y=1;var A=g.Fa;ae||me(),$||(ae(),$=!0),ie.add(A,g),g.v=0}}function Ie(g){return g.g||g.u||3<=g.v?!1:(g.Y++,g.u=Ci(d(g.Fa,g),zt(g,g.v)),g.v++,!0)}t.Fa=function(){if(this.u=null,Ye(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var g=2*this.R;this.j.info("BP detection timer enabled: "+g),this.A=Ci(d(this.ab,this),g)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,En(10),Ts(this),Ye(this))};function qe(g){g.A!=null&&(a.clearTimeout(g.A),g.A=null)}function Ye(g){g.g=new ii(g,g.j,"rpc",g.Y),g.m===null&&(g.g.H=g.o),g.g.O=0;var A=_i(g.qa);Bt(A,"RID","rpc"),Bt(A,"SID",g.K),Bt(A,"AID",g.T),Bt(A,"CI",g.F?"0":"1"),!g.F&&g.ja&&Bt(A,"TO",g.ja),Bt(A,"TYPE","xmlhttp"),te(g,A),g.m&&g.o&&mu(A,g.m,g.o),g.L&&(g.g.I=g.L);var R=g.g;g=g.ia,R.L=1,R.v=ta(_i(A)),R.m=null,R.P=!0,Qo(R,g)}t.Za=function(){this.C!=null&&(this.C=null,Ts(this),Ie(this),En(19))};function gt(g){g.C!=null&&(a.clearTimeout(g.C),g.C=null)}function At(g,A){var R=null;if(g.g==A){gt(g),qe(g),g.g=null;var q=2}else if(Mr(g.h,A))R=A.D,xc(g.h,A),q=1;else return;if(g.G!=0){if(A.o)if(q==1){R=A.m?A.m.length:0,A=Date.now()-A.F;var he=g.B;q=ni(),pt(q,new ws(q,R)),_(g)}else Ae(g);else if(he=A.s,he==3||he==0&&0<A.X||!(q==1&&j(g,A)||q==2&&Ie(g)))switch(R&&0<R.length&&(A=g.h,A.i=A.i.concat(R)),he){case 1:nn(g,5);break;case 4:nn(g,10);break;case 3:nn(g,6);break;default:nn(g,2)}}}function zt(g,A){let R=g.Ta+Math.floor(Math.random()*g.cb);return g.isActive()||(R*=2),R*A}function nn(g,A){if(g.j.info("Error code "+A),A==2){var R=d(g.fb,g),q=g.Xa;const he=!q;q=new yn(q||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||ea(q,"https"),ta(q),he?bf(q.toString(),R):xf(q.toString(),R)}else En(2);g.G=0,g.l&&g.l.sa(A),Vn(g),wu(g)}t.fb=function(g){g?(this.j.info("Successfully pinged google.com"),En(2)):(this.j.info("Failed to ping google.com"),En(1))};function Vn(g){if(g.G=0,g.ka=[],g.l){const A=jn(g.h);(A.length!=0||g.i.length!=0)&&(b(g.ka,A),b(g.ka,g.i),g.h.i.length=0,w(g.i),g.i.length=0),g.l.ra()}}function ln(g,A,R){var q=R instanceof yn?_i(R):new yn(R);if(q.g!="")A&&(q.g=A+"."+q.g),Ya(q,q.s);else{var he=a.location;q=he.protocol,A=A?A+"."+he.hostname:he.hostname,he=+he.port;var ye=new yn(null);q&&ea(ye,q),A&&(ye.g=A),he&&Ya(ye,he),R&&(ye.l=R),q=ye}return R=g.D,A=g.ya,R&&A&&Bt(q,R,A),Bt(q,"VER",g.la),te(g,q),q}function Kn(g,A,R){if(A&&!g.J)throw Error("Can't create secondary domain capable XhrIo object.");return A=g.Ca&&!g.pa?new gn(new Qa({eb:R})):new gn(g.pa),A.Ha(g.J),A}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Bn(){}t=Bn.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Yn(){}Yn.prototype.g=function(g,A){return new zn(g,A)};function zn(g,A){et.call(this),this.g=new ks(A),this.l=g,this.h=A&&A.messageUrlParams||null,g=A&&A.messageHeaders||null,A&&A.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=A&&A.initMessageHeaders||null,A&&A.messageContentType&&(g?g["X-WebChannel-Content-Type"]=A.messageContentType:g={"X-WebChannel-Content-Type":A.messageContentType}),A&&A.va&&(g?g["X-WebChannel-Client-Profile"]=A.va:g={"X-WebChannel-Client-Profile":A.va}),this.g.S=g,(g=A&&A.Sb)&&!S(g)&&(this.g.m=g),this.v=A&&A.supportsCrossDomainXhr||!1,this.u=A&&A.sendRawJson||!1,(A=A&&A.httpSessionIdParam)&&!S(A)&&(this.g.D=A,g=this.h,g!==null&&A in g&&(g=this.h,A in g&&delete g[A])),this.j=new Ps(this)}y(zn,et),zn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},zn.prototype.close=function(){el(this.g)},zn.prototype.o=function(g){var A=this.g;if(typeof g=="string"){var R={};R.__data__=g,g=R}else this.u&&(R={},R.__data__=Tt(g),g=R);A.i.push(new cu(A.Ya++,g)),A.G==3&&_(A)},zn.prototype.N=function(){this.g.l=null,delete this.j,el(this.g),delete this.g,zn.aa.N.call(this)};function Or(g){Ct.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var A=g.__sm__;if(A){e:{for(const R in A){g=R;break e}g=void 0}(this.i=g)&&(g=this.i,A=A!==null&&g in A?A[g]:void 0),this.data=A}else this.data=g}y(Or,Ct);function Es(){ut.call(this),this.status=1}y(Es,ut);function Ps(g){this.g=g}y(Ps,Bn),Ps.prototype.ua=function(){pt(this.g,"a")},Ps.prototype.ta=function(g){pt(this.g,new Or(g))},Ps.prototype.sa=function(g){pt(this.g,new Es)},Ps.prototype.ra=function(){pt(this.g,"b")},Yn.prototype.createWebChannel=Yn.prototype.g,zn.prototype.send=zn.prototype.o,zn.prototype.open=zn.prototype.m,zn.prototype.close=zn.prototype.close,IL=function(){return new Yn},PL=function(){return ni()},EL=Ot,D5={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},tr.NO_ERROR=0,tr.TIMEOUT=8,tr.HTTP_ERROR=6,zm=tr,Gr.COMPLETE="complete",TL=Gr,_t.EventType=sn,sn.OPEN="a",sn.CLOSE="b",sn.ERROR="c",sn.MESSAGE="d",et.prototype.listen=et.prototype.K,fd=_t,gn.prototype.listenOnce=gn.prototype.L,gn.prototype.getLastError=gn.prototype.Ka,gn.prototype.getLastErrorCode=gn.prototype.Ba,gn.prototype.getStatus=gn.prototype.Z,gn.prototype.getResponseJson=gn.prototype.Oa,gn.prototype.getResponseText=gn.prototype.oa,gn.prototype.send=gn.prototype.ea,gn.prototype.setWithCredentials=gn.prototype.Ha,kL=gn}).apply(typeof sm<"u"?sm:typeof self<"u"?self:typeof window<"u"?window:{});const dT="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}pr.UNAUTHENTICATED=new pr(null),pr.GOOGLE_CREDENTIALS=new pr("google-credentials-uid"),pr.FIRST_PARTY=new pr("first-party-uid"),pr.MOCK_USER=new pr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hf="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ac=new hb("@firebase/firestore");function Jf(){return ac.logLevel}function Xe(t,...e){if(ac.logLevel<=Ht.DEBUG){const n=e.map(kb);ac.debug(`Firestore (${hf}): ${t}`,...n)}}function Va(t,...e){if(ac.logLevel<=Ht.ERROR){const n=e.map(kb);ac.error(`Firestore (${hf}): ${t}`,...n)}}function Yh(t,...e){if(ac.logLevel<=Ht.WARN){const n=e.map(kb);ac.warn(`Firestore (${hf}): ${t}`,...n)}}function kb(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(t="Unexpected state"){const e=`FIRESTORE (${hf}) INTERNAL ASSERTION FAILED: `+t;throw Va(e),new Error(e)}function Jt(t,e){t||yt()}function xt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ze extends Ha{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CL{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class kK{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(pr.UNAUTHENTICATED))}shutdown(){}}class TK{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class EK{constructor(e){this.t=e,this.currentUser=pr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Jt(this.o===void 0);let i=this.i;const r=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let s=new Na;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Na,e.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await r(this.currentUser)})},a=l=>{Xe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Xe("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Na)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(Xe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Jt(typeof i.accessToken=="string"),new CL(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Jt(e===null||typeof e=="string"),new pr(e)}}class PK{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=pr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class IK{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new PK(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(pr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class CK{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class NK{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Jt(this.o===void 0);const i=s=>{s.error!=null&&Xe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Xe("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};const r=s=>{Xe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?r(s):Xe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Jt(typeof n.token=="string"),this.R=n.token,new CK(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LK(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NL{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=LK(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<n&&(i+=e.charAt(r[s]%e.length))}return i}}function en(t,e){return t<e?-1:t>e?1:0}function Xh(t,e,n){return t.length===e.length&&t.every((i,r)=>n(i,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ze(Pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ze(Pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ze(Pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ze(Pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ii.fromMillis(Date.now())}static fromDate(e){return Ii.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new Ii(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?en(this.nanoseconds,e.nanoseconds):en(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new vt(e)}static min(){return new vt(new Ii(0,0))}static max(){return new vt(new Ii(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(e,n,i){n===void 0?n=0:n>e.length&&yt(),i===void 0?i=e.length-n:i>e.length-n&&yt(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return xp.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof xp?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let r=0;r<i;r++){const s=e.get(r),o=n.get(r);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class bn extends xp{construct(e,n,i){return new bn(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new ze(Pe.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new bn(n)}static emptyPath(){return new bn([])}}const RK=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Gi extends xp{construct(e,n,i){return new Gi(e,n,i)}static isValidIdentifier(e){return RK.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Gi(["__name__"])}static fromServerFormat(e){const n=[];let i="",r=0;const s=()=>{if(i.length===0)throw new ze(Pe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let o=!1;for(;r<e.length;){const a=e[r];if(a==="\\"){if(r+1===e.length)throw new ze(Pe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[r+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ze(Pe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=l,r+=2}else a==="`"?(o=!o,r++):a!=="."||o?(i+=a,r++):(s(),r++)}if(s(),o)throw new ze(Pe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Gi(n)}static emptyPath(){return new Gi([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e){this.path=e}static fromPath(e){return new at(bn.fromString(e))}static fromName(e){return new at(bn.fromString(e).popFirst(5))}static empty(){return new at(bn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&bn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return bn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new at(new bn(e.slice()))}}function MK(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=vt.fromTimestamp(i===1e9?new Ii(n+1,0):new Ii(n,i));return new Zl(r,at.empty(),e)}function DK(t){return new Zl(t.readTime,t.key,-1)}class Zl{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Zl(vt.min(),at.empty(),-1)}static max(){return new Zl(vt.max(),at.empty(),-1)}}function OK(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=at.comparator(t.documentKey,e.documentKey),n!==0?n:en(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FK="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class jK{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yp(t){if(t.code!==Pe.FAILED_PRECONDITION||t.message!==FK)throw t;Xe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&yt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Me((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(n,s).next(i,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Me?n:Me.resolve(n)}catch(n){return Me.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Me.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Me.reject(n)}static resolve(e){return new Me((n,i)=>{n(e)})}static reject(e){return new Me((n,i)=>{i(e)})}static waitFor(e){return new Me((n,i)=>{let r=0,s=0,o=!1;e.forEach(a=>{++r,a.next(()=>{++s,o&&s===r&&n()},l=>i(l))}),o=!0,s===r&&n()})}static or(e){let n=Me.resolve(!1);for(const i of e)n=n.next(r=>r?Me.resolve(r):i());return n}static forEach(e,n){const i=[];return e.forEach((r,s)=>{i.push(n.call(this,r,s))}),this.waitFor(i)}static mapArray(e,n){return new Me((i,r)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&i(o)},c=>r(c))}})}static doWhile(e,n){return new Me((i,r)=>{const s=()=>{e()===!0?n().next(()=>{s()},r):i()};s()})}}function VK(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Xp(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ie(i),this.se=i=>n.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Tb.oe=-1;function Qp(t){return t==null}function G0(t){return t===0&&1/t==-1/0}function BK(t){return typeof t=="number"&&Number.isInteger(t)&&!G0(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function vc(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function LL(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e,n){this.comparator=e,this.root=n||$i.EMPTY}insert(e,n){return new Gn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,$i.BLACK,null,null))}remove(e){return new Gn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$i.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new om(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new om(this.root,e,this.comparator,!1)}getReverseIterator(){return new om(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new om(this.root,e,this.comparator,!0)}}class om{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?i(e.key,n):1,n&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $i{constructor(e,n,i,r,s){this.key=e,this.value=n,this.color=i??$i.RED,this.left=r??$i.EMPTY,this.right=s??$i.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,s){return new $i(e??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,n,i),null):s===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return $i.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return $i.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$i.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$i.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw yt();const e=this.left.check();if(e!==this.right.check())throw yt();return e+(this.isRed()?0:1)}}$i.EMPTY=null,$i.RED=!0,$i.BLACK=!1;$i.EMPTY=new class{constructor(){this.size=0}get key(){throw yt()}get value(){throw yt()}get color(){throw yt()}get left(){throw yt()}get right(){throw yt()}copy(e,n,i,r,s){return this}insert(e,n,i){return new $i(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e){this.comparator=e,this.data=new Gn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new gT(this.data.getIterator())}getIteratorFrom(e){return new gT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof Xi)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Xi(this.comparator);return n.data=e,n}}class gT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(e){this.fields=e,e.sort(Gi.comparator)}static empty(){return new us([])}unionWith(e){let n=new Xi(Gi.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new us(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Xh(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RL extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new RL("Invalid base64 string: "+s):s}}(e);return new Zi(n)}static fromUint8Array(e){const n=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(e);return new Zi(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return en(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Zi.EMPTY_BYTE_STRING=new Zi("");const zK=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function eu(t){if(Jt(!!t),typeof t=="string"){let e=0;const n=zK.exec(t);if(Jt(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ui(t.seconds),nanos:ui(t.nanos)}}function ui(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function lc(t){return typeof t=="string"?Zi.fromBase64String(t):Zi.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eb(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Pb(t){const e=t.mapValue.fields.__previous_value__;return Eb(e)?Pb(e):e}function Sp(t){const e=eu(t.mapValue.fields.__local_write_time__.timestampValue);return new Ii(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UK{constructor(e,n,i,r,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Ap{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ap("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ap&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const am={mapValue:{}};function uc(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Eb(t)?4:qK(t)?9007199254740991:WK(t)?10:11:yt()}function Ko(t,e){if(t===e)return!0;const n=uc(t);if(n!==uc(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Sp(t).isEqual(Sp(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const o=eu(r.timestampValue),a=eu(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,s){return lc(r.bytesValue).isEqual(lc(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,s){return ui(r.geoPointValue.latitude)===ui(s.geoPointValue.latitude)&&ui(r.geoPointValue.longitude)===ui(s.geoPointValue.longitude)}(t,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return ui(r.integerValue)===ui(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const o=ui(r.doubleValue),a=ui(s.doubleValue);return o===a?G0(o)===G0(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Xh(t.arrayValue.values||[],e.arrayValue.values||[],Ko);case 10:case 11:return function(r,s){const o=r.mapValue.fields||{},a=s.mapValue.fields||{};if(pT(o)!==pT(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Ko(o[l],a[l])))return!1;return!0}(t,e);default:return yt()}}function kp(t,e){return(t.values||[]).find(n=>Ko(n,e))!==void 0}function Qh(t,e){if(t===e)return 0;const n=uc(t),i=uc(e);if(n!==i)return en(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return en(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=ui(s.integerValue||s.doubleValue),l=ui(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return mT(t.timestampValue,e.timestampValue);case 4:return mT(Sp(t),Sp(e));case 5:return en(t.stringValue,e.stringValue);case 6:return function(s,o){const a=lc(s),l=lc(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=en(a[u],l[u]);if(c!==0)return c}return en(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=en(ui(s.latitude),ui(o.latitude));return a!==0?a:en(ui(s.longitude),ui(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return yT(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,u,c;const h=s.fields||{},d=o.fields||{},f=(a=h.value)===null||a===void 0?void 0:a.arrayValue,y=(l=d.value)===null||l===void 0?void 0:l.arrayValue,w=en(((u=f==null?void 0:f.values)===null||u===void 0?void 0:u.length)||0,((c=y==null?void 0:y.values)===null||c===void 0?void 0:c.length)||0);return w!==0?w:yT(f,y)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===am.mapValue&&o===am.mapValue)return 0;if(s===am.mapValue)return 1;if(o===am.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let h=0;h<l.length&&h<c.length;++h){const d=en(l[h],c[h]);if(d!==0)return d;const f=Qh(a[l[h]],u[c[h]]);if(f!==0)return f}return en(l.length,c.length)}(t.mapValue,e.mapValue);default:throw yt()}}function mT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return en(t,e);const n=eu(t),i=eu(e),r=en(n.seconds,i.seconds);return r!==0?r:en(n.nanos,i.nanos)}function yT(t,e){const n=t.values||[],i=e.values||[];for(let r=0;r<n.length&&r<i.length;++r){const s=Qh(n[r],i[r]);if(s)return s}return en(n.length,i.length)}function Jh(t){return O5(t)}function O5(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=eu(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return lc(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return at.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",r=!0;for(const s of n.values||[])r?r=!1:i+=",",i+=O5(s);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let r="{",s=!0;for(const o of i)s?s=!1:r+=",",r+=`${o}:${O5(n.fields[o])}`;return r+"}"}(t.mapValue):yt()}function vT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function F5(t){return!!t&&"integerValue"in t}function Ib(t){return!!t&&"arrayValue"in t}function wT(t){return!!t&&"nullValue"in t}function _T(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Um(t){return!!t&&"mapValue"in t}function WK(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Dd(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return vc(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=Dd(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Dd(t.arrayValue.values[n]);return e}return Object.assign({},t)}function qK(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(e){this.value=e}static empty(){return new Ir({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Um(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Dd(n)}setAll(e){let n=Gi.emptyPath(),i={},r=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,i,r),i={},r=[],n=a.popLast()}o?i[a.lastSegment()]=Dd(o):r.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,i,r)}delete(e){const n=this.field(e.popLast());Um(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ko(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];Um(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){vc(n,(r,s)=>e[r]=s);for(const r of i)delete e[r]}clone(){return new Ir(Dd(this.value))}}function ML(t){const e=[];return vc(t.fields,(n,i)=>{const r=new Gi([n]);if(Um(i)){const s=ML(i.mapValue).fields;if(s.length===0)e.push(r);else for(const o of s)e.push(r.child(o))}else e.push(r)}),new us(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(e,n,i,r,s,o,a){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Fi(e,0,vt.min(),vt.min(),vt.min(),Ir.empty(),0)}static newFoundDocument(e,n,i,r){return new Fi(e,1,n,vt.min(),i,r,0)}static newNoDocument(e,n){return new Fi(e,2,n,vt.min(),vt.min(),Ir.empty(),0)}static newUnknownDocument(e,n){return new Fi(e,3,n,vt.min(),vt.min(),Ir.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(vt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ir.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ir.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=vt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Fi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Fi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(e,n){this.position=e,this.inclusive=n}}function bT(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){const s=e[r],o=t.position[r];if(s.field.isKeyField()?i=at.comparator(at.fromName(o.referenceValue),n.key):i=Qh(o,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function xT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ko(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(e,n="asc"){this.field=e,this.dir=n}}function HK(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DL{}class vi extends DL{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new GK(e,n,i):n==="array-contains"?new XK(e,i):n==="in"?new QK(e,i):n==="not-in"?new JK(e,i):n==="array-contains-any"?new ZK(e,i):new vi(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new KK(e,i):new YK(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Qh(n,this.value)):n!==null&&uc(this.value)===uc(n)&&this.matchesComparison(Qh(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return yt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class po extends DL{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new po(e,n)}matches(e){return OL(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function OL(t){return t.op==="and"}function FL(t){return $K(t)&&OL(t)}function $K(t){for(const e of t.filters)if(e instanceof po)return!1;return!0}function j5(t){if(t instanceof vi)return t.field.canonicalString()+t.op.toString()+Jh(t.value);if(FL(t))return t.filters.map(e=>j5(e)).join(",");{const e=t.filters.map(n=>j5(n)).join(",");return`${t.op}(${e})`}}function jL(t,e){return t instanceof vi?function(i,r){return r instanceof vi&&i.op===r.op&&i.field.isEqual(r.field)&&Ko(i.value,r.value)}(t,e):t instanceof po?function(i,r){return r instanceof po&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,o,a)=>s&&jL(o,r.filters[a]),!0):!1}(t,e):void yt()}function VL(t){return t instanceof vi?function(n){return`${n.field.canonicalString()} ${n.op} ${Jh(n.value)}`}(t):t instanceof po?function(n){return n.op.toString()+" {"+n.getFilters().map(VL).join(" ,")+"}"}(t):"Filter"}class GK extends vi{constructor(e,n,i){super(e,n,i),this.key=at.fromName(i.referenceValue)}matches(e){const n=at.comparator(e.key,this.key);return this.matchesComparison(n)}}class KK extends vi{constructor(e,n){super(e,"in",n),this.keys=BL("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class YK extends vi{constructor(e,n){super(e,"not-in",n),this.keys=BL("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function BL(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>at.fromName(i.referenceValue))}class XK extends vi{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ib(n)&&kp(n.arrayValue,this.value)}}class QK extends vi{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&kp(this.value.arrayValue,n)}}class JK extends vi{constructor(e,n){super(e,"not-in",n)}matches(e){if(kp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!kp(this.value.arrayValue,n)}}class ZK extends vi{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ib(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>kp(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eY{constructor(e,n=null,i=[],r=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function ST(t,e=null,n=[],i=[],r=null,s=null,o=null){return new eY(t,e,n,i,r,s,o)}function Cb(t){const e=xt(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>j5(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),Qp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>Jh(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>Jh(i)).join(",")),e.ue=n}return e.ue}function Nb(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!HK(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!jL(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!xT(t.startAt,e.startAt)&&xT(t.endAt,e.endAt)}function V5(t){return at.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(e,n=null,i=[],r=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function tY(t,e,n,i,r,s,o,a){return new ff(t,e,n,i,r,s,o,a)}function Lb(t){return new ff(t)}function AT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function zL(t){return t.collectionGroup!==null}function Od(t){const e=xt(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Xi(Gi.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Tp(s,i))}),n.has(Gi.keyField().canonicalString())||e.ce.push(new Tp(Gi.keyField(),i))}return e.ce}function $o(t){const e=xt(t);return e.le||(e.le=nY(e,Od(t))),e.le}function nY(t,e){if(t.limitType==="F")return ST(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{const s=r.dir==="desc"?"asc":"desc";return new Tp(r.field,s)});const n=t.endAt?new K0(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new K0(t.startAt.position,t.startAt.inclusive):null;return ST(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function B5(t,e){const n=t.filters.concat([e]);return new ff(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Y0(t,e,n){return new ff(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function U1(t,e){return Nb($o(t),$o(e))&&t.limitType===e.limitType}function UL(t){return`${Cb($o(t))}|lt:${t.limitType}`}function Vc(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>VL(r)).join(", ")}]`),Qp(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>Jh(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>Jh(r)).join(",")),`Target(${i})`}($o(t))}; limitType=${t.limitType})`}function W1(t,e){return e.isFoundDocument()&&function(i,r){const s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):at.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(t,e)&&function(i,r){for(const s of Od(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(t,e)&&function(i,r){for(const s of i.filters)if(!s.matches(r))return!1;return!0}(t,e)&&function(i,r){return!(i.startAt&&!function(o,a,l){const u=bT(o,a,l);return o.inclusive?u<=0:u<0}(i.startAt,Od(i),r)||i.endAt&&!function(o,a,l){const u=bT(o,a,l);return o.inclusive?u>=0:u>0}(i.endAt,Od(i),r))}(t,e)}function iY(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function WL(t){return(e,n)=>{let i=!1;for(const r of Od(t)){const s=rY(r,e,n);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function rY(t,e,n){const i=t.field.isKeyField()?at.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?Qh(l,u):yt()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return yt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[r,s]of i)if(this.equalsFn(r,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){vc(this.inner,(n,i)=>{for(const[r,s]of i)e(r,s)})}isEmpty(){return LL(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sY=new Gn(at.comparator);function Ba(){return sY}const qL=new Gn(at.comparator);function dd(...t){let e=qL;for(const n of t)e=e.insert(n.key,n);return e}function HL(t){let e=qL;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function Wu(){return Fd()}function $L(){return Fd()}function Fd(){return new df(t=>t.toString(),(t,e)=>t.isEqual(e))}const oY=new Gn(at.comparator),aY=new Xi(at.comparator);function Ut(...t){let e=aY;for(const n of t)e=e.add(n);return e}const lY=new Xi(en);function uY(){return lY}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rb(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:G0(e)?"-0":e}}function GL(t){return{integerValue:""+t}}function cY(t,e){return BK(e)?GL(e):Rb(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(){this._=void 0}}function hY(t,e,n){return t instanceof Ep?function(r,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&Eb(s)&&(s=Pb(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Pp?YL(t,e):t instanceof Ip?XL(t,e):function(r,s){const o=KL(r,s),a=kT(o)+kT(r.Pe);return F5(o)&&F5(r.Pe)?GL(a):Rb(r.serializer,a)}(t,e)}function fY(t,e,n){return t instanceof Pp?YL(t,e):t instanceof Ip?XL(t,e):n}function KL(t,e){return t instanceof X0?function(i){return F5(i)||function(s){return!!s&&"doubleValue"in s}(i)}(e)?e:{integerValue:0}:null}class Ep extends q1{}class Pp extends q1{constructor(e){super(),this.elements=e}}function YL(t,e){const n=QL(e);for(const i of t.elements)n.some(r=>Ko(r,i))||n.push(i);return{arrayValue:{values:n}}}class Ip extends q1{constructor(e){super(),this.elements=e}}function XL(t,e){let n=QL(e);for(const i of t.elements)n=n.filter(r=>!Ko(r,i));return{arrayValue:{values:n}}}class X0 extends q1{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function kT(t){return ui(t.integerValue||t.doubleValue)}function QL(t){return Ib(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dY{constructor(e,n){this.field=e,this.transform=n}}function pY(t,e){return t.field.isEqual(e.field)&&function(i,r){return i instanceof Pp&&r instanceof Pp||i instanceof Ip&&r instanceof Ip?Xh(i.elements,r.elements,Ko):i instanceof X0&&r instanceof X0?Ko(i.Pe,r.Pe):i instanceof Ep&&r instanceof Ep}(t.transform,e.transform)}class gY{constructor(e,n){this.version=e,this.transformResults=n}}class mr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new mr}static exists(e){return new mr(void 0,e)}static updateTime(e){return new mr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class H1{}function JL(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new $1(t.key,mr.none()):new Jp(t.key,t.data,mr.none());{const n=t.data,i=Ir.empty();let r=new Xi(Gi.comparator);for(let s of e.fields)if(!r.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?i.delete(s):i.set(s,o),r=r.add(s)}return new lu(t.key,i,new us(r.toArray()),mr.none())}}function mY(t,e,n){t instanceof Jp?function(r,s,o){const a=r.value.clone(),l=ET(r.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof lu?function(r,s,o){if(!Wm(r.precondition,s))return void s.convertToUnknownDocument(o.version);const a=ET(r.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(ZL(r)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(r,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function jd(t,e,n,i){return t instanceof Jp?function(s,o,a,l){if(!Wm(s.precondition,o))return a;const u=s.value.clone(),c=PT(s.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,i):t instanceof lu?function(s,o,a,l){if(!Wm(s.precondition,o))return a;const u=PT(s.fieldTransforms,l,o),c=o.data;return c.setAll(ZL(s)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,i):function(s,o,a){return Wm(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function yY(t,e){let n=null;for(const i of t.fieldTransforms){const r=e.data.field(i.field),s=KL(i.transform,r||null);s!=null&&(n===null&&(n=Ir.empty()),n.set(i.field,s))}return n||null}function TT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Xh(i,r,(s,o)=>pY(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Jp extends H1{constructor(e,n,i,r=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class lu extends H1{constructor(e,n,i,r,s=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function ZL(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function ET(t,e,n){const i=new Map;Jt(t.length===n.length);for(let r=0;r<n.length;r++){const s=t[r],o=s.transform,a=e.data.field(s.field);i.set(s.field,fY(o,a,n[r]))}return i}function PT(t,e,n){const i=new Map;for(const r of t){const s=r.transform,o=n.data.field(r.field);i.set(r.field,hY(s,o,e))}return i}class $1 extends H1{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class eR extends H1{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vY{constructor(e,n,i,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&mY(s,e,i[r])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=jd(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=jd(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=$L();return this.mutations.forEach(r=>{const s=e.get(r.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(r.key)?null:a;const l=JL(o,a);l!==null&&i.set(r.key,l),o.isValidDocument()||o.convertToNoDocument(vt.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ut())}isEqual(e){return this.batchId===e.batchId&&Xh(this.mutations,e.mutations,(n,i)=>TT(n,i))&&Xh(this.baseMutations,e.baseMutations,(n,i)=>TT(n,i))}}class Mb{constructor(e,n,i,r){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(e,n,i){Jt(e.mutations.length===i.length);let r=function(){return oY}();const s=e.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new Mb(e,n,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wY{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _Y{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mi,Kt;function tR(t){switch(t){default:return yt();case Pe.CANCELLED:case Pe.UNKNOWN:case Pe.DEADLINE_EXCEEDED:case Pe.RESOURCE_EXHAUSTED:case Pe.INTERNAL:case Pe.UNAVAILABLE:case Pe.UNAUTHENTICATED:return!1;case Pe.INVALID_ARGUMENT:case Pe.NOT_FOUND:case Pe.ALREADY_EXISTS:case Pe.PERMISSION_DENIED:case Pe.FAILED_PRECONDITION:case Pe.ABORTED:case Pe.OUT_OF_RANGE:case Pe.UNIMPLEMENTED:case Pe.DATA_LOSS:return!0}}function nR(t){if(t===void 0)return Va("GRPC error has no .code"),Pe.UNKNOWN;switch(t){case mi.OK:return Pe.OK;case mi.CANCELLED:return Pe.CANCELLED;case mi.UNKNOWN:return Pe.UNKNOWN;case mi.DEADLINE_EXCEEDED:return Pe.DEADLINE_EXCEEDED;case mi.RESOURCE_EXHAUSTED:return Pe.RESOURCE_EXHAUSTED;case mi.INTERNAL:return Pe.INTERNAL;case mi.UNAVAILABLE:return Pe.UNAVAILABLE;case mi.UNAUTHENTICATED:return Pe.UNAUTHENTICATED;case mi.INVALID_ARGUMENT:return Pe.INVALID_ARGUMENT;case mi.NOT_FOUND:return Pe.NOT_FOUND;case mi.ALREADY_EXISTS:return Pe.ALREADY_EXISTS;case mi.PERMISSION_DENIED:return Pe.PERMISSION_DENIED;case mi.FAILED_PRECONDITION:return Pe.FAILED_PRECONDITION;case mi.ABORTED:return Pe.ABORTED;case mi.OUT_OF_RANGE:return Pe.OUT_OF_RANGE;case mi.UNIMPLEMENTED:return Pe.UNIMPLEMENTED;case mi.DATA_LOSS:return Pe.DATA_LOSS;default:return yt()}}(Kt=mi||(mi={}))[Kt.OK=0]="OK",Kt[Kt.CANCELLED=1]="CANCELLED",Kt[Kt.UNKNOWN=2]="UNKNOWN",Kt[Kt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Kt[Kt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Kt[Kt.NOT_FOUND=5]="NOT_FOUND",Kt[Kt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Kt[Kt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Kt[Kt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Kt[Kt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Kt[Kt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Kt[Kt.ABORTED=10]="ABORTED",Kt[Kt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Kt[Kt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Kt[Kt.INTERNAL=13]="INTERNAL",Kt[Kt.UNAVAILABLE=14]="UNAVAILABLE",Kt[Kt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bY(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xY=new Xu([4294967295,4294967295],0);function IT(t){const e=bY().encode(t),n=new AL;return n.update(e),new Uint8Array(n.digest())}function CT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Xu([n,i],0),new Xu([r,s],0)]}class Db{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new pd(`Invalid padding: ${n}`);if(i<0)throw new pd(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new pd(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new pd(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Xu.fromNumber(this.Ie)}Ee(e,n,i){let r=e.add(n.multiply(Xu.fromNumber(i)));return r.compare(xY)===1&&(r=new Xu([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=IT(e),[i,r]=CT(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(i,r,s);if(!this.de(o))return!1}return!0}static create(e,n,i){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Db(s,r,n);return i.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=IT(e),[i,r]=CT(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(i,r,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class pd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(e,n,i,r,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const r=new Map;return r.set(e,Zp.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new G1(vt.min(),r,new Gn(en),Ba(),Ut())}}class Zp{constructor(e,n,i,r,s){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Zp(i,n,Ut(),Ut(),Ut())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(e,n,i,r){this.Re=e,this.removedTargetIds=n,this.key=i,this.Ve=r}}class iR{constructor(e,n){this.targetId=e,this.me=n}}class rR{constructor(e,n,i=Zi.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=r}}class NT{constructor(){this.fe=0,this.ge=RT(),this.pe=Zi.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ut(),n=Ut(),i=Ut();return this.ge.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:yt()}}),new Zp(this.pe,this.ye,e,n,i)}Ce(){this.we=!1,this.ge=RT()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Jt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class SY{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ba(),this.qe=LT(),this.Qe=new Gn(en)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const i=this.Ge(n);switch(e.state){case 0:this.ze(n)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),i.De(e.resumeToken));break;default:yt()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((i,r)=>{this.ze(r)&&n(r)})}He(e){const n=e.targetId,i=e.me.count,r=this.Je(n);if(r){const s=r.target;if(V5(s))if(i===0){const o=new at(s.path);this.Ue(n,o,Fi.newNoDocument(o,vt.min()))}else Jt(i===1);else{const o=this.Ye(n);if(o!==i){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=n;let o,a;try{o=lc(i).toUint8Array()}catch(l){if(l instanceof RL)return Yh("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Db(o,r,s)}catch(l){return Yh(l instanceof pd?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,i){return n.me.count===i-this.nt(e,n.targetId)?0:2}nt(e,n){const i=this.Le.getRemoteKeysForTarget(n);let r=0;return i.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),r++)}),r}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&V5(a.target)){const l=new at(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,Fi.newNoDocument(l,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let i=Ut();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(i=i.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const r=new G1(e,n,this.Qe,this.ke,i);return this.ke=Ba(),this.qe=LT(),this.Qe=new Gn(en),r}$e(e,n){if(!this.ze(e))return;const i=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,i),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,i){if(!this.ze(e))return;const r=this.Ge(e);this.it(e,n)?r.Fe(n,1):r.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),i&&(this.ke=this.ke.insert(n,i))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new NT,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Xi(en),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Xe("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new NT),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function LT(){return new Gn(at.comparator)}function RT(){return new Gn(at.comparator)}const AY={asc:"ASCENDING",desc:"DESCENDING"},kY={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},TY={and:"AND",or:"OR"};class EY{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function z5(t,e){return t.useProto3Json||Qp(e)?e:{value:e}}function Q0(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function sR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function PY(t,e){return Q0(t,e.toTimestamp())}function ds(t){return Jt(!!t),vt.fromTimestamp(function(n){const i=eu(n);return new Ii(i.seconds,i.nanos)}(t))}function Ob(t,e){return U5(t,e).canonicalString()}function U5(t,e){const n=function(r){return new bn(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function oR(t){const e=bn.fromString(t);return Jt(fR(e)),e}function J0(t,e){return Ob(t.databaseId,e.path)}function Vd(t,e){const n=oR(e);if(n.get(1)!==t.databaseId.projectId)throw new ze(Pe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ze(Pe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new at(lR(n))}function aR(t,e){return Ob(t.databaseId,e)}function IY(t){const e=oR(t);return e.length===4?bn.emptyPath():lR(e)}function W5(t){return new bn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function lR(t){return Jt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function MT(t,e,n){return{name:J0(t,e),fields:n.value.mapValue.fields}}function CY(t,e){return"found"in e?function(i,r){Jt(!!r.found),r.found.name,r.found.updateTime;const s=Vd(i,r.found.name),o=ds(r.found.updateTime),a=r.found.createTime?ds(r.found.createTime):vt.min(),l=new Ir({mapValue:{fields:r.found.fields}});return Fi.newFoundDocument(s,o,a,l)}(t,e):"missing"in e?function(i,r){Jt(!!r.missing),Jt(!!r.readTime);const s=Vd(i,r.missing),o=ds(r.readTime);return Fi.newNoDocument(s,o)}(t,e):yt()}function NY(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:yt()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(Jt(c===void 0||typeof c=="string"),Zi.fromBase64String(c||"")):(Jt(c===void 0||c instanceof Buffer||c instanceof Uint8Array),Zi.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=u.code===void 0?Pe.UNKNOWN:nR(u.code);return new ze(c,u.message||"")}(o);n=new rR(i,r,s,a||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const r=Vd(t,i.document.name),s=ds(i.document.updateTime),o=i.document.createTime?ds(i.document.createTime):vt.min(),a=new Ir({mapValue:{fields:i.document.fields}}),l=Fi.newFoundDocument(r,s,o,a),u=i.targetIds||[],c=i.removedTargetIds||[];n=new qm(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const r=Vd(t,i.document),s=i.readTime?ds(i.readTime):vt.min(),o=Fi.newNoDocument(r,s),a=i.removedTargetIds||[];n=new qm([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const r=Vd(t,i.document),s=i.removedTargetIds||[];n=new qm([],s,r,null)}else{if(!("filter"in e))return yt();{e.filter;const i=e.filter;i.targetId;const{count:r=0,unchangedNames:s}=i,o=new _Y(r,s),a=i.targetId;n=new iR(a,o)}}return n}function uR(t,e){let n;if(e instanceof Jp)n={update:MT(t,e.key,e.value)};else if(e instanceof $1)n={delete:J0(t,e.key)};else if(e instanceof lu)n={update:MT(t,e.key,e.data),updateMask:BY(e.fieldMask)};else{if(!(e instanceof eR))return yt();n={verify:J0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(s,o){const a=o.transform;if(a instanceof Ep)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Pp)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ip)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof X0)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw yt()}(0,i))),e.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:PY(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:yt()}(t,e.precondition)),n}function LY(t,e){return t&&t.length>0?(Jt(e!==void 0),t.map(n=>function(r,s){let o=r.updateTime?ds(r.updateTime):ds(s);return o.isEqual(vt.min())&&(o=ds(s)),new gY(o,r.transformResults||[])}(n,e))):[]}function RY(t,e){return{documents:[aR(t,e.path)]}}function MY(t,e){const n={structuredQuery:{}},i=e.path;let r;e.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=aR(t,r);const s=function(u){if(u.length!==0)return hR(po.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(c=>function(d){return{field:Bc(d.field),direction:FY(d.dir)}}(c))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=z5(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:r}}function DY(t){let e=IY(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){Jt(i===1);const c=n.from[0];c.allDescendants?r=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(h){const d=cR(h);return d instanceof po&&FL(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(d=>function(y){return new Tp(zc(y.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(d))}(n.orderBy));let a=null;n.limit&&(a=function(h){let d;return d=typeof h=="object"?h.value:h,Qp(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(h){const d=!!h.before,f=h.values||[];return new K0(f,d)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const d=!h.before,f=h.values||[];return new K0(f,d)}(n.endAt)),tY(e,r,o,s,a,"F",l,u)}function OY(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yt()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function cR(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=zc(n.unaryFilter.field);return vi.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=zc(n.unaryFilter.field);return vi.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=zc(n.unaryFilter.field);return vi.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=zc(n.unaryFilter.field);return vi.create(o,"!=",{nullValue:"NULL_VALUE"});default:return yt()}}(t):t.fieldFilter!==void 0?function(n){return vi.create(zc(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return yt()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return po.create(n.compositeFilter.filters.map(i=>cR(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return yt()}}(n.compositeFilter.op))}(t):yt()}function FY(t){return AY[t]}function jY(t){return kY[t]}function VY(t){return TY[t]}function Bc(t){return{fieldPath:t.canonicalString()}}function zc(t){return Gi.fromServerFormat(t.fieldPath)}function hR(t){return t instanceof vi?function(n){if(n.op==="=="){if(_T(n.value))return{unaryFilter:{field:Bc(n.field),op:"IS_NAN"}};if(wT(n.value))return{unaryFilter:{field:Bc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(_T(n.value))return{unaryFilter:{field:Bc(n.field),op:"IS_NOT_NAN"}};if(wT(n.value))return{unaryFilter:{field:Bc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bc(n.field),op:jY(n.op),value:n.value}}}(t):t instanceof po?function(n){const i=n.getFilters().map(r=>hR(r));return i.length===1?i[0]:{compositeFilter:{op:VY(n.op),filters:i}}}(t):yt()}function BY(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function fR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(e,n,i,r,s=vt.min(),o=vt.min(),a=Zi.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Rl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Rl(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Rl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Rl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zY{constructor(e){this.ct=e}}function UY(t){const e=DY({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Y0(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WY{constructor(){this.un=new qY}addToCollectionParentIndex(e,n){return this.un.add(n),Me.resolve()}getCollectionParents(e,n){return Me.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return Me.resolve()}deleteFieldIndex(e,n){return Me.resolve()}deleteAllFieldIndexes(e){return Me.resolve()}createTargetIndexes(e,n){return Me.resolve()}getDocumentsMatchingTarget(e,n){return Me.resolve(null)}getIndexType(e,n){return Me.resolve(0)}getFieldIndexes(e,n){return Me.resolve([])}getNextCollectionGroupToUpdate(e){return Me.resolve(null)}getMinOffset(e,n){return Me.resolve(Zl.min())}getMinOffsetFromCollectionGroup(e,n){return Me.resolve(Zl.min())}updateCollectionGroup(e,n,i){return Me.resolve()}updateIndexEntries(e,n){return Me.resolve()}}class qY{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n]||new Xi(bn.comparator),s=!r.has(i);return this.index[n]=r.add(i),s}has(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Xi(bn.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Zh(0)}static kn(){return new Zh(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HY{constructor(){this.changes=new df(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Fi.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?Me.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $Y{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GY{constructor(e,n,i,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(i!==null&&jd(i.mutation,r,us.empty(),Ii.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,Ut()).next(()=>i))}getLocalViewOfDocuments(e,n,i=Ut()){const r=Wu();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,i).next(s=>{let o=dd();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const i=Wu();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,Ut()))}populateOverlays(e,n,i){const r=[];return i.forEach(s=>{n.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,i,r){let s=Ba();const o=Fd(),a=function(){return Fd()}();return n.forEach((l,u)=>{const c=i.get(u.key);r.has(u.key)&&(c===void 0||c.mutation instanceof lu)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),jd(c.mutation,u,c.mutation.getFieldMask(),Ii.now())):o.set(u.key,us.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var h;return a.set(u,new $Y(c,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const i=Fd();let r=new Gn((o,a)=>o-a),s=Ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=i.get(l)||us.empty();c=a.applyToLocalView(u,c),i.set(l,c);const h=(r.get(a.batchId)||Ut()).add(l);r=r.insert(a.batchId,h)})}).next(()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,h=$L();c.forEach(d=>{if(!s.has(d)){const f=JL(n.get(d),i.get(d));f!==null&&h.set(d,f),s=s.add(d)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return Me.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,r){return function(o){return at.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):zL(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,r):this.getDocumentsMatchingCollectionQuery(e,n,i,r)}getNextDocuments(e,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,r).next(s=>{const o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,r-s.size):Me.resolve(Wu());let a=-1,l=s;return o.next(u=>Me.forEach(u,(c,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(c)?Me.resolve():this.remoteDocumentCache.getEntry(e,c).next(d=>{l=l.insert(c,d)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,Ut())).next(c=>({batchId:a,changes:HL(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new at(n)).next(i=>{let r=dd();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,i,r){const s=n.collectionGroup;let o=dd();return this.indexManager.getCollectionParents(e,s).next(a=>Me.forEach(a,l=>{const u=function(h,d){return new ff(d,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,i,r).next(c=>{c.forEach((h,d)=>{o=o.insert(h,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,s,r))).next(o=>{s.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,Fi.newInvalidDocument(c)))});let a=dd();return o.forEach((l,u)=>{const c=s.get(l);c!==void 0&&jd(c.mutation,u,us.empty(),Ii.now()),W1(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KY{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return Me.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:ds(r.createTime)}}(n)),Me.resolve()}getNamedQuery(e,n){return Me.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(r){return{name:r.name,query:UY(r.bundledQuery),readTime:ds(r.readTime)}}(n)),Me.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YY{constructor(){this.overlays=new Gn(at.comparator),this.Ir=new Map}getOverlay(e,n){return Me.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Wu();return Me.forEach(n,r=>this.getOverlay(e,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((r,s)=>{this.ht(e,n,s)}),Me.resolve()}removeOverlaysForBatchId(e,n,i){const r=this.Ir.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(i)),Me.resolve()}getOverlaysForCollection(e,n,i){const r=Wu(),s=n.length+1,o=new at(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>i&&r.set(l.getKey(),l)}return Me.resolve(r)}getOverlaysForCollectionGroup(e,n,i,r){let s=new Gn((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>i){let c=s.get(u.largestBatchId);c===null&&(c=Wu(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Wu(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=r)););return Me.resolve(a)}ht(e,n,i){const r=this.overlays.get(i.key);if(r!==null){const o=this.Ir.get(r.largestBatchId).delete(i.key);this.Ir.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new wY(n,i));let s=this.Ir.get(n);s===void 0&&(s=Ut(),this.Ir.set(n,s)),this.Ir.set(n,s.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XY{constructor(){this.sessionToken=Zi.EMPTY_BYTE_STRING}getSessionToken(e){return Me.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Me.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(){this.Tr=new Xi(Mi.Er),this.dr=new Xi(Mi.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const i=new Mi(e,n);this.Tr=this.Tr.add(i),this.dr=this.dr.add(i)}Rr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Vr(new Mi(e,n))}mr(e,n){e.forEach(i=>this.removeReference(i,n))}gr(e){const n=new at(new bn([])),i=new Mi(n,e),r=new Mi(n,e+1),s=[];return this.dr.forEachInRange([i,r],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new at(new bn([])),i=new Mi(n,e),r=new Mi(n,e+1);let s=Ut();return this.dr.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Mi(e,0),i=this.Tr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class Mi{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return at.comparator(e.key,n.key)||en(e.wr,n.wr)}static Ar(e,n){return en(e.wr,n.wr)||at.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QY{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Xi(Mi.Er)}checkEmpty(e){return Me.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,r){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new vY(s,n,i,r);this.mutationQueue.push(o);for(const a of r)this.br=this.br.add(new Mi(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Me.resolve(o)}lookupMutationBatch(e,n){return Me.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,r=this.vr(i),s=r<0?0:r;return Me.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Me.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Me.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new Mi(n,0),r=new Mi(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([i,r],o=>{const a=this.Dr(o.wr);s.push(a)}),Me.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Xi(en);return n.forEach(r=>{const s=new Mi(r,0),o=new Mi(r,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{i=i.add(a.wr)})}),Me.resolve(this.Cr(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,r=i.length+1;let s=i;at.isDocumentKey(s)||(s=s.child(""));const o=new Mi(new at(s),0);let a=new Xi(en);return this.br.forEachWhile(l=>{const u=l.key.path;return!!i.isPrefixOf(u)&&(u.length===r&&(a=a.add(l.wr)),!0)},o),Me.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(i=>{const r=this.Dr(i);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){Jt(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.br;return Me.forEach(n.mutations,r=>{const s=new Mi(r.key,n.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.br=i})}On(e){}containsKey(e,n){const i=new Mi(n,0),r=this.br.firstAfterOrEqual(i);return Me.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Me.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JY{constructor(e){this.Mr=e,this.docs=function(){return new Gn(at.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,r=this.docs.get(i),s=r?r.size:0,o=this.Mr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return Me.resolve(i?i.document.mutableCopy():Fi.newInvalidDocument(n))}getEntries(e,n){let i=Ba();return n.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():Fi.newInvalidDocument(r))}),Me.resolve(i)}getDocumentsMatchingQuery(e,n,i,r){let s=Ba();const o=n.path,a=new at(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||OK(DK(c),i)<=0||(r.has(c.key)||W1(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return Me.resolve(s)}getAllFromCollectionGroup(e,n,i,r){yt()}Or(e,n){return Me.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new ZY(this)}getSize(e){return Me.resolve(this.size)}}class ZY extends HY{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.cr.addEntry(e,r)):this.cr.removeEntry(i)}),Me.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eX{constructor(e){this.persistence=e,this.Nr=new df(n=>Cb(n),Nb),this.lastRemoteSnapshotVersion=vt.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Fb,this.targetCount=0,this.kr=Zh.Bn()}forEachTarget(e,n){return this.Nr.forEach((i,r)=>n(r)),Me.resolve()}getLastRemoteSnapshotVersion(e){return Me.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Me.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Me.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Lr&&(this.Lr=n),Me.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Zh(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,Me.resolve()}updateTargetData(e,n){return this.Kn(n),Me.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,Me.resolve()}removeTargets(e,n,i){let r=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&i.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),Me.waitFor(s).next(()=>r)}getTargetCount(e){return Me.resolve(this.targetCount)}getTargetData(e,n){const i=this.Nr.get(n)||null;return Me.resolve(i)}addMatchingKeys(e,n,i){return this.Br.Rr(n,i),Me.resolve()}removeMatchingKeys(e,n,i){this.Br.mr(n,i);const r=this.persistence.referenceDelegate,s=[];return r&&n.forEach(o=>{s.push(r.markPotentiallyOrphaned(e,o))}),Me.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),Me.resolve()}getMatchingKeysForTargetId(e,n){const i=this.Br.yr(n);return Me.resolve(i)}containsKey(e,n){return Me.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tX{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Tb(0),this.Kr=!1,this.Kr=!0,this.$r=new XY,this.referenceDelegate=e(this),this.Ur=new eX(this),this.indexManager=new WY,this.remoteDocumentCache=function(r){return new JY(r)}(i=>this.referenceDelegate.Wr(i)),this.serializer=new zY(n),this.Gr=new KY(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new YY,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.qr[e.toKey()];return i||(i=new QY(n,this.referenceDelegate),this.qr[e.toKey()]=i),i}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,i){Xe("MemoryPersistence","Starting transaction:",e);const r=new nX(this.Qr.next());return this.referenceDelegate.zr(),i(r).next(s=>this.referenceDelegate.jr(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Hr(e,n){return Me.or(Object.values(this.qr).map(i=>()=>i.containsKey(e,n)))}}class nX extends jK{constructor(e){super(),this.currentSequenceNumber=e}}class jb{constructor(e){this.persistence=e,this.Jr=new Fb,this.Yr=null}static Zr(e){return new jb(e)}get Xr(){if(this.Yr)return this.Yr;throw yt()}addReference(e,n,i){return this.Jr.addReference(i,n),this.Xr.delete(i.toString()),Me.resolve()}removeReference(e,n,i){return this.Jr.removeReference(i,n),this.Xr.add(i.toString()),Me.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),Me.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(r=>this.Xr.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(s=>this.Xr.add(s.toString()))}).next(()=>i.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Me.forEach(this.Xr,i=>{const r=at.fromPath(i);return this.ei(e,r).next(s=>{s||n.removeEntry(r,vt.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(i=>{i?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return Me.or([()=>Me.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{constructor(e,n,i,r){this.targetId=e,this.fromCache=n,this.$i=i,this.Ui=r}static Wi(e,n){let i=Ut(),r=Ut();for(const s of n.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new Vb(e,n.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iX{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rX{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return oH()?8:VK(br())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,i,r){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,r,i).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new iX;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,i,r){return i.documentReadCount<this.ji?(Jf()<=Ht.DEBUG&&Xe("QueryEngine","SDK will not create cache indexes for query:",Vc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Me.resolve()):(Jf()<=Ht.DEBUG&&Xe("QueryEngine","Query:",Vc(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Hi*r?(Jf()<=Ht.DEBUG&&Xe("QueryEngine","The SDK decides to create cache indexes for query:",Vc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,$o(n))):Me.resolve())}Yi(e,n){if(AT(n))return Me.resolve(null);let i=$o(n);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=Y0(n,null,"F"),i=$o(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{const o=Ut(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,i).next(l=>{const u=this.ts(n,a);return this.ns(n,u,o,l.readTime)?this.Yi(e,Y0(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,i,r){return AT(n)||r.isEqual(vt.min())?Me.resolve(null):this.Ji.getDocuments(e,i).next(s=>{const o=this.ts(n,s);return this.ns(n,o,i,r)?Me.resolve(null):(Jf()<=Ht.DEBUG&&Xe("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Vc(n)),this.rs(e,o,n,MK(r,-1)).next(a=>a))})}ts(e,n){let i=new Xi(WL(e));return n.forEach((r,s)=>{W1(e,s)&&(i=i.add(s))}),i}ns(e,n,i,r){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Xi(e,n,i){return Jf()<=Ht.DEBUG&&Xe("QueryEngine","Using full collection scan to execute query:",Vc(n)),this.Ji.getDocumentsMatchingQuery(e,n,Zl.min(),i)}rs(e,n,i,r){return this.Ji.getDocumentsMatchingQuery(e,i,r).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sX{constructor(e,n,i,r){this.persistence=e,this.ss=n,this.serializer=r,this.os=new Gn(en),this._s=new df(s=>Cb(s),Nb),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(i)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new GY(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function oX(t,e,n,i){return new sX(t,e,n,i)}async function dR(t,e){const n=xt(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,n.ls(e),n.mutationQueue.getAllMutationBatches(i))).next(s=>{const o=[],a=[];let l=Ut();for(const u of r){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(i,l).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:a}))})})}function aX(t,e){const n=xt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const h=u.batch,d=h.keys();let f=Me.resolve();return d.forEach(y=>{f=f.next(()=>c.getEntry(l,y)).next(w=>{const b=u.docVersions.get(y);Jt(b!==null),w.version.compareTo(b)<0&&(h.applyToRemoteDocument(w,u),w.isValidDocument()&&(w.setReadTime(u.commitVersion),c.addEntry(w)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,i,e,s).next(()=>s.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let l=Ut();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(i,r))})}function pR(t){const e=xt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function lX(t,e){const n=xt(t),i=e.snapshotVersion;let r=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});r=n.os;const a=[];e.targetChanges.forEach((c,h)=>{const d=r.get(h);if(!d)return;a.push(n.Ur.removeMatchingKeys(s,c.removedDocuments,h).next(()=>n.Ur.addMatchingKeys(s,c.addedDocuments,h)));let f=d.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?f=f.withResumeToken(Zi.EMPTY_BYTE_STRING,vt.min()).withLastLimboFreeSnapshotVersion(vt.min()):c.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(c.resumeToken,i)),r=r.insert(h,f),function(w,b,v){return w.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(d,f,c)&&a.push(n.Ur.updateTargetData(s,f))});let l=Ba(),u=Ut();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(uX(s,o,e.documentUpdates).next(c=>{l=c.Ps,u=c.Is})),!i.isEqual(vt.min())){const c=n.Ur.getLastRemoteSnapshotVersion(s).next(h=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,i));a.push(c)}return Me.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.os=r,s))}function uX(t,e,n){let i=Ut(),r=Ut();return n.forEach(s=>i=i.add(s)),e.getEntries(t,i).next(s=>{let o=Ba();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(r=r.add(a)),l.isNoDocument()&&l.version.isEqual(vt.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Xe("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:o,Is:r}})}function cX(t,e){const n=xt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function hX(t,e){const n=xt(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.Ur.getTargetData(i,e).next(s=>s?(r=s,Me.resolve(r)):n.Ur.allocateTargetId(i).next(o=>(r=new Rl(e,o,"TargetPurposeListen",i.currentSequenceNumber),n.Ur.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=n.os.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.os=n.os.insert(i.targetId,i),n._s.set(e,i.targetId)),i})}async function q5(t,e,n){const i=xt(t),r=i.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",s,o=>i.persistence.referenceDelegate.removeTarget(o,r))}catch(o){if(!Xp(o))throw o;Xe("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}i.os=i.os.remove(e),i._s.delete(r.target)}function DT(t,e,n){const i=xt(t);let r=vt.min(),s=Ut();return i.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const h=xt(l),d=h._s.get(c);return d!==void 0?Me.resolve(h.os.get(d)):h.Ur.getTargetData(u,c)}(i,o,$o(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>i.ss.getDocumentsMatchingQuery(o,e,n?r:vt.min(),n?s:Ut())).next(a=>(fX(i,iY(e),a),{documents:a,Ts:s})))}function fX(t,e,n){let i=t.us.get(e)||vt.min();n.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),t.us.set(e,i)}class OT{constructor(){this.activeTargetIds=uY()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class dX{constructor(){this.so=new OT,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,i){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new OT,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pX{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Xe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Xe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lm=null;function I2(){return lm===null?lm=function(){return 268435456+Math.round(2147483648*Math.random())}():lm++,"0x"+lm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gX={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mX{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ar="WebChannelConnection";class yX extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const i=n.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=i+"://"+n.host,this.vo=`projects/${r}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${s}`}get Fo(){return!1}Mo(n,i,r,s,o){const a=I2(),l=this.xo(n,i.toUriEncodedString());Xe("RestConnection",`Sending RPC '${n}' ${a}:`,l,r);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,s,o),this.No(n,l,u,r).then(c=>(Xe("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw Yh("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",r),c})}Lo(n,i,r,s,o,a){return this.Mo(n,i,r,s,o)}Oo(n,i,r){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+hf}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((s,o)=>n[o]=s),r&&r.headers.forEach((s,o)=>n[o]=s)}xo(n,i){const r=gX[n];return`${this.Do}/v1/${i}:${r}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,i,r){const s=I2();return new Promise((o,a)=>{const l=new kL;l.setWithCredentials(!0),l.listenOnce(TL.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case zm.NO_ERROR:const c=l.getResponseJson();Xe(ar,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case zm.TIMEOUT:Xe(ar,`RPC '${e}' ${s} timed out`),a(new ze(Pe.DEADLINE_EXCEEDED,"Request time out"));break;case zm.HTTP_ERROR:const h=l.getStatus();if(Xe(ar,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let d=l.getResponseJson();Array.isArray(d)&&(d=d[0]);const f=d==null?void 0:d.error;if(f&&f.status&&f.message){const y=function(b){const v=b.toLowerCase().replace(/_/g,"-");return Object.values(Pe).indexOf(v)>=0?v:Pe.UNKNOWN}(f.status);a(new ze(y,f.message))}else a(new ze(Pe.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new ze(Pe.UNAVAILABLE,"Connection failed."));break;default:yt()}}finally{Xe(ar,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(r);Xe(ar,`RPC '${e}' ${s} sending request:`,r),l.send(n,"POST",u,i,15)})}Bo(e,n,i){const r=I2(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=IL(),a=PL(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,i),l.encodeInitMessageHeaders=!0;const c=s.join("");Xe(ar,`Creating RPC '${e}' stream ${r}: ${c}`,l);const h=o.createWebChannel(c,l);let d=!1,f=!1;const y=new mX({Io:b=>{f?Xe(ar,`Not sending because RPC '${e}' stream ${r} is closed:`,b):(d||(Xe(ar,`Opening RPC '${e}' stream ${r} transport.`),h.open(),d=!0),Xe(ar,`RPC '${e}' stream ${r} sending:`,b),h.send(b))},To:()=>h.close()}),w=(b,v,S)=>{b.listen(v,I=>{try{S(I)}catch(P){setTimeout(()=>{throw P},0)}})};return w(h,fd.EventType.OPEN,()=>{f||(Xe(ar,`RPC '${e}' stream ${r} transport opened.`),y.yo())}),w(h,fd.EventType.CLOSE,()=>{f||(f=!0,Xe(ar,`RPC '${e}' stream ${r} transport closed`),y.So())}),w(h,fd.EventType.ERROR,b=>{f||(f=!0,Yh(ar,`RPC '${e}' stream ${r} transport errored:`,b),y.So(new ze(Pe.UNAVAILABLE,"The operation could not be completed")))}),w(h,fd.EventType.MESSAGE,b=>{var v;if(!f){const S=b.data[0];Jt(!!S);const I=S,P=I.error||((v=I[0])===null||v===void 0?void 0:v.error);if(P){Xe(ar,`RPC '${e}' stream ${r} received error:`,P);const F=P.status;let H=function(T){const O=mi[T];if(O!==void 0)return nR(O)}(F),M=P.message;H===void 0&&(H=Pe.INTERNAL,M="Unknown error status: "+F+" with message "+P.message),f=!0,y.So(new ze(H,M)),h.close()}else Xe(ar,`RPC '${e}' stream ${r} received:`,S),y.bo(S)}}),w(a,EL.STAT_EVENT,b=>{b.stat===D5.PROXY?Xe(ar,`RPC '${e}' stream ${r} detected buffering proxy`):b.stat===D5.NOPROXY&&Xe(ar,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{y.wo()},0),y}}function C2(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K1(t){return new EY(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(e,n,i=1e3,r=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=i,this.qo=r,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),i=Math.max(0,Date.now()-this.Uo),r=Math.max(0,n-i);r>0&&Xe("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e,n,i,r,s,o,a,l){this.ui=e,this.Ho=i,this.Jo=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Bb(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===Pe.RESOURCE_EXHAUSTED?(Va(n.toString()),Va("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===Pe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Yo===n&&this.P_(i,r)},i=>{e(()=>{const r=new ze(Pe.UNKNOWN,"Fetching auth token failed: "+i.message);return this.I_(r)})})}P_(e,n){const i=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{i(()=>this.listener.Eo())}),this.stream.Ro(()=>{i(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(r=>{i(()=>this.I_(r))}),this.stream.onMessage(r=>{i(()=>++this.e_==1?this.E_(r):this.onNext(r))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Xe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(Xe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class vX extends gR{constructor(e,n,i,r,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=NY(this.serializer,e),i=function(s){if(!("targetChange"in s))return vt.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?vt.min():o.readTime?ds(o.readTime):vt.min()}(e);return this.listener.d_(n,i)}A_(e){const n={};n.database=W5(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=V5(l)?{documents:RY(s,l)}:{query:MY(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=sR(s,o.resumeToken);const u=z5(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(vt.min())>0){a.readTime=Q0(s,o.snapshotVersion.toTimestamp());const u=z5(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const i=OY(this.serializer,e);i&&(n.labels=i),this.a_(n)}R_(e){const n={};n.database=W5(this.serializer),n.removeTarget=e,this.a_(n)}}class wX extends gR{constructor(e,n,i,r,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Jt(!!e.streamToken),this.lastStreamToken=e.streamToken,Jt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Jt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=LY(e.writeResults,e.commitTime),i=ds(e.commitTime);return this.listener.g_(i,n)}p_(){const e={};e.database=W5(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>uR(this.serializer,i))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _X extends class{}{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.y_=!1}w_(){if(this.y_)throw new ze(Pe.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,i,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,U5(n,i),r,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ze(Pe.UNKNOWN,s.toString())})}Lo(e,n,i,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,U5(n,i),r,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ze(Pe.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class bX{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Va(n),this.D_=!1):Xe("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xX{constructor(e,n,i,r,s){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{i.enqueueAndForget(async()=>{wc(this)&&(Xe("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=xt(l);u.L_.add(4),await eg(u),u.q_.set("Unknown"),u.L_.delete(4),await Y1(u)}(this))})}),this.q_=new bX(i,r)}}async function Y1(t){if(wc(t))for(const e of t.B_)await e(!0)}async function eg(t){for(const e of t.B_)await e(!1)}function mR(t,e){const n=xt(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),qb(n)?Wb(n):pf(n).r_()&&Ub(n,e))}function zb(t,e){const n=xt(t),i=pf(n);n.N_.delete(e),i.r_()&&yR(n,e),n.N_.size===0&&(i.r_()?i.o_():wc(n)&&n.q_.set("Unknown"))}function Ub(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(vt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}pf(t).A_(e)}function yR(t,e){t.Q_.xe(e),pf(t).R_(e)}function Wb(t){t.Q_=new SY({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),pf(t).start(),t.q_.v_()}function qb(t){return wc(t)&&!pf(t).n_()&&t.N_.size>0}function wc(t){return xt(t).L_.size===0}function vR(t){t.Q_=void 0}async function SX(t){t.q_.set("Online")}async function AX(t){t.N_.forEach((e,n)=>{Ub(t,e)})}async function kX(t,e){vR(t),qb(t)?(t.q_.M_(e),Wb(t)):t.q_.set("Unknown")}async function TX(t,e,n){if(t.q_.set("Online"),e instanceof rR&&e.state===2&&e.cause)try{await async function(r,s){const o=s.cause;for(const a of s.targetIds)r.N_.has(a)&&(await r.remoteSyncer.rejectListen(a,o),r.N_.delete(a),r.Q_.removeTarget(a))}(t,e)}catch(i){Xe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Z0(t,i)}else if(e instanceof qm?t.Q_.Ke(e):e instanceof iR?t.Q_.He(e):t.Q_.We(e),!n.isEqual(vt.min()))try{const i=await pR(t.localStore);n.compareTo(i)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=s.N_.get(u);c&&s.N_.set(u,c.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const c=s.N_.get(l);if(!c)return;s.N_.set(l,c.withResumeToken(Zi.EMPTY_BYTE_STRING,c.snapshotVersion)),yR(s,l);const h=new Rl(c.target,l,u,c.sequenceNumber);Ub(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(i){Xe("RemoteStore","Failed to raise snapshot:",i),await Z0(t,i)}}async function Z0(t,e,n){if(!Xp(e))throw e;t.L_.add(1),await eg(t),t.q_.set("Offline"),n||(n=()=>pR(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Xe("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Y1(t)})}function wR(t,e){return e().catch(n=>Z0(t,n,e))}async function X1(t){const e=xt(t),n=tu(e);let i=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;EX(e);)try{const r=await cX(e.localStore,i);if(r===null){e.O_.length===0&&n.o_();break}i=r.batchId,PX(e,r)}catch(r){await Z0(e,r)}_R(e)&&bR(e)}function EX(t){return wc(t)&&t.O_.length<10}function PX(t,e){t.O_.push(e);const n=tu(t);n.r_()&&n.V_&&n.m_(e.mutations)}function _R(t){return wc(t)&&!tu(t).n_()&&t.O_.length>0}function bR(t){tu(t).start()}async function IX(t){tu(t).p_()}async function CX(t){const e=tu(t);for(const n of t.O_)e.m_(n.mutations)}async function NX(t,e,n){const i=t.O_.shift(),r=Mb.from(i,e,n);await wR(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),await X1(t)}async function LX(t,e){e&&tu(t).V_&&await async function(i,r){if(function(o){return tR(o)&&o!==Pe.ABORTED}(r.code)){const s=i.O_.shift();tu(i).s_(),await wR(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),await X1(i)}}(t,e),_R(t)&&bR(t)}async function jT(t,e){const n=xt(t);n.asyncQueue.verifyOperationInProgress(),Xe("RemoteStore","RemoteStore received new credentials");const i=wc(n);n.L_.add(3),await eg(n),i&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Y1(n)}async function RX(t,e){const n=xt(t);e?(n.L_.delete(2),await Y1(n)):e||(n.L_.add(2),await eg(n),n.q_.set("Unknown"))}function pf(t){return t.K_||(t.K_=function(n,i,r){const s=xt(n);return s.w_(),new vX(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{Eo:SX.bind(null,t),Ro:AX.bind(null,t),mo:kX.bind(null,t),d_:TX.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),qb(t)?Wb(t):t.q_.set("Unknown")):(await t.K_.stop(),vR(t))})),t.K_}function tu(t){return t.U_||(t.U_=function(n,i,r){const s=xt(n);return s.w_(),new wX(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:IX.bind(null,t),mo:LX.bind(null,t),f_:CX.bind(null,t),g_:NX.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await X1(t)):(await t.U_.stop(),t.O_.length>0&&(Xe("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(e,n,i,r,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Na,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,r,s){const o=Date.now()+i,a=new Hb(e,n,o,r,s);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ze(Pe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $b(t,e){if(Va("AsyncQueue",`${e}: ${t}`),Xp(t))return new ze(Pe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e){this.comparator=e?(n,i)=>e(n,i)||at.comparator(n.key,i.key):(n,i)=>at.comparator(n.key,i.key),this.keyedMap=dd(),this.sortedSet=new Gn(this.comparator)}static emptySet(e){return new Ah(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ah)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new Ah;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(){this.W_=new Gn(at.comparator)}track(e){const n=e.doc.key,i=this.W_.get(n);i?e.type!==0&&i.type===3?this.W_=this.W_.insert(n,e):e.type===3&&i.type!==1?this.W_=this.W_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.W_=this.W_.remove(n):e.type===1&&i.type===2?this.W_=this.W_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):yt():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,i)=>{e.push(i)}),e}}class ef{constructor(e,n,i,r,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,i,r,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new ef(e,n,Ah.emptySet(n),o,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&U1(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MX{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class DX{constructor(){this.queries=BT(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,i){const r=xt(n),s=r.queries;r.queries=BT(),s.forEach((o,a)=>{for(const l of a.j_)l.onError(i)})})(this,new ze(Pe.ABORTED,"Firestore shutting down"))}}function BT(){return new df(t=>UL(t),U1)}async function xR(t,e){const n=xt(t);let i=3;const r=e.query;let s=n.queries.get(r);s?!s.H_()&&e.J_()&&(i=2):(s=new MX,i=e.J_()?0:1);try{switch(i){case 0:s.z_=await n.onListen(r,!0);break;case 1:s.z_=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(o){const a=$b(o,`Initialization of query '${Vc(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&Gb(n)}async function SR(t,e){const n=xt(t),i=e.query;let r=3;const s=n.queries.get(i);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?r=e.J_()?0:1:!s.H_()&&e.J_()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function OX(t,e){const n=xt(t);let i=!1;for(const r of e){const s=r.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(r)&&(i=!0);o.z_=r}}i&&Gb(n)}function FX(t,e,n){const i=xt(t),r=i.queries.get(e);if(r)for(const s of r.j_)s.onError(n);i.queries.delete(e)}function Gb(t){t.Y_.forEach(e=>{e.next()})}var H5,zT;(zT=H5||(H5={})).ea="default",zT.Cache="cache";class AR{constructor(e,n,i){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=i||{}}X_(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)r.type!==3&&i.push(r);e=new ef(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const i=n!=="Offline";return(!this.options._a||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=ef.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==H5.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(e){this.key=e}}class TR{constructor(e){this.key=e}}class jX{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ut(),this.mutatedKeys=Ut(),this.Aa=WL(e),this.Ra=new Ah(this.Aa)}get Va(){return this.Ta}ma(e,n){const i=n?n.fa:new VT,r=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=r,a=!1;const l=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,u=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((c,h)=>{const d=r.get(c),f=W1(this.query,h)?h:null,y=!!d&&this.mutatedKeys.has(d.key),w=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let b=!1;d&&f?d.data.isEqual(f.data)?y!==w&&(i.track({type:3,doc:f}),b=!0):this.ga(d,f)||(i.track({type:2,doc:f}),b=!0,(l&&this.Aa(f,l)>0||u&&this.Aa(f,u)<0)&&(a=!0)):!d&&f?(i.track({type:0,doc:f}),b=!0):d&&!f&&(i.track({type:1,doc:d}),b=!0,(l||u)&&(a=!0)),b&&(f?(o=o.add(f),s=w?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),i.track({type:1,doc:c})}return{Ra:o,fa:i,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,r){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((c,h)=>function(f,y){const w=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt()}};return w(f)-w(y)}(c.type,h.type)||this.Aa(c.doc,h.doc)),this.pa(i),r=r!=null&&r;const a=n&&!r?this.ya():[],l=this.da.size===0&&this.current&&!r?1:0,u=l!==this.Ea;return this.Ea=l,o.length!==0||u?{snapshot:new ef(this.query,e.Ra,s,o,e.mutatedKeys,l===0,u,!1,!!i&&i.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new VT,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ut(),this.Ra.forEach(i=>{this.Sa(i.key)&&(this.da=this.da.add(i.key))});const n=[];return e.forEach(i=>{this.da.has(i)||n.push(new TR(i))}),this.da.forEach(i=>{e.has(i)||n.push(new kR(i))}),n}ba(e){this.Ta=e.Ts,this.da=Ut();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return ef.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class VX{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class BX{constructor(e){this.key=e,this.va=!1}}class zX{constructor(e,n,i,r,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new df(a=>UL(a),U1),this.Ma=new Map,this.xa=new Set,this.Oa=new Gn(at.comparator),this.Na=new Map,this.La=new Fb,this.Ba={},this.ka=new Map,this.qa=Zh.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function UX(t,e,n=!0){const i=LR(t);let r;const s=i.Fa.get(e);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.Da()):r=await ER(i,e,n,!0),r}async function WX(t,e){const n=LR(t);await ER(n,e,!0,!1)}async function ER(t,e,n,i){const r=await hX(t.localStore,$o(e)),s=r.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return i&&(a=await qX(t,e,s,o==="current",r.resumeToken)),t.isPrimaryClient&&n&&mR(t.remoteStore,r),a}async function qX(t,e,n,i,r){t.Ka=(h,d,f)=>async function(w,b,v,S){let I=b.view.ma(v);I.ns&&(I=await DT(w.localStore,b.query,!1).then(({documents:M})=>b.view.ma(M,I)));const P=S&&S.targetChanges.get(b.targetId),F=S&&S.targetMismatches.get(b.targetId)!=null,H=b.view.applyChanges(I,w.isPrimaryClient,P,F);return WT(w,b.targetId,H.wa),H.snapshot}(t,h,d,f);const s=await DT(t.localStore,e,!0),o=new jX(e,s.Ts),a=o.ma(s.documents),l=Zp.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",r),u=o.applyChanges(a,t.isPrimaryClient,l);WT(t,n,u.wa);const c=new VX(e,n,o);return t.Fa.set(e,c),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function HX(t,e,n){const i=xt(t),r=i.Fa.get(e),s=i.Ma.get(r.targetId);if(s.length>1)return i.Ma.set(r.targetId,s.filter(o=>!U1(o,e))),void i.Fa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await q5(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),n&&zb(i.remoteStore,r.targetId),$5(i,r.targetId)}).catch(Yp)):($5(i,r.targetId),await q5(i.localStore,r.targetId,!0))}async function $X(t,e){const n=xt(t),i=n.Fa.get(e),r=n.Ma.get(i.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),zb(n.remoteStore,i.targetId))}async function GX(t,e,n){const i=eQ(t);try{const r=await function(o,a){const l=xt(o),u=Ii.now(),c=a.reduce((f,y)=>f.add(y.key),Ut());let h,d;return l.persistence.runTransaction("Locally write mutations","readwrite",f=>{let y=Ba(),w=Ut();return l.cs.getEntries(f,c).next(b=>{y=b,y.forEach((v,S)=>{S.isValidDocument()||(w=w.add(v))})}).next(()=>l.localDocuments.getOverlayedDocuments(f,y)).next(b=>{h=b;const v=[];for(const S of a){const I=yY(S,h.get(S.key).overlayedDocument);I!=null&&v.push(new lu(S.key,I,ML(I.value.mapValue),mr.exists(!0)))}return l.mutationQueue.addMutationBatch(f,u,v,a)}).next(b=>{d=b;const v=b.applyToLocalDocumentSet(h,w);return l.documentOverlayCache.saveOverlays(f,b.batchId,v)})}).then(()=>({batchId:d.batchId,changes:HL(h)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(o,a,l){let u=o.Ba[o.currentUser.toKey()];u||(u=new Gn(en)),u=u.insert(a,l),o.Ba[o.currentUser.toKey()]=u}(i,r.batchId,n),await tg(i,r.changes),await X1(i.remoteStore)}catch(r){const s=$b(r,"Failed to persist write");n.reject(s)}}async function PR(t,e){const n=xt(t);try{const i=await lX(n.localStore,e);e.targetChanges.forEach((r,s)=>{const o=n.Na.get(s);o&&(Jt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.va=!0:r.modifiedDocuments.size>0?Jt(o.va):r.removedDocuments.size>0&&(Jt(o.va),o.va=!1))}),await tg(n,i,e)}catch(i){await Yp(i)}}function UT(t,e,n){const i=xt(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const r=[];i.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&r.push(a.snapshot)}),function(o,a){const l=xt(o);l.onlineState=a;let u=!1;l.queries.forEach((c,h)=>{for(const d of h.j_)d.Z_(a)&&(u=!0)}),u&&Gb(l)}(i.eventManager,e),r.length&&i.Ca.d_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function KX(t,e,n){const i=xt(t);i.sharedClientState.updateQueryState(e,"rejected",n);const r=i.Na.get(e),s=r&&r.key;if(s){let o=new Gn(at.comparator);o=o.insert(s,Fi.newNoDocument(s,vt.min()));const a=Ut().add(s),l=new G1(vt.min(),new Map,new Gn(en),o,a);await PR(i,l),i.Oa=i.Oa.remove(s),i.Na.delete(e),Kb(i)}else await q5(i.localStore,e,!1).then(()=>$5(i,e,n)).catch(Yp)}async function YX(t,e){const n=xt(t),i=e.batch.batchId;try{const r=await aX(n.localStore,e);CR(n,i,null),IR(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await tg(n,r)}catch(r){await Yp(r)}}async function XX(t,e,n){const i=xt(t);try{const r=await function(o,a){const l=xt(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(Jt(h!==null),c=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(i.localStore,e);CR(i,e,n),IR(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await tg(i,r)}catch(r){await Yp(r)}}function IR(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function CR(t,e,n){const i=xt(t);let r=i.Ba[i.currentUser.toKey()];if(r){const s=r.get(e);s&&(n?s.reject(n):s.resolve(),r=r.remove(e)),i.Ba[i.currentUser.toKey()]=r}}function $5(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Ma.get(e))t.Fa.delete(i),n&&t.Ca.$a(i,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(i=>{t.La.containsKey(i)||NR(t,i)})}function NR(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(zb(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Kb(t))}function WT(t,e,n){for(const i of n)i instanceof kR?(t.La.addReference(i.key,e),QX(t,i)):i instanceof TR?(Xe("SyncEngine","Document no longer in limbo: "+i.key),t.La.removeReference(i.key,e),t.La.containsKey(i.key)||NR(t,i.key)):yt()}function QX(t,e){const n=e.key,i=n.path.canonicalString();t.Oa.get(n)||t.xa.has(i)||(Xe("SyncEngine","New document in limbo: "+n),t.xa.add(i),Kb(t))}function Kb(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new at(bn.fromString(e)),i=t.qa.next();t.Na.set(i,new BX(n)),t.Oa=t.Oa.insert(n,i),mR(t.remoteStore,new Rl($o(Lb(n.path)),i,"TargetPurposeLimboResolution",Tb.oe))}}async function tg(t,e,n){const i=xt(t),r=[],s=[],o=[];i.Fa.isEmpty()||(i.Fa.forEach((a,l)=>{o.push(i.Ka(l,e,n).then(u=>{var c;if((u||n)&&i.isPrimaryClient){const h=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))===null||c===void 0?void 0:c.current;i.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(u){r.push(u);const h=Vb.Wi(l.targetId,u);s.push(h)}}))}),await Promise.all(o),i.Ca.d_(r),await async function(l,u){const c=xt(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>Me.forEach(u,d=>Me.forEach(d.$i,f=>c.persistence.referenceDelegate.addReference(h,d.targetId,f)).next(()=>Me.forEach(d.Ui,f=>c.persistence.referenceDelegate.removeReference(h,d.targetId,f)))))}catch(h){if(!Xp(h))throw h;Xe("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const d=h.targetId;if(!h.fromCache){const f=c.os.get(d),y=f.snapshotVersion,w=f.withLastLimboFreeSnapshotVersion(y);c.os=c.os.insert(d,w)}}}(i.localStore,s))}async function JX(t,e){const n=xt(t);if(!n.currentUser.isEqual(e)){Xe("SyncEngine","User change. New user:",e.toKey());const i=await dR(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(l=>{l.reject(new ze(Pe.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await tg(n,i.hs)}}function ZX(t,e){const n=xt(t),i=n.Na.get(e);if(i&&i.va)return Ut().add(i.key);{let r=Ut();const s=n.Ma.get(e);if(!s)return r;for(const o of s){const a=n.Fa.get(o);r=r.unionWith(a.view.Va)}return r}}function LR(t){const e=xt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=PR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ZX.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=KX.bind(null,e),e.Ca.d_=OX.bind(null,e.eventManager),e.Ca.$a=FX.bind(null,e.eventManager),e}function eQ(t){const e=xt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=YX.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=XX.bind(null,e),e}class e1{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=K1(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return oX(this.persistence,new rX,e.initialUser,this.serializer)}Ga(e){return new tX(jb.Zr,this.serializer)}Wa(e){return new dX}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}e1.provider={build:()=>new e1};class G5{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>UT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=JX.bind(null,this.syncEngine),await RX(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new DX}()}createDatastore(e){const n=K1(e.databaseInfo.databaseId),i=function(s){return new yX(s)}(e.databaseInfo);return function(s,o,a,l){return new _X(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,r,s,o,a){return new xX(i,r,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>UT(this.syncEngine,n,0),function(){return FT.D()?new FT:new pX}())}createSyncEngine(e,n){return function(r,s,o,a,l,u,c){const h=new zX(r,s,o,a,l,u);return c&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(r){const s=xt(r);Xe("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await eg(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}G5.provider={build:()=>new G5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Va("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tQ{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ze(Pe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await async function(r,s){const o=xt(r),a={documents:s.map(h=>J0(o.serializer,h))},l=await o.Lo("BatchGetDocuments",o.serializer.databaseId,bn.emptyPath(),a,s.length),u=new Map;l.forEach(h=>{const d=CY(o.serializer,h);u.set(d.key.toString(),d)});const c=[];return s.forEach(h=>{const d=u.get(h.toString());Jt(!!d),c.push(d)}),c}(this.datastore,e);return n.forEach(i=>this.recordVersion(i)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastTransactionError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new $1(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,i)=>{const r=at.fromPath(i);this.mutations.push(new eR(r,this.precondition(r)))}),await async function(i,r){const s=xt(i),o={writes:r.map(a=>uR(s.serializer,a))};await s.Mo("Commit",s.serializer.databaseId,bn.emptyPath(),o)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw yt();n=vt.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!n.isEqual(i))throw new ze(Pe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(vt.min())?mr.exists(!1):mr.updateTime(n):mr.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(vt.min()))throw new ze(Pe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return mr.updateTime(n)}return mr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nQ{constructor(e,n,i,r,s){this.asyncQueue=e,this.datastore=n,this.options=i,this.updateFunction=r,this.deferred=s,this._u=i.maxAttempts,this.t_=new Bb(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){this.t_.Go(async()=>{const e=new tQ(this.datastore),n=this.cu(e);n&&n.then(i=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(i)}).catch(r=>{this.lu(r)}))}).catch(i=>{this.lu(i)})})}cu(e){try{const n=this.updateFunction(e);return!Qp(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}lu(e){this._u>0&&this.hu(e)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(e)}hu(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!tR(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iQ{constructor(e,n,i,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=pr.UNAUTHENTICATED,this.clientId=NL.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(i,async o=>{Xe("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(i,o=>(Xe("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Na;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=$b(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function N2(t,e){t.asyncQueue.verifyOperationInProgress(),Xe("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async r=>{i.isEqual(r)||(await dR(e.localStore,r),i=r)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function qT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await rQ(t);Xe("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>jT(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,r)=>jT(e.remoteStore,r)),t._onlineComponents=e}async function rQ(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Xe("FirestoreClient","Using user provided OfflineComponentProvider");try{await N2(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(r){return r.name==="FirebaseError"?r.code===Pe.FAILED_PRECONDITION||r.code===Pe.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(n))throw n;Yh("Error using user provided cache. Falling back to memory cache: "+n),await N2(t,new e1)}}else Xe("FirestoreClient","Using default OfflineComponentProvider"),await N2(t,new e1);return t._offlineComponents}async function Yb(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Xe("FirestoreClient","Using user provided OnlineComponentProvider"),await qT(t,t._uninitializedComponentsProvider._online)):(Xe("FirestoreClient","Using default OnlineComponentProvider"),await qT(t,new G5))),t._onlineComponents}function sQ(t){return Yb(t).then(e=>e.syncEngine)}function oQ(t){return Yb(t).then(e=>e.datastore)}async function K5(t){const e=await Yb(t),n=e.eventManager;return n.onListen=UX.bind(null,e.syncEngine),n.onUnlisten=HX.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=WX.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=$X.bind(null,e.syncEngine),n}function aQ(t,e,n={}){const i=new Na;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new RR({next:d=>{c.Za(),o.enqueueAndForget(()=>SR(s,h)),d.fromCache&&l.source==="server"?u.reject(new ze(Pe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(d)},error:d=>u.reject(d)}),h=new AR(a,c,{includeMetadataChanges:!0,_a:!0});return xR(s,h)}(await K5(t),t.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DR(t,e,n){if(!n)throw new ze(Pe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function lQ(t,e,n,i){if(e===!0&&i===!0)throw new ze(Pe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function $T(t){if(!at.isDocumentKey(t))throw new ze(Pe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function GT(t){if(at.isDocumentKey(t))throw new ze(Pe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Q1(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":yt()}function ho(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ze(Pe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Q1(t);throw new ze(Pe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new ze(Pe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ze(Pe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}lQ("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=MR((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ze(Pe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ze(Pe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ze(Pe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class J1{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new KT({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ze(Pe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ze(Pe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new KT(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new kK;switch(i.type){case"firstParty":return new IK(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ze(Pe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=HT.get(n);i&&(Xe("ComponentProvider","Removing Datastore"),HT.delete(n),i.terminate())}(this),Promise.resolve()}}function uQ(t,e,n,i={}){var r;const s=(t=ho(t,J1))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Yh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),i.mockUserToken){let a,l;if(typeof i.mockUserToken=="string")a=i.mockUserToken,l=pr.MOCK_USER;else{a=Zq(i.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);const u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new ze(Pe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new pr(u)}t._authCredentials=new TK(new CL(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new $a(this.firestore,e,this._query)}}class Nr{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Nr(this.firestore,e,this._key)}}class Gl extends $a{constructor(e,n,i){super(e,n,Lb(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Nr(this.firestore,null,new at(e))}withConverter(e){return new Gl(this.firestore,e,this._path)}}function za(t,e,...n){if(t=wi(t),DR("collection","path",e),t instanceof J1){const i=bn.fromString(e,...n);return GT(i),new Gl(t,null,i)}{if(!(t instanceof Nr||t instanceof Gl))throw new ze(Pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(bn.fromString(e,...n));return GT(i),new Gl(t.firestore,null,i)}}function Ki(t,e,...n){if(t=wi(t),arguments.length===1&&(e=NL.newId()),DR("doc","path",e),t instanceof J1){const i=bn.fromString(e,...n);return $T(i),new Nr(t,null,new at(i))}{if(!(t instanceof Nr||t instanceof Gl))throw new ze(Pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(bn.fromString(e,...n));return $T(i),new Nr(t.firestore,t instanceof Gl?t.converter:null,new at(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Bb(this,"async_queue_retry"),this.Vu=()=>{const i=C2();i&&Xe("AsyncQueue","Visibility state changed to "+i.visibilityState),this.t_.jo()},this.mu=e;const n=C2();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=C2();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Na;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Xp(e))throw e;Xe("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(i=>{this.Eu=i,this.du=!1;const r=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(i);throw Va("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.du=!1,i))));return this.mu=n,n}enqueueAfterDelay(e,n,i){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const r=Hb.createAndSchedule(this,e,n,i,s=>this.yu(s));return this.Tu.push(r),r}fu(){this.Eu&&yt()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function XT(t){return function(n,i){if(typeof n!="object"||n===null)return!1;const r=n;for(const s of i)if(s in r&&typeof r[s]=="function")return!0;return!1}(t,["next","error","complete"])}class nu extends J1{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=new YT,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new YT(e),this._firestoreClient=void 0,await e}}}function cQ(t,e){const n=typeof t=="object"?t:q6(),i=typeof t=="string"?t:"(default)",r=db(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=Qq("firestore");s&&uQ(r,...s)}return r}function Z1(t){if(t._terminated)throw new ze(Pe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||hQ(t),t._firestoreClient}function hQ(t){var e,n,i;const r=t._freezeSettings(),s=function(a,l,u,c){return new UK(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,MR(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._componentsProvider||!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),t._firestoreClient=new iQ(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new cc(Zi.fromBase64String(e))}catch(n){throw new ze(Pe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new cc(Zi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ze(Pe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ze(Pe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ze(Pe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return en(this._lat,e._lat)||en(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,r){if(i.length!==r.length)return!1;for(let s=0;s<i.length;++s)if(i[s]!==r[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fQ=/^__.*__$/;class dQ{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new lu(e,this.data,this.fieldMask,n,this.fieldTransforms):new Jp(e,this.data,n,this.fieldTransforms)}}class OR{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new lu(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function FR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt()}}class Jb{constructor(e,n,i,r,s,o){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Jb(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.Fu({path:i,xu:!1});return r.Ou(e),r}Nu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.Fu({path:i,xu:!1});return r.vu(),r}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return t1(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(FR(this.Cu)&&fQ.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class pQ{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||K1(e)}Qu(e,n,i,r=!1){return new Jb({Cu:e,methodName:n,qu:i,path:Gi.emptyPath(),xu:!1,ku:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ty(t){const e=t._freezeSettings(),n=K1(t._databaseId);return new pQ(t._databaseId,!!e.ignoreUndefinedProperties,n)}function jR(t,e,n,i,r,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,r);ex("Data must be an object, but it was:",o,i);const a=zR(i,o);let l,u;if(s.merge)l=new us(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const h of s.mergeFields){const d=Y5(e,h,n);if(!o.contains(d))throw new ze(Pe.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);WR(c,d)||c.push(d)}l=new us(c),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new dQ(new Ir(a),l,u)}class ny extends ey{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ny}}class Zb extends ey{_toFieldTransform(e){return new dY(e.path,new Ep)}isEqual(e){return e instanceof Zb}}function VR(t,e,n,i){const r=t.Qu(1,e,n);ex("Data must be an object, but it was:",r,i);const s=[],o=Ir.empty();vc(i,(l,u)=>{const c=tx(e,l,n);u=wi(u);const h=r.Nu(c);if(u instanceof ny)s.push(c);else{const d=ig(u,h);d!=null&&(s.push(c),o.set(c,d))}});const a=new us(s);return new OR(o,a,r.fieldTransforms)}function BR(t,e,n,i,r,s){const o=t.Qu(1,e,n),a=[Y5(e,i,n)],l=[r];if(s.length%2!=0)throw new ze(Pe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)a.push(Y5(e,s[d])),l.push(s[d+1]);const u=[],c=Ir.empty();for(let d=a.length-1;d>=0;--d)if(!WR(u,a[d])){const f=a[d];let y=l[d];y=wi(y);const w=o.Nu(f);if(y instanceof ny)u.push(f);else{const b=ig(y,w);b!=null&&(u.push(f),c.set(f,b))}}const h=new us(u);return new OR(c,h,o.fieldTransforms)}function gQ(t,e,n,i=!1){return ig(n,t.Qu(i?4:3,e))}function ig(t,e){if(UR(t=wi(t)))return ex("Unsupported field value:",e,t),zR(t,e);if(t instanceof ey)return function(i,r){if(!FR(r.Cu))throw r.Bu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Bu(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(i,r){const s=[];let o=0;for(const a of i){let l=ig(a,r.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(i,r){if((i=wi(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return cY(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const s=Ii.fromDate(i);return{timestampValue:Q0(r.serializer,s)}}if(i instanceof Ii){const s=new Ii(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Q0(r.serializer,s)}}if(i instanceof Xb)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof cc)return{bytesValue:sR(r.serializer,i._byteString)};if(i instanceof Nr){const s=r.databaseId,o=i.firestore._databaseId;if(!o.isEqual(s))throw r.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Ob(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof Qb)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return Rb(a.serializer,l)})}}}}}}(i,r);throw r.Bu(`Unsupported field value: ${Q1(i)}`)}(t,e)}function zR(t,e){const n={};return LL(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):vc(t,(i,r)=>{const s=ig(r,e.Mu(i));s!=null&&(n[i]=s)}),{mapValue:{fields:n}}}function UR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ii||t instanceof Xb||t instanceof cc||t instanceof Nr||t instanceof ey||t instanceof Qb)}function ex(t,e,n){if(!UR(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const i=Q1(n);throw i==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+i)}}function Y5(t,e,n){if((e=wi(e))instanceof ng)return e._internalPath;if(typeof e=="string")return tx(t,e);throw t1("Field path arguments must be of type string or ",t,!1,void 0,n)}const mQ=new RegExp("[~\\*/\\[\\]]");function tx(t,e,n){if(e.search(mQ)>=0)throw t1(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ng(...e.split("."))._internalPath}catch{throw t1(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function t1(t,e,n,i,r){const s=i&&!i.isEmpty(),o=r!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${i}`),o&&(l+=` in document ${r}`),l+=")"),new ze(Pe.INVALID_ARGUMENT,a+t+l)}function WR(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(e,n,i,r,s){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Nr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new yQ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(iy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class yQ extends n1{data(){return super.data()}}function iy(t,e){return typeof e=="string"?tx(t,e):e instanceof ng?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qR(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ze(Pe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class nx{}class ix extends nx{}function tf(t,e,...n){let i=[];e instanceof nx&&i.push(e),i=i.concat(n),function(s){const o=s.filter(l=>l instanceof rx).length,a=s.filter(l=>l instanceof ry).length;if(o>1||o>0&&a>0)throw new ze(Pe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)t=r._apply(t);return t}class ry extends ix{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new ry(e,n,i)}_apply(e){const n=this._parse(e);return HR(e._query,n),new $a(e.firestore,e.converter,B5(e._query,n))}_parse(e){const n=ty(e.firestore);return function(s,o,a,l,u,c,h){let d;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new ze(Pe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){JT(h,c);const f=[];for(const y of h)f.push(QT(l,s,y));d={arrayValue:{values:f}}}else d=QT(l,s,h)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||JT(h,c),d=gQ(a,o,h,c==="in"||c==="not-in");return vi.create(u,c,d)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function X5(t,e,n){const i=e,r=iy("where",t);return ry._create(r,i,n)}class rx extends nx{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new rx(e,n)}_parse(e){const n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:po.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,s){let o=r;const a=s.getFlattenedFilters();for(const l of a)HR(o,l),o=B5(o,l)}(e._query,n),new $a(e.firestore,e.converter,B5(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class sx extends ix{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new sx(e,n)}_apply(e){const n=function(r,s,o){if(r.startAt!==null)throw new ze(Pe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new ze(Pe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Tp(s,o)}(e._query,this._field,this._direction);return new $a(e.firestore,e.converter,function(r,s){const o=r.explicitOrderBy.concat([s]);return new ff(r.path,r.collectionGroup,o,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}function ox(t,e="asc"){const n=e,i=iy("orderBy",t);return sx._create(i,n)}class ax extends ix{constructor(e,n,i){super(),this.type=e,this._limit=n,this._limitType=i}static _create(e,n,i){return new ax(e,n,i)}_apply(e){return new $a(e.firestore,e.converter,Y0(e._query,this._limit,this._limitType))}}function Q5(t){return ax._create("limit",t,"F")}function QT(t,e,n){if(typeof(n=wi(n))=="string"){if(n==="")throw new ze(Pe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zL(e)&&n.indexOf("/")!==-1)throw new ze(Pe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(bn.fromString(n));if(!at.isDocumentKey(i))throw new ze(Pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return vT(t,new at(i))}if(n instanceof Nr)return vT(t,n._key);throw new ze(Pe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Q1(n)}.`)}function JT(t,e){if(!Array.isArray(t)||t.length===0)throw new ze(Pe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function HR(t,e){const n=function(r,s){for(const o of r)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ze(Pe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ze(Pe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class $R{convertValue(e,n="none"){switch(uc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ui(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(lc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw yt()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return vc(e,(r,s)=>{i[r]=this.convertValue(s,n)}),i}convertVectorValue(e){var n,i,r;const s=(r=(i=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(o=>ui(o.doubleValue));return new Qb(s)}convertGeoPoint(e){return new Xb(ui(e.latitude),ui(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=Pb(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Sp(e));default:return null}}convertTimestamp(e){const n=eu(e);return new Ii(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=bn.fromString(e);Jt(fR(i));const r=new Ap(i.get(1),i.get(3)),s=new at(i.popFirst(5));return r.isEqual(n)||Va(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GR(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}class vQ extends $R{constructor(e){super(),this.firestore=e}convertBytes(e){return new cc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Nr(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class lx extends n1{constructor(e,n,i,r,s,o){super(e,n,i,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Hm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(iy("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class Hm extends lx{data(e={}){return super.data(e)}}class KR{constructor(e,n,i,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new hh(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new Hm(this._firestore,this._userDataWriter,i.key,i,new hh(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ze(Pe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(a=>{const l=new Hm(r._firestore,r._userDataWriter,a.doc.key,a.doc,new hh(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Hm(r._firestore,r._userDataWriter,a.doc.key,a.doc,new hh(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,c=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:wQ(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function wQ(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt()}}class sy extends $R{constructor(e){super(),this.firestore=e}convertBytes(e){return new cc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Nr(this.firestore,null,n)}}function J5(t){t=ho(t,$a);const e=ho(t.firestore,nu),n=Z1(e),i=new sy(e);return qR(t._query),aQ(n,t._query).then(r=>new KR(e,i,t,r))}function YR(t,e,n,...i){t=ho(t,Nr);const r=ho(t.firestore,nu),s=ty(r);let o;return o=typeof(e=wi(e))=="string"||e instanceof ng?BR(s,"updateDoc",t._key,e,n,i):VR(s,"updateDoc",t._key,e),cx(r,[o.toMutation(t._key,mr.exists(!0))])}function XR(t){return cx(ho(t.firestore,nu),[new $1(t._key,mr.none())])}function QR(t,e){const n=ho(t.firestore,nu),i=Ki(t),r=GR(t.converter,e);return cx(n,[jR(ty(t.firestore),"addDoc",i._key,r,t.converter!==null,{}).toMutation(i._key,mr.exists(!1))]).then(()=>i)}function ux(t,...e){var n,i,r;t=wi(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||XT(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(XT(e[o])){const h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(i=h.error)===null||i===void 0?void 0:i.bind(h),e[o+2]=(r=h.complete)===null||r===void 0?void 0:r.bind(h)}let l,u,c;if(t instanceof Nr)u=ho(t.firestore,nu),c=Lb(t._key.path),l={next:h=>{e[o]&&e[o](_Q(u,t,h))},error:e[o+1],complete:e[o+2]};else{const h=ho(t,$a);u=ho(h.firestore,nu),c=h._query;const d=new sy(u);l={next:f=>{e[o]&&e[o](new KR(u,d,h,f))},error:e[o+1],complete:e[o+2]},qR(t._query)}return function(d,f,y,w){const b=new RR(w),v=new AR(f,b,y);return d.asyncQueue.enqueueAndForget(async()=>xR(await K5(d),v)),()=>{b.Za(),d.asyncQueue.enqueueAndForget(async()=>SR(await K5(d),v))}}(Z1(u),c,a,l)}function cx(t,e){return function(i,r){const s=new Na;return i.asyncQueue.enqueueAndForget(async()=>GX(await sQ(i),r,s)),s.promise}(Z1(t),e)}function _Q(t,e,n){const i=n.docs.get(e._key),r=new sy(t);return new lx(t,r,e._key,i,new hh(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bQ={maxAttempts:5};function Zf(t,e){if((t=wi(t)).firestore!==e)throw new ze(Pe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xQ extends class{constructor(n,i){this._firestore=n,this._transaction=i,this._dataReader=ty(n)}get(n){const i=Zf(n,this._firestore),r=new vQ(this._firestore);return this._transaction.lookup([i._key]).then(s=>{if(!s||s.length!==1)return yt();const o=s[0];if(o.isFoundDocument())return new n1(this._firestore,r,o.key,o,i.converter);if(o.isNoDocument())return new n1(this._firestore,r,i._key,null,i.converter);throw yt()})}set(n,i,r){const s=Zf(n,this._firestore),o=GR(s.converter,i,r),a=jR(this._dataReader,"Transaction.set",s._key,o,s.converter!==null,r);return this._transaction.set(s._key,a),this}update(n,i,r,...s){const o=Zf(n,this._firestore);let a;return a=typeof(i=wi(i))=="string"||i instanceof ng?BR(this._dataReader,"Transaction.update",o._key,i,r,s):VR(this._dataReader,"Transaction.update",o._key,i),this._transaction.update(o._key,a),this}delete(n){const i=Zf(n,this._firestore);return this._transaction.delete(i._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Zf(e,this._firestore),i=new sy(this._firestore);return super.get(e).then(r=>new lx(this._firestore,i,n._key,r._document,new hh(!1,!1),n.converter))}}function hx(t,e,n){t=ho(t,nu);const i=Object.assign(Object.assign({},bQ),n);return function(s){if(s.maxAttempts<1)throw new ze(Pe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(s,o,a){const l=new Na;return s.asyncQueue.enqueueAndForget(async()=>{const u=await oQ(s);new nQ(s.asyncQueue,u,a,o,l).au()}),l.promise}(Z1(t),r=>e(new xQ(t,r)),i)}function gf(){return new Zb("serverTimestamp")}(function(e,n=!0){(function(r){hf=r})(uf),Gh(new sc("firestore",(i,{instanceIdentifier:r,options:s})=>{const o=i.getProvider("app").getImmediate(),a=new nu(new EK(i.getProvider("auth-internal")),new NK(i.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ze(Pe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ap(u.options.projectId,c)}(o,r),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),$l(dT,"4.7.3",e),$l(dT,"4.7.3","esm2017")})();const SQ={apiKey:"AIzaSyBMWYoIPTXeKLQcz28ItyJYOYgjFTCJul4",authDomain:"myfinancial-e6def.firebaseapp.com",projectId:"myfinancial-e6def",storageBucket:"myfinancial-e6def.firebasestorage.app",messagingSenderId:"535002062491",appId:"1:535002062491:web:66fbed1e603b779bb8303e",measurementId:"G-BGF6SH7X3D"},JR=W6(SQ),fx=bK(JR),ZT=new wa,xn=cQ(JR),AQ=(t,e)=>uG(fx,i=>{if(i)t(i);else{const r=localStorage.getItem("myfinancial_guest");t(r?JSON.parse(r):null)}e(!1)}),kQ=async()=>{try{return ZT.setCustomParameters({prompt:"select_account"}),(await CG(fx,ZT)).user}catch(t){throw console.error("Error signing in with Google:",t),t}},TQ=()=>{const t={uid:"guest_user_123",displayName:"Pengguna Demo",email:"demo@myfinancial.app",photoURL:"https://ui-avatars.com/api/?name=Pengguna+Demo&background=13ec5b&color=080f0a"};return localStorage.setItem("myfinancial_guest",JSON.stringify(t)),t},EQ=async()=>{try{localStorage.removeItem("myfinancial_guest"),await cG(fx)}catch(t){throw console.error("Error signing out:",t),t}},Gs=t=>t&&t.startsWith("guest_"),tn={WALLETS:"myfinancial_wallets",TRANSACTIONS:"myfinancial_transactions",BUDGETS:"myfinancial_budgets"},Qi=t=>JSON.parse(localStorage.getItem(t))||[],Bs=(t,e)=>{localStorage.setItem(t,JSON.stringify(e)),window.dispatchEvent(new CustomEvent("myfinancial_data_changed",{detail:{key:t,data:e}}))},zs={wallets:[],transactions:[],budgets:[]};typeof window<"u"&&window.addEventListener("myfinancial_data_changed",t=>{const{key:e,data:n}=t.detail;e===tn.WALLETS&&zs.wallets.forEach(i=>i(n)),e===tn.TRANSACTIONS&&zs.transactions.forEach(i=>i(n)),e===tn.BUDGETS&&zs.budgets.forEach(i=>i(n))});const PQ=(t,e)=>{if(Gs(t))return e(Qi(tn.WALLETS)),zs.wallets.push(e),()=>{zs.wallets=zs.wallets.filter(i=>i!==e)};const n=tf(za(xn,`users/${t}/wallets`),ox("createdAt","desc"));return ux(n,i=>{const r=i.docs.map(s=>({id:s.id,...s.data()}));e(r)},i=>{console.error("Wallets snapshot error:",i)})},L2=async(t,e)=>{if(Gs(t)){const n=Qi(tn.WALLETS),i={id:Date.now().toString(),...e,balance:Number(e.balance)||0,createdAt:new Date};return Bs(tn.WALLETS,[...n,i]),i}return await QR(za(xn,`users/${t}/wallets`),{...e,balance:Number(e.balance)||0,createdAt:gf()})},IQ=async(t,e,n)=>{if(Gs(t)){const r=Qi(tn.WALLETS),s=r.findIndex(o=>o.id===e);s!==-1&&(r[s]={...r[s],...n,balance:Number(n.balance)??r[s].balance,updatedAt:new Date},Bs(tn.WALLETS,r));return}const i=Ki(xn,`users/${t}/wallets`,e);return await YR(i,{...n,balance:Number(n.balance)??void 0,updatedAt:gf()})},CQ=async(t,e)=>{if(Gs(t)){if(Qi(tn.TRANSACTIONS).some(c=>c.walletId===e||c.targetWalletId===e))throw new Error("Tidak dapat menghapus dompet yang memiliki riwayat transaksi.");const u=Qi(tn.WALLETS).filter(c=>c.id!==e);Bs(tn.WALLETS,u);return}const n=tf(za(xn,`users/${t}/transactions`),X5("walletId","==",e),Q5(1));if(!(await J5(n)).empty)throw new Error("Tidak dapat menghapus dompet yang memiliki riwayat transaksi.");const r=tf(za(xn,`users/${t}/transactions`),X5("targetWalletId","==",e),Q5(1));if(!(await J5(r)).empty)throw new Error("Tidak dapat menghapus dompet yang memiliki riwayat transaksi.");return await XR(Ki(xn,`users/${t}/wallets`,e))},NQ=(t,e)=>{if(Gs(t))return e(Qi(tn.BUDGETS)),zs.budgets.push(e),()=>{zs.budgets=zs.budgets.filter(i=>i!==e)};const n=tf(za(xn,`users/${t}/budgets`),ox("createdAt","desc"));return ux(n,i=>{const r=i.docs.map(s=>({id:s.id,...s.data()}));e(r)},i=>{console.error("Budgets snapshot error:",i)})},LQ=async(t,e)=>{if(Gs(t)){const n=Qi(tn.BUDGETS),i={id:Date.now().toString(),...e,current_spent:0,createdAt:new Date};return Bs(tn.BUDGETS,[...n,i]),i}return await QR(za(xn,`users/${t}/budgets`),{...e,current_spent:0,createdAt:gf()})},RQ=async(t,e,n)=>{if(Gs(t)){const r=Qi(tn.BUDGETS),s=r.findIndex(o=>o.id===e);s!==-1&&(r[s]={...r[s],...n,updatedAt:new Date},Bs(tn.BUDGETS,r));return}const i=Ki(xn,`users/${t}/budgets`,e);return await YR(i,{...n,updatedAt:gf()})},MQ=async(t,e)=>{if(Gs(t)){const i=Qi(tn.BUDGETS).find(s=>s.id===e);if(i&&i.current_spent>0)throw new Error("Tidak dapat menghapus anggaran yang sudah memiliki transaksi.");const r=Qi(tn.BUDGETS).filter(s=>s.id!==e);Bs(tn.BUDGETS,r);return}if(!(await J5(tf(za(xn,`users/${t}/transactions`),X5("budgetId","==",e),Q5(1)))).empty)throw new Error("Tidak dapat menghapus anggaran yang sudah memiliki transaksi.");return await XR(Ki(xn,`users/${t}/budgets`,e))},DQ=(t,e)=>{if(Gs(t)){const i=Qi(tn.TRANSACTIONS).sort((r,s)=>new Date(s.date)-new Date(r.date));return e(i),zs.transactions.push(e),()=>{zs.transactions=zs.transactions.filter(r=>r!==e)}}const n=tf(za(xn,`users/${t}/transactions`),ox("date","desc"));return ux(n,i=>{const r=i.docs.map(s=>({id:s.id,...s.data()}));e(r)},i=>{console.error("Transactions snapshot error:",i)})},ZR=async(t,e)=>{const{type:n,amount:i,walletId:r,targetWalletId:s,budgetId:o,category:a}=e,l=Number(i);if(Gs(t)){const u=Qi(tn.WALLETS),c=Qi(tn.TRANSACTIONS),h=Qi(tn.BUDGETS),d=u.find(f=>f.id===r);if(!d)throw new Error("Dompet asal tidak ditemukan");if(n==="income")d.balance+=l;else if(n==="expense")d.balance-=l;else if(n==="transfer"){if(!s)throw new Error("Pilih dompet tujuan");d.balance-=l;const f=u.find(y=>y.id===s);if(!f)throw new Error("Dompet tujuan tidak ditemukan");f.balance+=l}if(n==="expense"){const f=h.find(y=>{var w;return y.id===o||((w=y.category)==null?void 0:w.toLowerCase())===(a==null?void 0:a.toLowerCase())});f&&(f.current_spent=(f.current_spent||0)+l)}else if(n==="transfer"&&o){const f=h.find(y=>y.id===o);f&&(f.limit=(f.limit||0)+l)}Bs(tn.WALLETS,u),Bs(tn.BUDGETS,h),c.unshift({id:Date.now().toString(),...e,createdAt:new Date}),Bs(tn.TRANSACTIONS,c);return}return await hx(xn,async u=>{const c=Ki(xn,`users/${t}/wallets`,r),h=await u.get(c);if(!h.exists())throw new Error("Dompet asal tidak ditemukan");let d,f;if(n==="transfer"){if(!s)throw new Error("Pilih dompet tujuan");if(d=Ki(xn,`users/${t}/wallets`,s),f=await u.get(d),!f.exists())throw new Error("Dompet tujuan tidak ditemukan")}let y,w;o&&(y=Ki(xn,`users/${t}/budgets`,o),w=await u.get(y));let b=h.data().balance||0;n==="income"?b+=l:n==="expense"?b-=l:n==="transfer"&&(b-=l,u.update(d,{balance:(f.data().balance||0)+l})),u.update(c,{balance:b}),w&&w.exists()&&(n==="expense"?u.update(y,{current_spent:(w.data().current_spent||0)+l}):n==="transfer"&&u.update(y,{limit:(w.data().limit||0)+l}));const v=Ki(za(xn,`users/${t}/transactions`));u.set(v,{...e,createdAt:gf()})})},e8=async(t,e)=>{const{id:n,type:i,amount:r,walletId:s,targetWalletId:o,budgetId:a}=e,l=Number(r);if(Gs(t)){const u=Qi(tn.WALLETS),c=Qi(tn.TRANSACTIONS),h=Qi(tn.BUDGETS),d=u.find(y=>y.id===s);if(d){if(i==="income")d.balance-=l;else if(i==="expense")d.balance+=l;else if(i==="transfer"){d.balance+=l;const y=u.find(w=>w.id===o);y&&(y.balance-=l)}}if(i==="expense"&&a){const y=h.find(w=>w.id===a);y&&(y.current_spent=Math.max(0,(y.current_spent||0)-l))}else if(i==="transfer"&&a){const y=h.find(w=>w.id===a);y&&(y.limit=Math.max(0,(y.limit||0)-l))}const f=c.filter(y=>y.id!==n);Bs(tn.WALLETS,u),Bs(tn.BUDGETS,h),Bs(tn.TRANSACTIONS,f);return}return await hx(xn,async u=>{const c=Ki(xn,`users/${t}/wallets`,s),h=await u.get(c);let d,f;i==="transfer"&&o&&(d=Ki(xn,`users/${t}/wallets`,o),f=await u.get(d));let y,w;if(a&&(y=Ki(xn,`users/${t}/budgets`,a),w=await u.get(y)),h.exists()){let b=h.data().balance||0;i==="income"?b-=l:i==="expense"?b+=l:i==="transfer"&&(b+=l,f&&f.exists()&&u.update(d,{balance:(f.data().balance||0)-l})),u.update(c,{balance:b})}w&&w.exists()&&(i==="expense"?u.update(y,{current_spent:Math.max(0,(w.data().current_spent||0)-l)}):i==="transfer"&&u.update(y,{limit:Math.max(0,(w.data().limit||0)-l)})),u.delete(Ki(xn,`users/${t}/transactions`,n))})},OQ=async(t,e,n,i)=>{if(Gs(t)){await e8(t,{id:e,...n}),await ZR(t,i);return}return await hx(xn,async r=>{const s=new Set([n.walletId,i.walletId]);n.targetWalletId&&s.add(n.targetWalletId),i.targetWalletId&&s.add(i.targetWalletId);const o=new Set;n.budgetId&&o.add(n.budgetId),i.budgetId&&o.add(i.budgetId);const a={};for(const d of s){const f=await r.get(Ki(xn,`users/${t}/wallets`,d));f.exists()&&(a[d]=f.data().balance||0)}const l={},u={};for(const d of o){const f=Ki(xn,`users/${t}/budgets`,d),y=await r.get(f);y.exists()&&(l[d]=f,u[d]=y.data())}const c={...a},h={};for(const d of o)u[d]&&(h[d]={current_spent:u[d].current_spent||0,limit:u[d].limit||0});if(c[n.walletId]!==void 0){const d=Number(n.amount);n.type==="income"?c[n.walletId]-=d:n.type==="expense"?c[n.walletId]+=d:n.type==="transfer"&&(c[n.walletId]+=d,n.targetWalletId&&c[n.targetWalletId]!==void 0&&(c[n.targetWalletId]-=d))}if(n.budgetId&&h[n.budgetId]&&(n.type==="expense"?h[n.budgetId].current_spent=Math.max(0,h[n.budgetId].current_spent-Number(n.amount)):n.type==="transfer"&&(h[n.budgetId].limit=Math.max(0,h[n.budgetId].limit-Number(n.amount)))),c[i.walletId]!==void 0){const d=Number(i.amount);i.type==="income"?c[i.walletId]+=d:i.type==="expense"?c[i.walletId]-=d:i.type==="transfer"&&(c[i.walletId]-=d,i.targetWalletId&&c[i.targetWalletId]!==void 0&&(c[i.targetWalletId]+=d))}i.budgetId&&h[i.budgetId]&&(i.type==="expense"?h[i.budgetId].current_spent+=Number(i.amount):i.type==="transfer"&&(h[i.budgetId].limit+=Number(i.amount)));for(const d in c)r.update(Ki(xn,`users/${t}/wallets`,d),{balance:c[d]});for(const d in h)r.update(l[d],h[d]);r.update(Ki(xn,`users/${t}/transactions`,e),{...i,updatedAt:gf()})})},FQ="modulepreload",jQ=function(t,e){return new URL(t,e).href},e3={},R2=function(e,n,i){let r=Promise.resolve();if(n&&n.length>0){const o=document.getElementsByTagName("link"),a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));r=Promise.allSettled(n.map(u=>{if(u=jQ(u,i),u in e3)return;e3[u]=!0;const c=u.endsWith(".css"),h=c?'[rel="stylesheet"]':"";if(!!i)for(let y=o.length-1;y>=0;y--){const w=o[y];if(w.href===u&&(!c||w.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${h}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":FQ,c||(f.as="script"),f.crossOrigin="",f.href=u,l&&f.setAttribute("nonce",l),document.head.appendChild(f),c)return new Promise((y,w)=>{f.addEventListener("load",y),f.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return r.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};function fn(t){"@babel/helpers - typeof";return fn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fn(t)}var go=Uint8Array,cs=Uint16Array,dx=Int32Array,px=new go([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),gx=new go([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),t3=new go([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),t8=function(t,e){for(var n=new cs(31),i=0;i<31;++i)n[i]=e+=1<<t[i-1];for(var r=new dx(n[30]),i=1;i<30;++i)for(var s=n[i];s<n[i+1];++s)r[s]=s-n[i]<<5|i;return{b:n,r}},n8=t8(px,2),VQ=n8.b,Z5=n8.r;VQ[28]=258,Z5[258]=28;var BQ=t8(gx,0),n3=BQ.r,ew=new cs(32768);for(var Nn=0;Nn<32768;++Nn){var ml=(Nn&43690)>>1|(Nn&21845)<<1;ml=(ml&52428)>>2|(ml&13107)<<2,ml=(ml&61680)>>4|(ml&3855)<<4,ew[Nn]=((ml&65280)>>8|(ml&255)<<8)>>1}var Bd=function(t,e,n){for(var i=t.length,r=0,s=new cs(e);r<i;++r)t[r]&&++s[t[r]-1];var o=new cs(e);for(r=1;r<e;++r)o[r]=o[r-1]+s[r-1]<<1;var a;if(n){a=new cs(1<<e);var l=15-e;for(r=0;r<i;++r)if(t[r])for(var u=r<<4|t[r],c=e-t[r],h=o[t[r]-1]++<<c,d=h|(1<<c)-1;h<=d;++h)a[ew[h]>>l]=u}else for(a=new cs(i),r=0;r<i;++r)t[r]&&(a[r]=ew[o[t[r]-1]++]>>15-t[r]);return a},hc=new go(288);for(var Nn=0;Nn<144;++Nn)hc[Nn]=8;for(var Nn=144;Nn<256;++Nn)hc[Nn]=9;for(var Nn=256;Nn<280;++Nn)hc[Nn]=7;for(var Nn=280;Nn<288;++Nn)hc[Nn]=8;var i1=new go(32);for(var Nn=0;Nn<32;++Nn)i1[Nn]=5;var zQ=Bd(hc,9,0),UQ=Bd(i1,5,0),i8=function(t){return(t+7)/8|0},WQ=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new go(t.subarray(e,n))},ha=function(t,e,n){n<<=e&7;var i=e/8|0;t[i]|=n,t[i+1]|=n>>8},ed=function(t,e,n){n<<=e&7;var i=e/8|0;t[i]|=n,t[i+1]|=n>>8,t[i+2]|=n>>16},M2=function(t,e){for(var n=[],i=0;i<t.length;++i)t[i]&&n.push({s:i,f:t[i]});var r=n.length,s=n.slice();if(!r)return{t:s8,l:0};if(r==1){var o=new go(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(F,H){return F.f-H.f}),n.push({s:-1,f:25001});var a=n[0],l=n[1],u=0,c=1,h=2;for(n[0]={s:-1,f:a.f+l.f,l:a,r:l};c!=r-1;)a=n[n[u].f<n[h].f?u++:h++],l=n[u!=c&&n[u].f<n[h].f?u++:h++],n[c++]={s:-1,f:a.f+l.f,l:a,r:l};for(var d=s[0].s,i=1;i<r;++i)s[i].s>d&&(d=s[i].s);var f=new cs(d+1),y=tw(n[c-1],f,0);if(y>e){var i=0,w=0,b=y-e,v=1<<b;for(s.sort(function(H,M){return f[M.s]-f[H.s]||H.f-M.f});i<r;++i){var S=s[i].s;if(f[S]>e)w+=v-(1<<y-f[S]),f[S]=e;else break}for(w>>=b;w>0;){var I=s[i].s;f[I]<e?w-=1<<e-f[I]++-1:++i}for(;i>=0&&w;--i){var P=s[i].s;f[P]==e&&(--f[P],++w)}y=e}return{t:new go(f),l:y}},tw=function(t,e,n){return t.s==-1?Math.max(tw(t.l,e,n+1),tw(t.r,e,n+1)):e[t.s]=n},i3=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new cs(++e),i=0,r=t[0],s=1,o=function(l){n[i++]=l},a=1;a<=e;++a)if(t[a]==r&&a!=e)++s;else{if(!r&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(r),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(r);s=1,r=t[a]}return{c:n.subarray(0,i),n:e}},td=function(t,e){for(var n=0,i=0;i<e.length;++i)n+=t[i]*e[i];return n},r8=function(t,e,n){var i=n.length,r=i8(e+2);t[r]=i&255,t[r+1]=i>>8,t[r+2]=t[r]^255,t[r+3]=t[r+1]^255;for(var s=0;s<i;++s)t[r+s+4]=n[s];return(r+4+i)*8},r3=function(t,e,n,i,r,s,o,a,l,u,c){ha(e,c++,n),++r[256];for(var h=M2(r,15),d=h.t,f=h.l,y=M2(s,15),w=y.t,b=y.l,v=i3(d),S=v.c,I=v.n,P=i3(w),F=P.c,H=P.n,M=new cs(19),k=0;k<S.length;++k)++M[S[k]&31];for(var k=0;k<F.length;++k)++M[F[k]&31];for(var T=M2(M,7),O=T.t,E=T.l,L=19;L>4&&!O[t3[L-1]];--L);var D=u+5<<3,Z=td(r,hc)+td(s,i1)+o,oe=td(r,d)+td(s,w)+o+14+3*L+td(M,O)+2*M[16]+3*M[17]+7*M[18];if(l>=0&&D<=Z&&D<=oe)return r8(e,c,t.subarray(l,l+u));var ce,ae,$,ie;if(ha(e,c,1+(oe<Z)),c+=2,oe<Z){ce=Bd(d,f,0),ae=d,$=Bd(w,b,0),ie=w;var me=Bd(O,E,0);ha(e,c,I-257),ha(e,c+5,H-1),ha(e,c+10,L-4),c+=14;for(var k=0;k<L;++k)ha(e,c+3*k,O[t3[k]]);c+=3*L;for(var ve=[S,F],B=0;B<2;++B)for(var Y=ve[B],k=0;k<Y.length;++k){var ee=Y[k]&31;ha(e,c,me[ee]),c+=O[ee],ee>15&&(ha(e,c,Y[k]>>5&127),c+=Y[k]>>12)}}else ce=zQ,ae=hc,$=UQ,ie=i1;for(var k=0;k<a;++k){var ne=i[k];if(ne>255){var ee=ne>>18&31;ed(e,c,ce[ee+257]),c+=ae[ee+257],ee>7&&(ha(e,c,ne>>23&31),c+=px[ee]);var re=ne&31;ed(e,c,$[re]),c+=ie[re],re>3&&(ed(e,c,ne>>5&8191),c+=gx[re])}else ed(e,c,ce[ne]),c+=ae[ne]}return ed(e,c,ce[256]),c+ae[256]},qQ=new dx([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),s8=new go(0),HQ=function(t,e,n,i,r,s){var o=s.z||t.length,a=new go(i+o+5*(1+Math.ceil(o/7e3))+r),l=a.subarray(i,a.length-r),u=s.l,c=(s.r||0)&7;if(e){c&&(l[0]=s.r>>3);for(var h=qQ[e-1],d=h>>13,f=h&8191,y=(1<<n)-1,w=s.p||new cs(32768),b=s.h||new cs(y+1),v=Math.ceil(n/3),S=2*v,I=function(Ue){return(t[Ue]^t[Ue+1]<<v^t[Ue+2]<<S)&y},P=new dx(25e3),F=new cs(288),H=new cs(32),M=0,k=0,T=s.i||0,O=0,E=s.w||0,L=0;T+2<o;++T){var D=I(T),Z=T&32767,oe=b[D];if(w[Z]=oe,b[D]=Z,E<=T){var ce=o-T;if((M>7e3||O>24576)&&(ce>423||!u)){c=r3(t,l,0,P,F,H,k,O,L,T-L,c),O=M=k=0,L=T;for(var ae=0;ae<286;++ae)F[ae]=0;for(var ae=0;ae<30;++ae)H[ae]=0}var $=2,ie=0,me=f,ve=Z-oe&32767;if(ce>2&&D==I(T-ve))for(var B=Math.min(d,ce)-1,Y=Math.min(32767,T),ee=Math.min(258,ce);ve<=Y&&--me&&Z!=oe;){if(t[T+$]==t[T+$-ve]){for(var ne=0;ne<ee&&t[T+ne]==t[T+ne-ve];++ne);if(ne>$){if($=ne,ie=ve,ne>B)break;for(var re=Math.min(ve,ne-2),fe=0,ae=0;ae<re;++ae){var we=T-ve+ae&32767,be=w[we],Te=we-be&32767;Te>fe&&(fe=Te,oe=we)}}}Z=oe,oe=w[Z],ve+=Z-oe&32767}if(ie){P[O++]=268435456|Z5[$]<<18|n3[ie];var Re=Z5[$]&31,_e=n3[ie]&31;k+=px[Re]+gx[_e],++F[257+Re],++H[_e],E=T+$,++M}else P[O++]=t[T],++F[t[T]]}}for(T=Math.max(T,E);T<o;++T)P[O++]=t[T],++F[t[T]];c=r3(t,l,u,P,F,H,k,O,L,T-L,c),u||(s.r=c&7|l[c/8|0]<<3,c-=7,s.h=b,s.p=w,s.i=T,s.w=E)}else{for(var T=s.w||0;T<o+u;T+=65535){var Ce=T+65535;Ce>=o&&(l[c/8|0]=u,Ce=o),c=r8(l,c+1,t.subarray(T,Ce))}s.i=o}return WQ(a,0,i+i8(c)+r)},o8=function(){var t=1,e=0;return{p:function(n){for(var i=t,r=e,s=n.length|0,o=0;o!=s;){for(var a=Math.min(o+2655,s);o<a;++o)r+=i+=n[o];i=(i&65535)+15*(i>>16),r=(r&65535)+15*(r>>16)}t=i,e=r},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},$Q=function(t,e,n,i,r){if(!r&&(r={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),o=new go(s.length+t.length);o.set(s),o.set(t,s.length),t=o,r.w=s.length}return HQ(t,e.level==null?6:e.level,e.mem==null?r.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,i,r)},a8=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},GQ=function(t,e){var n=e.level,i=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=i<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var r=o8();r.p(e.dictionary),a8(t,2,r.d())}};function nw(t,e){e||(e={});var n=o8();n.p(t);var i=$Q(t,e,e.dictionary?6:2,4);return GQ(i,e),a8(i,i.length-4,n.d()),i}var KQ=typeof TextDecoder<"u"&&new TextDecoder,YQ=0;try{KQ.decode(s8,{stream:!0}),YQ=1}catch{}function XQ(t){if(Array.isArray(t))return t}function QQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var i,r,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(i=s.call(n)).done)&&(a.push(i.value),a.length!==e);l=!0);}catch(c){u=!0,r=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw r}}return a}}function s3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}function JQ(t,e){if(t){if(typeof t=="string")return s3(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s3(t,e):void 0}}function ZQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o3(t,e){return XQ(t)||QQ(t,e)||JQ(t,e)||ZQ()}function a3(t,e="utf8"){return new TextDecoder(e).decode(t)}const eJ=new TextEncoder;function tJ(t){return eJ.encode(t)}const nJ=1024*8,iJ=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),D2={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class mx{constructor(e=nJ,n={}){Fe(this,"buffer");Fe(this,"byteLength");Fe(this,"byteOffset");Fe(this,"length");Fe(this,"offset");Fe(this,"lastWrittenByte");Fe(this,"littleEndian");Fe(this,"_data");Fe(this,"_mark");Fe(this,"_marks");let i=!1;typeof e=="number"?e=new ArrayBuffer(e):(i=!0,this.lastWrittenByte=e.byteLength);const r=n.offset?n.offset>>>0:0,s=e.byteLength-r;let o=r;(ArrayBuffer.isView(e)||e instanceof mx)&&(e.byteLength!==e.buffer.byteLength&&(o=e.byteOffset+r),e=e.buffer),i?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=e,this.length=s,this.byteLength=s,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,s),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const i=(this.offset+e)*2,r=new Uint8Array(i);r.set(new Uint8Array(this.buffer)),this.buffer=r.buffer,this.length=i,this.byteLength=i,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,n){const i=D2[n].BYTES_PER_ELEMENT*e,r=this.byteOffset+this.offset,s=this.buffer.slice(r,r+i);if(this.littleEndian===iJ&&n!=="uint8"&&n!=="int8"){const a=new Uint8Array(this.buffer.slice(r,r+i));a.reverse();const l=new D2[n](a.buffer);return this.offset+=i,l.reverse(),l}const o=new D2[n](s);return this.offset+=i,o}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let n="";for(let i=0;i<e;i++)n+=this.readChar();return n}readUtf8(e=1){return a3(this.readBytes(e))}decodeText(e=1,n="utf8"){return a3(this.readBytes(e),n)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let n=0;n<e.length;n++)this._data.setUint8(this.offset++,e[n]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let n=0;n<e.length;n++)this.writeUint8(e.charCodeAt(n));return this}writeUtf8(e){return this.writeBytes(tJ(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function mf(t){let e=t.length;for(;--e>=0;)t[e]=0}const rJ=3,sJ=258,l8=29,oJ=256,aJ=oJ+1+l8,u8=30,lJ=512,uJ=new Array((aJ+2)*2);mf(uJ);const cJ=new Array(u8*2);mf(cJ);const hJ=new Array(lJ);mf(hJ);const fJ=new Array(sJ-rJ+1);mf(fJ);const dJ=new Array(l8);mf(dJ);const pJ=new Array(u8);mf(pJ);const gJ=(t,e,n,i)=>{let r=t&65535|0,s=t>>>16&65535|0,o=0;for(;n!==0;){o=n>2e3?2e3:n,n-=o;do r=r+e[i++]|0,s=s+r|0;while(--o);r%=65521,s%=65521}return r|s<<16|0};var iw=gJ;const mJ=()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var i=0;i<8;i++)t=t&1?3988292384^t>>>1:t>>>1;e[n]=t}return e},yJ=new Uint32Array(mJ()),vJ=(t,e,n,i)=>{const r=yJ,s=i+n;t^=-1;for(let o=i;o<s;o++)t=t>>>8^r[(t^e[o])&255];return t^-1};var Ro=vJ,rw={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},c8={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const wJ=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var _J=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const i in n)wJ(n,i)&&(t[i]=n[i])}}return t},bJ=t=>{let e=0;for(let i=0,r=t.length;i<r;i++)e+=t[i].length;const n=new Uint8Array(e);for(let i=0,r=0,s=t.length;i<s;i++){let o=t[i];n.set(o,r),r+=o.length}return n},h8={assign:_J,flattenChunks:bJ};let f8=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{f8=!1}const Cp=new Uint8Array(256);for(let t=0;t<256;t++)Cp[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Cp[254]=Cp[254]=1;var xJ=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,n,i,r,s,o=t.length,a=0;for(r=0;r<o;r++)n=t.charCodeAt(r),(n&64512)===55296&&r+1<o&&(i=t.charCodeAt(r+1),(i&64512)===56320&&(n=65536+(n-55296<<10)+(i-56320),r++)),a+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(a),s=0,r=0;s<a;r++)n=t.charCodeAt(r),(n&64512)===55296&&r+1<o&&(i=t.charCodeAt(r+1),(i&64512)===56320&&(n=65536+(n-55296<<10)+(i-56320),r++)),n<128?e[s++]=n:n<2048?(e[s++]=192|n>>>6,e[s++]=128|n&63):n<65536?(e[s++]=224|n>>>12,e[s++]=128|n>>>6&63,e[s++]=128|n&63):(e[s++]=240|n>>>18,e[s++]=128|n>>>12&63,e[s++]=128|n>>>6&63,e[s++]=128|n&63);return e};const SJ=(t,e)=>{if(e<65534&&t.subarray&&f8)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let i=0;i<e;i++)n+=String.fromCharCode(t[i]);return n};var AJ=(t,e)=>{const n=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let i,r;const s=new Array(n*2);for(r=0,i=0;i<n;){let o=t[i++];if(o<128){s[r++]=o;continue}let a=Cp[o];if(a>4){s[r++]=65533,i+=a-1;continue}for(o&=a===2?31:a===3?15:7;a>1&&i<n;)o=o<<6|t[i++]&63,a--;if(a>1){s[r++]=65533;continue}o<65536?s[r++]=o:(o-=65536,s[r++]=55296|o>>10&1023,s[r++]=56320|o&1023)}return SJ(s,r)},kJ=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let n=e-1;for(;n>=0&&(t[n]&192)===128;)n--;return n<0||n===0?e:n+Cp[t[n]]>e?n:e},sw={string2buf:xJ,buf2string:AJ,utf8border:kJ};function TJ(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var EJ=TJ;const um=16209,PJ=16191;var IJ=function(e,n){let i,r,s,o,a,l,u,c,h,d,f,y,w,b,v,S,I,P,F,H,M,k,T,O;const E=e.state;i=e.next_in,T=e.input,r=i+(e.avail_in-5),s=e.next_out,O=e.output,o=s-(n-e.avail_out),a=s+(e.avail_out-257),l=E.dmax,u=E.wsize,c=E.whave,h=E.wnext,d=E.window,f=E.hold,y=E.bits,w=E.lencode,b=E.distcode,v=(1<<E.lenbits)-1,S=(1<<E.distbits)-1;e:do{y<15&&(f+=T[i++]<<y,y+=8,f+=T[i++]<<y,y+=8),I=w[f&v];t:for(;;){if(P=I>>>24,f>>>=P,y-=P,P=I>>>16&255,P===0)O[s++]=I&65535;else if(P&16){F=I&65535,P&=15,P&&(y<P&&(f+=T[i++]<<y,y+=8),F+=f&(1<<P)-1,f>>>=P,y-=P),y<15&&(f+=T[i++]<<y,y+=8,f+=T[i++]<<y,y+=8),I=b[f&S];n:for(;;){if(P=I>>>24,f>>>=P,y-=P,P=I>>>16&255,P&16){if(H=I&65535,P&=15,y<P&&(f+=T[i++]<<y,y+=8,y<P&&(f+=T[i++]<<y,y+=8)),H+=f&(1<<P)-1,H>l){e.msg="invalid distance too far back",E.mode=um;break e}if(f>>>=P,y-=P,P=s-o,H>P){if(P=H-P,P>c&&E.sane){e.msg="invalid distance too far back",E.mode=um;break e}if(M=0,k=d,h===0){if(M+=u-P,P<F){F-=P;do O[s++]=d[M++];while(--P);M=s-H,k=O}}else if(h<P){if(M+=u+h-P,P-=h,P<F){F-=P;do O[s++]=d[M++];while(--P);if(M=0,h<F){P=h,F-=P;do O[s++]=d[M++];while(--P);M=s-H,k=O}}}else if(M+=h-P,P<F){F-=P;do O[s++]=d[M++];while(--P);M=s-H,k=O}for(;F>2;)O[s++]=k[M++],O[s++]=k[M++],O[s++]=k[M++],F-=3;F&&(O[s++]=k[M++],F>1&&(O[s++]=k[M++]))}else{M=s-H;do O[s++]=O[M++],O[s++]=O[M++],O[s++]=O[M++],F-=3;while(F>2);F&&(O[s++]=O[M++],F>1&&(O[s++]=O[M++]))}}else if(P&64){e.msg="invalid distance code",E.mode=um;break e}else{I=b[(I&65535)+(f&(1<<P)-1)];continue n}break}}else if(P&64)if(P&32){E.mode=PJ;break e}else{e.msg="invalid literal/length code",E.mode=um;break e}else{I=w[(I&65535)+(f&(1<<P)-1)];continue t}break}}while(i<r&&s<a);F=y>>3,i-=F,y-=F<<3,f&=(1<<y)-1,e.next_in=i,e.next_out=s,e.avail_in=i<r?5+(r-i):5-(i-r),e.avail_out=s<a?257+(a-s):257-(s-a),E.hold=f,E.bits=y};const Oc=15,l3=852,u3=592,c3=0,O2=1,h3=2,CJ=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),NJ=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),LJ=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),RJ=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),MJ=(t,e,n,i,r,s,o,a)=>{const l=a.bits;let u=0,c=0,h=0,d=0,f=0,y=0,w=0,b=0,v=0,S=0,I,P,F,H,M,k=null,T;const O=new Uint16Array(Oc+1),E=new Uint16Array(Oc+1);let L=null,D,Z,oe;for(u=0;u<=Oc;u++)O[u]=0;for(c=0;c<i;c++)O[e[n+c]]++;for(f=l,d=Oc;d>=1&&O[d]===0;d--);if(f>d&&(f=d),d===0)return r[s++]=1<<24|64<<16|0,r[s++]=1<<24|64<<16|0,a.bits=1,0;for(h=1;h<d&&O[h]===0;h++);for(f<h&&(f=h),b=1,u=1;u<=Oc;u++)if(b<<=1,b-=O[u],b<0)return-1;if(b>0&&(t===c3||d!==1))return-1;for(E[1]=0,u=1;u<Oc;u++)E[u+1]=E[u]+O[u];for(c=0;c<i;c++)e[n+c]!==0&&(o[E[e[n+c]]++]=c);if(t===c3?(k=L=o,T=20):t===O2?(k=CJ,L=NJ,T=257):(k=LJ,L=RJ,T=0),S=0,c=0,u=h,M=s,y=f,w=0,F=-1,v=1<<f,H=v-1,t===O2&&v>l3||t===h3&&v>u3)return 1;for(;;){D=u-w,o[c]+1<T?(Z=0,oe=o[c]):o[c]>=T?(Z=L[o[c]-T],oe=k[o[c]-T]):(Z=96,oe=0),I=1<<u-w,P=1<<y,h=P;do P-=I,r[M+(S>>w)+P]=D<<24|Z<<16|oe|0;while(P!==0);for(I=1<<u-1;S&I;)I>>=1;if(I!==0?(S&=I-1,S+=I):S=0,c++,--O[u]===0){if(u===d)break;u=e[n+o[c]]}if(u>f&&(S&H)!==F){for(w===0&&(w=f),M+=h,y=u-w,b=1<<y;y+w<d&&(b-=O[y+w],!(b<=0));)y++,b<<=1;if(v+=1<<y,t===O2&&v>l3||t===h3&&v>u3)return 1;F=S&H,r[F]=f<<24|y<<16|M-s|0}}return S!==0&&(r[M+S]=u-w<<24|64<<16|0),a.bits=f,0};var zd=MJ;const DJ=0,d8=1,p8=2,{Z_FINISH:f3,Z_BLOCK:OJ,Z_TREES:cm,Z_OK:fc,Z_STREAM_END:FJ,Z_NEED_DICT:jJ,Z_STREAM_ERROR:$s,Z_DATA_ERROR:g8,Z_MEM_ERROR:m8,Z_BUF_ERROR:VJ,Z_DEFLATED:d3}=c8,oy=16180,p3=16181,g3=16182,m3=16183,y3=16184,v3=16185,w3=16186,_3=16187,b3=16188,x3=16189,r1=16190,fa=16191,F2=16192,S3=16193,j2=16194,A3=16195,k3=16196,T3=16197,E3=16198,hm=16199,fm=16200,P3=16201,I3=16202,C3=16203,N3=16204,L3=16205,V2=16206,R3=16207,M3=16208,On=16209,y8=16210,v8=16211,BJ=852,zJ=592,UJ=15,WJ=UJ,D3=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function qJ(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const _c=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<oy||e.mode>v8?1:0},w8=t=>{if(_c(t))return $s;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=oy,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(BJ),e.distcode=e.distdyn=new Int32Array(zJ),e.sane=1,e.back=-1,fc},_8=t=>{if(_c(t))return $s;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,w8(t)},b8=(t,e)=>{let n;if(_c(t))return $s;const i=t.state;return e<0?(n=0,e=-e):(n=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?$s:(i.window!==null&&i.wbits!==e&&(i.window=null),i.wrap=n,i.wbits=e,_8(t))},x8=(t,e)=>{if(!t)return $s;const n=new qJ;t.state=n,n.strm=t,n.window=null,n.mode=oy;const i=b8(t,e);return i!==fc&&(t.state=null),i},HJ=t=>x8(t,WJ);let O3=!0,B2,z2;const $J=t=>{if(O3){B2=new Int32Array(512),z2=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(zd(d8,t.lens,0,288,B2,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;zd(p8,t.lens,0,32,z2,0,t.work,{bits:5}),O3=!1}t.lencode=B2,t.lenbits=9,t.distcode=z2,t.distbits=5},S8=(t,e,n,i)=>{let r;const s=t.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),i>=s.wsize?(s.window.set(e.subarray(n-s.wsize,n),0),s.wnext=0,s.whave=s.wsize):(r=s.wsize-s.wnext,r>i&&(r=i),s.window.set(e.subarray(n-i,n-i+r),s.wnext),i-=r,i?(s.window.set(e.subarray(n-i,n),0),s.wnext=i,s.whave=s.wsize):(s.wnext+=r,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=r))),0},GJ=(t,e)=>{let n,i,r,s,o,a,l,u,c,h,d,f,y,w,b=0,v,S,I,P,F,H,M,k;const T=new Uint8Array(4);let O,E;const L=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(_c(t)||!t.output||!t.input&&t.avail_in!==0)return $s;n=t.state,n.mode===fa&&(n.mode=F2),o=t.next_out,r=t.output,l=t.avail_out,s=t.next_in,i=t.input,a=t.avail_in,u=n.hold,c=n.bits,h=a,d=l,k=fc;e:for(;;)switch(n.mode){case oy:if(n.wrap===0){n.mode=F2;break}for(;c<16;){if(a===0)break e;a--,u+=i[s++]<<c,c+=8}if(n.wrap&2&&u===35615){n.wbits===0&&(n.wbits=15),n.check=0,T[0]=u&255,T[1]=u>>>8&255,n.check=Ro(n.check,T,2,0),u=0,c=0,n.mode=p3;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((u&255)<<8)+(u>>8))%31){t.msg="incorrect header check",n.mode=On;break}if((u&15)!==d3){t.msg="unknown compression method",n.mode=On;break}if(u>>>=4,c-=4,M=(u&15)+8,n.wbits===0&&(n.wbits=M),M>15||M>n.wbits){t.msg="invalid window size",n.mode=On;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=u&512?x3:fa,u=0,c=0;break;case p3:for(;c<16;){if(a===0)break e;a--,u+=i[s++]<<c,c+=8}if(n.flags=u,(n.flags&255)!==d3){t.msg="unknown compression method",n.mode=On;break}if(n.flags&57344){t.msg="unknown header flags set",n.mode=On;break}n.head&&(n.head.text=u>>8&1),n.flags&512&&n.wrap&4&&(T[0]=u&255,T[1]=u>>>8&255,n.check=Ro(n.check,T,2,0)),u=0,c=0,n.mode=g3;case g3:for(;c<32;){if(a===0)break e;a--,u+=i[s++]<<c,c+=8}n.head&&(n.head.time=u),n.flags&512&&n.wrap&4&&(T[0]=u&255,T[1]=u>>>8&255,T[2]=u>>>16&255,T[3]=u>>>24&255,n.check=Ro(n.check,T,4,0)),u=0,c=0,n.mode=m3;case m3:for(;c<16;){if(a===0)break e;a--,u+=i[s++]<<c,c+=8}n.head&&(n.head.xflags=u&255,n.head.os=u>>8),n.flags&512&&n.wrap&4&&(T[0]=u&255,T[1]=u>>>8&255,n.check=Ro(n.check,T,2,0)),u=0,c=0,n.mode=y3;case y3:if(n.flags&1024){for(;c<16;){if(a===0)break e;a--,u+=i[s++]<<c,c+=8}n.length=u,n.head&&(n.head.extra_len=u),n.flags&512&&n.wrap&4&&(T[0]=u&255,T[1]=u>>>8&255,n.check=Ro(n.check,T,2,0)),u=0,c=0}else n.head&&(n.head.extra=null);n.mode=v3;case v3:if(n.flags&1024&&(f=n.length,f>a&&(f=a),f&&(n.head&&(M=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(i.subarray(s,s+f),M)),n.flags&512&&n.wrap&4&&(n.check=Ro(n.check,i,f,s)),a-=f,s+=f,n.length-=f),n.length))break e;n.length=0,n.mode=w3;case w3:if(n.flags&2048){if(a===0)break e;f=0;do M=i[s+f++],n.head&&M&&n.length<65536&&(n.head.name+=String.fromCharCode(M));while(M&&f<a);if(n.flags&512&&n.wrap&4&&(n.check=Ro(n.check,i,f,s)),a-=f,s+=f,M)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=_3;case _3:if(n.flags&4096){if(a===0)break e;f=0;do M=i[s+f++],n.head&&M&&n.length<65536&&(n.head.comment+=String.fromCharCode(M));while(M&&f<a);if(n.flags&512&&n.wrap&4&&(n.check=Ro(n.check,i,f,s)),a-=f,s+=f,M)break e}else n.head&&(n.head.comment=null);n.mode=b3;case b3:if(n.flags&512){for(;c<16;){if(a===0)break e;a--,u+=i[s++]<<c,c+=8}if(n.wrap&4&&u!==(n.check&65535)){t.msg="header crc mismatch",n.mode=On;break}u=0,c=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=fa;break;case x3:for(;c<32;){if(a===0)break e;a--,u+=i[s++]<<c,c+=8}t.adler=n.check=D3(u),u=0,c=0,n.mode=r1;case r1:if(n.havedict===0)return t.next_out=o,t.avail_out=l,t.next_in=s,t.avail_in=a,n.hold=u,n.bits=c,jJ;t.adler=n.check=1,n.mode=fa;case fa:if(e===OJ||e===cm)break e;case F2:if(n.last){u>>>=c&7,c-=c&7,n.mode=V2;break}for(;c<3;){if(a===0)break e;a--,u+=i[s++]<<c,c+=8}switch(n.last=u&1,u>>>=1,c-=1,u&3){case 0:n.mode=S3;break;case 1:if($J(n),n.mode=hm,e===cm){u>>>=2,c-=2;break e}break;case 2:n.mode=k3;break;case 3:t.msg="invalid block type",n.mode=On}u>>>=2,c-=2;break;case S3:for(u>>>=c&7,c-=c&7;c<32;){if(a===0)break e;a--,u+=i[s++]<<c,c+=8}if((u&65535)!==(u>>>16^65535)){t.msg="invalid stored block lengths",n.mode=On;break}if(n.length=u&65535,u=0,c=0,n.mode=j2,e===cm)break e;case j2:n.mode=A3;case A3:if(f=n.length,f){if(f>a&&(f=a),f>l&&(f=l),f===0)break e;r.set(i.subarray(s,s+f),o),a-=f,s+=f,l-=f,o+=f,n.length-=f;break}n.mode=fa;break;case k3:for(;c<14;){if(a===0)break e;a--,u+=i[s++]<<c,c+=8}if(n.nlen=(u&31)+257,u>>>=5,c-=5,n.ndist=(u&31)+1,u>>>=5,c-=5,n.ncode=(u&15)+4,u>>>=4,c-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=On;break}n.have=0,n.mode=T3;case T3:for(;n.have<n.ncode;){for(;c<3;){if(a===0)break e;a--,u+=i[s++]<<c,c+=8}n.lens[L[n.have++]]=u&7,u>>>=3,c-=3}for(;n.have<19;)n.lens[L[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,O={bits:n.lenbits},k=zd(DJ,n.lens,0,19,n.lencode,0,n.work,O),n.lenbits=O.bits,k){t.msg="invalid code lengths set",n.mode=On;break}n.have=0,n.mode=E3;case E3:for(;n.have<n.nlen+n.ndist;){for(;b=n.lencode[u&(1<<n.lenbits)-1],v=b>>>24,S=b>>>16&255,I=b&65535,!(v<=c);){if(a===0)break e;a--,u+=i[s++]<<c,c+=8}if(I<16)u>>>=v,c-=v,n.lens[n.have++]=I;else{if(I===16){for(E=v+2;c<E;){if(a===0)break e;a--,u+=i[s++]<<c,c+=8}if(u>>>=v,c-=v,n.have===0){t.msg="invalid bit length repeat",n.mode=On;break}M=n.lens[n.have-1],f=3+(u&3),u>>>=2,c-=2}else if(I===17){for(E=v+3;c<E;){if(a===0)break e;a--,u+=i[s++]<<c,c+=8}u>>>=v,c-=v,M=0,f=3+(u&7),u>>>=3,c-=3}else{for(E=v+7;c<E;){if(a===0)break e;a--,u+=i[s++]<<c,c+=8}u>>>=v,c-=v,M=0,f=11+(u&127),u>>>=7,c-=7}if(n.have+f>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=On;break}for(;f--;)n.lens[n.have++]=M}}if(n.mode===On)break;if(n.lens[256]===0){t.msg="invalid code -- missing end-of-block",n.mode=On;break}if(n.lenbits=9,O={bits:n.lenbits},k=zd(d8,n.lens,0,n.nlen,n.lencode,0,n.work,O),n.lenbits=O.bits,k){t.msg="invalid literal/lengths set",n.mode=On;break}if(n.distbits=6,n.distcode=n.distdyn,O={bits:n.distbits},k=zd(p8,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,O),n.distbits=O.bits,k){t.msg="invalid distances set",n.mode=On;break}if(n.mode=hm,e===cm)break e;case hm:n.mode=fm;case fm:if(a>=6&&l>=258){t.next_out=o,t.avail_out=l,t.next_in=s,t.avail_in=a,n.hold=u,n.bits=c,IJ(t,d),o=t.next_out,r=t.output,l=t.avail_out,s=t.next_in,i=t.input,a=t.avail_in,u=n.hold,c=n.bits,n.mode===fa&&(n.back=-1);break}for(n.back=0;b=n.lencode[u&(1<<n.lenbits)-1],v=b>>>24,S=b>>>16&255,I=b&65535,!(v<=c);){if(a===0)break e;a--,u+=i[s++]<<c,c+=8}if(S&&!(S&240)){for(P=v,F=S,H=I;b=n.lencode[H+((u&(1<<P+F)-1)>>P)],v=b>>>24,S=b>>>16&255,I=b&65535,!(P+v<=c);){if(a===0)break e;a--,u+=i[s++]<<c,c+=8}u>>>=P,c-=P,n.back+=P}if(u>>>=v,c-=v,n.back+=v,n.length=I,S===0){n.mode=L3;break}if(S&32){n.back=-1,n.mode=fa;break}if(S&64){t.msg="invalid literal/length code",n.mode=On;break}n.extra=S&15,n.mode=P3;case P3:if(n.extra){for(E=n.extra;c<E;){if(a===0)break e;a--,u+=i[s++]<<c,c+=8}n.length+=u&(1<<n.extra)-1,u>>>=n.extra,c-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=I3;case I3:for(;b=n.distcode[u&(1<<n.distbits)-1],v=b>>>24,S=b>>>16&255,I=b&65535,!(v<=c);){if(a===0)break e;a--,u+=i[s++]<<c,c+=8}if(!(S&240)){for(P=v,F=S,H=I;b=n.distcode[H+((u&(1<<P+F)-1)>>P)],v=b>>>24,S=b>>>16&255,I=b&65535,!(P+v<=c);){if(a===0)break e;a--,u+=i[s++]<<c,c+=8}u>>>=P,c-=P,n.back+=P}if(u>>>=v,c-=v,n.back+=v,S&64){t.msg="invalid distance code",n.mode=On;break}n.offset=I,n.extra=S&15,n.mode=C3;case C3:if(n.extra){for(E=n.extra;c<E;){if(a===0)break e;a--,u+=i[s++]<<c,c+=8}n.offset+=u&(1<<n.extra)-1,u>>>=n.extra,c-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=On;break}n.mode=N3;case N3:if(l===0)break e;if(f=d-l,n.offset>f){if(f=n.offset-f,f>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=On;break}f>n.wnext?(f-=n.wnext,y=n.wsize-f):y=n.wnext-f,f>n.length&&(f=n.length),w=n.window}else w=r,y=o-n.offset,f=n.length;f>l&&(f=l),l-=f,n.length-=f;do r[o++]=w[y++];while(--f);n.length===0&&(n.mode=fm);break;case L3:if(l===0)break e;r[o++]=n.length,l--,n.mode=fm;break;case V2:if(n.wrap){for(;c<32;){if(a===0)break e;a--,u|=i[s++]<<c,c+=8}if(d-=l,t.total_out+=d,n.total+=d,n.wrap&4&&d&&(t.adler=n.check=n.flags?Ro(n.check,r,d,o-d):iw(n.check,r,d,o-d)),d=l,n.wrap&4&&(n.flags?u:D3(u))!==n.check){t.msg="incorrect data check",n.mode=On;break}u=0,c=0}n.mode=R3;case R3:if(n.wrap&&n.flags){for(;c<32;){if(a===0)break e;a--,u+=i[s++]<<c,c+=8}if(n.wrap&4&&u!==(n.total&4294967295)){t.msg="incorrect length check",n.mode=On;break}u=0,c=0}n.mode=M3;case M3:k=FJ;break e;case On:k=g8;break e;case y8:return m8;case v8:default:return $s}return t.next_out=o,t.avail_out=l,t.next_in=s,t.avail_in=a,n.hold=u,n.bits=c,(n.wsize||d!==t.avail_out&&n.mode<On&&(n.mode<V2||e!==f3))&&S8(t,t.output,t.next_out,d-t.avail_out),h-=t.avail_in,d-=t.avail_out,t.total_in+=h,t.total_out+=d,n.total+=d,n.wrap&4&&d&&(t.adler=n.check=n.flags?Ro(n.check,r,d,t.next_out-d):iw(n.check,r,d,t.next_out-d)),t.data_type=n.bits+(n.last?64:0)+(n.mode===fa?128:0)+(n.mode===hm||n.mode===j2?256:0),(h===0&&d===0||e===f3)&&k===fc&&(k=VJ),k},KJ=t=>{if(_c(t))return $s;let e=t.state;return e.window&&(e.window=null),t.state=null,fc},YJ=(t,e)=>{if(_c(t))return $s;const n=t.state;return n.wrap&2?(n.head=e,e.done=!1,fc):$s},XJ=(t,e)=>{const n=e.length;let i,r,s;return _c(t)||(i=t.state,i.wrap!==0&&i.mode!==r1)?$s:i.mode===r1&&(r=1,r=iw(r,e,n,0),r!==i.check)?g8:(s=S8(t,e,n,n),s?(i.mode=y8,m8):(i.havedict=1,fc))};var QJ=_8,JJ=b8,ZJ=w8,eZ=HJ,tZ=x8,nZ=GJ,iZ=KJ,rZ=YJ,sZ=XJ,oZ="pako inflate (from Nodeca project)",va={inflateReset:QJ,inflateReset2:JJ,inflateResetKeep:ZJ,inflateInit:eZ,inflateInit2:tZ,inflate:nZ,inflateEnd:iZ,inflateGetHeader:rZ,inflateSetDictionary:sZ,inflateInfo:oZ};function aZ(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var lZ=aZ;const A8=Object.prototype.toString,{Z_NO_FLUSH:uZ,Z_FINISH:cZ,Z_OK:Np,Z_STREAM_END:U2,Z_NEED_DICT:W2,Z_STREAM_ERROR:hZ,Z_DATA_ERROR:F3,Z_MEM_ERROR:fZ}=c8;function rg(t){this.options=h8.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new EJ,this.strm.avail_out=0;let n=va.inflateInit2(this.strm,e.windowBits);if(n!==Np)throw new Error(rw[n]);if(this.header=new lZ,va.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=sw.string2buf(e.dictionary):A8.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=va.inflateSetDictionary(this.strm,e.dictionary),n!==Np)))throw new Error(rw[n])}rg.prototype.push=function(t,e){const n=this.strm,i=this.options.chunkSize,r=this.options.dictionary;let s,o,a;if(this.ended)return!1;for(e===~~e?o=e:o=e===!0?cZ:uZ,A8.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(i),n.next_out=0,n.avail_out=i),s=va.inflate(n,o),s===W2&&r&&(s=va.inflateSetDictionary(n,r),s===Np?s=va.inflate(n,o):s===F3&&(s=W2));n.avail_in>0&&s===U2&&n.state.wrap>0&&t[n.next_in]!==0;)va.inflateReset(n),s=va.inflate(n,o);switch(s){case hZ:case F3:case W2:case fZ:return this.onEnd(s),this.ended=!0,!1}if(a=n.avail_out,n.next_out&&(n.avail_out===0||s===U2))if(this.options.to==="string"){let l=sw.utf8border(n.output,n.next_out),u=n.next_out-l,c=sw.buf2string(n.output,l);n.next_out=u,n.avail_out=i-u,u&&n.output.set(n.output.subarray(l,l+u),0),this.onData(c)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(s===Np&&a===0)){if(s===U2)return s=va.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};rg.prototype.onData=function(t){this.chunks.push(t)};rg.prototype.onEnd=function(t){t===Np&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=h8.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function dZ(t,e){const n=new rg(e);if(n.push(t),n.err)throw n.msg||rw[n.err];return n.result}var pZ=rg,gZ=dZ,mZ={Inflate:pZ,inflate:gZ};const{Inflate:yZ,inflate:vZ}=mZ;var j3=yZ,wZ=vZ;const k8=[];for(let t=0;t<256;t++){let e=t;for(let n=0;n<8;n++)e&1?e=3988292384^e>>>1:e=e>>>1;k8[t]=e}const V3=4294967295;function _Z(t,e,n){let i=t;for(let r=0;r<n;r++)i=k8[(i^e[r])&255]^i>>>8;return i}function bZ(t,e){return(_Z(V3,t,e)^V3)>>>0}function B3(t,e,n){const i=t.readUint32(),r=bZ(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(r!==i)throw new Error(`CRC mismatch for chunk ${n}. Expected ${i}, found ${r}`)}function T8(t,e,n){for(let i=0;i<n;i++)e[i]=t[i]}function E8(t,e,n,i){let r=0;for(;r<i;r++)e[r]=t[r];for(;r<n;r++)e[r]=t[r]+e[r-i]&255}function P8(t,e,n,i){let r=0;if(n.length===0)for(;r<i;r++)e[r]=t[r];else for(;r<i;r++)e[r]=t[r]+n[r]&255}function I8(t,e,n,i,r){let s=0;if(n.length===0){for(;s<r;s++)e[s]=t[s];for(;s<i;s++)e[s]=t[s]+(e[s-r]>>1)&255}else{for(;s<r;s++)e[s]=t[s]+(n[s]>>1)&255;for(;s<i;s++)e[s]=t[s]+(e[s-r]+n[s]>>1)&255}}function C8(t,e,n,i,r){let s=0;if(n.length===0){for(;s<r;s++)e[s]=t[s];for(;s<i;s++)e[s]=t[s]+e[s-r]&255}else{for(;s<r;s++)e[s]=t[s]+n[s]&255;for(;s<i;s++)e[s]=t[s]+xZ(e[s-r],n[s],n[s-r])&255}}function xZ(t,e,n){const i=t+e-n,r=Math.abs(i-t),s=Math.abs(i-e),o=Math.abs(i-n);return r<=s&&r<=o?t:s<=o?e:n}function SZ(t,e,n,i,r,s){switch(t){case 0:T8(e,n,r);break;case 1:E8(e,n,r,s);break;case 2:P8(e,n,i,r);break;case 3:I8(e,n,i,r,s);break;case 4:C8(e,n,i,r,s);break;default:throw new Error(`Unsupported filter: ${t}`)}}const AZ=new Uint16Array([255]),kZ=new Uint8Array(AZ.buffer),TZ=kZ[0]===255;function EZ(t){const{data:e,width:n,height:i,channels:r,depth:s}=t,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],a=Math.ceil(s/8)*r,l=new Uint8Array(i*n*a);let u=0;for(let c=0;c<7;c++){const h=o[c],d=Math.ceil((n-h.x)/h.xStep),f=Math.ceil((i-h.y)/h.yStep);if(d<=0||f<=0)continue;const y=d*a,w=new Uint8Array(y);for(let b=0;b<f;b++){const v=e[u++],S=e.subarray(u,u+y);u+=y;const I=new Uint8Array(y);SZ(v,S,I,w,y,a),w.set(I);for(let P=0;P<d;P++){const F=h.x+P*h.xStep,H=h.y+b*h.yStep;if(!(F>=n||H>=i))for(let M=0;M<a;M++)l[(H*n+F)*a+M]=I[P*a+M]}}}if(s===16){const c=new Uint16Array(l.buffer);if(TZ)for(let h=0;h<c.length;h++)c[h]=PZ(c[h]);return c}else return l}function PZ(t){return(t&255)<<8|t>>8&255}const IZ=new Uint16Array([255]),CZ=new Uint8Array(IZ.buffer),NZ=CZ[0]===255,LZ=new Uint8Array(0);function z3(t){const{data:e,width:n,height:i,channels:r,depth:s}=t,o=Math.ceil(s/8)*r,a=Math.ceil(s/8*r*n),l=new Uint8Array(i*a);let u=LZ,c=0,h,d;for(let f=0;f<i;f++){switch(h=e.subarray(c+1,c+1+a),d=l.subarray(f*a,(f+1)*a),e[c]){case 0:T8(h,d,a);break;case 1:E8(h,d,a,o);break;case 2:P8(h,d,u,a);break;case 3:I8(h,d,u,a,o);break;case 4:C8(h,d,u,a,o);break;default:throw new Error(`Unsupported filter: ${e[c]}`)}u=d,c+=a+1}if(s===16){const f=new Uint16Array(l.buffer);if(NZ)for(let y=0;y<f.length;y++)f[y]=RZ(f[y]);return f}else return l}function RZ(t){return(t&255)<<8|t>>8&255}const $m=Uint8Array.of(137,80,78,71,13,10,26,10);function U3(t){if(!MZ(t.readBytes($m.length)))throw new Error("wrong PNG signature")}function MZ(t){if(t.length<$m.length)return!1;for(let e=0;e<$m.length;e++)if(t[e]!==$m[e])return!1;return!0}const DZ="tEXt",OZ=0,N8=new TextDecoder("latin1");function FZ(t){if(VZ(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const jZ=/^[\u0000-\u00FF]*$/;function VZ(t){if(!jZ.test(t))throw new Error("invalid latin1 text")}function BZ(t,e,n){const i=L8(e);t[i]=zZ(e,n-i.length-1)}function L8(t){for(t.mark();t.readByte()!==OZ;);const e=t.offset;t.reset();const n=N8.decode(t.readBytes(e-t.offset-1));return t.skip(1),FZ(n),n}function zZ(t,e){return N8.decode(t.readBytes(e))}const os={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},q2={UNKNOWN:-1,DEFLATE:0},W3={UNKNOWN:-1,ADAPTIVE:0},H2={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},dm={NONE:0,BACKGROUND:1,PREVIOUS:2},$2={SOURCE:0,OVER:1};class UZ extends mx{constructor(n,i={}){super(n);Fe(this,"_checkCrc");Fe(this,"_inflator");Fe(this,"_png");Fe(this,"_apng");Fe(this,"_end");Fe(this,"_hasPalette");Fe(this,"_palette");Fe(this,"_hasTransparency");Fe(this,"_transparency");Fe(this,"_compressionMethod");Fe(this,"_filterMethod");Fe(this,"_interlaceMethod");Fe(this,"_colorType");Fe(this,"_isAnimated");Fe(this,"_numberOfFrames");Fe(this,"_numberOfPlays");Fe(this,"_frames");Fe(this,"_writingDataChunks");const{checkCrc:r=!1}=i;this._checkCrc=r,this._inflator=new j3,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=q2.UNKNOWN,this._filterMethod=W3.UNKNOWN,this._interlaceMethod=H2.UNKNOWN,this._colorType=os.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(U3(this);!this._end;){const n=this.readUint32(),i=this.readChars(4);this.decodeChunk(n,i)}return this.decodeImage(),this._png}decodeApng(){for(U3(this);!this._end;){const n=this.readUint32(),i=this.readChars(4);this.decodeApngChunk(n,i)}return this.decodeApngImage(),this._apng}decodeChunk(n,i){const r=this.offset;switch(i){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(n);break;case"IDAT":this.decodeIDAT(n);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(n);break;case"iCCP":this.decodeiCCP(n);break;case DZ:BZ(this._png.text,this,n);break;case"pHYs":this.decodepHYs();break;default:this.skip(n);break}if(this.offset-r!==n)throw new Error(`Length mismatch while decoding chunk ${i}`);this._checkCrc?B3(this,n+4,i):this.skip(4)}decodeApngChunk(n,i){const r=this.offset;switch(i!=="fdAT"&&i!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),i){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(n);break;default:this.decodeChunk(n,i),this.offset=r+n;break}if(this.offset-r!==n)throw new Error(`Length mismatch while decoding chunk ${i}`);this._checkCrc?B3(this,n+4,i):this.skip(4)}decodeIHDR(){const n=this._png;n.width=this.readUint32(),n.height=this.readUint32(),n.depth=WZ(this.readUint8());const i=this.readUint8();this._colorType=i;let r;switch(i){case os.GREYSCALE:r=1;break;case os.TRUECOLOUR:r=3;break;case os.INDEXED_COLOUR:r=1;break;case os.GREYSCALE_ALPHA:r=2;break;case os.TRUECOLOUR_ALPHA:r=4;break;case os.UNKNOWN:default:throw new Error(`Unknown color type: ${i}`)}if(this._png.channels=r,this._compressionMethod=this.readUint8(),this._compressionMethod!==q2.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const n={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(n)}decodePLTE(n){if(n%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${n}`);const i=n/3;this._hasPalette=!0;const r=[];this._palette=r;for(let s=0;s<i;s++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(n){this._writingDataChunks=!0;const i=n,r=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,r,i)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodeFDAT(n){this._writingDataChunks=!0;let i=n,r=this.offset+this.byteOffset;if(r+=4,i-=4,this._inflator.push(new Uint8Array(this.buffer,r,i)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodetRNS(n){switch(this._colorType){case os.GREYSCALE:case os.TRUECOLOUR:{if(n%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${n}`);if(n/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${n/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(n/2);for(let i=0;i<n/2;i++)this._transparency[i]=this.readUint16();break}case os.INDEXED_COLOUR:{if(n>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${n} vs ${this._palette.length})`);let i=0;for(;i<n;i++){const r=this.readByte();this._palette[i].push(r)}for(;i<this._palette.length;i++)this._palette[i].push(255);break}case os.UNKNOWN:case os.GREYSCALE_ALPHA:case os.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(n){const i=L8(this),r=this.readUint8();if(r!==q2.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${r}`);const s=this.readBytes(n-i.length-2);this._png.iccEmbeddedProfile={name:i,profile:wZ(s)}}decodepHYs(){const n=this.readUint32(),i=this.readUint32(),r=this.readByte();this._png.resolution={x:n,y:i,unit:r}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let n=0;n<this._numberOfFrames;n++){const i={sequenceNumber:this._frames[n].sequenceNumber,delayNumber:this._frames[n].delayNumber,delayDenominator:this._frames[n].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},r=this._frames.at(n);if(r){if(r.data=z3({data:r.data,width:r.width,height:r.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),n===0||r.xOffset===0&&r.yOffset===0&&r.width===this._png.width&&r.height===this._png.height)i.data=r.data;else{const s=this._apng.frames.at(n-1);this.disposeFrame(r,s,i),this.addFrameDataToCanvas(i,r)}this._apng.frames.push(i)}}return this._apng}disposeFrame(n,i,r){switch(n.disposeOp){case dm.NONE:break;case dm.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let o=0;o<this._png.width;o++){const a=(s*n.width+o)*this._png.channels;for(let l=0;l<this._png.channels;l++)r.data[a+l]=0}break;case dm.PREVIOUS:r.data.set(i.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(n,i){const r=1<<this._png.depth,s=(o,a)=>{const l=((o+i.yOffset)*this._png.width+i.xOffset+a)*this._png.channels,u=(o*i.width+a)*this._png.channels;return{index:l,frameIndex:u}};switch(i.blendOp){case $2.SOURCE:for(let o=0;o<i.height;o++)for(let a=0;a<i.width;a++){const{index:l,frameIndex:u}=s(o,a);for(let c=0;c<this._png.channels;c++)n.data[l+c]=i.data[u+c]}break;case $2.OVER:for(let o=0;o<i.height;o++)for(let a=0;a<i.width;a++){const{index:l,frameIndex:u}=s(o,a);for(let c=0;c<this._png.channels;c++){const h=i.data[u+this._png.channels-1]/r,d=c%(this._png.channels-1)===0?1:i.data[u+c],f=Math.floor(h*d+(1-h)*n.data[l+c]);n.data[l+c]+=f}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var i;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const n=this._isAnimated?((i=this._frames)==null?void 0:i.at(0)).data:this._inflator.result;if(this._filterMethod!==W3.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===H2.NO_INTERLACE)this._png.data=z3({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===H2.ADAM7)this._png.data=EZ({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const n=this._inflator.result,i=this._frames.at(-1);i?i.data=n:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:dm.NONE,blendOp:$2.SOURCE,data:n}),this._inflator=new j3,this._writingDataChunks=!1}}function WZ(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var q3;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(q3||(q3={}));function qZ(t,e){return new UZ(t,e).decode()}var wt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function G2(){wt.console&&typeof wt.console.log=="function"&&wt.console.log.apply(wt.console,arguments)}var _n={log:G2,warn:function(t){wt.console&&(typeof wt.console.warn=="function"?wt.console.warn.apply(wt.console,arguments):G2.call(null,arguments))},error:function(t){wt.console&&(typeof wt.console.error=="function"?wt.console.error.apply(wt.console,arguments):G2(t))}};function K2(t,e,n){var i=new XMLHttpRequest;i.open("GET",t),i.responseType="blob",i.onload=function(){Du(i.response,e,n)},i.onerror=function(){_n.error("could not download file")},i.send()}function H3(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function pm(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Du=wt.saveAs||((typeof window>"u"?"undefined":fn(window))!=="object"||window!==wt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var i=wt.URL||wt.webkitURL,r=document.createElement("a");e=e||t.name||"download",r.download=e,r.rel="noopener",typeof t=="string"?(r.href=t,r.origin!==location.origin?H3(r.href)?K2(t,e,n):pm(r,r.target="_blank"):pm(r)):(r.href=i.createObjectURL(t),setTimeout(function(){i.revokeObjectURL(r.href)},4e4),setTimeout(function(){pm(r)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(H3(t))K2(t,e,n);else{var i=document.createElement("a");i.href=t,i.target="_blank",setTimeout(function(){pm(i)})}else navigator.msSaveOrOpenBlob(function(r,s){return s===void 0?s={autoBom:!1}:fn(s)!=="object"&&(_n.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(r.type)?new Blob(["\uFEFF",r],{type:r.type}):r}(t,n),e)}:function(t,e,n,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),typeof t=="string")return K2(t,e,n);var r=t.type==="application/octet-stream",s=/constructor/i.test(wt.HTMLElement)||wt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||r&&s)&&(typeof FileReader>"u"?"undefined":fn(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var c=a.result;c=o?c:c.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=c:location=c,i=null},a.readAsDataURL(t)}else{var l=wt.URL||wt.webkitURL,u=l.createObjectURL(t);i?i.location=u:location.href=u,i=null,setTimeout(function(){l.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function R8(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],i=0;i<n.length;i++){var r=n[i].re,s=n[i].process,o=r.exec(t);o&&(e=s(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),u=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),"#"+a+l+u}}var Gm=wt.atob.bind(wt),$3=wt.btoa.bind(wt);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Y2(t,e){var n=t[0],i=t[1],r=t[2],s=t[3];n=lr(n,i,r,s,e[0],7,-680876936),s=lr(s,n,i,r,e[1],12,-389564586),r=lr(r,s,n,i,e[2],17,606105819),i=lr(i,r,s,n,e[3],22,-1044525330),n=lr(n,i,r,s,e[4],7,-176418897),s=lr(s,n,i,r,e[5],12,1200080426),r=lr(r,s,n,i,e[6],17,-1473231341),i=lr(i,r,s,n,e[7],22,-45705983),n=lr(n,i,r,s,e[8],7,1770035416),s=lr(s,n,i,r,e[9],12,-1958414417),r=lr(r,s,n,i,e[10],17,-42063),i=lr(i,r,s,n,e[11],22,-1990404162),n=lr(n,i,r,s,e[12],7,1804603682),s=lr(s,n,i,r,e[13],12,-40341101),r=lr(r,s,n,i,e[14],17,-1502002290),n=ur(n,i=lr(i,r,s,n,e[15],22,1236535329),r,s,e[1],5,-165796510),s=ur(s,n,i,r,e[6],9,-1069501632),r=ur(r,s,n,i,e[11],14,643717713),i=ur(i,r,s,n,e[0],20,-373897302),n=ur(n,i,r,s,e[5],5,-701558691),s=ur(s,n,i,r,e[10],9,38016083),r=ur(r,s,n,i,e[15],14,-660478335),i=ur(i,r,s,n,e[4],20,-405537848),n=ur(n,i,r,s,e[9],5,568446438),s=ur(s,n,i,r,e[14],9,-1019803690),r=ur(r,s,n,i,e[3],14,-187363961),i=ur(i,r,s,n,e[8],20,1163531501),n=ur(n,i,r,s,e[13],5,-1444681467),s=ur(s,n,i,r,e[2],9,-51403784),r=ur(r,s,n,i,e[7],14,1735328473),n=cr(n,i=ur(i,r,s,n,e[12],20,-1926607734),r,s,e[5],4,-378558),s=cr(s,n,i,r,e[8],11,-2022574463),r=cr(r,s,n,i,e[11],16,1839030562),i=cr(i,r,s,n,e[14],23,-35309556),n=cr(n,i,r,s,e[1],4,-1530992060),s=cr(s,n,i,r,e[4],11,1272893353),r=cr(r,s,n,i,e[7],16,-155497632),i=cr(i,r,s,n,e[10],23,-1094730640),n=cr(n,i,r,s,e[13],4,681279174),s=cr(s,n,i,r,e[0],11,-358537222),r=cr(r,s,n,i,e[3],16,-722521979),i=cr(i,r,s,n,e[6],23,76029189),n=cr(n,i,r,s,e[9],4,-640364487),s=cr(s,n,i,r,e[12],11,-421815835),r=cr(r,s,n,i,e[15],16,530742520),n=hr(n,i=cr(i,r,s,n,e[2],23,-995338651),r,s,e[0],6,-198630844),s=hr(s,n,i,r,e[7],10,1126891415),r=hr(r,s,n,i,e[14],15,-1416354905),i=hr(i,r,s,n,e[5],21,-57434055),n=hr(n,i,r,s,e[12],6,1700485571),s=hr(s,n,i,r,e[3],10,-1894986606),r=hr(r,s,n,i,e[10],15,-1051523),i=hr(i,r,s,n,e[1],21,-2054922799),n=hr(n,i,r,s,e[8],6,1873313359),s=hr(s,n,i,r,e[15],10,-30611744),r=hr(r,s,n,i,e[6],15,-1560198380),i=hr(i,r,s,n,e[13],21,1309151649),n=hr(n,i,r,s,e[4],6,-145523070),s=hr(s,n,i,r,e[11],10,-1120210379),r=hr(r,s,n,i,e[2],15,718787259),i=hr(i,r,s,n,e[9],21,-343485551),t[0]=Ml(n,t[0]),t[1]=Ml(i,t[1]),t[2]=Ml(r,t[2]),t[3]=Ml(s,t[3])}function ay(t,e,n,i,r,s){return e=Ml(Ml(e,t),Ml(i,s)),Ml(e<<r|e>>>32-r,n)}function lr(t,e,n,i,r,s,o){return ay(e&n|~e&i,t,e,r,s,o)}function ur(t,e,n,i,r,s,o){return ay(e&i|n&~i,t,e,r,s,o)}function cr(t,e,n,i,r,s,o){return ay(e^n^i,t,e,r,s,o)}function hr(t,e,n,i,r,s,o){return ay(n^(e|~i),t,e,r,s,o)}function M8(t){var e,n=t.length,i=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)Y2(i,HZ(t.substring(e-64,e)));t=t.substring(e-64);var r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)r[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(r[e>>2]|=128<<(e%4<<3),e>55)for(Y2(i,r),e=0;e<16;e++)r[e]=0;return r[14]=8*n,Y2(i,r),i}function HZ(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}var G3="0123456789abcdef".split("");function $Z(t){for(var e="",n=0;n<4;n++)e+=G3[t>>8*n+4&15]+G3[t>>8*n&15];return e}function GZ(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function ow(t){return M8(t).map(GZ).join("")}var KZ=function(t){for(var e=0;e<t.length;e++)t[e]=$Z(t[e]);return t.join("")}(M8("hello"))!="5d41402abc4b2a76b9719d911017c592";function Ml(t,e){if(KZ){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function aw(t,e){var n,i,r,s;if(t!==n){for(var o=(r=t,s=1+(256/t.length|0),new Array(s+1).join(r)),a=[],l=0;l<256;l++)a[l]=l;var u=0;for(l=0;l<256;l++){var c=a[l];u=(u+c+o.charCodeAt(l))%256,a[l]=a[u],a[u]=c}n=t,i=a}else a=i;var h=e.length,d=0,f=0,y="";for(l=0;l<h;l++)f=(f+(c=a[d=(d+1)%256]))%256,a[d]=a[f],a[f]=c,o=a[(a[d]+a[f])%256],y+=String.fromCharCode(e.charCodeAt(l)^o);return y}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var K3={print:4,modify:8,copy:16,"annot-forms":32};function Uc(t,e,n,i){this.v=1,this.r=2;var r=192;t.forEach(function(a){if(K3.perm!==void 0)throw new Error("Invalid permission: "+a);r+=K3[a]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^r)),this.encryptionKey=ow(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(i)).substr(0,5),this.U=aw(this.encryptionKey,this.padding)}function Wc(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,i=0;i<n;i++){var r=t.charCodeAt(i);e+=r<33||r===35||r===37||r===40||r===41||r===47||r===60||r===62||r===91||r===93||r===123||r===125||r>126?"#"+("0"+r.toString(16)).slice(-2):t[i]}return e}function Y3(t){if(fn(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,i,r){if(r=r||!1,typeof n!="string"||typeof i!="function"||typeof r!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var s=Math.random().toString(35);return e[n][s]=[i,!!r],s},this.unsubscribe=function(n){for(var i in e)if(e[i][n])return delete e[i][n],Object.keys(e[i]).length===0&&delete e[i],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var i=Array.prototype.slice.call(arguments,1),r=[];for(var s in e[n]){var o=e[n][s];try{o[0].apply(t,i)}catch(a){wt.console&&_n.error("jsPDF PubSub Error",a.message,a)}o[1]&&r.push(s)}r.length&&r.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function s1(t){if(!(this instanceof s1))return new s1(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function D8(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Ou(t,e,n,i,r){if(!(this instanceof Ou))return new Ou(t,e,n,i,r);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,D8.call(this,i,r)}function fh(t,e,n,i,r){if(!(this instanceof fh))return new fh(t,e,n,i,r);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,D8.call(this,i,r)}function nt(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",i=arguments[1],r=arguments[2],s=arguments[3],o=[],a=1,l=16,u="S",c=null;fn(t=t||{})==="object"&&(n=t.orientation,i=t.unit||i,r=t.format||r,s=t.compress||t.compressPdf||s,(c=t.encryption||null)!==null&&(c.userPassword=c.userPassword||"",c.ownerPassword=c.ownerPassword||"",c.userPermissions=c.userPermissions||[]),a=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),u=t.defaultPathOperation||"S"),o=t.filters||(s===!0?["FlateEncode"]:o),i=i||"mm",n=(""+(n||"P")).toLowerCase();var h=t.putOnlyUsedFonts||!1,d={},f={internal:{},__private__:{}};f.__private__.PubSub=Y3;var y="1.3",w=f.__private__.getPdfVersion=function(){return y};f.__private__.setPdfVersion=function(_){y=_};var b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return b};var v=f.__private__.getPageFormat=function(_){return b[_]};r=r||"a4";var S="compat",I="advanced",P=S;function F(){this.saveGraphicsState(),K(new ht(St,0,0,-St,0,Ts()*St).toString()+" cm"),this.setFontSize(this.getFontSize()/St),u="n",P=I}function H(){this.restoreGraphicsState(),u="S",P=S}var M=f.__private__.combineFontStyleAndFontWeight=function(_,j){if(_=="bold"&&j=="normal"||_=="bold"&&j==400||_=="normal"&&j=="italic"||_=="bold"&&j=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return j&&(_=j==400||j==="normal"?_==="italic"?"italic":"normal":j!=700&&j!=="bold"||_!=="normal"?(j==700?"bold":j)+""+_:"bold"),_};f.advancedAPI=function(_){var j=P===S;return j&&F.call(this),typeof _!="function"||(_(this),j&&H.call(this)),this},f.compatAPI=function(_){var j=P===I;return j&&H.call(this),typeof _!="function"||(_(this),j&&F.call(this)),this},f.isAdvancedAPI=function(){return P===I};var k,T=function(_){if(P!==I)throw new Error(_+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},O=f.roundToPrecision=f.__private__.roundToPrecision=function(_,j){var X=e||j;if(isNaN(_)||isNaN(X))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return _.toFixed(X).replace(/0+$/,"")};k=f.hpf=f.__private__.hpf=typeof l=="number"?function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return O(_,l)}:l==="smart"?function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return O(_,_>-1&&_<1?16:5)}:function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return O(_,16)};var E=f.f2=f.__private__.f2=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.f2");return O(_,2)},L=f.__private__.f3=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.f3");return O(_,3)},D=f.scale=f.__private__.scale=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.scale");return P===S?_*St:P===I?_:void 0},Z=function(_){return D(function(j){return P===S?Ts()-j:P===I?j:void 0}(_))};f.__private__.setPrecision=f.setPrecision=function(_){typeof parseInt(_,10)=="number"&&(e=parseInt(_,10))};var oe,ce="00000000000000000000000000000000",ae=f.__private__.getFileId=function(){return ce},$=f.__private__.setFileId=function(_){return ce=_!==void 0&&/^[a-fA-F0-9]{32}$/.test(_)?_.toUpperCase():ce.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),c!==null&&(yn=new Uc(c.userPermissions,c.userPassword,c.ownerPassword,ce)),ce};f.setFileId=function(_){return $(_),this},f.getFileId=function(){return ae()};var ie=f.__private__.convertDateToPDFDate=function(_){var j=_.getTimezoneOffset(),X=j<0?"+":"-",te=Math.floor(Math.abs(j/60)),ue=Math.abs(j%60),Ae=[X,ee(te),"'",ee(ue),"'"].join("");return["D:",_.getFullYear(),ee(_.getMonth()+1),ee(_.getDate()),ee(_.getHours()),ee(_.getMinutes()),ee(_.getSeconds()),Ae].join("")},me=f.__private__.convertPDFDateToDate=function(_){var j=parseInt(_.substr(2,4),10),X=parseInt(_.substr(6,2),10)-1,te=parseInt(_.substr(8,2),10),ue=parseInt(_.substr(10,2),10),Ae=parseInt(_.substr(12,2),10),Ie=parseInt(_.substr(14,2),10);return new Date(j,X,te,ue,Ae,Ie,0)},ve=f.__private__.setCreationDate=function(_){var j;if(_===void 0&&(_=new Date),_ instanceof Date)j=ie(_);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(_))throw new Error("Invalid argument passed to jsPDF.setCreationDate");j=_}return oe=j},B=f.__private__.getCreationDate=function(_){var j=oe;return _==="jsDate"&&(j=me(oe)),j};f.setCreationDate=function(_){return ve(_),this},f.getCreationDate=function(_){return B(_)};var Y,ee=f.__private__.padd2=function(_){return("0"+parseInt(_)).slice(-2)},ne=f.__private__.padd2Hex=function(_){return("00"+(_=_.toString())).substr(_.length)},re=0,fe=[],we=[],be=0,Te=[],Re=[],_e=!1,Ce=we;f.__private__.setCustomOutputDestination=function(_){_e=!0,Ce=_};var Ue=function(_){_e||(Ce=_)};f.__private__.resetCustomOutputDestination=function(){_e=!1,Ce=we};var K=f.__private__.out=function(_){return _=_.toString(),be+=_.length+1,Ce.push(_),Ce},Be=f.__private__.write=function(_){return K(arguments.length===1?_.toString():Array.prototype.join.call(arguments," "))},Pt=f.__private__.getArrayBuffer=function(_){for(var j=_.length,X=new ArrayBuffer(j),te=new Uint8Array(X);j--;)te[j]=_.charCodeAt(j);return X},ct=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return ct};var Le=t.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(_){return Le=P===I?_/St:_,this};var st,We=f.__private__.getFontSize=f.getFontSize=function(){return P===S?Le:Le*St},lt=t.R2L||!1;f.__private__.setR2L=f.setR2L=function(_){return lt=_,this},f.__private__.getR2L=f.getR2L=function(){return lt};var it,$t=f.__private__.setZoomMode=function(_){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(_))st=_;else if(isNaN(_)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(_)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+_+'" is not recognized.');st=_}else st=parseInt(_,10)};f.__private__.getZoomMode=function(){return st};var Mt,et=f.__private__.setPageMode=function(_){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(_)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+_+'" is not recognized.');it=_};f.__private__.getPageMode=function(){return it};var pt=f.__private__.setLayoutMode=function(_){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(_)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+_+'" is not recognized.');Mt=_};f.__private__.getLayoutMode=function(){return Mt},f.__private__.setDisplayMode=f.setDisplayMode=function(_,j,X){return $t(_),pt(j),et(X),this};var Nt={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(_){if(Object.keys(Nt).indexOf(_)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Nt[_]},f.__private__.getDocumentProperties=function(){return Nt},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(_){for(var j in Nt)Nt.hasOwnProperty(j)&&_[j]&&(Nt[j]=_[j]);return this},f.__private__.setDocumentProperty=function(_,j){if(Object.keys(Nt).indexOf(_)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Nt[_]=j};var Ke,St,tt,mn,Vt,It={},Tt={},Sn=[],ot={},rn={},ft={},_t={},sn=null,Ct=0,ut=[],Ot=new Y3(f),vo=t.hotfixes||[],ni={},vs={},er=[],ht=function _(j,X,te,ue,Ae,Ie){if(!(this instanceof _))return new _(j,X,te,ue,Ae,Ie);isNaN(j)&&(j=1),isNaN(X)&&(X=0),isNaN(te)&&(te=0),isNaN(ue)&&(ue=1),isNaN(Ae)&&(Ae=0),isNaN(Ie)&&(Ie=0),this._matrix=[j,X,te,ue,Ae,Ie]};Object.defineProperty(ht.prototype,"sx",{get:function(){return this._matrix[0]},set:function(_){this._matrix[0]=_}}),Object.defineProperty(ht.prototype,"shy",{get:function(){return this._matrix[1]},set:function(_){this._matrix[1]=_}}),Object.defineProperty(ht.prototype,"shx",{get:function(){return this._matrix[2]},set:function(_){this._matrix[2]=_}}),Object.defineProperty(ht.prototype,"sy",{get:function(){return this._matrix[3]},set:function(_){this._matrix[3]=_}}),Object.defineProperty(ht.prototype,"tx",{get:function(){return this._matrix[4]},set:function(_){this._matrix[4]=_}}),Object.defineProperty(ht.prototype,"ty",{get:function(){return this._matrix[5]},set:function(_){this._matrix[5]=_}}),Object.defineProperty(ht.prototype,"a",{get:function(){return this._matrix[0]},set:function(_){this._matrix[0]=_}}),Object.defineProperty(ht.prototype,"b",{get:function(){return this._matrix[1]},set:function(_){this._matrix[1]=_}}),Object.defineProperty(ht.prototype,"c",{get:function(){return this._matrix[2]},set:function(_){this._matrix[2]=_}}),Object.defineProperty(ht.prototype,"d",{get:function(){return this._matrix[3]},set:function(_){this._matrix[3]=_}}),Object.defineProperty(ht.prototype,"e",{get:function(){return this._matrix[4]},set:function(_){this._matrix[4]=_}}),Object.defineProperty(ht.prototype,"f",{get:function(){return this._matrix[5]},set:function(_){this._matrix[5]=_}}),Object.defineProperty(ht.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ht.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ht.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ht.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),ht.prototype.join=function(_){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(k).join(_)},ht.prototype.multiply=function(_){var j=_.sx*this.sx+_.shy*this.shx,X=_.sx*this.shy+_.shy*this.sy,te=_.shx*this.sx+_.sy*this.shx,ue=_.shx*this.shy+_.sy*this.sy,Ae=_.tx*this.sx+_.ty*this.shx+this.tx,Ie=_.tx*this.shy+_.ty*this.sy+this.ty;return new ht(j,X,te,ue,Ae,Ie)},ht.prototype.decompose=function(){var _=this.sx,j=this.shy,X=this.shx,te=this.sy,ue=this.tx,Ae=this.ty,Ie=Math.sqrt(_*_+j*j),qe=(_/=Ie)*X+(j/=Ie)*te;X-=_*qe,te-=j*qe;var Ye=Math.sqrt(X*X+te*te);return qe/=Ye,_*(te/=Ye)<j*(X/=Ye)&&(_=-_,j=-j,qe=-qe,Ie=-Ie),{scale:new ht(Ie,0,0,Ye,0,0),translate:new ht(1,0,0,1,ue,Ae),rotate:new ht(_,j,-j,_,0,0),skew:new ht(1,0,qe,1,0,0)}},ht.prototype.toString=function(_){return this.join(" ")},ht.prototype.inversed=function(){var _=this.sx,j=this.shy,X=this.shx,te=this.sy,ue=this.tx,Ae=this.ty,Ie=1/(_*te-j*X),qe=te*Ie,Ye=-j*Ie,gt=-X*Ie,At=_*Ie;return new ht(qe,Ye,gt,At,-qe*ue-gt*Ae,-Ye*ue-At*Ae)},ht.prototype.applyToPoint=function(_){var j=_.x*this.sx+_.y*this.shx+this.tx,X=_.x*this.shy+_.y*this.sy+this.ty;return new As(j,X)},ht.prototype.applyToRectangle=function(_){var j=this.applyToPoint(_),X=this.applyToPoint(new As(_.x+_.w,_.y+_.h));return new Za(j.x,j.y,X.x-j.x,X.y-j.y)},ht.prototype.clone=function(){var _=this.sx,j=this.shy,X=this.shx,te=this.sy,ue=this.tx,Ae=this.ty;return new ht(_,j,X,te,ue,Ae)},f.Matrix=ht;var En=f.matrixMult=function(_,j){return j.multiply(_)},ws=new ht(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=ws;var Ci=function(_,j){if(!rn[_]){var X=(j instanceof Ou?"Sh":"P")+(Object.keys(ot).length+1).toString(10);j.id=X,rn[_]=X,ot[X]=j,Ot.publish("addPattern",j)}};f.ShadingPattern=Ou,f.TilingPattern=fh,f.addShadingPattern=function(_,j){return T("addShadingPattern()"),Ci(_,j),this},f.beginTilingPattern=function(_){T("beginTilingPattern()"),To(_.boundingBox[0],_.boundingBox[1],_.boundingBox[2]-_.boundingBox[0],_.boundingBox[3]-_.boundingBox[1],_.matrix)},f.endTilingPattern=function(_,j){T("endTilingPattern()"),j.stream=Re[Y].join(`
`),Ci(_,j),Ot.publish("endTilingPattern",j),er.pop().restore()};var Ni,Mn=f.__private__.newObject=function(){var _=gi();return Dn(_,!0),_},gi=f.__private__.newObjectDeferred=function(){return re++,fe[re]=function(){return be},re},Dn=function(_,j){return j=typeof j=="boolean"&&j,fe[_]=be,j&&K(_+" 0 obj"),_},Xo=f.__private__.newAdditionalObject=function(){var _={objId:gi(),content:""};return Te.push(_),_},wo=gi(),tr=gi(),Gr=f.__private__.decodeColorString=function(_){var j=_.split(" ");if(j.length!==2||j[1]!=="g"&&j[1]!=="G")j.length!==5||j[4]!=="k"&&j[4]!=="K"||(j=[(1-j[0])*(1-j[3]),(1-j[1])*(1-j[3]),(1-j[2])*(1-j[3]),"r"]);else{var X=parseFloat(j[0]);j=[X,X,X,"r"]}for(var te="#",ue=0;ue<3;ue++)te+=("0"+Math.floor(255*parseFloat(j[ue])).toString(16)).slice(-2);return te},xr=f.__private__.encodeColorString=function(_){var j;typeof _=="string"&&(_={ch1:_});var X=_.ch1,te=_.ch2,ue=_.ch3,Ae=_.ch4,Ie=_.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof X=="string"&&X.charAt(0)!=="#"){var qe=new R8(X);if(qe.ok)X=qe.toHex();else if(!/^\d*\.?\d*$/.test(X))throw new Error('Invalid color "'+X+'" passed to jsPDF.encodeColorString.')}if(typeof X=="string"&&/^#[0-9A-Fa-f]{3}$/.test(X)&&(X="#"+X[1]+X[1]+X[2]+X[2]+X[3]+X[3]),typeof X=="string"&&/^#[0-9A-Fa-f]{6}$/.test(X)){var Ye=parseInt(X.substr(1),16);X=Ye>>16&255,te=Ye>>8&255,ue=255&Ye}if(te===void 0||Ae===void 0&&X===te&&te===ue)j=typeof X=="string"?X+" "+Ie[0]:_.precision===2?E(X/255)+" "+Ie[0]:L(X/255)+" "+Ie[0];else if(Ae===void 0||fn(Ae)==="object"){if(Ae&&!isNaN(Ae.a)&&Ae.a===0)return["1.","1.","1.",Ie[1]].join(" ");j=typeof X=="string"?[X,te,ue,Ie[1]].join(" "):_.precision===2?[E(X/255),E(te/255),E(ue/255),Ie[1]].join(" "):[L(X/255),L(te/255),L(ue/255),Ie[1]].join(" ")}else j=typeof X=="string"?[X,te,ue,Ae,Ie[2]].join(" "):_.precision===2?[E(X),E(te),E(ue),E(Ae),Ie[2]].join(" "):[L(X),L(te),L(ue),L(Ae),Ie[2]].join(" ");return j},nr=f.__private__.getFilters=function(){return o},ii=f.__private__.putStream=function(_){var j=(_=_||{}).data||"",X=_.filters||nr(),te=_.alreadyAppliedFilters||[],ue=_.addLength1||!1,Ae=j.length,Ie=_.objectId,qe=function(Kn){return Kn};if(c!==null&&Ie===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");c!==null&&(qe=yn.encryptor(Ie,0));var Ye={};X===!0&&(X=["FlateEncode"]);var gt=_.additionalKeyValues||[],At=(Ye=nt.API.processDataByFilters!==void 0?nt.API.processDataByFilters(j,X):{data:j,reverseChain:[]}).reverseChain+(Array.isArray(te)?te.join(" "):te.toString());if(Ye.data.length!==0&&(gt.push({key:"Length",value:Ye.data.length}),ue===!0&&gt.push({key:"Length1",value:Ae})),At.length!=0)if(At.split("/").length-1==1)gt.push({key:"Filter",value:At});else{gt.push({key:"Filter",value:"["+At+"]"});for(var zt=0;zt<gt.length;zt+=1)if(gt[zt].key==="DecodeParms"){for(var nn=[],Vn=0;Vn<Ye.reverseChain.split("/").length-1;Vn+=1)nn.push("null");nn.push(gt[zt].value),gt[zt].value="["+nn.join(" ")+"]"}}K("<<");for(var ln=0;ln<gt.length;ln++)K("/"+gt[ln].key+" "+gt[ln].value);K(">>"),Ye.data.length!==0&&(K("stream"),K(qe(Ye.data)),K("endstream"))},_o=f.__private__.putPage=function(_){var j=_.number,X=_.data,te=_.objId,ue=_.contentsObjId;Dn(te,!0),K("<</Type /Page"),K("/Parent "+_.rootDictionaryObjId+" 0 R"),K("/Resources "+_.resourceDictionaryObjId+" 0 R"),K("/MediaBox ["+parseFloat(k(_.mediaBox.bottomLeftX))+" "+parseFloat(k(_.mediaBox.bottomLeftY))+" "+k(_.mediaBox.topRightX)+" "+k(_.mediaBox.topRightY)+"]"),_.cropBox!==null&&K("/CropBox ["+k(_.cropBox.bottomLeftX)+" "+k(_.cropBox.bottomLeftY)+" "+k(_.cropBox.topRightX)+" "+k(_.cropBox.topRightY)+"]"),_.bleedBox!==null&&K("/BleedBox ["+k(_.bleedBox.bottomLeftX)+" "+k(_.bleedBox.bottomLeftY)+" "+k(_.bleedBox.topRightX)+" "+k(_.bleedBox.topRightY)+"]"),_.trimBox!==null&&K("/TrimBox ["+k(_.trimBox.bottomLeftX)+" "+k(_.trimBox.bottomLeftY)+" "+k(_.trimBox.topRightX)+" "+k(_.trimBox.topRightY)+"]"),_.artBox!==null&&K("/ArtBox ["+k(_.artBox.bottomLeftX)+" "+k(_.artBox.bottomLeftY)+" "+k(_.artBox.topRightX)+" "+k(_.artBox.topRightY)+"]"),typeof _.userUnit=="number"&&_.userUnit!==1&&K("/UserUnit "+_.userUnit),Ot.publish("putPage",{objId:te,pageContext:ut[j],pageNumber:j,page:X}),K("/Contents "+ue+" 0 R"),K(">>"),K("endobj");var Ae=X.join(`
`);return P===I&&(Ae+=`
Q`),Dn(ue,!0),ii({data:Ae,filters:nr(),objectId:ue}),K("endobj"),te},Kr=f.__private__.putPages=function(){var _,j,X=[];for(_=1;_<=Ct;_++)ut[_].objId=gi(),ut[_].contentsObjId=gi();for(_=1;_<=Ct;_++)X.push(_o({number:_,data:Re[_],objId:ut[_].objId,contentsObjId:ut[_].contentsObjId,mediaBox:ut[_].mediaBox,cropBox:ut[_].cropBox,bleedBox:ut[_].bleedBox,trimBox:ut[_].trimBox,artBox:ut[_].artBox,userUnit:ut[_].userUnit,rootDictionaryObjId:wo,resourceDictionaryObjId:tr}));Dn(wo,!0),K("<</Type /Pages");var te="/Kids [";for(j=0;j<Ct;j++)te+=X[j]+" 0 R ";K(te+"]"),K("/Count "+Ct),K(">>"),K("endobj"),Ot.publish("postPutPages")},Ks=function(_){Ot.publish("putFont",{font:_,out:K,newObject:Mn,putStream:ii}),_.isAlreadyPutted!==!0&&(_.objectNumber=Mn(),K("<<"),K("/Type /Font"),K("/BaseFont /"+Wc(_.postScriptName)),K("/Subtype /Type1"),typeof _.encoding=="string"&&K("/Encoding /"+_.encoding),K("/FirstChar 32"),K("/LastChar 255"),K(">>"),K("endobj"))},bo=function(_){_.objectNumber=Mn();var j=[];j.push({key:"Type",value:"/XObject"}),j.push({key:"Subtype",value:"/Form"}),j.push({key:"BBox",value:"["+[k(_.x),k(_.y),k(_.x+_.width),k(_.y+_.height)].join(" ")+"]"}),j.push({key:"Matrix",value:"["+_.matrix.toString()+"]"});var X=_.pages[1].join(`
`);ii({data:X,additionalKeyValues:j,objectId:_.objectNumber}),K("endobj")},Qo=function(_,j){j||(j=21);var X=Mn(),te=function(Ie,qe){var Ye,gt=[],At=1/(qe-1);for(Ye=0;Ye<1;Ye+=At)gt.push(Ye);if(gt.push(1),Ie[0].offset!=0){var zt={offset:0,color:Ie[0].color};Ie.unshift(zt)}if(Ie[Ie.length-1].offset!=1){var nn={offset:1,color:Ie[Ie.length-1].color};Ie.push(nn)}for(var Vn="",ln=0,Kn=0;Kn<gt.length;Kn++){for(Ye=gt[Kn];Ye>Ie[ln+1].offset;)ln++;var Bn=Ie[ln].offset,Yn=(Ye-Bn)/(Ie[ln+1].offset-Bn),zn=Ie[ln].color,Or=Ie[ln+1].color;Vn+=ne(Math.round((1-Yn)*zn[0]+Yn*Or[0]).toString(16))+ne(Math.round((1-Yn)*zn[1]+Yn*Or[1]).toString(16))+ne(Math.round((1-Yn)*zn[2]+Yn*Or[2]).toString(16))}return Vn.trim()}(_.colors,j),ue=[];ue.push({key:"FunctionType",value:"0"}),ue.push({key:"Domain",value:"[0.0 1.0]"}),ue.push({key:"Size",value:"["+j+"]"}),ue.push({key:"BitsPerSample",value:"8"}),ue.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ue.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ii({data:te,additionalKeyValues:ue,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:X}),K("endobj"),_.objectNumber=Mn(),K("<< /ShadingType "+_.type),K("/ColorSpace /DeviceRGB");var Ae="/Coords ["+k(parseFloat(_.coords[0]))+" "+k(parseFloat(_.coords[1]))+" ";_.type===2?Ae+=k(parseFloat(_.coords[2]))+" "+k(parseFloat(_.coords[3])):Ae+=k(parseFloat(_.coords[2]))+" "+k(parseFloat(_.coords[3]))+" "+k(parseFloat(_.coords[4]))+" "+k(parseFloat(_.coords[5])),K(Ae+="]"),_.matrix&&K("/Matrix ["+_.matrix.toString()+"]"),K("/Function "+X+" 0 R"),K("/Extend [true true]"),K(">>"),K("endobj")},Jo=function(_,j){var X=gi(),te=Mn();j.push({resourcesOid:X,objectOid:te}),_.objectNumber=te;var ue=[];ue.push({key:"Type",value:"/Pattern"}),ue.push({key:"PatternType",value:"1"}),ue.push({key:"PaintType",value:"1"}),ue.push({key:"TilingType",value:"1"}),ue.push({key:"BBox",value:"["+_.boundingBox.map(k).join(" ")+"]"}),ue.push({key:"XStep",value:k(_.xStep)}),ue.push({key:"YStep",value:k(_.yStep)}),ue.push({key:"Resources",value:X+" 0 R"}),_.matrix&&ue.push({key:"Matrix",value:"["+_.matrix.toString()+"]"}),ii({data:_.stream,additionalKeyValues:ue,objectId:_.objectNumber}),K("endobj")},yf=function(_){for(var j in _.objectNumber=Mn(),K("<<"),_)switch(j){case"opacity":K("/ca "+E(_[j]));break;case"stroke-opacity":K("/CA "+E(_[j]))}K(">>"),K("endobj")},xo=function(_){Dn(_.resourcesOid,!0),K("<<"),K("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var j in K("/Font <<"),It)It.hasOwnProperty(j)&&(h===!1||h===!0&&d.hasOwnProperty(j))&&K("/"+j+" "+It[j].objectNumber+" 0 R");K(">>")}(),function(){if(Object.keys(ot).length>0){for(var j in K("/Shading <<"),ot)ot.hasOwnProperty(j)&&ot[j]instanceof Ou&&ot[j].objectNumber>=0&&K("/"+j+" "+ot[j].objectNumber+" 0 R");Ot.publish("putShadingPatternDict"),K(">>")}}(),function(j){if(Object.keys(ot).length>0){for(var X in K("/Pattern <<"),ot)ot.hasOwnProperty(X)&&ot[X]instanceof f.TilingPattern&&ot[X].objectNumber>=0&&ot[X].objectNumber<j&&K("/"+X+" "+ot[X].objectNumber+" 0 R");Ot.publish("putTilingPatternDict"),K(">>")}}(_.objectOid),function(){if(Object.keys(ft).length>0){var j;for(j in K("/ExtGState <<"),ft)ft.hasOwnProperty(j)&&ft[j].objectNumber>=0&&K("/"+j+" "+ft[j].objectNumber+" 0 R");Ot.publish("putGStateDict"),K(">>")}}(),function(){for(var j in K("/XObject <<"),ni)ni.hasOwnProperty(j)&&ni[j].objectNumber>=0&&K("/"+j+" "+ni[j].objectNumber+" 0 R");Ot.publish("putXobjectDict"),K(">>")}(),K(">>"),K("endobj")},uu=function(_){Tt[_.fontName]=Tt[_.fontName]||{},Tt[_.fontName][_.fontStyle]=_.id},Ga=function(_,j,X,te,ue){var Ae={id:"F"+(Object.keys(It).length+1).toString(10),postScriptName:_,fontName:j,fontStyle:X,encoding:te,isStandardFont:ue||!1,metadata:{}};return Ot.publish("addFont",{font:Ae,instance:this}),It[Ae.id]=Ae,uu(Ae),Ae.id},Li=f.__private__.pdfEscape=f.pdfEscape=function(_,j){return function(X,te){var ue,Ae,Ie,qe,Ye,gt,At,zt,nn;if(Ie=(te=te||{}).sourceEncoding||"Unicode",Ye=te.outputEncoding,(te.autoencode||Ye)&&It[Ke].metadata&&It[Ke].metadata[Ie]&&It[Ke].metadata[Ie].encoding&&(qe=It[Ke].metadata[Ie].encoding,!Ye&&It[Ke].encoding&&(Ye=It[Ke].encoding),!Ye&&qe.codePages&&(Ye=qe.codePages[0]),typeof Ye=="string"&&(Ye=qe[Ye]),Ye)){for(At=!1,gt=[],ue=0,Ae=X.length;ue<Ae;ue++)(zt=Ye[X.charCodeAt(ue)])?gt.push(String.fromCharCode(zt)):gt.push(X[ue]),gt[ue].charCodeAt(0)>>8&&(At=!0);X=gt.join("")}for(ue=X.length;At===void 0&&ue!==0;)X.charCodeAt(ue-1)>>8&&(At=!0),ue--;if(!At)return X;for(gt=te.noBOM?[]:[254,255],ue=0,Ae=X.length;ue<Ae;ue++){if((nn=(zt=X.charCodeAt(ue))>>8)>>8)throw new Error("Character at position "+ue+" of string '"+X+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");gt.push(nn),gt.push(zt-(nn<<8))}return String.fromCharCode.apply(void 0,gt)}(_,j).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Yr=f.__private__.beginPage=function(_){Re[++Ct]=[],ut[Ct]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(_[0]),topRightY:Number(_[1])}},hu(Ct),Ue(Re[Y])},Ka=function(_,j){var X,te,ue;switch(n=j||n,typeof _=="string"&&(X=v(_.toLowerCase()),Array.isArray(X)&&(te=X[0],ue=X[1])),Array.isArray(_)&&(te=_[0]*St,ue=_[1]*St),isNaN(te)&&(te=r[0],ue=r[1]),(te>14400||ue>14400)&&(_n.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),te=Math.min(14400,te),ue=Math.min(14400,ue)),r=[te,ue],n.substr(0,1)){case"l":ue>te&&(r=[ue,te]);break;case"p":te>ue&&(r=[ue,te])}Yr(r),dt(Xa),K(Xs),gn!==0&&K(gn+" J"),yu!==0&&K(yu+" j"),Ot.publish("addPage",{pageNumber:Ct})},cu=function(_){_>0&&_<=Ct&&(Re.splice(_,1),ut.splice(_,1),Ct--,Y>Ct&&(Y=Ct),this.setPage(Y))},hu=function(_){_>0&&_<=Ct&&(Y=_)},fu=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return Re.length-1},du=function(_,j,X){var te,ue=void 0;return X=X||{},_=_!==void 0?_:It[Ke].fontName,j=j!==void 0?j:It[Ke].fontStyle,te=_.toLowerCase(),Tt[te]!==void 0&&Tt[te][j]!==void 0?ue=Tt[te][j]:Tt[_]!==void 0&&Tt[_][j]!==void 0?ue=Tt[_][j]:X.disableWarning===!1&&_n.warn("Unable to look up font label for font '"+_+"', '"+j+"'. Refer to getFontList() for available fonts."),ue||X.noFallback||(ue=Tt.times[j])==null&&(ue=Tt.times.normal),ue},Mr=f.__private__.putInfo=function(){var _=Mn(),j=function(te){return te};for(var X in c!==null&&(j=yn.encryptor(_,0)),K("<<"),K("/Producer ("+Li(j("jsPDF "+nt.version))+")"),Nt)Nt.hasOwnProperty(X)&&Nt[X]&&K("/"+X.substr(0,1).toUpperCase()+X.substr(1)+" ("+Li(j(Nt[X]))+")");K("/CreationDate ("+Li(j(oe))+")"),K(">>"),K("endobj")},So=f.__private__.putCatalog=function(_){var j=(_=_||{}).rootDictionaryObjId||wo;switch(Mn(),K("<<"),K("/Type /Catalog"),K("/Pages "+j+" 0 R"),st||(st="fullwidth"),st){case"fullwidth":K("/OpenAction [3 0 R /FitH null]");break;case"fullheight":K("/OpenAction [3 0 R /FitV null]");break;case"fullpage":K("/OpenAction [3 0 R /Fit]");break;case"original":K("/OpenAction [3 0 R /XYZ null null 1]");break;default:var X=""+st;X.substr(X.length-1)==="%"&&(st=parseInt(st)/100),typeof st=="number"&&K("/OpenAction [3 0 R /XYZ null null "+E(st)+"]")}switch(Mt||(Mt="continuous"),Mt){case"continuous":K("/PageLayout /OneColumn");break;case"single":K("/PageLayout /SinglePage");break;case"two":case"twoleft":K("/PageLayout /TwoColumnLeft");break;case"tworight":K("/PageLayout /TwoColumnRight")}it&&K("/PageMode /"+it),Ot.publish("putCatalog"),K(">>"),K("endobj")},xc=f.__private__.putTrailer=function(){K("trailer"),K("<<"),K("/Size "+(re+1)),K("/Root "+re+" 0 R"),K("/Info "+(re-1)+" 0 R"),c!==null&&K("/Encrypt "+yn.oid+" 0 R"),K("/ID [ <"+ce+"> <"+ce+"> ]"),K(">>")},jn=f.__private__.putHeader=function(){K("%PDF-"+y),K("%")},Sc=f.__private__.putXRef=function(){var _="0000000000";K("xref"),K("0 "+(re+1)),K("0000000000 65535 f ");for(var j=1;j<=re;j++)typeof fe[j]=="function"?K((_+fe[j]()).slice(-10)+" 00000 n "):fe[j]!==void 0?K((_+fe[j]).slice(-10)+" 00000 n "):K("0000000000 00000 n ")},_s=f.__private__.buildDocument=function(){var _;re=0,be=0,we=[],fe=[],Te=[],wo=gi(),tr=gi(),Ue(we),Ot.publish("buildDocument"),jn(),Kr(),function(){Ot.publish("putAdditionalObjects");for(var X=0;X<Te.length;X++){var te=Te[X];Dn(te.objId,!0),K(te.content),K("endobj")}Ot.publish("postPutAdditionalObjects")}(),_=[],function(){for(var X in It)It.hasOwnProperty(X)&&(h===!1||h===!0&&d.hasOwnProperty(X))&&Ks(It[X])}(),function(){var X;for(X in ft)ft.hasOwnProperty(X)&&yf(ft[X])}(),function(){for(var X in ni)ni.hasOwnProperty(X)&&bo(ni[X])}(),function(X){var te;for(te in ot)ot.hasOwnProperty(te)&&(ot[te]instanceof Ou?Qo(ot[te]):ot[te]instanceof fh&&Jo(ot[te],X))}(_),Ot.publish("putResources"),_.forEach(xo),xo({resourcesOid:tr,objectOid:Number.MAX_SAFE_INTEGER}),Ot.publish("postPutResources"),c!==null&&(yn.oid=Mn(),K("<<"),K("/Filter /Standard"),K("/V "+yn.v),K("/R "+yn.r),K("/U <"+yn.toHexString(yn.U)+">"),K("/O <"+yn.toHexString(yn.O)+">"),K("/P "+yn.P),K(">>"),K("endobj")),Mr(),So();var j=be;return Sc(),xc(),K("startxref"),K(""+j),K("%%EOF"),Ue(Re[Y]),we.join(`
`)},Zo=f.__private__.getBlob=function(_){return new Blob([Pt(_)],{type:"application/pdf"})},pu=f.output=f.__private__.output=(Ni=function(_,j){switch(typeof(j=j||{})=="string"?j={filename:j}:j.filename=j.filename||"generated.pdf",_){case void 0:return _s();case"save":f.save(j.filename);break;case"arraybuffer":return Pt(_s());case"blob":return Zo(_s());case"bloburi":case"bloburl":if(wt.URL!==void 0&&typeof wt.URL.createObjectURL=="function")return wt.URL&&wt.URL.createObjectURL(Zo(_s()))||void 0;_n.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var X="",te=_s();try{X=$3(te)}catch{X=$3(unescape(encodeURIComponent(te)))}return"data:application/pdf;filename="+j.filename+";base64,"+X;case"pdfobjectnewwindow":if(Object.prototype.toString.call(wt)==="[object Window]"){var ue="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ae=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';j.pdfObjectUrl&&(ue=j.pdfObjectUrl,Ae="");var Ie='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ue+'"'+Ae+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(j)+");<\/script></body></html>",qe=wt.open();return qe!==null&&qe.document.write(Ie),qe}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(wt)==="[object Window]"){var Ye='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(j.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+j.filename+'" width="500px" height="400px" /></body></html>',gt=wt.open();if(gt!==null){gt.document.write(Ye);var At=this;gt.document.documentElement.querySelector("#pdfViewer").onload=function(){gt.document.title=j.filename,gt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(At.output("bloburl"))}}return gt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(wt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var zt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",j)+'"></iframe></body></html>',nn=wt.open();if(nn!==null&&(nn.document.write(zt),nn.document.title=j.filename),nn||typeof safari>"u")return nn;break;case"datauri":case"dataurl":return wt.document.location.href=this.output("datauristring",j);default:return null}},Ni.foo=function(){try{return Ni.apply(this,arguments)}catch(X){var _=X.stack||"";~_.indexOf(" at ")&&(_=_.split(" at ")[1]);var j="Error in function "+_.split(`
`)[0].split("<")[0]+": "+X.message;if(!wt.console)throw new Error(j);wt.console.error(j,X),wt.alert&&alert(j)}},Ni.foo.bar=Ni,Ni.foo),Dr=function(_){return Array.isArray(vo)===!0&&vo.indexOf(_)>-1};switch(i){case"pt":St=1;break;case"mm":St=72/25.4;break;case"cm":St=72/2.54;break;case"in":St=72;break;case"px":St=Dr("px_scaling")==1?.75:96/72;break;case"pc":case"em":St=12;break;case"ex":St=6;break;default:if(typeof i!="number")throw new Error("Invalid unit: "+i);St=i}var yn=null;ve(),$();var _i=f.__private__.getPageInfo=f.getPageInfo=function(_){if(isNaN(_)||_%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ut[_].objId,pageNumber:_,pageContext:ut[_]}},ea=f.__private__.getPageInfoByObjId=function(_){if(isNaN(_)||_%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var j in ut)if(ut[j].objId===_)break;return _i(j)},Ya=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:ut[Y].objId,pageNumber:Y,pageContext:ut[Y]}};f.addPage=function(){return Ka.apply(this,arguments),this},f.setPage=function(){return hu.apply(this,arguments),Ue.call(this,Re[Y]),this},f.insertPage=function(_){return this.addPage(),this.movePage(Y,_),this},f.movePage=function(_,j){var X,te;if(_>j){X=Re[_],te=ut[_];for(var ue=_;ue>j;ue--)Re[ue]=Re[ue-1],ut[ue]=ut[ue-1];Re[j]=X,ut[j]=te,this.setPage(j)}else if(_<j){X=Re[_],te=ut[_];for(var Ae=_;Ae<j;Ae++)Re[Ae]=Re[Ae+1],ut[Ae]=ut[Ae+1];Re[j]=X,ut[j]=te,this.setPage(j)}return this},f.deletePage=function(){return cu.apply(this,arguments),this},f.__private__.text=f.text=function(_,j,X,te,ue){var Ae,Ie,qe,Ye,gt,At,zt,nn,Vn,ln=(te=te||{}).scope||this;if(typeof _=="number"&&typeof j=="number"&&(typeof X=="string"||Array.isArray(X))){var Kn=X;X=j,j=_,_=Kn}if(arguments[3]instanceof ht==0?(qe=arguments[4],Ye=arguments[5],fn(zt=arguments[3])==="object"&&zt!==null||(typeof qe=="string"&&(Ye=qe,qe=null),typeof zt=="string"&&(Ye=zt,zt=null),typeof zt=="number"&&(qe=zt,zt=null),te={flags:zt,angle:qe,align:Ye})):(T("The transform parameter of text() with a Matrix value"),Vn=ue),isNaN(j)||isNaN(X)||_==null)throw new Error("Invalid arguments passed to jsPDF.text");if(_.length===0)return ln;var Bn,Yn="",zn=typeof te.lineHeightFactor=="number"?te.lineHeightFactor:ko,Or=ln.internal.scaleFactor;function Es(on){return on=on.split("	").join(Array(te.TabLen||9).join(" ")),Li(on,zt)}function Ps(on){for(var vn,si=on.concat(),bi=[],oa=si.length;oa--;)typeof(vn=si.shift())=="string"?bi.push(vn):Array.isArray(on)&&(vn.length===1||vn[1]===void 0&&vn[2]===void 0)?bi.push(vn[0]):bi.push([vn[0],vn[1],vn[2]]);return bi}function g(on,vn){var si;if(typeof on=="string")si=vn(on)[0];else if(Array.isArray(on)){for(var bi,oa,Nf=on.concat(),Nc=[],og=Nf.length;og--;)typeof(bi=Nf.shift())=="string"?Nc.push(vn(bi)[0]):Array.isArray(bi)&&typeof bi[0]=="string"&&(oa=vn(bi[0],bi[1],bi[2]),Nc.push([oa[0],oa[1],oa[2]]));si=Nc}return si}var A=!1,R=!0;if(typeof _=="string")A=!0;else if(Array.isArray(_)){var q=_.concat();Ie=[];for(var he,ye=q.length;ye--;)(typeof(he=q.shift())!="string"||Array.isArray(he)&&typeof he[0]!="string")&&(R=!1);A=R}if(A===!1)throw new Error('Type of text must be string or Array. "'+_+'" is not recognized.');typeof _=="string"&&(_=_.match(/[\r?\n]/)?_.split(/\r\n|\r|\n/g):[_]);var je=Le/ln.internal.scaleFactor,Wt=je*(zn-1);switch(te.baseline){case"bottom":X-=Wt;break;case"top":X+=je-Wt;break;case"hanging":X+=je-2*Wt;break;case"middle":X+=je/2-Wt}if((At=te.maxWidth||0)>0&&(typeof _=="string"?_=ln.splitTextToSize(_,At):Object.prototype.toString.call(_)==="[object Array]"&&(_=_.reduce(function(on,vn){return on.concat(ln.splitTextToSize(vn,At))},[]))),Ae={text:_,x:j,y:X,options:te,mutex:{pdfEscape:Li,activeFontKey:Ke,fonts:It,activeFontSize:Le}},Ot.publish("preProcessText",Ae),_=Ae.text,qe=(te=Ae.options).angle,Vn instanceof ht==0&&qe&&typeof qe=="number"){qe*=Math.PI/180,te.rotationDirection===0&&(qe=-qe),P===I&&(qe=-qe);var Un=Math.cos(qe),Ft=Math.sin(qe);Vn=new ht(Un,Ft,-Ft,Un,0,0)}else qe&&qe instanceof ht&&(Vn=qe);P!==I||Vn||(Vn=ws),(gt=te.charSpace||Ss)!==void 0&&(Yn+=k(D(gt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(nn=te.horizontalScale)!==void 0&&(Yn+=k(100*nn)+` Tz
`),te.lang;var Zt=-1,An=te.renderingMode!==void 0?te.renderingMode:te.stroke,Qr=ln.internal.getCurrentPageInfo().pageContext;switch(An){case 0:case!1:case"fill":Zt=0;break;case 1:case!0:case"stroke":Zt=1;break;case 2:case"fillThenStroke":Zt=2;break;case 3:case"invisible":Zt=3;break;case 4:case"fillAndAddForClipping":Zt=4;break;case 5:case"strokeAndAddPathForClipping":Zt=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Zt=6;break;case 7:case"addToPathForClipping":Zt=7}var ir=Qr.usedRenderingMode!==void 0?Qr.usedRenderingMode:-1;Zt!==-1?Yn+=Zt+` Tr
`:ir!==-1&&(Yn+=`0 Tr
`),Zt!==-1&&(Qr.usedRenderingMode=Zt),Ye=te.align||"left";var Bi,Qs=Le*zn,Af=ln.internal.pageSize.getWidth(),kf=It[Ke];gt=te.charSpace||Ss,At=te.maxWidth||0,zt=Object.assign({autoencode:!0,noBOM:!0},te.flags);var tl=[],_u=function(on){return ln.getStringUnitWidth(on,{font:kf,charSpace:gt,fontSize:Le,doKerning:!1})*Le/Or};if(Object.prototype.toString.call(_)==="[object Array]"){var Jr;Ie=Ps(_),Ye!=="left"&&(Bi=Ie.map(_u));var Zr,nl=0;if(Ye==="right"){j-=Bi[0],_=[],ye=Ie.length;for(var sa=0;sa<ye;sa++)sa===0?(Zr=Ri(j),Jr=Ys(X)):(Zr=D(nl-Bi[sa]),Jr=-Qs),_.push([Ie[sa],Zr,Jr]),nl=Bi[sa]}else if(Ye==="center"){j-=Bi[0]/2,_=[],ye=Ie.length;for(var il=0;il<ye;il++)il===0?(Zr=Ri(j),Jr=Ys(X)):(Zr=D((nl-Bi[il])/2),Jr=-Qs),_.push([Ie[il],Zr,Jr]),nl=Bi[il]}else if(Ye==="left"){_=[],ye=Ie.length;for(var Tf=0;Tf<ye;Tf++)_.push(Ie[Tf])}else if(Ye==="justify"&&kf.encoding==="Identity-H"){_=[],ye=Ie.length,At=At!==0?At:Af;for(var Cc=0,ri=0;ri<ye;ri++)if(Jr=ri===0?Ys(X):-Qs,Zr=ri===0?Ri(j):Cc,ri<ye-1){var sg=D((At-Bi[ri])/(Ie[ri].split(" ").length-1)),Po=Ie[ri].split(" ");_.push([Po[0]+" ",Zr,Jr]),Cc=0;for(var Io=1;Io<Po.length;Io++){var Ef=(_u(Po[Io-1]+" "+Po[Io])-_u(Po[Io]))*Or+sg;Io==Po.length-1?_.push([Po[Io],Ef,0]):_.push([Po[Io]+" ",Ef,0]),Cc-=Ef}}else _.push([Ie[ri],Zr,Jr]);_.push(["",Cc,0])}else{if(Ye!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(_=[],ye=Ie.length,At=At!==0?At:Af,ri=0;ri<ye;ri++){Jr=ri===0?Ys(X):-Qs,Zr=ri===0?Ri(j):0;var Pf=Ie[ri].split(" ").length-1,If=Pf>0?(At-Bi[ri])/Pf:0;ri<ye-1?tl.push(k(D(If))):tl.push(0),_.push([Ie[ri],Zr,Jr])}}}(typeof te.R2L=="boolean"?te.R2L:lt)===!0&&(_=g(_,function(on,vn,si){return[on.split("").reverse().join(""),vn,si]})),Ae={text:_,x:j,y:X,options:te,mutex:{pdfEscape:Li,activeFontKey:Ke,fonts:It,activeFontSize:Le}},Ot.publish("postProcessText",Ae),_=Ae.text,Bn=Ae.mutex.isHex||!1;var Cf=It[Ke].encoding;Cf!=="WinAnsiEncoding"&&Cf!=="StandardEncoding"||(_=g(_,function(on,vn,si){return[Es(on),vn,si]})),Ie=Ps(_),_=[];for(var rl,sl,ol,bu=Array.isArray(Ie[0])?1:0,al="",xu=function(on,vn,si){var bi="";return si instanceof ht?(si=typeof te.angle=="number"?En(si,new ht(1,0,0,1,on,vn)):En(new ht(1,0,0,1,on,vn),si),P===I&&(si=En(new ht(1,0,0,-1,0,0),si)),bi=si.join(" ")+` Tm
`):bi=k(on)+" "+k(vn)+` Td
`,bi},Is=0;Is<Ie.length;Is++){switch(al="",bu){case 1:ol=(Bn?"<":"(")+Ie[Is][0]+(Bn?">":")"),rl=parseFloat(Ie[Is][1]),sl=parseFloat(Ie[Is][2]);break;case 0:ol=(Bn?"<":"(")+Ie[Is]+(Bn?">":")"),rl=Ri(j),sl=Ys(X)}tl!==void 0&&tl[Is]!==void 0&&(al=tl[Is]+` Tw
`),Is===0?_.push(al+xu(rl,sl,Vn)+ol):bu===0?_.push(al+ol):bu===1&&_.push(al+xu(rl,sl,Vn)+ol)}_=bu===0?_.join(` Tj
T* `):_.join(` Tj
`),_+=` Tj
`;var Co=`BT
/`;return Co+=Ke+" "+Le+` Tf
`,Co+=k(Le*zn)+` TL
`,Co+=Xr+`
`,Co+=Yn,Co+=_,K(Co+="ET"),d[Ke]=!0,ln};var Ac=f.__private__.clip=f.clip=function(_){return K(_==="evenodd"?"W*":"W"),this};f.clipEvenOdd=function(){return Ac("evenodd")},f.__private__.discardPath=f.discardPath=function(){return K("n"),this};var Bt=f.__private__.isValidStyle=function(_){var j=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(_)!==-1&&(j=!0),j};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(_){return Bt(_)&&(u=_),this};var ta=f.__private__.getStyle=f.getStyle=function(_){var j=u;switch(_){case"D":case"S":j="S";break;case"F":j="f";break;case"FD":case"DF":j="B";break;case"f":case"f*":case"B":case"B*":j=_}return j},Ao=f.close=function(){return K("h"),this};f.stroke=function(){return K("S"),this},f.fill=function(_){return bs("f",_),this},f.fillEvenOdd=function(_){return bs("f*",_),this},f.fillStroke=function(_){return bs("B",_),this},f.fillStrokeEvenOdd=function(_){return bs("B*",_),this};var bs=function(_,j){fn(j)==="object"?vf(j,_):K(_)},na=function(_){_===null||P===I&&_===void 0||(_=ta(_),K(_))};function kc(_,j,X,te,ue){var Ae=new fh(j||this.boundingBox,X||this.xStep,te||this.yStep,this.gState,ue||this.matrix);Ae.stream=this.stream;var Ie=_+"$$"+this.cloneIndex+++"$$";return Ci(Ie,Ae),Ae}var vf=function(_,j){var X=rn[_.key],te=ot[X];if(te instanceof Ou)K("q"),K(wf(j)),te.gState&&f.setGState(te.gState),K(_.matrix.toString()+" cm"),K("/"+X+" sh"),K("Q");else if(te instanceof fh){var ue=new ht(1,0,0,-1,0,Ts());_.matrix&&(ue=ue.multiply(_.matrix||ws),X=kc.call(te,_.key,_.boundingBox,_.xStep,_.yStep,ue).id),K("q"),K("/Pattern cs"),K("/"+X+" scn"),te.gState&&f.setGState(te.gState),K(j),K("Q")}},wf=function(_){switch(_){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},gu=f.moveTo=function(_,j){return K(k(D(_))+" "+k(Z(j))+" m"),this},Tc=f.lineTo=function(_,j){return K(k(D(_))+" "+k(Z(j))+" l"),this},Vi=f.curveTo=function(_,j,X,te,ue,Ae){return K([k(D(_)),k(Z(j)),k(D(X)),k(Z(te)),k(D(ue)),k(Z(Ae)),"c"].join(" ")),this};f.__private__.line=f.line=function(_,j,X,te,ue){if(isNaN(_)||isNaN(j)||isNaN(X)||isNaN(te)||!Bt(ue))throw new Error("Invalid arguments passed to jsPDF.line");return P===S?this.lines([[X-_,te-j]],_,j,[1,1],ue||"S"):this.lines([[X-_,te-j]],_,j,[1,1]).stroke()},f.__private__.lines=f.lines=function(_,j,X,te,ue,Ae){var Ie,qe,Ye,gt,At,zt,nn,Vn,ln,Kn,Bn,Yn;if(typeof _=="number"&&(Yn=X,X=j,j=_,_=Yn),te=te||[1,1],Ae=Ae||!1,isNaN(j)||isNaN(X)||!Array.isArray(_)||!Array.isArray(te)||!Bt(ue)||typeof Ae!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(gu(j,X),Ie=te[0],qe=te[1],gt=_.length,Kn=j,Bn=X,Ye=0;Ye<gt;Ye++)(At=_[Ye]).length===2?(Kn=At[0]*Ie+Kn,Bn=At[1]*qe+Bn,Tc(Kn,Bn)):(zt=At[0]*Ie+Kn,nn=At[1]*qe+Bn,Vn=At[2]*Ie+Kn,ln=At[3]*qe+Bn,Kn=At[4]*Ie+Kn,Bn=At[5]*qe+Bn,Vi(zt,nn,Vn,ln,Kn,Bn));return Ae&&Ao(),na(ue),this},f.path=function(_){for(var j=0;j<_.length;j++){var X=_[j],te=X.c;switch(X.op){case"m":gu(te[0],te[1]);break;case"l":Tc(te[0],te[1]);break;case"c":Vi.apply(this,te);break;case"h":Ao()}}return this},f.__private__.rect=f.rect=function(_,j,X,te,ue){if(isNaN(_)||isNaN(j)||isNaN(X)||isNaN(te)||!Bt(ue))throw new Error("Invalid arguments passed to jsPDF.rect");return P===S&&(te=-te),K([k(D(_)),k(Z(j)),k(D(X)),k(D(te)),"re"].join(" ")),na(ue),this},f.__private__.triangle=f.triangle=function(_,j,X,te,ue,Ae,Ie){if(isNaN(_)||isNaN(j)||isNaN(X)||isNaN(te)||isNaN(ue)||isNaN(Ae)||!Bt(Ie))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[X-_,te-j],[ue-X,Ae-te],[_-ue,j-Ae]],_,j,[1,1],Ie,!0),this},f.__private__.roundedRect=f.roundedRect=function(_,j,X,te,ue,Ae,Ie){if(isNaN(_)||isNaN(j)||isNaN(X)||isNaN(te)||isNaN(ue)||isNaN(Ae)||!Bt(Ie))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var qe=4/3*(Math.SQRT2-1);return ue=Math.min(ue,.5*X),Ae=Math.min(Ae,.5*te),this.lines([[X-2*ue,0],[ue*qe,0,ue,Ae-Ae*qe,ue,Ae],[0,te-2*Ae],[0,Ae*qe,-ue*qe,Ae,-ue,Ae],[2*ue-X,0],[-ue*qe,0,-ue,-Ae*qe,-ue,-Ae],[0,2*Ae-te],[0,-Ae*qe,ue*qe,-Ae,ue,-Ae]],_+ue,j,[1,1],Ie,!0),this},f.__private__.ellipse=f.ellipse=function(_,j,X,te,ue){if(isNaN(_)||isNaN(j)||isNaN(X)||isNaN(te)||!Bt(ue))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ae=4/3*(Math.SQRT2-1)*X,Ie=4/3*(Math.SQRT2-1)*te;return gu(_+X,j),Vi(_+X,j-Ie,_+Ae,j-te,_,j-te),Vi(_-Ae,j-te,_-X,j-Ie,_-X,j),Vi(_-X,j+Ie,_-Ae,j+te,_,j+te),Vi(_+Ae,j+te,_+X,j+Ie,_+X,j),na(ue),this},f.__private__.circle=f.circle=function(_,j,X,te){if(isNaN(_)||isNaN(j)||isNaN(X)||!Bt(te))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(_,j,X,X,te)},f.setFont=function(_,j,X){return X&&(j=M(j,X)),Ke=du(_,j,{disableWarning:!1}),this};var xs=f.__private__.getFont=f.getFont=function(){return It[du.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var _,j,X={};for(_ in Tt)if(Tt.hasOwnProperty(_))for(j in X[_]=[],Tt[_])Tt[_].hasOwnProperty(j)&&X[_].push(j);return X},f.addFont=function(_,j,X,te,ue){var Ae=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ae.indexOf(arguments[3])!==-1?ue=arguments[3]:arguments[3]&&Ae.indexOf(arguments[3])==-1&&(X=M(X,te)),Ga.call(this,_,j,X,ue=ue||"Identity-H")};var ko,Xa=t.lineWidth||.200025,Ec=f.__private__.getLineWidth=f.getLineWidth=function(){return Xa},dt=f.__private__.setLineWidth=f.setLineWidth=function(_){return Xa=_,K(k(D(_))+" w"),this};f.__private__.setLineDash=nt.API.setLineDash=nt.API.setLineDashPattern=function(_,j){if(_=_||[],j=j||0,isNaN(j)||!Array.isArray(_))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return _=_.map(function(X){return k(D(X))}).join(" "),j=k(D(j)),K("["+_+"] "+j+" d"),this};var _f=f.__private__.getLineHeight=f.getLineHeight=function(){return Le*ko};f.__private__.getLineHeight=f.getLineHeight=function(){return Le*ko};var bf=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(_){return typeof(_=_||1.15)=="number"&&(ko=_),this},xf=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return ko};bf(t.lineHeight);var Ri=f.__private__.getHorizontalCoordinate=function(_){return D(_)},Ys=f.__private__.getVerticalCoordinate=function(_){return P===I?_:ut[Y].mediaBox.topRightY-ut[Y].mediaBox.bottomLeftY-D(_)},Sf=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(_){return k(Ri(_))},Qa=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(_){return k(Ys(_))},Xs=t.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return Gr(Xs)},f.__private__.setStrokeColor=f.setDrawColor=function(_,j,X,te){return Xs=xr({ch1:_,ch2:j,ch3:X,ch4:te,pdfColorType:"draw",precision:2}),K(Xs),this};var Ja=t.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return Gr(Ja)},f.__private__.setFillColor=f.setFillColor=function(_,j,X,te){return Ja=xr({ch1:_,ch2:j,ch3:X,ch4:te,pdfColorType:"fill",precision:2}),K(Ja),this};var Xr=t.textColor||"0 g",ia=f.__private__.getTextColor=f.getTextColor=function(){return Gr(Xr)};f.__private__.setTextColor=f.setTextColor=function(_,j,X,te){return Xr=xr({ch1:_,ch2:j,ch3:X,ch4:te,pdfColorType:"text",precision:3}),this};var Ss=t.charSpace,mu=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(Ss||0)};f.__private__.setCharSpace=f.setCharSpace=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ss=_,this};var gn=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(_){var j=f.CapJoinStyles[_];if(j===void 0)throw new Error("Line cap style of '"+_+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return gn=j,K(j+" J"),this};var yu=0;f.__private__.setLineJoin=f.setLineJoin=function(_){var j=f.CapJoinStyles[_];if(j===void 0)throw new Error("Line join style of '"+_+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return yu=j,K(j+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(_){if(_=_||0,isNaN(_))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return K(k(D(_))+" M"),this},f.GState=s1,f.setGState=function(_){(_=typeof _=="string"?ft[_t[_]]:Pc(null,_)).equals(sn)||(K("/"+_.id+" gs"),sn=_)};var Pc=function(_,j){if(!_||!_t[_]){var X=!1;for(var te in ft)if(ft.hasOwnProperty(te)&&ft[te].equals(j)){X=!0;break}if(X)j=ft[te];else{var ue="GS"+(Object.keys(ft).length+1).toString(10);ft[ue]=j,j.id=ue}return _&&(_t[_]=j.id),Ot.publish("addGState",j),j}};f.addGState=function(_,j){return Pc(_,j),this},f.saveGraphicsState=function(){return K("q"),Sn.push({key:Ke,size:Le,color:Xr}),this},f.restoreGraphicsState=function(){K("Q");var _=Sn.pop();return Ke=_.key,Le=_.size,Xr=_.color,sn=null,this},f.setCurrentTransformationMatrix=function(_){return K(_.toString()+" cm"),this},f.comment=function(_){return K("#"+_),this};var As=function(_,j){var X=_||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return X},set:function(Ae){isNaN(Ae)||(X=parseFloat(Ae))}});var te=j||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return te},set:function(Ae){isNaN(Ae)||(te=parseFloat(Ae))}});var ue="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ue},set:function(Ae){ue=Ae.toString()}}),this},Za=function(_,j,X,te){As.call(this,_,j),this.type="rect";var ue=X||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ue},set:function(Ie){isNaN(Ie)||(ue=parseFloat(Ie))}});var Ae=te||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ae},set:function(Ie){isNaN(Ie)||(Ae=parseFloat(Ie))}}),this},ra=function(){this.page=Ct,this.currentPage=Y,this.pages=Re.slice(0),this.pagesContext=ut.slice(0),this.x=tt,this.y=mn,this.matrix=Vt,this.width=Sr(Y),this.height=Ic(Y),this.outputDestination=Ce,this.id="",this.objectNumber=-1};ra.prototype.restore=function(){Ct=this.page,Y=this.currentPage,ut=this.pagesContext,Re=this.pages,tt=this.x,mn=this.y,Vt=this.matrix,vu(Y,this.width),Ar(Y,this.height),Ce=this.outputDestination};var To=function(_,j,X,te,ue){er.push(new ra),Ct=Y=0,Re=[],tt=_,mn=j,Vt=ue,Yr([X,te])};for(var Eo in f.beginFormObject=function(_,j,X,te,ue){return To(_,j,X,te,ue),this},f.endFormObject=function(_){return function(j){if(vs[j])er.pop().restore();else{var X=new ra,te="Xo"+(Object.keys(ni).length+1).toString(10);X.id=te,vs[j]=te,ni[te]=X,Ot.publish("addFormObject",X),er.pop().restore()}}(_),this},f.doFormObject=function(_,j){var X=ni[vs[_]];return K("q"),K(j.toString()+" cm"),K("/"+X.id+" Do"),K("Q"),this},f.getFormObject=function(_){var j=ni[vs[_]];return{x:j.x,y:j.y,width:j.width,height:j.height,matrix:j.matrix}},f.save=function(_,j){return _=_||"generated.pdf",(j=j||{}).returnPromise=j.returnPromise||!1,j.returnPromise===!1?(Du(Zo(_s()),_),typeof Du.unload=="function"&&wt.setTimeout&&setTimeout(Du.unload,911),this):new Promise(function(X,te){try{var ue=Du(Zo(_s()),_);typeof Du.unload=="function"&&wt.setTimeout&&setTimeout(Du.unload,911),X(ue)}catch(Ae){te(Ae.message)}})},nt.API)nt.API.hasOwnProperty(Eo)&&(Eo==="events"&&nt.API.events.length?function(_,j){var X,te,ue;for(ue=j.length-1;ue!==-1;ue--)X=j[ue][0],te=j[ue][1],_.subscribe.apply(_,[X].concat(typeof te=="function"?[te]:te))}(Ot,nt.API.events):f[Eo]=nt.API[Eo]);function Sr(_){return ut[_].mediaBox.topRightX-ut[_].mediaBox.bottomLeftX}function vu(_,j){ut[_].mediaBox.topRightX=j+ut[_].mediaBox.bottomLeftX}function Ic(_){return ut[_].mediaBox.topRightY-ut[_].mediaBox.bottomLeftY}function Ar(_,j){ut[_].mediaBox.topRightY=j+ut[_].mediaBox.bottomLeftY}var ks=f.getPageWidth=function(_){return Sr(_=_||Y)/St},el=f.setPageWidth=function(_,j){vu(_,j*St)},Ts=f.getPageHeight=function(_){return Ic(_=_||Y)/St},wu=f.setPageHeight=function(_,j){Ar(_,j*St)};return f.internal={pdfEscape:Li,getStyle:ta,getFont:xs,getFontSize:We,getCharSpace:mu,getTextColor:ia,getLineHeight:_f,getLineHeightFactor:xf,getLineWidth:Ec,write:Be,getHorizontalCoordinate:Ri,getVerticalCoordinate:Ys,getCoordinateString:Sf,getVerticalCoordinateString:Qa,collections:{},newObject:Mn,newAdditionalObject:Xo,newObjectDeferred:gi,newObjectDeferredBegin:Dn,getFilters:nr,putStream:ii,events:Ot,scaleFactor:St,pageSize:{getWidth:function(){return ks(Y)},setWidth:function(_){el(Y,_)},getHeight:function(){return Ts(Y)},setHeight:function(_){wu(Y,_)}},encryptionOptions:c,encryption:yn,getEncryptor:function(_){return c!==null?yn.encryptor(_,0):function(j){return j}},output:pu,getNumberOfPages:fu,get pages(){return Re},out:K,f2:E,f3:L,getPageInfo:_i,getPageInfoByObjId:ea,getCurrentPageInfo:Ya,getPDFVersion:w,Point:As,Rectangle:Za,Matrix:ht,hasHotfix:Dr},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return ks(Y)},set:function(_){el(Y,_)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return Ts(Y)},set:function(_){wu(Y,_)},enumerable:!0,configurable:!0}),(function(_){for(var j=0,X=ct.length;j<X;j++){var te=Ga.call(this,_[j][0],_[j][1],_[j][2],ct[j][3],!0);h===!1&&(d[te]=!0);var ue=_[j][0].split("-");uu({id:te,fontName:ue[0],fontStyle:ue[1]||""})}Ot.publish("addFonts",{fonts:It,dictionary:Tt})}).call(f,ct),Ke="F1",Ka(r,n),Ot.publish("initialized"),f}Uc.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},Uc.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Uc.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},Uc.prototype.processOwnerPassword=function(t,e){return aw(ow(e).substr(0,5),t)},Uc.prototype.encryptor=function(t,e){var n=ow(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(i){return aw(n,i)}},s1.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||fn(t)!==fn(this))return!1;var i=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;i++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&i--;return i===0},nt.API={events:[]},nt.version="4.2.0";var Jn=nt.API,yx=1,bc=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Fc=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},dc=function(t){return t.toString().replace(/#/g,"#23").replace(/[\s\n\r()<>[\]{}\/%]/g,function(e){var n=e.charCodeAt(0).toString(16).toUpperCase();return"#"+(n.length===1?"0"+n:n)})},kt=function(t){return t.toFixed(2)},yl=function(t){return t.toFixed(5)};Jn.__acroform__={};var $r=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},X3=function(t){return t*yx},Do=function(t){var e=new F8,n=Ge.internal.getHeight(t)||0,i=Ge.internal.getWidth(t)||0;return e.BBox=[0,0,Number(kt(i)),Number(kt(n))],e},YZ=Jn.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},XZ=Jn.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},QZ=Jn.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},hi=Jn.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return QZ(t,e-1)},fi=Jn.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return YZ(t,e-1)},di=Jn.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return XZ(t,e-1)},JZ=Jn.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,i=e.internal.getVerticalCoordinate,r=t[0],s=t[1],o=t[2],a=t[3],l={};return l.lowerLeft_X=n(r)||0,l.lowerLeft_Y=i(s+a)||0,l.upperRight_X=n(r+o)||0,l.upperRight_Y=i(s)||0,[Number(kt(l.lowerLeft_X)),Number(kt(l.lowerLeft_Y)),Number(kt(l.upperRight_X)),Number(kt(l.upperRight_Y))]},ZZ=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,i=lw(t,n),r=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+r+" "+kt(i.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(i.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=Do(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},lw=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,i={text:"",fontSize:""},r=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");r=t.multiline?r.map(function(E){return E.split(`
`)}):r.map(function(E){return[E]});var s=n,o=Ge.internal.getHeight(t)||0;o=o<0?-o:o;var a=Ge.internal.getWidth(t)||0;a=a<0?-a:a;var l=function(E,L,D){if(E+1<r.length){var Z=L+" "+r[E+1][0];return gm(Z,t,D).width<=a-4}return!1};s++;e:for(;s>0;){e="",s--;var u,c,h=gm("3",t,s).height,d=t.multiline?o-s:(o-h)/2,f=d+=2,y=0,w=0,b=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+gm(e,t,s=12).width+", FieldWidth:"+a+`
`;break}for(var v="",S=0,I=0;I<r.length;I++)if(r.hasOwnProperty(I)){var P=!1;if(r[I].length!==1&&b!==r[I].length-1){if((h+2)*(S+2)+2>o)continue e;v+=r[I][b],P=!0,w=I,I--}else{v=(v+=r[I][b]+" ").substr(v.length-1)==" "?v.substr(0,v.length-1):v;var F=parseInt(I),H=l(F,v,s),M=I>=r.length-1;if(H&&!M){v+=" ",b=0;continue}if(H||M){if(M)w=F;else if(t.multiline&&(h+2)*(S+2)+2>o)continue e}else{if(!t.multiline||(h+2)*(S+2)+2>o)continue e;w=F}}for(var k="",T=y;T<=w;T++){var O=r[T];if(t.multiline){if(T===w){k+=O[b]+" ",b=(b+1)%O.length;continue}if(T===y){k+=O[O.length-1]+" ";continue}}k+=O[0]+" "}switch(k=k.substr(k.length-1)==" "?k.substr(0,k.length-1):k,c=gm(k,t,s).width,t.textAlign){case"right":u=a-c-2;break;case"center":u=(a-c)/2;break;default:u=2}e+=kt(u)+" "+kt(f)+` Td
`,e+="("+bc(k)+`) Tj
`,e+=-kt(u)+` 0 Td
`,f=-(s+2),c=0,y=P?w:w+1,S++,v=""}break}return i.text=e,i.fontSize=s,i},gm=function(t,e,n){var i=e.scope.internal.getFont(e.fontName,e.fontStyle),r=e.scope.getStringUnitWidth(t,{font:i,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:i,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:r}},eee={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},tee=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(i){return i.type===n.type&&i.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},nee=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(mo.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(eee)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");yx=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new j8,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var i=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var r in i)if(i.hasOwnProperty(r)){var s=i[r];s.objId=void 0,s.hasAnnotation&&tee(s,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(i,r){var s=!i;for(var o in i||(r.internal.newObjectDeferredBegin(r.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),r.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),i=i||r.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(i.hasOwnProperty(o)){var a=i[o],l=[],u=a.Rect;if(a.Rect&&(a.Rect=JZ(a.Rect,r)),r.internal.newObjectDeferredBegin(a.objId,!0),a.DA=Ge.createDefaultAppearanceStream(a),fn(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=u,a.hasAppearanceStream&&!a.appearanceStreamContent){var c=ZZ(a);l.push({key:"AP",value:"<</N "+c+">>"}),r.internal.acroformPlugin.xForms.push(c)}if(a.appearanceStreamContent){var h="";for(var d in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(d)){var f=a.appearanceStreamContent[d];if(h+="/"+d+" ",h+="<<",Object.keys(f).length>=1||Array.isArray(f)){for(var o in f)if(f.hasOwnProperty(o)){var y=f[o];typeof y=="function"&&(y=y.call(r,a)),h+="/"+o+" "+y+" ",r.internal.acroformPlugin.xForms.indexOf(y)>=0||r.internal.acroformPlugin.xForms.push(y)}}else typeof(y=f)=="function"&&(y=y.call(r,a)),h+="/"+o+" "+y,r.internal.acroformPlugin.xForms.indexOf(y)>=0||r.internal.acroformPlugin.xForms.push(y);h+=">>"}l.push({key:"AP",value:`<<
`+h+">>"})}r.internal.putStream({additionalKeyValues:l,objectId:a.objId}),r.internal.out("endobj")}s&&function(w,b){for(var v in w)if(w.hasOwnProperty(v)){var S=v,I=w[v];b.internal.newObjectDeferredBegin(I.objId,!0),fn(I)==="object"&&typeof I.putStream=="function"&&I.putStream(),delete w[S]}}(r.internal.acroformPlugin.xForms,r)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},O8=Jn.__acroform__.arrayToPdfArray=function(t,e,n){var i=function(o){return o};if(Array.isArray(t)){for(var r="[",s=0;s<t.length;s++)switch(s!==0&&(r+=" "),fn(t[s])){case"boolean":case"number":case"object":r+=t[s].toString();break;case"string":t[s].substr(0,1)==="/"?r+="/"+dc(t[s].substr(1)):(e!==void 0&&n&&(i=n.internal.getEncryptor(e)),r+="("+bc(i(t[s].toString()))+")")}return r+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},X2=function(t,e,n){var i=function(r){return r};return e!==void 0&&n&&(i=n.internal.getEncryptor(e)),(t=t||"").toString(),"("+bc(i(t))+")"},Vo=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Vo.prototype.toString=function(){return this.objId+" 0 R"},Vo.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Vo.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var i=e[n],r=this[i];r&&(Array.isArray(r)?t.push({key:i,value:O8(r,this.objId,this.scope)}):r instanceof Vo?(r.scope=this.scope,t.push({key:i,value:r.objId+" 0 R"})):typeof r!="function"&&t.push({key:i,value:r}))}return t};var F8=function(){Vo.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};$r(F8,Vo);var j8=function(){Vo.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(i){return i};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+bc(n(t))+")"}},set:function(n){t=n}})};$r(j8,Vo);var mo=function t(){Vo.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute F supplied.');e=v}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!hi(e,3)},set:function(v){v?this.F=fi(e,3):this.F=di(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute Ff supplied.');n=v}});var i=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(i.length!==0)return i},set:function(v){i=v!==void 0?v:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[0])?0:i[0]},set:function(v){i[0]=v}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[1])?0:i[1]},set:function(v){i[1]=v}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[2])?0:i[2]},set:function(v){i[2]=v}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[3])?0:i[3]},set:function(v){i[3]=v}});var r="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return r},set:function(v){switch(v){case"/Btn":case"/Tx":case"/Ch":case"/Sig":r=v;break;default:throw new Error('Invalid value "'+v+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof o1)return;s="FieldObject"+t.FieldNum++}var v=function(S){return S};return this.scope&&(v=this.scope.internal.getEncryptor(this.objId)),"("+bc(v(s))+")"},set:function(v){s=v.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(v){s=v}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(v){o=v}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(v){a=v}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(v){l=v}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/yx:u},set:function(v){u=v}});var c="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return c},set:function(v){c=v}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof o1||this instanceof Qu))return X2(h,this.objId,this.scope)},set:function(v){v=v.toString(),h=v}});var d=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(d)return this instanceof Oi==0?X2(d,this.objId,this.scope):d},set:function(v){v=v.toString(),d=this instanceof Oi==0?v.substr(0,1)==="("?Fc(v.substr(1,v.length-2)):Fc(v):v}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Oi==1?Fc(d.substr(1,d.length-1)):d},set:function(v){v=v.toString(),d=this instanceof Oi==1?"/"+dc(v):v}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(v){this.V=v}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof Oi==0?X2(f,this.objId,this.scope):f},set:function(v){v=v.toString(),f=this instanceof Oi==0?v.substr(0,1)==="("?Fc(v.substr(1,v.length-2)):Fc(v):v}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Oi==1?Fc(f.substr(1,f.length-1)):f},set:function(v){v=v.toString(),f=this instanceof Oi==1?"/"+dc(v):v}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var y,w=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return w},set:function(v){v=!!v,w=v}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(y)return y},set:function(v){y=v}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!hi(this.Ff,1)},set:function(v){v?this.Ff=fi(this.Ff,1):this.Ff=di(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!hi(this.Ff,2)},set:function(v){v?this.Ff=fi(this.Ff,2):this.Ff=di(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!hi(this.Ff,3)},set:function(v){v?this.Ff=fi(this.Ff,3):this.Ff=di(this.Ff,3)}});var b=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(b!==null)return b},set:function(v){if([0,1,2].indexOf(v)===-1)throw new Error('Invalid value "'+v+'" for attribute Q supplied.');b=v}}),Object.defineProperty(this,"textAlign",{get:function(){var v;switch(b){case 0:default:v="left";break;case 1:v="center";break;case 2:v="right"}return v},configurable:!0,enumerable:!0,set:function(v){switch(v){case"right":case 2:b=2;break;case"center":case 1:b=1;break;default:b=0}}})};$r(mo,Vo);var kh=function(){mo.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return O8(e,this.objId,this.scope)},set:function(n){var i,r;r=[],typeof(i=n)=="string"&&(r=function(s,o,a){a||(a=1);for(var l,u=[];l=o.exec(s);)u.push(l[a]);return u}(i,/\((.*?)\)/g)),e=r}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,i){for(i=i||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),i!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!hi(this.Ff,18)},set:function(n){n?this.Ff=fi(this.Ff,18):this.Ff=di(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!hi(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=fi(this.Ff,19):this.Ff=di(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!hi(this.Ff,20)},set:function(n){n?(this.Ff=fi(this.Ff,20),e.sort()):this.Ff=di(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!hi(this.Ff,22)},set:function(n){n?this.Ff=fi(this.Ff,22):this.Ff=di(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!hi(this.Ff,23)},set:function(n){n?this.Ff=fi(this.Ff,23):this.Ff=di(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!hi(this.Ff,27)},set:function(n){n?this.Ff=fi(this.Ff,27):this.Ff=di(this.Ff,27)}}),this.hasAppearanceStream=!1};$r(kh,mo);var Th=function(){kh.call(this),this.fontName="helvetica",this.combo=!1};$r(Th,kh);var Eh=function(){Th.call(this),this.combo=!0};$r(Eh,Th);var Km=function(){Eh.call(this),this.edit=!0};$r(Km,Eh);var Oi=function(){mo.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!hi(this.Ff,15)},set:function(n){n?this.Ff=fi(this.Ff,15):this.Ff=di(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!hi(this.Ff,16)},set:function(n){n?this.Ff=fi(this.Ff,16):this.Ff=di(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!hi(this.Ff,17)},set:function(n){n?this.Ff=fi(this.Ff,17):this.Ff=di(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!hi(this.Ff,26)},set:function(n){n?this.Ff=fi(this.Ff,26):this.Ff=di(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var i,r=[];for(i in r.push("<<"),e)r.push("/"+i+" ("+bc(n(e[i]))+")");return r.push(">>"),r.join(`
`)}},set:function(n){fn(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){var i=n==null?"":n.toString();i.substr(0,1)==="/"&&(i=i.substr(1)),t="/"+dc(i)}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+dc(n)}})};$r(Oi,mo);var Ym=function(){Oi.call(this),this.pushButton=!0};$r(Ym,Oi);var Ph=function(){Oi.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};$r(Ph,Oi);var o1=function(){var t,e;mo.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(r){e=r}});var n,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(a){return a};this.scope&&(r=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),i)o.push("/"+s+" ("+bc(r(i[s]))+")");return o.push(">>"),o.join(`
`)},set:function(r){fn(r)==="object"&&(i=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(r){typeof r=="string"&&(i.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(r){var s=r==null?"":r.toString();s.substr(0,1)==="/"&&(s=s.substr(1)),n="/"+dc(s)}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(r){var s=r==null?"":r.toString();s.substr(0,1)==="/"&&(s=s.substr(1)),n="/"+dc(s)}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ge.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};$r(o1,mo),Ph.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},Ph.prototype.createOption=function(t){var e=new o1;return e.Parent=this,e.optionName=t,this.Kids.push(e),iee.call(this.scope,e),e};var Xm=function(){Oi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ge.CheckBox.createAppearanceStream()};$r(Xm,Oi);var Qu=function(){mo.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!hi(this.Ff,13)},set:function(e){e?this.Ff=fi(this.Ff,13):this.Ff=di(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!hi(this.Ff,21)},set:function(e){e?this.Ff=fi(this.Ff,21):this.Ff=di(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!hi(this.Ff,23)},set:function(e){e?this.Ff=fi(this.Ff,23):this.Ff=di(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!hi(this.Ff,24)},set:function(e){e?this.Ff=fi(this.Ff,24):this.Ff=di(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!hi(this.Ff,25)},set:function(e){e?this.Ff=fi(this.Ff,25):this.Ff=di(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!hi(this.Ff,26)},set:function(e){e?this.Ff=fi(this.Ff,26):this.Ff=di(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};$r(Qu,mo);var Qm=function(){Qu.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!hi(this.Ff,14)},set:function(t){t?this.Ff=fi(this.Ff,14):this.Ff=di(this.Ff,14)}}),this.password=!0};$r(Qm,Qu);var Ge={CheckBox:{createAppearanceStream:function(){return{N:{On:Ge.CheckBox.YesNormal},D:{On:Ge.CheckBox.YesPushDown,Off:Ge.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Do(t);e.scope=t.scope;var n=[],i=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),s=lw(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+kt(Ge.internal.getWidth(t))+" "+kt(Ge.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+i+" "+kt(s.fontSize)+" Tf "+r),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=Do(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),r=[],s=Ge.internal.getHeight(t),o=Ge.internal.getWidth(t),a=lw(t,t.caption);return r.push("1 g"),r.push("0 0 "+kt(o)+" "+kt(s)+" re"),r.push("f"),r.push("q"),r.push("0 0 1 rg"),r.push("0 0 "+kt(o-1)+" "+kt(s-1)+" re"),r.push("W"),r.push("n"),r.push("0 g"),r.push("BT"),r.push("/"+n+" "+kt(a.fontSize)+" Tf "+i),r.push(a.text),r.push("ET"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Do(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+kt(Ge.internal.getWidth(t))+" "+kt(Ge.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Ge.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Ge.RadioButton.Circle.YesNormal,e.D[t]=Ge.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Do(t);e.scope=t.scope;var n=[],i=Ge.internal.getWidth(t)<=Ge.internal.getHeight(t)?Ge.internal.getWidth(t)/4:Ge.internal.getHeight(t)/4;i=Number((.9*i).toFixed(5));var r=Ge.internal.Bezier_C,s=Number((i*r).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+yl(Ge.internal.getWidth(t)/2)+" "+yl(Ge.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Do(t);e.scope=t.scope;var n=[],i=Ge.internal.getWidth(t)<=Ge.internal.getHeight(t)?Ge.internal.getWidth(t)/4:Ge.internal.getHeight(t)/4;i=Number((.9*i).toFixed(5));var r=Number((2*i).toFixed(5)),s=Number((r*Ge.internal.Bezier_C).toFixed(5)),o=Number((i*Ge.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+yl(Ge.internal.getWidth(t)/2)+" "+yl(Ge.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+yl(Ge.internal.getWidth(t)/2)+" "+yl(Ge.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),n.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),n.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),n.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Do(t);e.scope=t.scope;var n=[],i=Ge.internal.getWidth(t)<=Ge.internal.getHeight(t)?Ge.internal.getWidth(t)/4:Ge.internal.getHeight(t)/4;i=Number((.9*i).toFixed(5));var r=Number((2*i).toFixed(5)),s=Number((r*Ge.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+yl(Ge.internal.getWidth(t)/2)+" "+yl(Ge.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Ge.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Ge.RadioButton.Cross.YesNormal,e.D[t]=Ge.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Do(t);e.scope=t.scope;var n=[],i=Ge.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+kt(Ge.internal.getWidth(t)-2)+" "+kt(Ge.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(kt(i.x1.x)+" "+kt(i.x1.y)+" m"),n.push(kt(i.x2.x)+" "+kt(i.x2.y)+" l"),n.push(kt(i.x4.x)+" "+kt(i.x4.y)+" m"),n.push(kt(i.x3.x)+" "+kt(i.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Do(t);e.scope=t.scope;var n=Ge.internal.calculateCross(t),i=[];return i.push("0.749023 g"),i.push("0 0 "+kt(Ge.internal.getWidth(t))+" "+kt(Ge.internal.getHeight(t))+" re"),i.push("f"),i.push("q"),i.push("1 1 "+kt(Ge.internal.getWidth(t)-2)+" "+kt(Ge.internal.getHeight(t)-2)+" re"),i.push("W"),i.push("n"),i.push(kt(n.x1.x)+" "+kt(n.x1.y)+" m"),i.push(kt(n.x2.x)+" "+kt(n.x2.y)+" l"),i.push(kt(n.x4.x)+" "+kt(n.x4.y)+" m"),i.push(kt(n.x3.x)+" "+kt(n.x3.y)+" l"),i.push("s"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=Do(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+kt(Ge.internal.getWidth(t))+" "+kt(Ge.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};Ge.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Ge.internal.getWidth(t),n=Ge.internal.getHeight(t),i=Math.min(e,n);return{x1:{x:(e-i)/2,y:(n-i)/2+i},x2:{x:(e-i)/2+i,y:(n-i)/2},x3:{x:(e-i)/2,y:(n-i)/2},x4:{x:(e-i)/2+i,y:(n-i)/2+i}}}},Ge.internal.getWidth=function(t){var e=0;return fn(t)==="object"&&(e=X3(t.Rect[2])),e},Ge.internal.getHeight=function(t){var e=0;return fn(t)==="object"&&(e=X3(t.Rect[3])),e};var iee=Jn.addField=function(t){if(nee(this,t),!(t instanceof mo))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Jn.AcroFormChoiceField=kh,Jn.AcroFormListBox=Th,Jn.AcroFormComboBox=Eh,Jn.AcroFormEditBox=Km,Jn.AcroFormButton=Oi,Jn.AcroFormPushButton=Ym,Jn.AcroFormRadioButton=Ph,Jn.AcroFormCheckBox=Xm,Jn.AcroFormTextField=Qu,Jn.AcroFormPasswordField=Qm,Jn.AcroFormAppearance=Ge,Jn.AcroForm={ChoiceField:kh,ListBox:Th,ComboBox:Eh,EditBox:Km,Button:Oi,PushButton:Ym,RadioButton:Ph,CheckBox:Xm,TextField:Qu,PasswordField:Qm,Appearance:Ge},nt.AcroForm={ChoiceField:kh,ListBox:Th,ComboBox:Eh,EditBox:Km,Button:Oi,PushButton:Ym,RadioButton:Ph,CheckBox:Xm,TextField:Qu,PasswordField:Qm,Appearance:Ge};nt.AcroForm;function V8(t){return t.reduce(function(e,n,i){return e[n]=i,e},{})}(function(t){var e="addImage_";t.__addimage__={};var n="UNKNOWN",i={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=t.__addimage__.getImageFileTypeByImageData=function(E,L){var D,Z,oe,ce,ae,$=n;if((L=L||n)==="RGBA"||E.data!==void 0&&E.data instanceof Uint8ClampedArray&&"height"in E&&"width"in E)return"RGBA";if(H(E))for(ae in i)for(oe=i[ae],D=0;D<oe.length;D+=1){for(ce=!0,Z=0;Z<oe[D].length;Z+=1)if(oe[D][Z]!==void 0&&oe[D][Z]!==E[Z]){ce=!1;break}if(ce===!0){$=ae;break}}else for(ae in i)for(oe=i[ae],D=0;D<oe.length;D+=1){for(ce=!0,Z=0;Z<oe[D].length;Z+=1)if(oe[D][Z]!==void 0&&oe[D][Z]!==E.charCodeAt(Z)){ce=!1;break}if(ce===!0){$=ae;break}}return $===n&&L!==n&&($=L),$},s=function E(L){for(var D=this.internal.write,Z=this.internal.putStream,oe=(0,this.internal.getFilters)();oe.indexOf("FlateEncode")!==-1;)oe.splice(oe.indexOf("FlateEncode"),1);L.objectId=this.internal.newObject();var ce=[];if(ce.push({key:"Type",value:"/XObject"}),ce.push({key:"Subtype",value:"/Image"}),ce.push({key:"Width",value:L.width}),ce.push({key:"Height",value:L.height}),L.colorSpace===v.INDEXED?ce.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(L.palette.length/3-1)+" "+("sMask"in L&&L.sMask!==void 0?L.objectId+2:L.objectId+1)+" 0 R]"}):(ce.push({key:"ColorSpace",value:"/"+L.colorSpace}),L.colorSpace===v.DEVICE_CMYK&&ce.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ce.push({key:"BitsPerComponent",value:L.bitsPerComponent}),"decodeParameters"in L&&L.decodeParameters!==void 0&&ce.push({key:"DecodeParms",value:"<<"+L.decodeParameters+">>"}),"transparency"in L&&Array.isArray(L.transparency)&&L.transparency.length>0){for(var ae="",$=0,ie=L.transparency.length;$<ie;$++)ae+=L.transparency[$]+" "+L.transparency[$]+" ";ce.push({key:"Mask",value:"["+ae+"]"})}L.sMask!==void 0&&ce.push({key:"SMask",value:L.objectId+1+" 0 R"});var me=L.filter!==void 0?["/"+L.filter]:void 0;if(Z({data:L.data,additionalKeyValues:ce,alreadyAppliedFilters:me,objectId:L.objectId}),D("endobj"),"sMask"in L&&L.sMask!==void 0){var ve,B=(ve=L.sMaskBitsPerComponent)!==null&&ve!==void 0?ve:L.bitsPerComponent,Y={width:L.width,height:L.height,colorSpace:"DeviceGray",bitsPerComponent:B,data:L.sMask};"filter"in L&&(Y.decodeParameters="/Predictor ".concat(L.predictor," /Colors 1 /BitsPerComponent ").concat(B," /Columns ").concat(L.width),Y.filter=L.filter),E.call(this,Y)}if(L.colorSpace===v.INDEXED){var ee=this.internal.newObject();Z({data:k(new Uint8Array(L.palette)),objectId:ee}),D("endobj")}},o=function(){var E=this.internal.collections[e+"images"];for(var L in E)s.call(this,E[L])},a=function(){var E,L=this.internal.collections[e+"images"],D=this.internal.write;for(var Z in L)D("/I"+(E=L[Z]).index,E.objectId,"0","R")},l=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",a))},u=function(){var E=this.internal.collections[e+"images"];return l.call(this),E},c=function(){return Object.keys(this.internal.collections[e+"images"]).length},h=function(E){return typeof t["process"+E.toUpperCase()]=="function"},d=function(E){return fn(E)==="object"&&E.nodeType===1},f=function(E,L){if(E.nodeName==="IMG"&&E.hasAttribute("src")){var D=""+E.getAttribute("src");if(D.indexOf("data:image/")===0)return Gm(unescape(D).split("base64,").pop());var Z=t.loadFile(D,!0);if(Z!==void 0)return Z}if(E.nodeName==="CANVAS"){if(E.width===0||E.height===0)throw new Error("Given canvas must have data. Canvas width: "+E.width+", height: "+E.height);var oe;switch(L){case"PNG":oe="image/png";break;case"WEBP":oe="image/webp";break;default:oe="image/jpeg"}return Gm(E.toDataURL(oe,1).split("base64,").pop())}},y=function(E){var L=this.internal.collections[e+"images"];if(L){for(var D in L)if(E===L[D].alias)return L[D]}},w=function(E,L,D){return E||L||(E=-96,L=-96),E<0&&(E=-1*D.width*72/E/this.internal.scaleFactor),L<0&&(L=-1*D.height*72/L/this.internal.scaleFactor),E===0&&(E=L*D.width/D.height),L===0&&(L=E*D.height/D.width),[E,L]},b=function(E,L,D,Z,oe,ce){var ae=w.call(this,D,Z,oe),$=this.internal.getCoordinateString,ie=this.internal.getVerticalCoordinateString,me=u.call(this);if(D=ae[0],Z=ae[1],me[oe.index]=oe,ce){ce*=Math.PI/180;var ve=Math.cos(ce),B=Math.sin(ce),Y=function(ne){return ne.toFixed(4)},ee=[Y(ve),Y(B),Y(-1*B),Y(ve),0,0,"cm"]}this.internal.write("q"),ce?(this.internal.write([1,"0","0",1,$(E),ie(L+Z),"cm"].join(" ")),this.internal.write(ee.join(" ")),this.internal.write([$(D),"0","0",$(Z),"0","0","cm"].join(" "))):this.internal.write([$(D),"0","0",$(Z),$(E),ie(L+Z),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+oe.index+" Do"),this.internal.write("Q")},v=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var S=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},I=t.__addimage__.sHashCode=function(E){var L,D,Z=0;if(typeof E=="string")for(D=E.length,L=0;L<D;L++)Z=(Z<<5)-Z+E.charCodeAt(L),Z|=0;else if(H(E))for(D=E.byteLength/2,L=0;L<D;L++)Z=(Z<<5)-Z+E[L],Z|=0;return Z},P=t.__addimage__.validateStringAsBase64=function(E){(E=E||"").toString().trim();var L=!0;return E.length===0&&(L=!1),E.length%4!=0&&(L=!1),/^[A-Za-z0-9+/]+$/.test(E.substr(0,E.length-2))===!1&&(L=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(E.substr(-2))===!1&&(L=!1),L},F=t.__addimage__.extractImageFromDataUrl=function(E){if(E==null||!(E=E.trim()).startsWith("data:"))return null;var L=E.indexOf(",");return L<0?null:E.substring(0,L).trim().endsWith("base64")?E.substring(L+1):null};t.__addimage__.isArrayBuffer=function(E){return E instanceof ArrayBuffer};var H=t.__addimage__.isArrayBufferView=function(E){return E instanceof Int8Array||E instanceof Uint8Array||E instanceof Uint8ClampedArray||E instanceof Int16Array||E instanceof Uint16Array||E instanceof Int32Array||E instanceof Uint32Array||E instanceof Float32Array||E instanceof Float64Array},M=t.__addimage__.binaryStringToUint8Array=function(E){for(var L=E.length,D=new Uint8Array(L),Z=0;Z<L;Z++)D[Z]=E.charCodeAt(Z);return D},k=t.__addimage__.arrayBufferToBinaryString=function(E){for(var L="",D=H(E)?E:new Uint8Array(E),Z=0;Z<D.length;Z+=8192)L+=String.fromCharCode.apply(null,D.subarray(Z,Z+8192));return L};t.addImage=function(){var E,L,D,Z,oe,ce,ae,$,ie;if(typeof arguments[1]=="number"?(L=n,D=arguments[1],Z=arguments[2],oe=arguments[3],ce=arguments[4],ae=arguments[5],$=arguments[6],ie=arguments[7]):(L=arguments[1],D=arguments[2],Z=arguments[3],oe=arguments[4],ce=arguments[5],ae=arguments[6],$=arguments[7],ie=arguments[8]),fn(E=arguments[0])==="object"&&!d(E)&&"imageData"in E){var me=E;E=me.imageData,L=me.format||L||n,D=me.x||D||0,Z=me.y||Z||0,oe=me.w||me.width||oe,ce=me.h||me.height||ce,ae=me.alias||ae,$=me.compression||$,ie=me.rotation||me.angle||ie}var ve=this.internal.getFilters();if($===void 0&&ve.indexOf("FlateEncode")!==-1&&($="SLOW"),isNaN(D)||isNaN(Z))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var B=T.call(this,E,L,ae,$);return b.call(this,D,Z,oe,ce,B,ie),this};var T=function(E,L,D,Z){var oe,ce,ae;if(typeof E=="string"&&r(E)===n){E=unescape(E);var $=O(E,!1);($!==""||($=t.loadFile(E,!0))!==void 0)&&(E=$)}if(d(E)&&(E=f(E,L)),L=r(E,L),!h(L))throw new Error("addImage does not support files of type '"+L+"', please ensure that a plugin for '"+L+"' support is added.");if(((ae=D)==null||ae.length===0)&&(D=function(ie){return typeof ie=="string"||H(ie)?I(ie):H(ie.data)?I(ie.data):null}(E)),(oe=y.call(this,D))||(E instanceof Uint8Array||L==="RGBA"||(ce=E,E=M(E)),oe=this["process"+L.toUpperCase()](E,c.call(this),D,function(ie){return ie&&typeof ie=="string"&&(ie=ie.toUpperCase()),ie in t.image_compression?ie:S.NONE}(Z),ce)),!oe)throw new Error("An unknown error occurred whilst processing the image.");return oe},O=t.__addimage__.convertBase64ToBinaryString=function(E,L){L=typeof L!="boolean"||L;var D,Z="";if(typeof E=="string"){var oe;D=(oe=F(E))!==null&&oe!==void 0?oe:E;try{Z=Gm(D)}catch(ce){if(L)throw P(D)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ce.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return Z};t.getImageProperties=function(E){var L,D,Z="";if(d(E)&&(E=f(E)),typeof E=="string"&&r(E)===n&&((Z=O(E,!1))===""&&(Z=t.loadFile(E)||""),E=Z),D=r(E),!h(D))throw new Error("addImage does not support files of type '"+D+"', please ensure that a plugin for '"+D+"' support is added.");if(E instanceof Uint8Array||(E=M(E)),!(L=this["process"+D.toUpperCase()](E)))throw new Error("An unknown error occurred whilst processing the image");return L.fileType=D,L}})(nt.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};nt.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var i,r,s,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),u=n.pageContext.annotations,c=!1,h=0;h<u.length&&!c;h++)switch((i=u[h]).type){case"link":(e(i.options.url)||e(i.options.pageNumber))&&(c=!0);break;case"reference":case"text":case"freetext":c=!0}if(c!=0){this.internal.write("/Annots [");for(var d=0;d<u.length;d++){i=u[d];var f=this.internal.pdfEscape,y=this.internal.getEncryptor(n.objId);switch(i.type){case"reference":this.internal.write(" "+i.object.objId+" 0 R ");break;case"text":var w=this.internal.newAdditionalObject(),b=this.internal.newAdditionalObject(),v=this.internal.getEncryptor(w.objId),S=i.title||"Note";s="<</Type /Annot /Subtype /Text "+(r="/Rect ["+o(i.bounds.x)+" "+a(i.bounds.y+i.bounds.h)+" "+o(i.bounds.x+i.bounds.w)+" "+a(i.bounds.y)+"] ")+"/Contents ("+f(v(i.contents))+")",s+=" /Popup "+b.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+f(v(S))+") >>",w.content=s;var I=w.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(r="/Rect ["+o(i.bounds.x+30)+" "+a(i.bounds.y+i.bounds.h)+" "+o(i.bounds.x+i.bounds.w+30)+" "+a(i.bounds.y)+"] ")+" /Parent "+I,i.open&&(s+=" /Open true"),s+=" >>",b.content=s,this.internal.write(w.objId,"0 R",b.objId,"0 R");break;case"freetext":r="/Rect ["+o(i.bounds.x)+" "+a(i.bounds.y)+" "+o(i.bounds.x+i.bounds.w)+" "+a(i.bounds.y+i.bounds.h)+"] ";var P=i.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+r+"/Contents ("+f(y(i.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+P+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(i.options.name){var F=this.annotations._nameMap[i.options.name];i.options.pageNumber=F.page,i.options.top=F.y}else i.options.top||(i.options.top=0);if(r="/Rect ["+i.finalBounds.x+" "+i.finalBounds.y+" "+i.finalBounds.w+" "+i.finalBounds.h+"] ",s="",i.options.url)s="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /A <</S /URI /URI ("+f(y(i.options.url))+") >>";else if(i.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(i.options.pageNumber).objId+" 0 R",i.options.magFactor=i.options.magFactor||"XYZ",i.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+i.options.top+"]";break;case"FitV":i.options.left=i.options.left||0,s+=" /FitV "+i.options.left+"]";break;default:var H=a(i.options.top);i.options.left=i.options.left||0,i.options.zoom===void 0&&(i.options.zoom=0),s+=" /XYZ "+i.options.left+" "+H+" "+i.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var i=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":i.pageContext.annotations.push(n)}},t.link=function(n,i,r,s,o){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(n),y:u(i),w:l(n+r),h:u(i+s)},options:o,type:"link"})},t.textWithLink=function(n,i,r,s){var o,a,l=this.getTextWidth(n),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){a=s.maxWidth;var c=this.splitTextToSize(n,a).length;o=Math.ceil(u*c)}else a=l,o=u;return this.text(n,i,r,s),r+=.2*u,s.align==="center"&&(i-=l/2),s.align==="right"&&(i-=l),this.link(i,r-u,a,o,s),l},t.getTextWidth=function(n){var i=this.internal.getFontSize();return this.getStringUnitWidth(n)*i/this.internal.scaleFactor}}(nt.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},i={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},r=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(w){return e[w.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(w){return typeof w=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(w)},a=t.__arabicParser__.isArabicEndLetter=function(w){return o(w)&&s(w)&&e[w.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(w){return o(w)&&r.indexOf(w.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(w){return o(w)&&s(w)&&e[w.charCodeAt(0)].length>=1};var u=t.__arabicParser__.arabicLetterHasFinalForm=function(w){return o(w)&&s(w)&&e[w.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(w){return o(w)&&s(w)&&e[w.charCodeAt(0)].length>=3};var c=t.__arabicParser__.arabicLetterHasMedialForm=function(w){return o(w)&&s(w)&&e[w.charCodeAt(0)].length==4},h=t.__arabicParser__.resolveLigatures=function(w){var b=0,v=n,S="",I=0;for(b=0;b<w.length;b+=1)v[w.charCodeAt(b)]!==void 0?(I++,typeof(v=v[w.charCodeAt(b)])=="number"&&(S+=String.fromCharCode(v),v=n,I=0),b===w.length-1&&(v=n,S+=w.charAt(b-(I-1)),b-=I-1,I=0)):(v=n,S+=w.charAt(b-I),b-=I,I=0);return S};t.__arabicParser__.isArabicDiacritic=function(w){return w!==void 0&&i[w.charCodeAt(0)]!==void 0};var d=t.__arabicParser__.getCorrectForm=function(w,b,v){return o(w)?s(w)===!1?-1:!u(w)||!o(b)&&!o(v)||!o(v)&&a(b)||a(w)&&!o(b)||a(w)&&l(b)||a(w)&&a(b)?0:c(w)&&o(b)&&!a(b)&&o(v)&&u(v)?3:a(w)||!o(v)?1:2:-1},f=function(w){var b=0,v=0,S=0,I="",P="",F="",H=(w=w||"").split("\\s+"),M=[];for(b=0;b<H.length;b+=1){for(M.push(""),v=0;v<H[b].length;v+=1)I=H[b][v],P=H[b][v-1],F=H[b][v+1],o(I)?(S=d(I,P,F),M[b]+=S!==-1?String.fromCharCode(e[I.charCodeAt(0)][S]):I):M[b]+=I;M[b]=h(M[b])}return M.join(" ")},y=t.__arabicParser__.processArabic=t.processArabic=function(){var w,b=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,v=[];if(Array.isArray(b)){var S=0;for(v=[],S=0;S<b.length;S+=1)Array.isArray(b[S])?v.push([f(b[S][0]),b[S][1],b[S][2]]):v.push([f(b[S])]);w=v}else w=f(b);return typeof arguments[0]=="string"?w:(arguments[0].text=w,arguments[0])};t.events.push(["preProcessText",y])}(nt.API),nt.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(a){n=a}});var i=150;Object.defineProperty(this,"width",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=i+1)}});var r=300;Object.defineProperty(this,"height",{get:function(){return r},set:function(a){r=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=r+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(a){s=a}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(a){o=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,i){var r;if((n=n||"2d")!=="2d")return null;for(r in i)this.pdf.context2d.hasOwnProperty(r)&&(this.pdf.context2d[r]=i[r]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(nt.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,i=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),r.call(this))},r=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(w){l=w}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(w){u=w}});var c=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return c},set:function(w){c=w}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(w){h=w}});var d=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return d},set:function(w){d=w}});var f=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return f},set:function(w){f=w}});var y=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return y},set:function(w){y=w}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return i.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,u){i.call(this);var c=(u=u||{}).fontSize||this.getFontSize(),h=u.font||this.getFont(),d=u.scaleFactor||this.internal.scaleFactor,f=0,y=0,w=0,b=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var v=u.maxWidth;v>0?typeof l=="string"?l=this.splitTextToSize(l,v):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(I,P){return I.concat(b.splitTextToSize(P,v))},[])):l=Array.isArray(l)?l:[l];for(var S=0;S<l.length;S++)f<(w=this.getStringUnitWidth(l[S],{font:h})*c)&&(f=w);return f!==0&&(y=l.length),{w:f/=d,h:Math.max((y*c*this.getLineHeightFactor()-c*(this.getLineHeightFactor()-1))/d,0)}},t.cellAddPage=function(){i.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),i.call(this);var u=this.internal.__cell__.lastCell,c=this.internal.__cell__.padding,h=this.internal.__cell__.margins||e,d=this.internal.__cell__.tableHeaderRow,f=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===l.lineNumber?(l.x=(u.x||0)+(u.width||0),l.y=u.y||0):u.y+u.height+l.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=h.top,f&&d&&(this.printHeaderRow(l.lineNumber,!0),l.y+=d[0].height)):l.y=u.y+u.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-c,l.y+c,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+c,{align:"center",baseline:"top",maxWidth:l.width-c-c}):this.text(l.text,l.x+c,l.y+c,{align:"left",baseline:"top",maxWidth:l.width-c-c})),this.internal.__cell__.lastCell=l,this};t.table=function(l,u,c,h,d){if(i.call(this),!c)throw new Error("No data for PDF table.");var f,y,w,b,v=[],S=[],I=[],P={},F={},H=[],M=[],k=(d=d||{}).autoSize||!1,T=d.printHeaders!==!1,O=d.css&&d.css["font-size"]!==void 0?16*d.css["font-size"]:d.fontSize||12,E=d.margins||Object.assign({width:this.getPageWidth()},e),L=typeof d.padding=="number"?d.padding:3,D=d.headerBackgroundColor||"#c8c8c8",Z=d.headerTextColor||"#000";if(r.call(this),this.internal.__cell__.printHeaders=T,this.internal.__cell__.margins=E,this.internal.__cell__.table_font_size=O,this.internal.__cell__.padding=L,this.internal.__cell__.headerBackgroundColor=D,this.internal.__cell__.headerTextColor=Z,this.setFontSize(O),h==null)S=v=Object.keys(c[0]),I=v.map(function(){return"left"});else if(Array.isArray(h)&&fn(h[0])==="object")for(v=h.map(function(me){return me.name}),S=h.map(function(me){return me.prompt||me.name||""}),I=h.map(function(me){return me.align||"left"}),f=0;f<h.length;f+=1)F[h[f].name]=.7499990551181103*h[f].width;else Array.isArray(h)&&typeof h[0]=="string"&&(S=v=h,I=v.map(function(){return"left"}));if(k||Array.isArray(h)&&typeof h[0]=="string")for(f=0;f<v.length;f+=1){for(P[b=v[f]]=c.map(function(me){return me[b]}),this.setFont(void 0,"bold"),H.push(this.getTextDimensions(S[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),y=P[b],this.setFont(void 0,"normal"),w=0;w<y.length;w+=1)H.push(this.getTextDimensions(y[w],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);F[b]=Math.max.apply(null,H)+L+L,H=[]}if(T){var oe={};for(f=0;f<v.length;f+=1)oe[v[f]]={},oe[v[f]].text=S[f],oe[v[f]].align=I[f];var ce=a.call(this,oe,F);M=v.map(function(me){return new s(l,u,F[me],ce,oe[me].text,void 0,oe[me].align)}),this.setTableHeaderRow(M),this.printHeaderRow(1,!1)}var ae=h.reduce(function(me,ve){return me[ve.name]=ve.align,me},{});for(f=0;f<c.length;f+=1){"rowStart"in d&&d.rowStart instanceof Function&&d.rowStart({row:f,data:c[f]},this);var $=a.call(this,c[f],F);for(w=0;w<v.length;w+=1){var ie=c[f][v[w]];"cellStart"in d&&d.cellStart instanceof Function&&d.cellStart({row:f,col:w,data:ie},this),o.call(this,new s(l,u,F[v[w]],$,ie,f+2,ae[v[w]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=u,this};var a=function(l,u){var c=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,d=this.internal.scaleFactor;return Object.keys(l).map(function(f){var y=l[f];return this.splitTextToSize(y.hasOwnProperty("text")?y.text:y,u[f]-c-c)},this).map(function(f){return this.getLineHeightFactor()*f.length*h/d+c+c},this).reduce(function(f,y){return Math.max(f,y)},0)};t.setTableHeaderRow=function(l){i.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,u){if(i.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var c;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var d=[],f=0;f<this.internal.__cell__.tableHeaderRow.length;f+=1){c=this.internal.__cell__.tableHeaderRow[f].clone(),u&&(c.y=this.internal.__cell__.margins.top||0,d.push(c)),c.lineNumber=l;var y=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,c),this.setTextColor(y)}d.length>0&&this.setTableHeaderRow(d),this.setFont(void 0,"normal"),n=!1}}(nt.API);var B8={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},z8=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],uw=V8(z8),U8=[100,200,300,400,500,600,700,800,900],ree=V8(U8);function Q2(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(s){return B8[s=s||"normal"]?s:"normal"}(t.style),i=function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400}(t.weight),r=function(s){return typeof uw[s=s||"normal"]=="number"?s:"normal"}(t.stretch);return{family:e,style:n,weight:i,stretch:r,src:t.src||[],ref:t.ref||{name:e,style:[r,n,i].join(" ")}}}function Q3(t,e,n,i){var r;for(r=n;r>=0&&r<e.length;r+=i)if(t[e[r]])return t[e[r]];for(r=n;r>=0&&r<e.length;r-=i)if(t[e[r]])return t[e[r]]}var see={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},J3={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Z3(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function eE(t){return t.trimLeft()}function oee(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function aee(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var jc,mm,tE,nE,iE,J2=["times"];function rE(t,e,n,i,r){var s=4,o=oE;switch(r){case nt.API.image_compression.FAST:s=1,o=sE;break;case nt.API.image_compression.MEDIUM:s=6,o=aE;break;case nt.API.image_compression.SLOW:s=9,o=lE}t=function(l,u,c,h){for(var d,f=l.length/u,y=new Uint8Array(l.length+f),w=[lee,sE,oE,aE,lE],b=0;b<f;b+=1){var v=b*u,S=l.subarray(v,v+u);if(h)y.set(h(S,c,d),v+b);else{for(var I=w.length,P=[],F=0;F<I;F+=1)P[F]=w[F](S,c,d);var H=cee(P.concat());y.set(P[H],v+b)}d=S}return y}(t,e,Math.ceil(n*i/8),o);var a=nw(t,{level:s});return nt.API.__addimage__.arrayBufferToBinaryString(a)}function lee(t){var e=Array.apply([],t);return e.unshift(0),e}function sE(t,e){var n=t.length,i=[];i[0]=1;for(var r=0;r<n;r+=1){var s=t[r-e]||0;i[r+1]=t[r]-s+256&255}return i}function oE(t,e,n){var i=t.length,r=[];r[0]=2;for(var s=0;s<i;s+=1){var o=n&&n[s]||0;r[s+1]=t[s]-o+256&255}return r}function aE(t,e,n){var i=t.length,r=[];r[0]=3;for(var s=0;s<i;s+=1){var o=t[s-e]||0,a=n&&n[s]||0;r[s+1]=t[s]+256-(o+a>>>1)&255}return r}function lE(t,e,n){var i=t.length,r=[];r[0]=4;for(var s=0;s<i;s+=1){var o=uee(t[s-e]||0,n&&n[s]||0,n&&n[s-e]||0);r[s+1]=t[s]-o+256&255}return r}function uee(t,e,n){if(t===e&&e===n)return t;var i=Math.abs(e-n),r=Math.abs(t-n),s=Math.abs(t+e-n-n);return i<=r&&i<=s?t:r<=s?e:n}function cee(t){var e=t.map(function(n){return n.reduce(function(i,r){return i+Math.abs(r)},0)});return e.indexOf(Math.min.apply(null,e))}function Z2(t,e,n){var i=e*n,r=Math.floor(i/8),s=16-(i-8*r+n),o=(1<<n)-1;return W8(t,r)>>s&o}function uE(t,e,n,i){var r=n*i,s=Math.floor(r/8),o=16-(r-8*s+i),a=(1<<i)-1,l=(e&a)<<o;(function(u,c,h){if(c+1<u.byteLength)u.setUint16(c,h,!1);else{var d=h>>8&255;u.setUint8(c,d)}})(t,s,W8(t,s)&~(a<<o)&65535|l)}function W8(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function hee(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,i=t[e++]|t[e++]<<8,r=t[e++],s=r>>7,o=1<<1+(7&r);t[e++],t[e++];var a=null,l=null;s&&(a=e,l=o,e+=3*o);var u=!0,c=[],h=0,d=null,f=0,y=null;for(this.width=n,this.height=i;u&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,y=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((E=t[e++])>=0))throw Error("Invalid block size");if(E===0)break;e+=E}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var w=t[e++];h=t[e++]|t[e++]<<8,d=t[e++],1&w||(d=null),f=w>>2&7,e++;break;case 254:for(;;){if(!((E=t[e++])>=0))throw Error("Invalid block size");if(E===0)break;e+=E}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var b=t[e++]|t[e++]<<8,v=t[e++]|t[e++]<<8,S=t[e++]|t[e++]<<8,I=t[e++]|t[e++]<<8,P=t[e++],F=P>>6&1,H=1<<1+(7&P),M=a,k=l,T=!1;P>>7&&(T=!0,M=e,k=H,e+=3*H);var O=e;for(e++;;){var E;if(!((E=t[e++])>=0))throw Error("Invalid block size");if(E===0)break;e+=E}c.push({x:b,y:v,width:S,height:I,has_local_palette:T,palette_offset:M,palette_size:k,data_offset:O,data_length:e-O,transparent_index:d,interlaced:!!F,delay:h,disposal:f});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return c.length},this.loopCount=function(){return y},this.frameInfo=function(L){if(L<0||L>=c.length)throw new Error("Frame index out of range.");return c[L]},this.decodeAndBlitFrameBGRA=function(L,D){var Z=this.frameInfo(L),oe=Z.width*Z.height;if(oe>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");var ce=new Uint8Array(oe);cE(t,Z.data_offset,ce,oe);var ae=Z.palette_offset,$=Z.transparent_index;$===null&&($=256);var ie=Z.width,me=n-ie,ve=ie,B=4*(Z.y*n+Z.x),Y=4*((Z.y+Z.height)*n+Z.x),ee=B,ne=4*me;Z.interlaced===!0&&(ne+=4*n*7);for(var re=8,fe=0,we=ce.length;fe<we;++fe){var be=ce[fe];if(ve===0&&(ve=ie,(ee+=ne)>=Y&&(ne=4*me+4*n*(re-1),ee=B+(ie+me)*(re<<1),re>>=1)),be===$)ee+=4;else{var Te=t[ae+3*be],Re=t[ae+3*be+1],_e=t[ae+3*be+2];D[ee++]=_e,D[ee++]=Re,D[ee++]=Te,D[ee++]=255}--ve}},this.decodeAndBlitFrameRGBA=function(L,D){var Z=this.frameInfo(L),oe=Z.width*Z.height;if(oe>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");var ce=new Uint8Array(oe);cE(t,Z.data_offset,ce,oe);var ae=Z.palette_offset,$=Z.transparent_index;$===null&&($=256);var ie=Z.width,me=n-ie,ve=ie,B=4*(Z.y*n+Z.x),Y=4*((Z.y+Z.height)*n+Z.x),ee=B,ne=4*me;Z.interlaced===!0&&(ne+=4*n*7);for(var re=8,fe=0,we=ce.length;fe<we;++fe){var be=ce[fe];if(ve===0&&(ve=ie,(ee+=ne)>=Y&&(ne=4*me+4*n*(re-1),ee=B+(ie+me)*(re<<1),re>>=1)),be===$)ee+=4;else{var Te=t[ae+3*be],Re=t[ae+3*be+1],_e=t[ae+3*be+2];D[ee++]=Te,D[ee++]=Re,D[ee++]=_e,D[ee++]=255}--ve}}}function cE(t,e,n,i){for(var r=t[e++],s=1<<r,o=s+1,a=o+1,l=r+1,u=(1<<l)-1,c=0,h=0,d=0,f=t[e++],y=new Int32Array(4096),w=null;;){for(;c<16&&f!==0;)h|=t[e++]<<c,c+=8,f===1?f=t[e++]:--f;if(c<l)break;var b=h&u;if(h>>=l,c-=l,b!==s){if(b===o)break;for(var v=b<a?b:w,S=0,I=v;I>s;)I=y[I]>>8,++S;var P=I;if(d+S+(v!==b?1:0)>i)return void _n.log("Warning, gif stream longer than expected.");n[d++]=P;var F=d+=S;for(v!==b&&(n[d++]=P),I=v;S--;)I=y[I],n[--F]=255&I,I>>=8;w!==null&&a<4096&&(y[a++]=w<<8|P,a>=u+1&&l<12&&(++l,u=u<<1|1)),w=b}else a=o+1,u=(1<<(l=r+1))-1,w=null}return d!==i&&_n.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function ev(t){var e,n,i,r,s,o=Math.floor,a=new Array(64),l=new Array(64),u=new Array(64),c=new Array(64),h=new Array(65535),d=new Array(65535),f=new Array(64),y=new Array(64),w=[],b=0,v=7,S=new Array(64),I=new Array(64),P=new Array(64),F=new Array(256),H=new Array(2048),M=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],k=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],T=[0,1,2,3,4,5,6,7,8,9,10,11],O=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],E=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],L=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],D=[0,1,2,3,4,5,6,7,8,9,10,11],Z=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],oe=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ce(B,Y){for(var ee=0,ne=0,re=new Array,fe=1;fe<=16;fe++){for(var we=1;we<=B[fe];we++)re[Y[ne]]=[],re[Y[ne]][0]=ee,re[Y[ne]][1]=fe,ne++,ee++;ee*=2}return re}function ae(B){for(var Y=B[0],ee=B[1]-1;ee>=0;)Y&1<<ee&&(b|=1<<v),ee--,--v<0&&(b==255?($(255),$(0)):$(b),v=7,b=0)}function $(B){w.push(B)}function ie(B){$(B>>8&255),$(255&B)}function me(B,Y,ee,ne,re){for(var fe,we=re[0],be=re[240],Te=function(Le,st){var We,lt,it,$t,Mt,et,pt,Nt,Ke,St,tt=0;for(Ke=0;Ke<8;++Ke){We=Le[tt],lt=Le[tt+1],it=Le[tt+2],$t=Le[tt+3],Mt=Le[tt+4],et=Le[tt+5],pt=Le[tt+6];var mn=We+(Nt=Le[tt+7]),Vt=We-Nt,It=lt+pt,Tt=lt-pt,Sn=it+et,ot=it-et,rn=$t+Mt,ft=$t-Mt,_t=mn+rn,sn=mn-rn,Ct=It+Sn,ut=It-Sn;Le[tt]=_t+Ct,Le[tt+4]=_t-Ct;var Ot=.707106781*(ut+sn);Le[tt+2]=sn+Ot,Le[tt+6]=sn-Ot;var vo=.382683433*((_t=ft+ot)-(ut=Tt+Vt)),ni=.5411961*_t+vo,vs=1.306562965*ut+vo,er=.707106781*(Ct=ot+Tt),ht=Vt+er,En=Vt-er;Le[tt+5]=En+ni,Le[tt+3]=En-ni,Le[tt+1]=ht+vs,Le[tt+7]=ht-vs,tt+=8}for(tt=0,Ke=0;Ke<8;++Ke){We=Le[tt],lt=Le[tt+8],it=Le[tt+16],$t=Le[tt+24],Mt=Le[tt+32],et=Le[tt+40],pt=Le[tt+48];var ws=We+(Nt=Le[tt+56]),Ci=We-Nt,Ni=lt+pt,Mn=lt-pt,gi=it+et,Dn=it-et,Xo=$t+Mt,wo=$t-Mt,tr=ws+Xo,Gr=ws-Xo,xr=Ni+gi,nr=Ni-gi;Le[tt]=tr+xr,Le[tt+32]=tr-xr;var ii=.707106781*(nr+Gr);Le[tt+16]=Gr+ii,Le[tt+48]=Gr-ii;var _o=.382683433*((tr=wo+Dn)-(nr=Mn+Ci)),Kr=.5411961*tr+_o,Ks=1.306562965*nr+_o,bo=.707106781*(xr=Dn+Mn),Qo=Ci+bo,Jo=Ci-bo;Le[tt+40]=Jo+Kr,Le[tt+24]=Jo-Kr,Le[tt+8]=Qo+Ks,Le[tt+56]=Qo-Ks,tt++}for(Ke=0;Ke<64;++Ke)St=Le[Ke]*st[Ke],f[Ke]=St>0?St+.5|0:St-.5|0;return f}(B,Y),Re=0;Re<64;++Re)y[M[Re]]=Te[Re];var _e=y[0]-ee;ee=y[0],_e==0?ae(ne[0]):(ae(ne[d[fe=32767+_e]]),ae(h[fe]));for(var Ce=63;Ce>0&&y[Ce]==0;)Ce--;if(Ce==0)return ae(we),ee;for(var Ue,K=1;K<=Ce;){for(var Be=K;y[K]==0&&K<=Ce;)++K;var Pt=K-Be;if(Pt>=16){Ue=Pt>>4;for(var ct=1;ct<=Ue;++ct)ae(be);Pt&=15}fe=32767+y[K],ae(re[(Pt<<4)+d[fe]]),ae(h[fe]),K++}return Ce!=63&&ae(we),ee}function ve(B){B=Math.min(Math.max(B,1),100),s!=B&&(function(Y){for(var ee=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ne=0;ne<64;ne++){var re=o((ee[ne]*Y+50)/100);re=Math.min(Math.max(re,1),255),a[M[ne]]=re}for(var fe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],we=0;we<64;we++){var be=o((fe[we]*Y+50)/100);be=Math.min(Math.max(be,1),255),l[M[we]]=be}for(var Te=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Re=0,_e=0;_e<8;_e++)for(var Ce=0;Ce<8;Ce++)u[Re]=1/(a[M[Re]]*Te[_e]*Te[Ce]*8),c[Re]=1/(l[M[Re]]*Te[_e]*Te[Ce]*8),Re++}(B<50?Math.floor(5e3/B):Math.floor(200-2*B)),s=B)}this.encode=function(B,Y){Y&&ve(Y),w=new Array,b=0,v=7,ie(65496),ie(65504),ie(16),$(74),$(70),$(73),$(70),$(0),$(1),$(1),$(0),ie(1),ie(1),$(0),$(0),function(){ie(65499),ie(132),$(0);for(var lt=0;lt<64;lt++)$(a[lt]);$(1);for(var it=0;it<64;it++)$(l[it])}(),function(lt,it){ie(65472),ie(17),$(8),ie(it),ie(lt),$(3),$(1),$(17),$(0),$(2),$(17),$(1),$(3),$(17),$(1)}(B.width,B.height),function(){ie(65476),ie(418),$(0);for(var lt=0;lt<16;lt++)$(k[lt+1]);for(var it=0;it<=11;it++)$(T[it]);$(16);for(var $t=0;$t<16;$t++)$(O[$t+1]);for(var Mt=0;Mt<=161;Mt++)$(E[Mt]);$(1);for(var et=0;et<16;et++)$(L[et+1]);for(var pt=0;pt<=11;pt++)$(D[pt]);$(17);for(var Nt=0;Nt<16;Nt++)$(Z[Nt+1]);for(var Ke=0;Ke<=161;Ke++)$(oe[Ke])}(),ie(65498),ie(12),$(3),$(1),$(0),$(2),$(17),$(3),$(17),$(0),$(63),$(0);var ee=0,ne=0,re=0;b=0,v=7,this.encode.displayName="_encode_";for(var fe,we,be,Te,Re,_e,Ce,Ue,K,Be=B.data,Pt=B.width,ct=B.height,Le=4*Pt,st=0;st<ct;){for(fe=0;fe<Le;){for(Re=Le*st+fe,Ce=-1,Ue=0,K=0;K<64;K++)_e=Re+(Ue=K>>3)*Le+(Ce=4*(7&K)),st+Ue>=ct&&(_e-=Le*(st+1+Ue-ct)),fe+Ce>=Le&&(_e-=fe+Ce-Le+4),we=Be[_e++],be=Be[_e++],Te=Be[_e++],S[K]=(H[we]+H[be+256|0]+H[Te+512|0]>>16)-128,I[K]=(H[we+768|0]+H[be+1024|0]+H[Te+1280|0]>>16)-128,P[K]=(H[we+1280|0]+H[be+1536|0]+H[Te+1792|0]>>16)-128;ee=me(S,u,ee,e,i),ne=me(I,c,ne,n,r),re=me(P,c,re,n,r),fe+=32}st+=8}if(v>=0){var We=[];We[1]=v+1,We[0]=(1<<v+1)-1,ae(We)}return ie(65497),new Uint8Array(w)},t=t||50,function(){for(var B=String.fromCharCode,Y=0;Y<256;Y++)F[Y]=B(Y)}(),e=ce(k,T),n=ce(L,D),i=ce(O,E),r=ce(Z,oe),function(){for(var B=1,Y=2,ee=1;ee<=15;ee++){for(var ne=B;ne<Y;ne++)d[32767+ne]=ee,h[32767+ne]=[],h[32767+ne][1]=ee,h[32767+ne][0]=ne;for(var re=-(Y-1);re<=-B;re++)d[32767+re]=ee,h[32767+re]=[],h[32767+re][1]=ee,h[32767+re][0]=Y-1+re;B<<=1,Y<<=1}}(),function(){for(var B=0;B<256;B++)H[B]=19595*B,H[B+256|0]=38470*B,H[B+512|0]=7471*B+32768,H[B+768|0]=-11059*B,H[B+1024|0]=-21709*B,H[B+1280|0]=32768*B+8421375,H[B+1536|0]=-27439*B,H[B+1792|0]=-5329*B}(),ve(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function no(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function hE(t){function e(T){if(!T)throw Error("assert :P")}function n(T,O,E){for(var L=0;4>L;L++)if(T[O+L]!=E.charCodeAt(L))return!0;return!1}function i(T,O,E,L,D){for(var Z=0;Z<D;Z++)T[O+Z]=E[L+Z]}function r(T,O,E,L){for(var D=0;D<L;D++)T[O+D]=E}function s(T){return new Int32Array(T)}function o(T,O){for(var E=[],L=0;L<T;L++)E.push(new O);return E}function a(T,O){var E=[];return function L(D,Z,oe){for(var ce=oe[Z],ae=0;ae<ce&&(D.push(oe.length>Z+1?[]:new O),!(oe.length<Z+1));ae++)L(D[ae],Z+1,oe)}(E,0,T),E}var l=function(){var T=this;function O(p,m){for(var x=1<<m-1>>>0;p&x;)x>>>=1;return x?(p&x-1)+x:p}function E(p,m,x,C,V){e(!(C%x));do p[m+(C-=x)]=V;while(0<C)}function L(p,m,x,C,V){if(e(2328>=V),512>=V)var z=s(512);else if((z=s(V))==null)return 0;return function(U,W,G,Q,se,ge){var J,le,de=W,Se=1<<G,pe=s(16),ke=s(16);for(e(se!=0),e(Q!=null),e(U!=null),e(0<G),le=0;le<se;++le){if(15<Q[le])return 0;++pe[Q[le]]}if(pe[0]==se)return 0;for(ke[1]=0,J=1;15>J;++J){if(pe[J]>1<<J)return 0;ke[J+1]=ke[J]+pe[J]}for(le=0;le<se;++le)J=Q[le],0<Q[le]&&(ge[ke[J]++]=le);if(ke[15]==1)return(Q=new D).g=0,Q.value=ge[0],E(U,de,1,Se,Q),Se;var Ee,De=-1,Ne=Se-1,rt=0,$e=1,Lt=1,Qe=1<<G;for(le=0,J=1,se=2;J<=G;++J,se<<=1){if($e+=Lt<<=1,0>(Lt-=pe[J]))return 0;for(;0<pe[J];--pe[J])(Q=new D).g=J,Q.value=ge[le++],E(U,de+rt,se,Qe,Q),rt=O(rt,J)}for(J=G+1,se=2;15>=J;++J,se<<=1){if($e+=Lt<<=1,0>(Lt-=pe[J]))return 0;for(;0<pe[J];--pe[J]){if(Q=new D,(rt&Ne)!=De){for(de+=Qe,Ee=1<<(De=J)-G;15>De&&!(0>=(Ee-=pe[De]));)++De,Ee<<=1;Se+=Qe=1<<(Ee=De-G),U[W+(De=rt&Ne)].g=Ee+G,U[W+De].value=de-W-De}Q.g=J-G,Q.value=ge[le++],E(U,de+(rt>>G),se,Qe,Q),rt=O(rt,J)}}return $e!=2*ke[15]-1?0:Se}(p,m,x,C,V,z)}function D(){this.value=this.g=0}function Z(){this.value=this.g=0}function oe(){this.G=o(5,D),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(_u,Z)}function ce(p,m,x,C){e(p!=null),e(m!=null),e(2147483648>C),p.Ca=254,p.I=0,p.b=-8,p.Ka=0,p.oa=m,p.pa=x,p.Jd=m,p.Yc=x+C,p.Zc=4<=C?x+C-4+1:x,we(p)}function ae(p,m){for(var x=0;0<m--;)x|=Te(p,128)<<m;return x}function $(p,m){var x=ae(p,m);return be(p)?-x:x}function ie(p,m,x,C){var V,z=0;for(e(p!=null),e(m!=null),e(4294967288>C),p.Sb=C,p.Ra=0,p.u=0,p.h=0,4<C&&(C=4),V=0;V<C;++V)z+=m[x+V]<<8*V;p.Ra=z,p.bb=C,p.oa=m,p.pa=x}function me(p){for(;8<=p.u&&p.bb<p.Sb;)p.Ra>>>=8,p.Ra+=p.oa[p.pa+p.bb]<<nl-8>>>0,++p.bb,p.u-=8;ne(p)&&(p.h=1,p.u=0)}function ve(p,m){if(e(0<=m),!p.h&&m<=Zr){var x=ee(p)&Jr[m];return p.u+=m,me(p),x}return p.h=1,p.u=0}function B(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function Y(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function ee(p){return p.Ra>>>(p.u&nl-1)>>>0}function ne(p){return e(p.bb<=p.Sb),p.h||p.bb==p.Sb&&p.u>nl}function re(p,m){p.u=m,p.h=ne(p)}function fe(p){p.u>=sa&&(e(p.u>=sa),me(p))}function we(p){e(p!=null&&p.oa!=null),p.pa<p.Zc?(p.I=(p.oa[p.pa++]|p.I<<8)>>>0,p.b+=8):(e(p!=null&&p.oa!=null),p.pa<p.Yc?(p.b+=8,p.I=p.oa[p.pa++]|p.I<<8):p.Ka?p.b=0:(p.I<<=8,p.b+=8,p.Ka=1))}function be(p){return ae(p,1)}function Te(p,m){var x=p.Ca;0>p.b&&we(p);var C=p.b,V=x*m>>>8,z=(p.I>>>C>V)+0;for(z?(x-=V,p.I-=V+1<<C>>>0):x=V+1,C=x,V=0;256<=C;)V+=8,C>>=8;return C=7^V+il[C],p.b-=C,p.Ca=(x<<C)-1,z}function Re(p,m,x){p[m+0]=x>>24&255,p[m+1]=x>>16&255,p[m+2]=x>>8&255,p[m+3]=255&x}function _e(p,m){return p[m+0]|p[m+1]<<8}function Ce(p,m){return _e(p,m)|p[m+2]<<16}function Ue(p,m){return _e(p,m)|_e(p,m+2)<<16}function K(p,m){var x=1<<m;return e(p!=null),e(0<m),p.X=s(x),p.X==null?0:(p.Mb=32-m,p.Xa=m,1)}function Be(p,m){e(p!=null),e(m!=null),e(p.Xa==m.Xa),i(m.X,0,p.X,0,1<<m.Xa)}function Pt(){this.X=[],this.Xa=this.Mb=0}function ct(p,m,x,C){e(x!=null),e(C!=null);var V=x[0],z=C[0];return V==0&&(V=(p*z+m/2)/m),z==0&&(z=(m*V+p/2)/p),0>=V||0>=z?0:(x[0]=V,C[0]=z,1)}function Le(p,m){return p+(1<<m)-1>>>m}function st(p,m){return((4278255360&p)+(4278255360&m)>>>0&4278255360)+((16711935&p)+(16711935&m)>>>0&16711935)>>>0}function We(p,m){T[m]=function(x,C,V,z,U,W,G){var Q;for(Q=0;Q<U;++Q){var se=T[p](W[G+Q-1],V,z+Q);W[G+Q]=st(x[C+Q],se)}}}function lt(){this.ud=this.hd=this.jd=0}function it(p,m){return((4278124286&(p^m))>>>1)+(p&m)>>>0}function $t(p){return 0<=p&&256>p?p:0>p?0:255<p?255:void 0}function Mt(p,m){return $t(p+(p-m+.5>>1))}function et(p,m,x){return Math.abs(m-x)-Math.abs(p-x)}function pt(p,m,x,C,V,z,U){for(C=z[U-1],x=0;x<V;++x)z[U+x]=C=st(p[m+x],C)}function Nt(p,m,x,C,V){var z;for(z=0;z<x;++z){var U=p[m+z],W=U>>8&255,G=16711935&(G=(G=16711935&U)+((W<<16)+W));C[V+z]=(4278255360&U)+G>>>0}}function Ke(p,m){m.jd=255&p,m.hd=p>>8&255,m.ud=p>>16&255}function St(p,m,x,C,V,z){var U;for(U=0;U<C;++U){var W=m[x+U],G=W>>>8,Q=W,se=255&(se=(se=W>>>16)+((p.jd<<24>>24)*(G<<24>>24)>>>5));Q=255&(Q=(Q+=(p.hd<<24>>24)*(G<<24>>24)>>>5)+((p.ud<<24>>24)*(se<<24>>24)>>>5)),V[z+U]=(4278255360&W)+(se<<16)+Q}}function tt(p,m,x,C,V){T[m]=function(z,U,W,G,Q,se,ge,J,le){for(G=ge;G<J;++G)for(ge=0;ge<le;++ge)Q[se++]=V(W[C(z[U++])])},T[p]=function(z,U,W,G,Q,se,ge){var J=8>>z.b,le=z.Ea,de=z.K[0],Se=z.w;if(8>J)for(z=(1<<z.b)-1,Se=(1<<J)-1;U<W;++U){var pe,ke=0;for(pe=0;pe<le;++pe)pe&z||(ke=C(G[Q++])),se[ge++]=V(de[ke&Se]),ke>>=J}else T["VP8LMapColor"+x](G,Q,de,Se,se,ge,U,W,le)}}function mn(p,m,x,C,V){for(x=m+x;m<x;){var z=p[m++];C[V++]=z>>16&255,C[V++]=z>>8&255,C[V++]=255&z}}function Vt(p,m,x,C,V){for(x=m+x;m<x;){var z=p[m++];C[V++]=z>>16&255,C[V++]=z>>8&255,C[V++]=255&z,C[V++]=z>>24&255}}function It(p,m,x,C,V){for(x=m+x;m<x;){var z=(U=p[m++])>>16&240|U>>12&15,U=240&U|U>>28&15;C[V++]=z,C[V++]=U}}function Tt(p,m,x,C,V){for(x=m+x;m<x;){var z=(U=p[m++])>>16&248|U>>13&7,U=U>>5&224|U>>3&31;C[V++]=z,C[V++]=U}}function Sn(p,m,x,C,V){for(x=m+x;m<x;){var z=p[m++];C[V++]=255&z,C[V++]=z>>8&255,C[V++]=z>>16&255}}function ot(p,m,x,C,V,z){if(z==0)for(x=m+x;m<x;)Re(C,((z=p[m++])[0]>>24|z[1]>>8&65280|z[2]<<8&16711680|z[3]<<24)>>>0),V+=32;else i(C,V,p,m,x)}function rn(p,m){T[m][0]=T[p+"0"],T[m][1]=T[p+"1"],T[m][2]=T[p+"2"],T[m][3]=T[p+"3"],T[m][4]=T[p+"4"],T[m][5]=T[p+"5"],T[m][6]=T[p+"6"],T[m][7]=T[p+"7"],T[m][8]=T[p+"8"],T[m][9]=T[p+"9"],T[m][10]=T[p+"10"],T[m][11]=T[p+"11"],T[m][12]=T[p+"12"],T[m][13]=T[p+"13"],T[m][14]=T[p+"0"],T[m][15]=T[p+"0"]}function ft(p){return p==hy||p==fy||p==fg||p==dy}function _t(){this.eb=[],this.size=this.A=this.fb=0}function sn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Ct(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new _t,this.f.kb=new sn,this.sd=null}function ut(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Ot(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function vo(p){return alert("todo:WebPSamplerProcessPlane"),p.T}function ni(p,m){var x=p.T,C=m.ba.f.RGBA,V=C.eb,z=C.fb+p.ka*C.A,U=Ns[m.ba.S],W=p.y,G=p.O,Q=p.f,se=p.N,ge=p.ea,J=p.W,le=m.cc,de=m.dc,Se=m.Mc,pe=m.Nc,ke=p.ka,Ee=p.ka+p.T,De=p.U,Ne=De+1>>1;for(ke==0?U(W,G,null,null,Q,se,ge,J,Q,se,ge,J,V,z,null,null,De):(U(m.ec,m.fc,W,G,le,de,Se,pe,Q,se,ge,J,V,z-C.A,V,z,De),++x);ke+2<Ee;ke+=2)le=Q,de=se,Se=ge,pe=J,se+=p.Rc,J+=p.Rc,z+=2*C.A,U(W,(G+=2*p.fa)-p.fa,W,G,le,de,Se,pe,Q,se,ge,J,V,z-C.A,V,z,De);return G+=p.fa,p.j+Ee<p.o?(i(m.ec,m.fc,W,G,De),i(m.cc,m.dc,Q,se,Ne),i(m.Mc,m.Nc,ge,J,Ne),x--):1&Ee||U(W,G,null,null,Q,se,ge,J,Q,se,ge,J,V,z+C.A,null,null,De),x}function vs(p,m,x){var C=p.F,V=[p.J];if(C!=null){var z=p.U,U=m.ba.S,W=U==hg||U==fg;m=m.ba.f.RGBA;var G=[0],Q=p.ka;G[0]=p.T,p.Kb&&(Q==0?--G[0]:(--Q,V[0]-=p.width),p.j+p.ka+p.T==p.o&&(G[0]=p.o-p.j-Q));var se=m.eb;Q=m.fb+Q*m.A,p=kx(C,V[0],p.width,z,G,se,Q+(W?0:3),m.A),e(x==G),p&&ft(U)&&Lf(se,Q,W,z,G,m.A)}return 0}function er(p){var m=p.ma,x=m.ba.S,C=11>x,V=x==ug||x==cg||x==hg||x==cy||x==12||ft(x);if(m.memory=null,m.Ib=null,m.Jb=null,m.Nd=null,!Af(m.Oa,p,V?11:12))return 0;if(V&&ft(x)&&Ps(),p.da)alert("todo:use_scaling");else{if(C){if(m.Ib=vo,p.Kb){if(x=p.U+1>>1,m.memory=s(p.U+2*x),m.memory==null)return 0;m.ec=m.memory,m.fc=0,m.cc=m.ec,m.dc=m.fc+p.U,m.Mc=m.cc,m.Nc=m.dc+x,m.Ib=ni,Ps()}}else alert("todo:EmitYUV");V&&(m.Jb=vs,C&&Or())}if(C&&!zx){for(p=0;256>p;++p)TM[p]=89858*(p-128)+pg>>dg,IM[p]=-22014*(p-128)+pg,PM[p]=-45773*(p-128),EM[p]=113618*(p-128)+pg>>dg;for(p=Mf;p<my;++p)m=76283*(p-16)+pg>>dg,CM[p-Mf]=Mr(m,255),NM[p-Mf]=Mr(m+8>>4,15);zx=1}return 1}function ht(p){var m=p.ma,x=p.U,C=p.T;return e(!(1&p.ka)),0>=x||0>=C?0:(x=m.Ib(p,m),m.Jb!=null&&m.Jb(p,m,x),m.Dc+=x,1)}function En(p){p.ma.memory=null}function ws(p,m,x,C){return ve(p,8)!=47?0:(m[0]=ve(p,14)+1,x[0]=ve(p,14)+1,C[0]=ve(p,1),ve(p,3)!=0?0:!p.h)}function Ci(p,m){if(4>p)return p+1;var x=p-2>>1;return(2+(1&p)<<x)+ve(m,x)+1}function Ni(p,m){return 120<m?m-120:1<=(x=((x=fM[m-1])>>4)*p+(8-(15&x)))?x:1;var x}function Mn(p,m,x){var C=ee(x),V=p[m+=255&C].g-8;return 0<V&&(re(x,x.u+8),C=ee(x),m+=p[m].value,m+=C&(1<<V)-1),re(x,x.u+p[m].g),p[m].value}function gi(p,m,x){return x.g+=p.g,x.value+=p.value<<m>>>0,e(8>=x.g),p.g}function Dn(p,m,x){var C=p.xc;return e((m=C==0?0:p.vc[p.md*(x>>C)+(m>>C)])<p.Wb),p.Ya[m]}function Xo(p,m,x,C){var V=p.ab,z=p.c*m,U=p.C;m=U+m;var W=x,G=C;for(C=p.Ta,x=p.Ua;0<V--;){var Q=p.gc[V],se=U,ge=m,J=W,le=G,de=(G=C,W=x,Q.Ea);switch(e(se<ge),e(ge<=Q.nc),Q.hc){case 2:ri(J,le,(ge-se)*de,G,W);break;case 0:var Se=se,pe=ge,ke=G,Ee=W,De=(Qe=Q).Ea;Se==0&&(Tf(J,le,null,null,1,ke,Ee),pt(J,le+1,0,0,De-1,ke,Ee+1),le+=De,Ee+=De,++Se);for(var Ne=1<<Qe.b,rt=Ne-1,$e=Le(De,Qe.b),Lt=Qe.K,Qe=Qe.w+(Se>>Qe.b)*$e;Se<pe;){var qt=Lt,xi=Qe,Rt=1;for(Cc(J,le,ke,Ee-De,1,ke,Ee);Rt<De;){var Je=(Rt&~rt)+Ne;Je>De&&(Je=De),(0,Pf[qt[xi++]>>8&15])(J,le+ +Rt,ke,Ee+Rt-De,Je-Rt,ke,Ee+Rt),Rt=Je}le+=De,Ee+=De,++Se&rt||(Qe+=$e)}ge!=Q.nc&&i(G,W-de,G,W+(ge-se-1)*de,de);break;case 1:for(de=J,pe=le,De=(J=Q.Ea)-(Ee=J&~(ke=(le=1<<Q.b)-1)),Se=Le(J,Q.b),Ne=Q.K,Q=Q.w+(se>>Q.b)*Se;se<ge;){for(rt=Ne,$e=Q,Lt=new lt,Qe=pe+Ee,qt=pe+J;pe<Qe;)Ke(rt[$e++],Lt),If(Lt,de,pe,le,G,W),pe+=le,W+=le;pe<qt&&(Ke(rt[$e++],Lt),If(Lt,de,pe,De,G,W),pe+=De,W+=De),++se&ke||(Q+=Se)}break;case 3:if(J==G&&le==W&&0<Q.b){for(pe=G,J=de=W+(ge-se)*de-(Ee=(ge-se)*Le(Q.Ea,Q.b)),le=G,ke=W,Se=[],Ee=(De=Ee)-1;0<=Ee;--Ee)Se[Ee]=le[ke+Ee];for(Ee=De-1;0<=Ee;--Ee)pe[J+Ee]=Se[Ee];sg(Q,se,ge,G,de,G,W)}else sg(Q,se,ge,J,le,G,W)}W=C,G=x}G!=x&&i(C,x,W,G,z)}function wo(p,m){var x=p.V,C=p.Ba+p.c*p.C,V=m-p.C;if(e(m<=p.l.o),e(16>=V),0<V){var z=p.l,U=p.Ta,W=p.Ua,G=z.width;if(Xo(p,V,x,C),V=W=[W],e((x=p.C)<(C=m)),e(z.v<z.va),C>z.o&&(C=z.o),x<z.j){var Q=z.j-x;x=z.j,V[0]+=Q*G}if(x>=C?x=0:(V[0]+=4*z.v,z.ka=x-z.j,z.U=z.va-z.v,z.T=C-x,x=1),x){if(W=W[0],11>(x=p.ca).S){var se=x.f.RGBA,ge=(C=x.S,V=z.U,z=z.T,Q=se.eb,se.A),J=z;for(se=se.fb+p.Ma*se.A;0<J--;){var le=U,de=W,Se=V,pe=Q,ke=se;switch(C){case lg:Cf(le,de,Se,pe,ke);break;case ug:rl(le,de,Se,pe,ke);break;case hy:rl(le,de,Se,pe,ke),Lf(pe,ke,0,Se,1,0);break;case Lx:bu(le,de,Se,pe,ke);break;case cg:ot(le,de,Se,pe,ke,1);break;case fy:ot(le,de,Se,pe,ke,1),Lf(pe,ke,0,Se,1,0);break;case hg:ot(le,de,Se,pe,ke,0);break;case fg:ot(le,de,Se,pe,ke,0),Lf(pe,ke,1,Se,1,0);break;case cy:sl(le,de,Se,pe,ke);break;case dy:sl(le,de,Se,pe,ke),Ax(pe,ke,Se,1,0);break;case Rx:ol(le,de,Se,pe,ke);break;default:e(0)}W+=G,se+=ge}p.Ma+=z}else alert("todo:EmitRescaledRowsYUVA");e(p.Ma<=x.height)}}p.C=m,e(p.C<=p.i)}function tr(p){var m;if(0<p.ua)return 0;for(m=0;m<p.Wb;++m){var x=p.Ya[m].G,C=p.Ya[m].H;if(0<x[1][C[1]+0].g||0<x[2][C[2]+0].g||0<x[3][C[3]+0].g)return 0}return 1}function Gr(p,m,x,C,V,z){if(p.Z!=0){var U=p.qd,W=p.rd;for(e(ul[p.Z]!=null);m<x;++m)ul[p.Z](U,W,C,V,C,V,z),U=C,W=V,V+=z;p.qd=U,p.rd=W}}function xr(p,m){var x=p.l.ma,C=x.Z==0||x.Z==1?p.l.j:p.C;if(C=p.C<C?C:p.C,e(m<=p.l.o),m>C){var V=p.l.width,z=x.ca,U=x.tb+V*C,W=p.V,G=p.Ba+p.c*C,Q=p.gc;e(p.ab==1),e(Q[0].hc==3),Io(Q[0],C,m,W,G,z,U),Gr(x,C,m,z,U,V)}p.C=p.Ma=m}function nr(p,m,x,C,V,z,U){var W=p.$/C,G=p.$%C,Q=p.m,se=p.s,ge=x+p.$,J=ge;V=x+C*V;var le=x+C*z,de=280+se.ua,Se=p.Pb?W:16777216,pe=0<se.ua?se.Wa:null,ke=se.wc,Ee=ge<le?Dn(se,G,W):null;e(p.C<z),e(le<=V);var De=!1;e:for(;;){for(;De||ge<le;){var Ne=0;if(W>=Se){var rt=ge-x;e((Se=p).Pb),Se.wd=Se.m,Se.xd=rt,0<Se.s.ua&&Be(Se.s.Wa,Se.s.vb),Se=W+pM}if(G&ke||(Ee=Dn(se,G,W)),e(Ee!=null),Ee.Qb&&(m[ge]=Ee.qb,De=!0),!De)if(fe(Q),Ee.jc){Ne=Q,rt=m;var $e=ge,Lt=Ee.pd[ee(Ne)&_u-1];e(Ee.jc),256>Lt.g?(re(Ne,Ne.u+Lt.g),rt[$e]=Lt.value,Ne=0):(re(Ne,Ne.u+Lt.g-256),e(256<=Lt.value),Ne=Lt.value),Ne==0&&(De=!0)}else Ne=Mn(Ee.G[0],Ee.H[0],Q);if(Q.h)break;if(De||256>Ne){if(!De)if(Ee.nd)m[ge]=(Ee.qb|Ne<<8)>>>0;else{if(fe(Q),De=Mn(Ee.G[1],Ee.H[1],Q),fe(Q),rt=Mn(Ee.G[2],Ee.H[2],Q),$e=Mn(Ee.G[3],Ee.H[3],Q),Q.h)break;m[ge]=($e<<24|De<<16|Ne<<8|rt)>>>0}if(De=!1,++ge,++G>=C&&(G=0,++W,U!=null&&W<=z&&!(W%16)&&U(p,W),pe!=null))for(;J<ge;)Ne=m[J++],pe.X[(506832829*Ne&4294967295)>>>pe.Mb]=Ne}else if(280>Ne){if(Ne=Ci(Ne-256,Q),rt=Mn(Ee.G[4],Ee.H[4],Q),fe(Q),rt=Ni(C,rt=Ci(rt,Q)),Q.h)break;if(ge-x<rt||V-ge<Ne)break e;for($e=0;$e<Ne;++$e)m[ge+$e]=m[ge+$e-rt];for(ge+=Ne,G+=Ne;G>=C;)G-=C,++W,U!=null&&W<=z&&!(W%16)&&U(p,W);if(e(ge<=V),G&ke&&(Ee=Dn(se,G,W)),pe!=null)for(;J<ge;)Ne=m[J++],pe.X[(506832829*Ne&4294967295)>>>pe.Mb]=Ne}else{if(!(Ne<de))break e;for(De=Ne-280,e(pe!=null);J<ge;)Ne=m[J++],pe.X[(506832829*Ne&4294967295)>>>pe.Mb]=Ne;Ne=ge,e(!(De>>>(rt=pe).Xa)),m[Ne]=rt.X[De],De=!0}De||e(Q.h==ne(Q))}if(p.Pb&&Q.h&&ge<V)e(p.m.h),p.a=5,p.m=p.wd,p.$=p.xd,0<p.s.ua&&Be(p.s.vb,p.s.Wa);else{if(Q.h)break e;U!=null&&U(p,W>z?z:W),p.a=0,p.$=ge-x}return 1}return p.a=3,0}function ii(p){e(p!=null),p.vc=null,p.yc=null,p.Ya=null;var m=p.Wa;m!=null&&(m.X=null),p.vb=null,e(p!=null)}function _o(){var p=new gt;return p==null?null:(p.a=0,p.xb=Ox,rn("Predictor","VP8LPredictors"),rn("Predictor","VP8LPredictors_C"),rn("PredictorAdd","VP8LPredictorsAdd"),rn("PredictorAdd","VP8LPredictorsAdd_C"),ri=Nt,If=St,Cf=mn,rl=Vt,sl=It,ol=Tt,bu=Sn,T.VP8LMapColor32b=Po,T.VP8LMapColor8b=Ef,p)}function Kr(p,m,x,C,V){var z=1,U=[p],W=[m],G=C.m,Q=C.s,se=null,ge=0;e:for(;;){if(x)for(;z&&ve(G,1);){var J=U,le=W,de=C,Se=1,pe=de.m,ke=de.gc[de.ab],Ee=ve(pe,2);if(de.Oc&1<<Ee)z=0;else{switch(de.Oc|=1<<Ee,ke.hc=Ee,ke.Ea=J[0],ke.nc=le[0],ke.K=[null],++de.ab,e(4>=de.ab),Ee){case 0:case 1:ke.b=ve(pe,3)+2,Se=Kr(Le(ke.Ea,ke.b),Le(ke.nc,ke.b),0,de,ke.K),ke.K=ke.K[0];break;case 3:var De,Ne=ve(pe,8)+1,rt=16<Ne?0:4<Ne?1:2<Ne?2:3;if(J[0]=Le(ke.Ea,rt),ke.b=rt,De=Se=Kr(Ne,1,0,de,ke.K)){var $e,Lt=Ne,Qe=ke,qt=1<<(8>>Qe.b),xi=s(qt);if(xi==null)De=0;else{var Rt=Qe.K[0],Je=Qe.w;for(xi[0]=Qe.K[0][0],$e=1;$e<1*Lt;++$e)xi[$e]=st(Rt[Je+$e],xi[$e-1]);for(;$e<4*qt;++$e)xi[$e]=0;Qe.K[0]=null,Qe.K[0]=xi,De=1}}Se=De;break;case 2:break;default:e(0)}z=Se}}if(U=U[0],W=W[0],z&&ve(G,1)&&!(z=1<=(ge=ve(G,4))&&11>=ge)){C.a=3;break e}var Ve;if(Ve=z)t:{var oi,Et,Gt,Pn=C,zi=U,kr=W,Xn=ge,rr=x,Tr=Pn.m,Si=Pn.s,Yt=[null],un=1,Qn=0,cn=dM[Xn];n:for(;;){if(rr&&ve(Tr,1)){var Ui=ve(Tr,3)+2,Zs=Le(zi,Ui),ai=Le(kr,Ui),Fr=Zs*ai;if(!Kr(Zs,ai,0,Pn,Yt))break n;for(Yt=Yt[0],Si.xc=Ui,oi=0;oi<Fr;++oi){var wn=Yt[oi]>>8&65535;Yt[oi]=wn,wn>=un&&(un=wn+1)}}if(Tr.h)break n;for(Et=0;5>Et;++Et){var Ai=Mx[Et];!Et&&0<Xn&&(Ai+=1<<Xn),Qn<Ai&&(Qn=Ai)}var ts=o(un*cn,D),Er=un,ns=o(Er,oe);if(ns==null)var is=null;else e(65536>=Er),is=ns;var jr=s(Qn);if(is==null||jr==null||ts==null){Pn.a=1;break n}var rs=ts;for(oi=Gt=0;oi<un;++oi){var kn=is[oi],ss=kn.G,eo=kn.H,Su=0,la=1,Wi=0;for(Et=0;5>Et;++Et){Ai=Mx[Et],ss[Et]=rs,eo[Et]=Gt,!Et&&0<Xn&&(Ai+=1<<Xn);r:{var mg,yy=Ai,yg=Pn,Df=jr,MM=rs,DM=Gt,vy=0,cl=yg.m,OM=ve(cl,1);if(r(Df,0,0,yy),OM){var FM=ve(cl,1)+1,jM=ve(cl,1),qx=ve(cl,jM==0?1:8);Df[qx]=1,FM==2&&(Df[qx=ve(cl,8)]=1);var vg=1}else{var Hx=s(19),$x=ve(cl,4)+4;if(19<$x){yg.a=3;var wg=0;break r}for(mg=0;mg<$x;++mg)Hx[hM[mg]]=ve(cl,3);var wy=void 0,Of=void 0,Gx=yg,VM=Hx,_g=yy,Kx=Df,_y=0,hl=Gx.m,Yx=8,Xx=o(128,D);i:for(;L(Xx,0,7,VM,19);){if(ve(hl,1)){var BM=2+2*ve(hl,3);if((wy=2+ve(hl,BM))>_g)break i}else wy=_g;for(Of=0;Of<_g&&wy--;){fe(hl);var Qx=Xx[0+(127&ee(hl))];re(hl,hl.u+Qx.g);var Lc=Qx.value;if(16>Lc)Kx[Of++]=Lc,Lc!=0&&(Yx=Lc);else{var zM=Lc==16,Jx=Lc-16,UM=uM[Jx],Zx=ve(hl,lM[Jx])+UM;if(Of+Zx>_g)break i;for(var WM=zM?Yx:0;0<Zx--;)Kx[Of++]=WM}}_y=1;break i}_y||(Gx.a=3),vg=_y}(vg=vg&&!cl.h)&&(vy=L(MM,DM,8,Df,yy)),vg&&vy!=0?wg=vy:(yg.a=3,wg=0)}if(wg==0)break n;if(la&&cM[Et]==1&&(la=rs[Gt].g==0),Su+=rs[Gt].g,Gt+=wg,3>=Et){var Ff,by=jr[0];for(Ff=1;Ff<Ai;++Ff)jr[Ff]>by&&(by=jr[Ff]);Wi+=by}}if(kn.nd=la,kn.Qb=0,la&&(kn.qb=(ss[3][eo[3]+0].value<<24|ss[1][eo[1]+0].value<<16|ss[2][eo[2]+0].value)>>>0,Su==0&&256>ss[0][eo[0]+0].value&&(kn.Qb=1,kn.qb+=ss[0][eo[0]+0].value<<8)),kn.jc=!kn.Qb&&6>Wi,kn.jc){var bg,ua=kn;for(bg=0;bg<_u;++bg){var fl=bg,dl=ua.pd[fl],xg=ua.G[0][ua.H[0]+fl];256<=xg.value?(dl.g=xg.g+256,dl.value=xg.value):(dl.g=0,dl.value=0,fl>>=gi(xg,8,dl),fl>>=gi(ua.G[1][ua.H[1]+fl],16,dl),fl>>=gi(ua.G[2][ua.H[2]+fl],0,dl),gi(ua.G[3][ua.H[3]+fl],24,dl))}}}Si.vc=Yt,Si.Wb=un,Si.Ya=is,Si.yc=ts,Ve=1;break t}Ve=0}if(!(z=Ve)){C.a=3;break e}if(0<ge){if(Q.ua=1<<ge,!K(Q.Wa,ge)){C.a=1,z=0;break e}}else Q.ua=0;var xy=C,eS=U,qM=W,Sy=xy.s,Ay=Sy.xc;if(xy.c=eS,xy.i=qM,Sy.md=Le(eS,Ay),Sy.wc=Ay==0?-1:(1<<Ay)-1,x){C.xb=bM;break e}if((se=s(U*W))==null){C.a=1,z=0;break e}z=(z=nr(C,se,0,U,W,W,null))&&!G.h;break e}return z?(V!=null?V[0]=se:(e(se==null),e(x)),C.$=0,x||ii(Q)):ii(Q),z}function Ks(p,m){var x=p.c*p.i,C=x+m+16*m;return e(p.c<=m),p.V=s(C),p.V==null?(p.Ta=null,p.Ua=0,p.a=1,0):(p.Ta=p.V,p.Ua=p.Ba+x+m,1)}function bo(p,m){var x=p.C,C=m-x,V=p.V,z=p.Ba+p.c*x;for(e(m<=p.l.o);0<C;){var U=16<C?16:C,W=p.l.ma,G=p.l.width,Q=G*U,se=W.ca,ge=W.tb+G*x,J=p.Ta,le=p.Ua;Xo(p,U,V,z),Tx(J,le,se,ge,Q),Gr(W,x,x+U,se,ge,G),C-=U,V+=U*p.c,x+=U}e(x==m),p.C=p.Ma=m}function Qo(){this.ub=this.yd=this.td=this.Rb=0}function Jo(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function yf(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function xo(){this.Yb=function(){var p=[];return function m(x,C,V){for(var z=V[C],U=0;U<z&&(x.push(V.length>C+1?[]:0),!(V.length<C+1));U++)m(x[U],C+1,V)}(p,0,[3,11]),p}()}function uu(){this.jb=s(3),this.Wc=a([4,8],xo),this.Xc=a([4,17],xo)}function Ga(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Li(){this.ld=this.La=this.dd=this.tc=0}function Yr(){this.Na=this.la=0}function Ka(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function cu(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function hu(){this.uc=this.M=this.Nb=0,this.wa=Array(new Li),this.Y=0,this.ya=Array(new cu),this.aa=0,this.l=new So}function fu(){this.y=s(16),this.f=s(8),this.ea=s(8)}function du(){this.cb=this.a=0,this.sc="",this.m=new B,this.Od=new Qo,this.Kc=new Jo,this.ed=new Ga,this.Qa=new yf,this.Ic=this.$c=this.Aa=0,this.D=new hu,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,B),this.ia=0,this.pb=o(4,Ka),this.Pa=new uu,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new fu),this.Hd=0,this.rb=Array(new Yr),this.sb=0,this.wa=Array(new Li),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new cu),this.L=this.aa=0,this.gd=a([4,2],Li),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Mr(p,m){return 0>p?0:p>m?m:p}function So(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function xc(){var p=new du;return p!=null&&(p.a=0,p.sc="OK",p.cb=0,p.Xb=0,Rf||(Rf=Zo)),p}function jn(p,m,x){return p.a==0&&(p.a=m,p.sc=x,p.cb=0),0}function Sc(p,m,x){return 3<=x&&p[m+0]==157&&p[m+1]==1&&p[m+2]==42}function _s(p,m){if(p==null)return 0;if(p.a=0,p.sc="OK",m==null)return jn(p,2,"null VP8Io passed to VP8GetHeaders()");var x=m.data,C=m.w,V=m.ha;if(4>V)return jn(p,7,"Truncated header.");var z=x[C+0]|x[C+1]<<8|x[C+2]<<16,U=p.Od;if(U.Rb=!(1&z),U.td=z>>1&7,U.yd=z>>4&1,U.ub=z>>5,3<U.td)return jn(p,3,"Incorrect keyframe parameters.");if(!U.yd)return jn(p,4,"Frame not displayable.");C+=3,V-=3;var W=p.Kc;if(U.Rb){if(7>V)return jn(p,7,"cannot parse picture header");if(!Sc(x,C,V))return jn(p,3,"Bad code word");W.c=16383&(x[C+4]<<8|x[C+3]),W.Td=x[C+4]>>6,W.i=16383&(x[C+6]<<8|x[C+5]),W.Ud=x[C+6]>>6,C+=7,V-=7,p.za=W.c+15>>4,p.Ub=W.i+15>>4,m.width=W.c,m.height=W.i,m.Da=0,m.j=0,m.v=0,m.va=m.width,m.o=m.height,m.da=0,m.ib=m.width,m.hb=m.height,m.U=m.width,m.T=m.height,r((z=p.Pa).jb,0,255,z.jb.length),e((z=p.Qa)!=null),z.Cb=0,z.Bb=0,z.Fb=1,r(z.Zb,0,0,z.Zb.length),r(z.Lb,0,0,z.Lb)}if(U.ub>V)return jn(p,7,"bad partition length");ce(z=p.m,x,C,U.ub),C+=U.ub,V-=U.ub,U.Rb&&(W.Ld=be(z),W.Kd=be(z)),W=p.Qa;var G,Q=p.Pa;if(e(z!=null),e(W!=null),W.Cb=be(z),W.Cb){if(W.Bb=be(z),be(z)){for(W.Fb=be(z),G=0;4>G;++G)W.Zb[G]=be(z)?$(z,7):0;for(G=0;4>G;++G)W.Lb[G]=be(z)?$(z,6):0}if(W.Bb)for(G=0;3>G;++G)Q.jb[G]=be(z)?ae(z,8):255}else W.Bb=0;if(z.Ka)return jn(p,3,"cannot parse segment header");if((W=p.ed).zd=be(z),W.Tb=ae(z,6),W.wb=ae(z,3),W.Pc=be(z),W.Pc&&be(z)){for(Q=0;4>Q;++Q)be(z)&&(W.vd[Q]=$(z,6));for(Q=0;4>Q;++Q)be(z)&&(W.od[Q]=$(z,6))}if(p.L=W.Tb==0?0:W.zd?1:2,z.Ka)return jn(p,3,"cannot parse filter header");var se=V;if(V=G=C,C=G+se,W=se,p.Xb=(1<<ae(p.m,2))-1,se<3*(Q=p.Xb))x=7;else{for(G+=3*Q,W-=3*Q,se=0;se<Q;++se){var ge=x[V+0]|x[V+1]<<8|x[V+2]<<16;ge>W&&(ge=W),ce(p.Jc[+se],x,G,ge),G+=ge,W-=ge,V+=3}ce(p.Jc[+Q],x,G,W),x=G<C?0:5}if(x!=0)return jn(p,x,"cannot parse partitions");for(x=ae(G=p.m,7),V=be(G)?$(G,4):0,C=be(G)?$(G,4):0,W=be(G)?$(G,4):0,Q=be(G)?$(G,4):0,G=be(G)?$(G,4):0,se=p.Qa,ge=0;4>ge;++ge){if(se.Cb){var J=se.Zb[ge];se.Fb||(J+=x)}else{if(0<ge){p.pb[ge]=p.pb[0];continue}J=x}var le=p.pb[ge];le.Sc[0]=py[Mr(J+V,127)],le.Sc[1]=gy[Mr(J+0,127)],le.Eb[0]=2*py[Mr(J+C,127)],le.Eb[1]=101581*gy[Mr(J+W,127)]>>16,8>le.Eb[1]&&(le.Eb[1]=8),le.Qc[0]=py[Mr(J+Q,117)],le.Qc[1]=gy[Mr(J+G,127)],le.lc=J+G}if(!U.Rb)return jn(p,4,"Not a key frame.");for(be(z),U=p.Pa,x=0;4>x;++x){for(V=0;8>V;++V)for(C=0;3>C;++C)for(W=0;11>W;++W)Q=Te(z,wM[x][V][C][W])?ae(z,8):yM[x][V][C][W],U.Wc[x][V].Yb[C][W]=Q;for(V=0;17>V;++V)U.Xc[x][V]=U.Wc[x][_M[V]]}return p.kc=be(z),p.kc&&(p.Bd=ae(z,8)),p.cb=1}function Zo(p,m,x,C,V,z,U){var W=m[V].Yb[x];for(x=0;16>V;++V){if(!Te(p,W[x+0]))return V;for(;!Te(p,W[x+1]);)if(W=m[++V].Yb[0],x=0,V==16)return 16;var G=m[V+1].Yb;if(Te(p,W[x+2])){var Q=p,se=0;if(Te(Q,(J=W)[(ge=x)+3]))if(Te(Q,J[ge+6])){for(W=0,ge=2*(se=Te(Q,J[ge+8]))+(J=Te(Q,J[ge+9+se])),se=0,J=gM[ge];J[W];++W)se+=se+Te(Q,J[W]);se+=3+(8<<ge)}else Te(Q,J[ge+7])?(se=7+2*Te(Q,165),se+=Te(Q,145)):se=5+Te(Q,159);else se=Te(Q,J[ge+4])?3+Te(Q,J[ge+5]):2;W=G[2]}else se=1,W=G[1];G=U+mM[V],0>(Q=p).b&&we(Q);var ge,J=Q.b,le=(ge=Q.Ca>>1)-(Q.I>>J)>>31;--Q.b,Q.Ca+=le,Q.Ca|=1,Q.I-=(ge+1&le)<<J,z[G]=((se^le)-le)*C[(0<V)+0]}return 16}function pu(p){var m=p.rb[p.sb-1];m.la=0,m.Na=0,r(p.zc,0,0,p.zc.length),p.ja=0}function Dr(p,m,x,C,V){V=p[m+x+32*C]+(V>>3),p[m+x+32*C]=-256&V?0>V?0:255:V}function yn(p,m,x,C,V,z){Dr(p,m,0,x,C+V),Dr(p,m,1,x,C+z),Dr(p,m,2,x,C-z),Dr(p,m,3,x,C-V)}function _i(p){return(20091*p>>16)+p}function ea(p,m,x,C){var V,z=0,U=s(16);for(V=0;4>V;++V){var W=p[m+0]+p[m+8],G=p[m+0]-p[m+8],Q=(35468*p[m+4]>>16)-_i(p[m+12]),se=_i(p[m+4])+(35468*p[m+12]>>16);U[z+0]=W+se,U[z+1]=G+Q,U[z+2]=G-Q,U[z+3]=W-se,z+=4,m++}for(V=z=0;4>V;++V)W=(p=U[z+0]+4)+U[z+8],G=p-U[z+8],Q=(35468*U[z+4]>>16)-_i(U[z+12]),Dr(x,C,0,0,W+(se=_i(U[z+4])+(35468*U[z+12]>>16))),Dr(x,C,1,0,G+Q),Dr(x,C,2,0,G-Q),Dr(x,C,3,0,W-se),z++,C+=32}function Ya(p,m,x,C){var V=p[m+0]+4,z=35468*p[m+4]>>16,U=_i(p[m+4]),W=35468*p[m+1]>>16;yn(x,C,0,V+U,p=_i(p[m+1]),W),yn(x,C,1,V+z,p,W),yn(x,C,2,V-z,p,W),yn(x,C,3,V-U,p,W)}function Ac(p,m,x,C,V){ea(p,m,x,C),V&&ea(p,m+16,x,C+4)}function Bt(p,m,x,C){xu(p,m+0,x,C,1),xu(p,m+32,x,C+128,1)}function ta(p,m,x,C){var V;for(p=p[m+0]+4,V=0;4>V;++V)for(m=0;4>m;++m)Dr(x,C,m,V,p)}function Ao(p,m,x,C){p[m+0]&&on(p,m+0,x,C),p[m+16]&&on(p,m+16,x,C+4),p[m+32]&&on(p,m+32,x,C+128),p[m+48]&&on(p,m+48,x,C+128+4)}function bs(p,m,x,C){var V,z=s(16);for(V=0;4>V;++V){var U=p[m+0+V]+p[m+12+V],W=p[m+4+V]+p[m+8+V],G=p[m+4+V]-p[m+8+V],Q=p[m+0+V]-p[m+12+V];z[0+V]=U+W,z[8+V]=U-W,z[4+V]=Q+G,z[12+V]=Q-G}for(V=0;4>V;++V)U=(p=z[0+4*V]+3)+z[3+4*V],W=z[1+4*V]+z[2+4*V],G=z[1+4*V]-z[2+4*V],Q=p-z[3+4*V],x[C+0]=U+W>>3,x[C+16]=Q+G>>3,x[C+32]=U-W>>3,x[C+48]=Q-G>>3,C+=64}function na(p,m,x){var C,V=m-32,z=es,U=255-p[V-1];for(C=0;C<x;++C){var W,G=z,Q=U+p[m-1];for(W=0;W<x;++W)p[m+W]=G[Q+p[V+W]];m+=32}}function kc(p,m){na(p,m,4)}function vf(p,m){na(p,m,8)}function wf(p,m){na(p,m,16)}function gu(p,m){var x;for(x=0;16>x;++x)i(p,m+32*x,p,m-32,16)}function Tc(p,m){var x;for(x=16;0<x;--x)r(p,m,p[m-1],16),m+=32}function Vi(p,m,x){var C;for(C=0;16>C;++C)r(m,x+32*C,p,16)}function xs(p,m){var x,C=16;for(x=0;16>x;++x)C+=p[m-1+32*x]+p[m+x-32];Vi(C>>5,p,m)}function ko(p,m){var x,C=8;for(x=0;16>x;++x)C+=p[m-1+32*x];Vi(C>>4,p,m)}function Xa(p,m){var x,C=8;for(x=0;16>x;++x)C+=p[m+x-32];Vi(C>>4,p,m)}function Ec(p,m){Vi(128,p,m)}function dt(p,m,x){return p+2*m+x+2>>2}function _f(p,m){var x,C=m-32;for(C=new Uint8Array([dt(p[C-1],p[C+0],p[C+1]),dt(p[C+0],p[C+1],p[C+2]),dt(p[C+1],p[C+2],p[C+3]),dt(p[C+2],p[C+3],p[C+4])]),x=0;4>x;++x)i(p,m+32*x,C,0,C.length)}function bf(p,m){var x=p[m-1],C=p[m-1+32],V=p[m-1+64],z=p[m-1+96];Re(p,m+0,16843009*dt(p[m-1-32],x,C)),Re(p,m+32,16843009*dt(x,C,V)),Re(p,m+64,16843009*dt(C,V,z)),Re(p,m+96,16843009*dt(V,z,z))}function xf(p,m){var x,C=4;for(x=0;4>x;++x)C+=p[m+x-32]+p[m-1+32*x];for(C>>=3,x=0;4>x;++x)r(p,m+32*x,C,4)}function Ri(p,m){var x=p[m-1+0],C=p[m-1+32],V=p[m-1+64],z=p[m-1-32],U=p[m+0-32],W=p[m+1-32],G=p[m+2-32],Q=p[m+3-32];p[m+0+96]=dt(C,V,p[m-1+96]),p[m+1+96]=p[m+0+64]=dt(x,C,V),p[m+2+96]=p[m+1+64]=p[m+0+32]=dt(z,x,C),p[m+3+96]=p[m+2+64]=p[m+1+32]=p[m+0+0]=dt(U,z,x),p[m+3+64]=p[m+2+32]=p[m+1+0]=dt(W,U,z),p[m+3+32]=p[m+2+0]=dt(G,W,U),p[m+3+0]=dt(Q,G,W)}function Ys(p,m){var x=p[m+1-32],C=p[m+2-32],V=p[m+3-32],z=p[m+4-32],U=p[m+5-32],W=p[m+6-32],G=p[m+7-32];p[m+0+0]=dt(p[m+0-32],x,C),p[m+1+0]=p[m+0+32]=dt(x,C,V),p[m+2+0]=p[m+1+32]=p[m+0+64]=dt(C,V,z),p[m+3+0]=p[m+2+32]=p[m+1+64]=p[m+0+96]=dt(V,z,U),p[m+3+32]=p[m+2+64]=p[m+1+96]=dt(z,U,W),p[m+3+64]=p[m+2+96]=dt(U,W,G),p[m+3+96]=dt(W,G,G)}function Sf(p,m){var x=p[m-1+0],C=p[m-1+32],V=p[m-1+64],z=p[m-1-32],U=p[m+0-32],W=p[m+1-32],G=p[m+2-32],Q=p[m+3-32];p[m+0+0]=p[m+1+64]=z+U+1>>1,p[m+1+0]=p[m+2+64]=U+W+1>>1,p[m+2+0]=p[m+3+64]=W+G+1>>1,p[m+3+0]=G+Q+1>>1,p[m+0+96]=dt(V,C,x),p[m+0+64]=dt(C,x,z),p[m+0+32]=p[m+1+96]=dt(x,z,U),p[m+1+32]=p[m+2+96]=dt(z,U,W),p[m+2+32]=p[m+3+96]=dt(U,W,G),p[m+3+32]=dt(W,G,Q)}function Qa(p,m){var x=p[m+0-32],C=p[m+1-32],V=p[m+2-32],z=p[m+3-32],U=p[m+4-32],W=p[m+5-32],G=p[m+6-32],Q=p[m+7-32];p[m+0+0]=x+C+1>>1,p[m+1+0]=p[m+0+64]=C+V+1>>1,p[m+2+0]=p[m+1+64]=V+z+1>>1,p[m+3+0]=p[m+2+64]=z+U+1>>1,p[m+0+32]=dt(x,C,V),p[m+1+32]=p[m+0+96]=dt(C,V,z),p[m+2+32]=p[m+1+96]=dt(V,z,U),p[m+3+32]=p[m+2+96]=dt(z,U,W),p[m+3+64]=dt(U,W,G),p[m+3+96]=dt(W,G,Q)}function Xs(p,m){var x=p[m-1+0],C=p[m-1+32],V=p[m-1+64],z=p[m-1+96];p[m+0+0]=x+C+1>>1,p[m+2+0]=p[m+0+32]=C+V+1>>1,p[m+2+32]=p[m+0+64]=V+z+1>>1,p[m+1+0]=dt(x,C,V),p[m+3+0]=p[m+1+32]=dt(C,V,z),p[m+3+32]=p[m+1+64]=dt(V,z,z),p[m+3+64]=p[m+2+64]=p[m+0+96]=p[m+1+96]=p[m+2+96]=p[m+3+96]=z}function Ja(p,m){var x=p[m-1+0],C=p[m-1+32],V=p[m-1+64],z=p[m-1+96],U=p[m-1-32],W=p[m+0-32],G=p[m+1-32],Q=p[m+2-32];p[m+0+0]=p[m+2+32]=x+U+1>>1,p[m+0+32]=p[m+2+64]=C+x+1>>1,p[m+0+64]=p[m+2+96]=V+C+1>>1,p[m+0+96]=z+V+1>>1,p[m+3+0]=dt(W,G,Q),p[m+2+0]=dt(U,W,G),p[m+1+0]=p[m+3+32]=dt(x,U,W),p[m+1+32]=p[m+3+64]=dt(C,x,U),p[m+1+64]=p[m+3+96]=dt(V,C,x),p[m+1+96]=dt(z,V,C)}function Xr(p,m){var x;for(x=0;8>x;++x)i(p,m+32*x,p,m-32,8)}function ia(p,m){var x;for(x=0;8>x;++x)r(p,m,p[m-1],8),m+=32}function Ss(p,m,x){var C;for(C=0;8>C;++C)r(m,x+32*C,p,8)}function mu(p,m){var x,C=8;for(x=0;8>x;++x)C+=p[m+x-32]+p[m-1+32*x];Ss(C>>4,p,m)}function gn(p,m){var x,C=4;for(x=0;8>x;++x)C+=p[m+x-32];Ss(C>>3,p,m)}function yu(p,m){var x,C=4;for(x=0;8>x;++x)C+=p[m-1+32*x];Ss(C>>3,p,m)}function Pc(p,m){Ss(128,p,m)}function As(p,m,x){var C=p[m-x],V=p[m+0],z=3*(V-C)+uy[1020+p[m-2*x]-p[m+x]],U=ag[112+(z+4>>3)];p[m-x]=es[255+C+ag[112+(z+3>>3)]],p[m+0]=es[255+V-U]}function Za(p,m,x,C){var V=p[m+0],z=p[m+x];return Cs[255+p[m-2*x]-p[m-x]]>C||Cs[255+z-V]>C}function ra(p,m,x,C){return 4*Cs[255+p[m-x]-p[m+0]]+Cs[255+p[m-2*x]-p[m+x]]<=C}function To(p,m,x,C,V){var z=p[m-3*x],U=p[m-2*x],W=p[m-x],G=p[m+0],Q=p[m+x],se=p[m+2*x],ge=p[m+3*x];return 4*Cs[255+W-G]+Cs[255+U-Q]>C?0:Cs[255+p[m-4*x]-z]<=V&&Cs[255+z-U]<=V&&Cs[255+U-W]<=V&&Cs[255+ge-se]<=V&&Cs[255+se-Q]<=V&&Cs[255+Q-G]<=V}function Eo(p,m,x,C){var V=2*C+1;for(C=0;16>C;++C)ra(p,m+C,x,V)&&As(p,m+C,x)}function Sr(p,m,x,C){var V=2*C+1;for(C=0;16>C;++C)ra(p,m+C*x,1,V)&&As(p,m+C*x,1)}function vu(p,m,x,C){var V;for(V=3;0<V;--V)Eo(p,m+=4*x,x,C)}function Ic(p,m,x,C){var V;for(V=3;0<V;--V)Sr(p,m+=4,x,C)}function Ar(p,m,x,C,V,z,U,W){for(z=2*z+1;0<V--;){if(To(p,m,x,z,U))if(Za(p,m,x,W))As(p,m,x);else{var G=p,Q=m,se=x,ge=G[Q-2*se],J=G[Q-se],le=G[Q+0],de=G[Q+se],Se=G[Q+2*se],pe=27*(Ee=uy[1020+3*(le-J)+uy[1020+ge-de]])+63>>7,ke=18*Ee+63>>7,Ee=9*Ee+63>>7;G[Q-3*se]=es[255+G[Q-3*se]+Ee],G[Q-2*se]=es[255+ge+ke],G[Q-se]=es[255+J+pe],G[Q+0]=es[255+le-pe],G[Q+se]=es[255+de-ke],G[Q+2*se]=es[255+Se-Ee]}m+=C}}function ks(p,m,x,C,V,z,U,W){for(z=2*z+1;0<V--;){if(To(p,m,x,z,U))if(Za(p,m,x,W))As(p,m,x);else{var G=p,Q=m,se=x,ge=G[Q-se],J=G[Q+0],le=G[Q+se],de=ag[112+(4+(Se=3*(J-ge))>>3)],Se=ag[112+(Se+3>>3)],pe=de+1>>1;G[Q-2*se]=es[255+G[Q-2*se]+pe],G[Q-se]=es[255+ge+Se],G[Q+0]=es[255+J-de],G[Q+se]=es[255+le-pe]}m+=C}}function el(p,m,x,C,V,z){Ar(p,m,x,1,16,C,V,z)}function Ts(p,m,x,C,V,z){Ar(p,m,1,x,16,C,V,z)}function wu(p,m,x,C,V,z){var U;for(U=3;0<U;--U)ks(p,m+=4*x,x,1,16,C,V,z)}function _(p,m,x,C,V,z){var U;for(U=3;0<U;--U)ks(p,m+=4,1,x,16,C,V,z)}function j(p,m,x,C,V,z,U,W){Ar(p,m,V,1,8,z,U,W),Ar(x,C,V,1,8,z,U,W)}function X(p,m,x,C,V,z,U,W){Ar(p,m,1,V,8,z,U,W),Ar(x,C,1,V,8,z,U,W)}function te(p,m,x,C,V,z,U,W){ks(p,m+4*V,V,1,8,z,U,W),ks(x,C+4*V,V,1,8,z,U,W)}function ue(p,m,x,C,V,z,U,W){ks(p,m+4,1,V,8,z,U,W),ks(x,C+4,1,V,8,z,U,W)}function Ae(){this.ba=new Ct,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Ot,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ie(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function qe(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Ye(){this.ua=0,this.Wa=new Pt,this.vb=new Pt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new oe,this.yc=new D}function gt(){this.xb=this.a=0,this.l=new So,this.ca=new Ct,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new Y,this.Pb=0,this.wd=new Y,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Ye,this.ab=0,this.gc=o(4,qe),this.Oc=0}function At(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new So,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function zt(p,m,x,C,V,z,U){for(p=p==null?0:p[m+0],m=0;m<U;++m)V[z+m]=p+x[C+m]&255,p=V[z+m]}function nn(p,m,x,C,V,z,U){var W;if(p==null)zt(null,null,x,C,V,z,U);else for(W=0;W<U;++W)V[z+W]=p[m+W]+x[C+W]&255}function Vn(p,m,x,C,V,z,U){if(p==null)zt(null,null,x,C,V,z,U);else{var W,G=p[m+0],Q=G,se=G;for(W=0;W<U;++W)Q=se+(G=p[m+W])-Q,se=x[C+W]+(-256&Q?0>Q?0:255:Q)&255,Q=G,V[z+W]=se}}function ln(p,m,x,C){var V=m.width,z=m.o;if(e(p!=null&&m!=null),0>x||0>=C||x+C>z)return null;if(!p.Cc){if(p.ga==null){var U;if(p.ga=new At,(U=p.ga==null)||(U=m.width*m.o,e(p.Gb.length==0),p.Gb=s(U),p.Uc=0,p.Gb==null?U=0:(p.mb=p.Gb,p.nb=p.Uc,p.rc=null,U=1),U=!U),!U){U=p.ga;var W=p.Fa,G=p.P,Q=p.qc,se=p.mb,ge=p.nb,J=G+1,le=Q-1,de=U.l;if(e(W!=null&&se!=null&&m!=null),ul[0]=null,ul[1]=zt,ul[2]=nn,ul[3]=Vn,U.ca=se,U.tb=ge,U.c=m.width,U.i=m.height,e(0<U.c&&0<U.i),1>=Q)m=0;else if(U.$a=3&W[G+0],U.Z=W[G+0]>>2&3,U.Lc=W[G+0]>>4&3,G=W[G+0]>>6&3,0>U.$a||1<U.$a||4<=U.Z||1<U.Lc||G)m=0;else if(de.put=ht,de.ac=er,de.bc=En,de.ma=U,de.width=m.width,de.height=m.height,de.Da=m.Da,de.v=m.v,de.va=m.va,de.j=m.j,de.o=m.o,U.$a)e:{e(U.$a==1),m=_o();t:for(;;){if(m==null){m=0;break e}if(e(U!=null),U.mc=m,m.c=U.c,m.i=U.i,m.l=U.l,m.l.ma=U,m.l.width=U.c,m.l.height=U.i,m.a=0,ie(m.m,W,J,le),!Kr(U.c,U.i,1,m,null)||(m.ab==1&&m.gc[0].hc==3&&tr(m.s)?(U.ic=1,W=m.c*m.i,m.Ta=null,m.Ua=0,m.V=s(W),m.Ba=0,m.V==null?(m.a=1,m=0):m=1):(U.ic=0,m=Ks(m,U.c)),!m))break t;m=1;break e}U.mc=null,m=0}else m=le>=U.c*U.i;U=!m}if(U)return null;p.ga.Lc!=1?p.Ga=0:C=z-x}e(p.ga!=null),e(x+C<=z);e:{if(m=(W=p.ga).c,z=W.l.o,W.$a==0){if(J=p.rc,le=p.Vc,de=p.Fa,G=p.P+1+x*m,Q=p.mb,se=p.nb+x*m,e(G<=p.P+p.qc),W.Z!=0)for(e(ul[W.Z]!=null),U=0;U<C;++U)ul[W.Z](J,le,de,G,Q,se,m),J=Q,le=se,se+=m,G+=m;else for(U=0;U<C;++U)i(Q,se,de,G,m),J=Q,le=se,se+=m,G+=m;p.rc=J,p.Vc=le}else{if(e(W.mc!=null),m=x+C,e((U=W.mc)!=null),e(m<=U.i),U.C>=m)m=1;else if(W.ic||Or(),W.ic){W=U.V,J=U.Ba,le=U.c;var Se=U.i,pe=(de=1,G=U.$/le,Q=U.$%le,se=U.m,ge=U.s,U.$),ke=le*Se,Ee=le*m,De=ge.wc,Ne=pe<Ee?Dn(ge,Q,G):null;e(pe<=ke),e(m<=Se),e(tr(ge));t:for(;;){for(;!se.h&&pe<Ee;){if(Q&De||(Ne=Dn(ge,Q,G)),e(Ne!=null),fe(se),256>(Se=Mn(Ne.G[0],Ne.H[0],se)))W[J+pe]=Se,++pe,++Q>=le&&(Q=0,++G<=m&&!(G%16)&&xr(U,G));else{if(!(280>Se)){de=0;break t}Se=Ci(Se-256,se);var rt,$e=Mn(Ne.G[4],Ne.H[4],se);if(fe(se),!(pe>=($e=Ni(le,$e=Ci($e,se)))&&ke-pe>=Se)){de=0;break t}for(rt=0;rt<Se;++rt)W[J+pe+rt]=W[J+pe+rt-$e];for(pe+=Se,Q+=Se;Q>=le;)Q-=le,++G<=m&&!(G%16)&&xr(U,G);pe<Ee&&Q&De&&(Ne=Dn(ge,Q,G))}e(se.h==ne(se))}xr(U,G>m?m:G);break t}!de||se.h&&pe<ke?(de=0,U.a=se.h?5:3):U.$=pe,m=de}else m=nr(U,U.V,U.Ba,U.c,U.i,m,bo);if(!m){C=0;break e}}x+C>=z&&(p.Cc=1),C=1}if(!C)return null;if(p.Cc&&((C=p.ga)!=null&&(C.mc=null),p.ga=null,0<p.Ga))return alert("todo:WebPDequantizeLevels"),null}return p.nb+x*V}function Kn(p,m,x,C,V,z){for(;0<V--;){var U,W=p,G=m+(x?1:0),Q=p,se=m+(x?0:3);for(U=0;U<C;++U){var ge=Q[se+4*U];ge!=255&&(ge*=32897,W[G+4*U+0]=W[G+4*U+0]*ge>>23,W[G+4*U+1]=W[G+4*U+1]*ge>>23,W[G+4*U+2]=W[G+4*U+2]*ge>>23)}m+=z}}function Bn(p,m,x,C,V){for(;0<C--;){var z;for(z=0;z<x;++z){var U=p[m+2*z+0],W=15&(Q=p[m+2*z+1]),G=4369*W,Q=(240&Q|Q>>4)*G>>16;p[m+2*z+0]=(240&U|U>>4)*G>>16&240|(15&U|U<<4)*G>>16>>4&15,p[m+2*z+1]=240&Q|W}m+=V}}function Yn(p,m,x,C,V,z,U,W){var G,Q,se=255;for(Q=0;Q<V;++Q){for(G=0;G<C;++G){var ge=p[m+G];z[U+4*G]=ge,se&=ge}m+=x,U+=W}return se!=255}function zn(p,m,x,C,V){var z;for(z=0;z<V;++z)x[C+z]=p[m+z]>>8}function Or(){Lf=Kn,Ax=Bn,kx=Yn,Tx=zn}function Es(p,m,x){T[p]=function(C,V,z,U,W,G,Q,se,ge,J,le,de,Se,pe,ke,Ee,De){var Ne,rt=De-1>>1,$e=W[G+0]|Q[se+0]<<16,Lt=ge[J+0]|le[de+0]<<16;e(C!=null);var Qe=3*$e+Lt+131074>>2;for(m(C[V+0],255&Qe,Qe>>16,Se,pe),z!=null&&(Qe=3*Lt+$e+131074>>2,m(z[U+0],255&Qe,Qe>>16,ke,Ee)),Ne=1;Ne<=rt;++Ne){var qt=W[G+Ne]|Q[se+Ne]<<16,xi=ge[J+Ne]|le[de+Ne]<<16,Rt=$e+qt+Lt+xi+524296,Je=Rt+2*(qt+Lt)>>3;Qe=Je+$e>>1,$e=(Rt=Rt+2*($e+xi)>>3)+qt>>1,m(C[V+2*Ne-1],255&Qe,Qe>>16,Se,pe+(2*Ne-1)*x),m(C[V+2*Ne-0],255&$e,$e>>16,Se,pe+(2*Ne-0)*x),z!=null&&(Qe=Rt+Lt>>1,$e=Je+xi>>1,m(z[U+2*Ne-1],255&Qe,Qe>>16,ke,Ee+(2*Ne-1)*x),m(z[U+2*Ne+0],255&$e,$e>>16,ke,Ee+(2*Ne+0)*x)),$e=qt,Lt=xi}1&De||(Qe=3*$e+Lt+131074>>2,m(C[V+De-1],255&Qe,Qe>>16,Se,pe+(De-1)*x),z!=null&&(Qe=3*Lt+$e+131074>>2,m(z[U+De-1],255&Qe,Qe>>16,ke,Ee+(De-1)*x)))}}function Ps(){Ns[lg]=xM,Ns[ug]=Fx,Ns[Lx]=SM,Ns[cg]=jx,Ns[hg]=Vx,Ns[cy]=Bx,Ns[Rx]=AM,Ns[hy]=Fx,Ns[fy]=jx,Ns[fg]=Vx,Ns[dy]=Bx}function g(p){return p&-16384?0>p?0:255:p>>kM}function A(p,m){return g((19077*p>>8)+(26149*m>>8)-14234)}function R(p,m,x){return g((19077*p>>8)-(6419*m>>8)-(13320*x>>8)+8708)}function q(p,m){return g((19077*p>>8)+(33050*m>>8)-17685)}function he(p,m,x,C,V){C[V+0]=A(p,x),C[V+1]=R(p,m,x),C[V+2]=q(p,m)}function ye(p,m,x,C,V){C[V+0]=q(p,m),C[V+1]=R(p,m,x),C[V+2]=A(p,x)}function je(p,m,x,C,V){var z=R(p,m,x);m=z<<3&224|q(p,m)>>3,C[V+0]=248&A(p,x)|z>>5,C[V+1]=m}function Wt(p,m,x,C,V){var z=240&q(p,m)|15;C[V+0]=240&A(p,x)|R(p,m,x)>>4,C[V+1]=z}function Un(p,m,x,C,V){C[V+0]=255,he(p,m,x,C,V+1)}function Ft(p,m,x,C,V){ye(p,m,x,C,V),C[V+3]=255}function Zt(p,m,x,C,V){he(p,m,x,C,V),C[V+3]=255}function An(p,m,x){T[p]=function(C,V,z,U,W,G,Q,se,ge){for(var J=se+(-2&ge)*x;se!=J;)m(C[V+0],z[U+0],W[G+0],Q,se),m(C[V+1],z[U+0],W[G+0],Q,se+x),V+=2,++U,++G,se+=2*x;1&ge&&m(C[V+0],z[U+0],W[G+0],Q,se)}}function Qr(p,m,x){return x==0?p==0?m==0?6:5:m==0?4:0:x}function ir(p,m,x,C,V){switch(p>>>30){case 3:xu(m,x,C,V,0);break;case 2:Is(m,x,C,V);break;case 1:on(m,x,C,V)}}function Bi(p,m){var x,C,V=m.M,z=m.Nb,U=p.oc,W=p.pc+40,G=p.oc,Q=p.pc+584,se=p.oc,ge=p.pc+600;for(x=0;16>x;++x)U[W+32*x-1]=129;for(x=0;8>x;++x)G[Q+32*x-1]=129,se[ge+32*x-1]=129;for(0<V?U[W-1-32]=G[Q-1-32]=se[ge-1-32]=129:(r(U,W-32-1,127,21),r(G,Q-32-1,127,9),r(se,ge-32-1,127,9)),C=0;C<p.za;++C){var J=m.ya[m.aa+C];if(0<C){for(x=-1;16>x;++x)i(U,W+32*x-4,U,W+32*x+12,4);for(x=-1;8>x;++x)i(G,Q+32*x-4,G,Q+32*x+4,4),i(se,ge+32*x-4,se,ge+32*x+4,4)}var le=p.Gd,de=p.Hd+C,Se=J.ad,pe=J.Hc;if(0<V&&(i(U,W-32,le[de].y,0,16),i(G,Q-32,le[de].f,0,8),i(se,ge-32,le[de].ea,0,8)),J.Za){var ke=U,Ee=W-32+16;for(0<V&&(C>=p.za-1?r(ke,Ee,le[de].y[15],4):i(ke,Ee,le[de+1].y,0,4)),x=0;4>x;x++)ke[Ee+128+x]=ke[Ee+256+x]=ke[Ee+384+x]=ke[Ee+0+x];for(x=0;16>x;++x,pe<<=2)ke=U,Ee=W+Ux[x],Js[J.Ob[x]](ke,Ee),ir(pe,Se,16*+x,ke,Ee)}else if(ke=Qr(C,V,J.Ob[0]),ll[ke](U,W),pe!=0)for(x=0;16>x;++x,pe<<=2)ir(pe,Se,16*+x,U,W+Ux[x]);for(x=J.Gc,ke=Qr(C,V,J.Dd),aa[ke](G,Q),aa[ke](se,ge),pe=Se,ke=G,Ee=Q,255&(J=0|x)&&(170&J?Co(pe,256,ke,Ee):vn(pe,256,ke,Ee)),J=se,pe=ge,255&(x>>=8)&&(170&x?Co(Se,320,J,pe):vn(Se,320,J,pe)),V<p.Ub-1&&(i(le[de].y,0,U,W+480,16),i(le[de].f,0,G,Q+224,8),i(le[de].ea,0,se,ge+224,8)),x=8*z*p.B,le=p.sa,de=p.ta+16*C+16*z*p.R,Se=p.qa,J=p.ra+8*C+x,pe=p.Ha,ke=p.Ia+8*C+x,x=0;16>x;++x)i(le,de+x*p.R,U,W+32*x,16);for(x=0;8>x;++x)i(Se,J+x*p.B,G,Q+32*x,8),i(pe,ke+x*p.B,se,ge+32*x,8)}}function Qs(p,m,x,C,V,z,U,W,G){var Q=[0],se=[0],ge=0,J=G!=null?G.kd:0,le=G??new Ie;if(p==null||12>x)return 7;le.data=p,le.w=m,le.ha=x,m=[m],x=[x],le.gb=[le.gb];e:{var de=m,Se=x,pe=le.gb;if(e(p!=null),e(Se!=null),e(pe!=null),pe[0]=0,12<=Se[0]&&!n(p,de[0],"RIFF")){if(n(p,de[0]+8,"WEBP")){pe=3;break e}var ke=Ue(p,de[0]+4);if(12>ke||4294967286<ke){pe=3;break e}if(J&&ke>Se[0]-8){pe=7;break e}pe[0]=ke,de[0]+=12,Se[0]-=12}pe=0}if(pe!=0)return pe;for(ke=0<le.gb[0],x=x[0];;){e:{var Ee=p;Se=m,pe=x;var De=Q,Ne=se,rt=de=[0];if((Qe=ge=[ge])[0]=0,8>pe[0])pe=7;else{if(!n(Ee,Se[0],"VP8X")){if(Ue(Ee,Se[0]+4)!=10){pe=3;break e}if(18>pe[0]){pe=7;break e}var $e=Ue(Ee,Se[0]+8),Lt=1+Ce(Ee,Se[0]+12);if(2147483648<=Lt*(Ee=1+Ce(Ee,Se[0]+15))){pe=3;break e}rt!=null&&(rt[0]=$e),De!=null&&(De[0]=Lt),Ne!=null&&(Ne[0]=Ee),Se[0]+=18,pe[0]-=18,Qe[0]=1}pe=0}}if(ge=ge[0],de=de[0],pe!=0)return pe;if(Se=!!(2&de),!ke&&ge)return 3;if(z!=null&&(z[0]=!!(16&de)),U!=null&&(U[0]=Se),W!=null&&(W[0]=0),U=Q[0],de=se[0],ge&&Se&&G==null){pe=0;break}if(4>x){pe=7;break}if(ke&&ge||!ke&&!ge&&!n(p,m[0],"ALPH")){x=[x],le.na=[le.na],le.P=[le.P],le.Sa=[le.Sa];e:{$e=p,pe=m,ke=x;var Qe=le.gb;De=le.na,Ne=le.P,rt=le.Sa,Lt=22,e($e!=null),e(ke!=null),Ee=pe[0];var qt=ke[0];for(e(De!=null),e(rt!=null),De[0]=null,Ne[0]=null,rt[0]=0;;){if(pe[0]=Ee,ke[0]=qt,8>qt){pe=7;break e}var xi=Ue($e,Ee+4);if(4294967286<xi){pe=3;break e}var Rt=8+xi+1&-2;if(Lt+=Rt,0<Qe&&Lt>Qe){pe=3;break e}if(!n($e,Ee,"VP8 ")||!n($e,Ee,"VP8L")){pe=0;break e}if(qt[0]<Rt){pe=7;break e}n($e,Ee,"ALPH")||(De[0]=$e,Ne[0]=Ee+8,rt[0]=xi),Ee+=Rt,qt-=Rt}}if(x=x[0],le.na=le.na[0],le.P=le.P[0],le.Sa=le.Sa[0],pe!=0)break}x=[x],le.Ja=[le.Ja],le.xa=[le.xa];e:if(Qe=p,pe=m,ke=x,De=le.gb[0],Ne=le.Ja,rt=le.xa,$e=pe[0],Ee=!n(Qe,$e,"VP8 "),Lt=!n(Qe,$e,"VP8L"),e(Qe!=null),e(ke!=null),e(Ne!=null),e(rt!=null),8>ke[0])pe=7;else{if(Ee||Lt){if(Qe=Ue(Qe,$e+4),12<=De&&Qe>De-12){pe=3;break e}if(J&&Qe>ke[0]-8){pe=7;break e}Ne[0]=Qe,pe[0]+=8,ke[0]-=8,rt[0]=Lt}else rt[0]=5<=ke[0]&&Qe[$e+0]==47&&!(Qe[$e+4]>>5),Ne[0]=ke[0];pe=0}if(x=x[0],le.Ja=le.Ja[0],le.xa=le.xa[0],m=m[0],pe!=0)break;if(4294967286<le.Ja)return 3;if(W==null||Se||(W[0]=le.xa?2:1),U=[U],de=[de],le.xa){if(5>x){pe=7;break}W=U,J=de,Se=z,p==null||5>x?p=0:5<=x&&p[m+0]==47&&!(p[m+4]>>5)?(ke=[0],Qe=[0],De=[0],ie(Ne=new Y,p,m,x),ws(Ne,ke,Qe,De)?(W!=null&&(W[0]=ke[0]),J!=null&&(J[0]=Qe[0]),Se!=null&&(Se[0]=De[0]),p=1):p=0):p=0}else{if(10>x){pe=7;break}W=de,p==null||10>x||!Sc(p,m+3,x-3)?p=0:(J=p[m+0]|p[m+1]<<8|p[m+2]<<16,Se=16383&(p[m+7]<<8|p[m+6]),p=16383&(p[m+9]<<8|p[m+8]),1&J||3<(J>>1&7)||!(J>>4&1)||J>>5>=le.Ja||!Se||!p?p=0:(U&&(U[0]=Se),W&&(W[0]=p),p=1))}if(!p||(U=U[0],de=de[0],ge&&(Q[0]!=U||se[0]!=de)))return 3;G!=null&&(G[0]=le,G.offset=m-G.w,e(4294967286>m-G.w),e(G.offset==G.ha-x));break}return pe==0||pe==7&&ge&&G==null?(z!=null&&(z[0]|=le.na!=null&&0<le.na.length),C!=null&&(C[0]=U),V!=null&&(V[0]=de),0):pe}function Af(p,m,x){var C=m.width,V=m.height,z=0,U=0,W=C,G=V;if(m.Da=p!=null&&0<p.Da,m.Da&&(W=p.cd,G=p.bd,z=p.v,U=p.j,11>x||(z&=-2,U&=-2),0>z||0>U||0>=W||0>=G||z+W>C||U+G>V))return 0;if(m.v=z,m.j=U,m.va=z+W,m.o=U+G,m.U=W,m.T=G,m.da=p!=null&&0<p.da,m.da){if(!ct(W,G,x=[p.ib],z=[p.hb]))return 0;m.ib=x[0],m.hb=z[0]}return m.ob=p!=null&&p.ob,m.Kb=p==null||!p.Sd,m.da&&(m.ob=m.ib<3*C/4&&m.hb<3*V/4,m.Kb=0),1}function kf(p){if(p==null)return 2;if(11>p.S){var m=p.f.RGBA;m.fb+=(p.height-1)*m.A,m.A=-m.A}else m=p.f.kb,p=p.height,m.O+=(p-1)*m.fa,m.fa=-m.fa,m.N+=(p-1>>1)*m.Ab,m.Ab=-m.Ab,m.W+=(p-1>>1)*m.Db,m.Db=-m.Db,m.F!=null&&(m.J+=(p-1)*m.lb,m.lb=-m.lb);return 0}function tl(p,m,x,C){if(C==null||0>=p||0>=m)return 2;if(x!=null){if(x.Da){var V=x.cd,z=x.bd,U=-2&x.v,W=-2&x.j;if(0>U||0>W||0>=V||0>=z||U+V>p||W+z>m)return 2;p=V,m=z}if(x.da){if(!ct(p,m,V=[x.ib],z=[x.hb]))return 2;p=V[0],m=z[0]}}C.width=p,C.height=m;e:{var G=C.width,Q=C.height;if(p=C.S,0>=G||0>=Q||!(p>=lg&&13>p))p=2;else{if(0>=C.Rd&&C.sd==null){U=z=V=m=0;var se=(W=G*Wx[p])*Q;if(11>p||(z=(Q+1)/2*(m=(G+1)/2),p==12&&(U=(V=G)*Q)),(Q=s(se+2*z+U))==null){p=1;break e}C.sd=Q,11>p?((G=C.f.RGBA).eb=Q,G.fb=0,G.A=W,G.size=se):((G=C.f.kb).y=Q,G.O=0,G.fa=W,G.Fd=se,G.f=Q,G.N=0+se,G.Ab=m,G.Cd=z,G.ea=Q,G.W=0+se+z,G.Db=m,G.Ed=z,p==12&&(G.F=Q,G.J=0+se+2*z),G.Tc=U,G.lb=V)}if(m=1,V=C.S,z=C.width,U=C.height,V>=lg&&13>V)if(11>V)p=C.f.RGBA,m&=(W=Math.abs(p.A))*(U-1)+z<=p.size,m&=W>=z*Wx[V],m&=p.eb!=null;else{p=C.f.kb,W=(z+1)/2,se=(U+1)/2,G=Math.abs(p.fa),Q=Math.abs(p.Ab);var ge=Math.abs(p.Db),J=Math.abs(p.lb),le=J*(U-1)+z;m&=G*(U-1)+z<=p.Fd,m&=Q*(se-1)+W<=p.Cd,m=(m&=ge*(se-1)+W<=p.Ed)&G>=z&Q>=W&ge>=W,m&=p.y!=null,m&=p.f!=null,m&=p.ea!=null,V==12&&(m&=J>=z,m&=le<=p.Tc,m&=p.F!=null)}else m=0;p=m?0:2}}return p!=0||x!=null&&x.fd&&(p=kf(C)),p}var _u=64,Jr=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Zr=24,nl=32,sa=8,il=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];We("Predictor0","PredictorAdd0"),T.Predictor0=function(){return 4278190080},T.Predictor1=function(p){return p},T.Predictor2=function(p,m,x){return m[x+0]},T.Predictor3=function(p,m,x){return m[x+1]},T.Predictor4=function(p,m,x){return m[x-1]},T.Predictor5=function(p,m,x){return it(it(p,m[x+1]),m[x+0])},T.Predictor6=function(p,m,x){return it(p,m[x-1])},T.Predictor7=function(p,m,x){return it(p,m[x+0])},T.Predictor8=function(p,m,x){return it(m[x-1],m[x+0])},T.Predictor9=function(p,m,x){return it(m[x+0],m[x+1])},T.Predictor10=function(p,m,x){return it(it(p,m[x-1]),it(m[x+0],m[x+1]))},T.Predictor11=function(p,m,x){var C=m[x+0];return 0>=et(C>>24&255,p>>24&255,(m=m[x-1])>>24&255)+et(C>>16&255,p>>16&255,m>>16&255)+et(C>>8&255,p>>8&255,m>>8&255)+et(255&C,255&p,255&m)?C:p},T.Predictor12=function(p,m,x){var C=m[x+0];return($t((p>>24&255)+(C>>24&255)-((m=m[x-1])>>24&255))<<24|$t((p>>16&255)+(C>>16&255)-(m>>16&255))<<16|$t((p>>8&255)+(C>>8&255)-(m>>8&255))<<8|$t((255&p)+(255&C)-(255&m)))>>>0},T.Predictor13=function(p,m,x){var C=m[x-1];return(Mt((p=it(p,m[x+0]))>>24&255,C>>24&255)<<24|Mt(p>>16&255,C>>16&255)<<16|Mt(p>>8&255,C>>8&255)<<8|Mt(255&p,255&C))>>>0};var Tf=T.PredictorAdd0;T.PredictorAdd1=pt,We("Predictor2","PredictorAdd2"),We("Predictor3","PredictorAdd3"),We("Predictor4","PredictorAdd4"),We("Predictor5","PredictorAdd5"),We("Predictor6","PredictorAdd6"),We("Predictor7","PredictorAdd7"),We("Predictor8","PredictorAdd8"),We("Predictor9","PredictorAdd9"),We("Predictor10","PredictorAdd10"),We("Predictor11","PredictorAdd11"),We("Predictor12","PredictorAdd12"),We("Predictor13","PredictorAdd13");var Cc=T.PredictorAdd2;tt("ColorIndexInverseTransform","MapARGB","32b",function(p){return p>>8&255},function(p){return p}),tt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(p){return p},function(p){return p>>8&255});var ri,sg=T.ColorIndexInverseTransform,Po=T.MapARGB,Io=T.VP8LColorIndexInverseTransformAlpha,Ef=T.MapAlpha,Pf=T.VP8LPredictorsAdd=[];Pf.length=16,(T.VP8LPredictors=[]).length=16,(T.VP8LPredictorsAdd_C=[]).length=16,(T.VP8LPredictors_C=[]).length=16;var If,Cf,rl,sl,ol,bu,al,xu,Is,Co,on,vn,si,bi,oa,Nf,Nc,og,vx,wx,_x,bx,xx,Sx,Lf,Ax,kx,Tx,Ex=s(511),Px=s(2041),Ix=s(225),Cx=s(767),Nx=0,uy=Px,ag=Ix,es=Cx,Cs=Ex,lg=0,ug=1,Lx=2,cg=3,hg=4,cy=5,Rx=6,hy=7,fy=8,fg=9,dy=10,lM=[2,3,7],uM=[3,3,11],Mx=[280,256,256,256,40],cM=[0,1,1,1,0],hM=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],fM=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],dM=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],pM=8,py=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],gy=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Rf=null,gM=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],mM=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Dx=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],yM=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],vM=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],wM=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],_M=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ll=[],Js=[],aa=[],bM=1,Ox=2,ul=[],Ns=[];Es("UpsampleRgbLinePair",he,3),Es("UpsampleBgrLinePair",ye,3),Es("UpsampleRgbaLinePair",Zt,4),Es("UpsampleBgraLinePair",Ft,4),Es("UpsampleArgbLinePair",Un,4),Es("UpsampleRgba4444LinePair",Wt,2),Es("UpsampleRgb565LinePair",je,2);var xM=T.UpsampleRgbLinePair,SM=T.UpsampleBgrLinePair,Fx=T.UpsampleRgbaLinePair,jx=T.UpsampleBgraLinePair,Vx=T.UpsampleArgbLinePair,Bx=T.UpsampleRgba4444LinePair,AM=T.UpsampleRgb565LinePair,dg=16,pg=1<<dg-1,Mf=-227,my=482,kM=6,zx=0,TM=s(256),EM=s(256),PM=s(256),IM=s(256),CM=s(my-Mf),NM=s(my-Mf);An("YuvToRgbRow",he,3),An("YuvToBgrRow",ye,3),An("YuvToRgbaRow",Zt,4),An("YuvToBgraRow",Ft,4),An("YuvToArgbRow",Un,4),An("YuvToRgba4444Row",Wt,2),An("YuvToRgb565Row",je,2);var Ux=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],gg=[0,2,8],LM=[8,7,6,4,4,2,2,2,1,1,1,1],RM=1;this.WebPDecodeRGBA=function(p,m,x,C,V){var z=ug,U=new Ae,W=new Ct;U.ba=W,W.S=z,W.width=[W.width],W.height=[W.height];var G=W.width,Q=W.height,se=new ut;if(se==null||p==null)var ge=2;else e(se!=null),ge=Qs(p,m,x,se.width,se.height,se.Pd,se.Qd,se.format,null);if(ge!=0?G=0:(G!=null&&(G[0]=se.width[0]),Q!=null&&(Q[0]=se.height[0]),G=1),G){W.width=W.width[0],W.height=W.height[0],C!=null&&(C[0]=W.width),V!=null&&(V[0]=W.height);e:{if(C=new So,(V=new Ie).data=p,V.w=m,V.ha=x,V.kd=1,m=[0],e(V!=null),((p=Qs(V.data,V.w,V.ha,null,null,null,m,null,V))==0||p==7)&&m[0]&&(p=4),(m=p)==0){if(e(U!=null),C.data=V.data,C.w=V.w+V.offset,C.ha=V.ha-V.offset,C.put=ht,C.ac=er,C.bc=En,C.ma=U,V.xa){if((p=_o())==null){U=1;break e}if(function(J,le){var de=[0],Se=[0],pe=[0];t:for(;;){if(J==null)return 0;if(le==null)return J.a=2,0;if(J.l=le,J.a=0,ie(J.m,le.data,le.w,le.ha),!ws(J.m,de,Se,pe)){J.a=3;break t}if(J.xb=Ox,le.width=de[0],le.height=Se[0],!Kr(de[0],Se[0],1,J,null))break t;return 1}return e(J.a!=0),0}(p,C)){if(C=(m=tl(C.width,C.height,U.Oa,U.ba))==0){t:{C=p;n:for(;;){if(C==null){C=0;break t}if(e(C.s.yc!=null),e(C.s.Ya!=null),e(0<C.s.Wb),e((x=C.l)!=null),e((V=x.ma)!=null),C.xb!=0){if(C.ca=V.ba,C.tb=V.tb,e(C.ca!=null),!Af(V.Oa,x,cg)){C.a=2;break n}if(!Ks(C,x.width)||x.da)break n;if((x.da||ft(C.ca.S))&&Or(),11>C.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),C.ca.f.kb.F!=null&&Or()),C.Pb&&0<C.s.ua&&C.s.vb.X==null&&!K(C.s.vb,C.s.Wa.Xa)){C.a=1;break n}C.xb=0}if(!nr(C,C.V,C.Ba,C.c,C.i,x.o,wo))break n;V.Dc=C.Ma,C=1;break t}e(C.a!=0),C=0}C=!C}C&&(m=p.a)}else m=p.a}else{if((p=new xc)==null){U=1;break e}if(p.Fa=V.na,p.P=V.P,p.qc=V.Sa,_s(p,C)){if((m=tl(C.width,C.height,U.Oa,U.ba))==0){if(p.Aa=0,x=U.Oa,e((V=p)!=null),x!=null){if(0<(G=0>(G=x.Md)?0:100<G?255:255*G/100)){for(Q=se=0;4>Q;++Q)12>(ge=V.pb[Q]).lc&&(ge.ia=G*LM[0>ge.lc?0:ge.lc]>>3),se|=ge.ia;se&&(alert("todo:VP8InitRandom"),V.ia=1)}V.Ga=x.Id,100<V.Ga?V.Ga=100:0>V.Ga&&(V.Ga=0)}(function(J,le){if(J==null)return 0;if(le==null)return jn(J,2,"NULL VP8Io parameter in VP8Decode().");if(!J.cb&&!_s(J,le))return 0;if(e(J.cb),le.ac==null||le.ac(le)){le.ob&&(J.L=0);var de=gg[J.L];if(J.L==2?(J.yb=0,J.zb=0):(J.yb=le.v-de>>4,J.zb=le.j-de>>4,0>J.yb&&(J.yb=0),0>J.zb&&(J.zb=0)),J.Va=le.o+15+de>>4,J.Hb=le.va+15+de>>4,J.Hb>J.za&&(J.Hb=J.za),J.Va>J.Ub&&(J.Va=J.Ub),0<J.L){var Se=J.ed;for(de=0;4>de;++de){var pe;if(J.Qa.Cb){var ke=J.Qa.Lb[de];J.Qa.Fb||(ke+=Se.Tb)}else ke=Se.Tb;for(pe=0;1>=pe;++pe){var Ee=J.gd[de][pe],De=ke;if(Se.Pc&&(De+=Se.vd[0],pe&&(De+=Se.od[0])),0<(De=0>De?0:63<De?63:De)){var Ne=De;0<Se.wb&&(Ne=4<Se.wb?Ne>>2:Ne>>1)>9-Se.wb&&(Ne=9-Se.wb),1>Ne&&(Ne=1),Ee.dd=Ne,Ee.tc=2*De+Ne,Ee.ld=40<=De?2:15<=De?1:0}else Ee.tc=0;Ee.La=pe}}}de=0}else jn(J,6,"Frame setup failed"),de=J.a;if(de=de==0){if(de){J.$c=0,0<J.Aa||(J.Ic=RM);t:{de=J.Ic,Se=4*(Ne=J.za);var rt=32*Ne,$e=Ne+1,Lt=0<J.L?Ne*(0<J.Aa?2:1):0,Qe=(J.Aa==2?2:1)*Ne;if((Ee=Se+832+(pe=3*(16*de+gg[J.L])/2*rt)+(ke=J.Fa!=null&&0<J.Fa.length?J.Kc.c*J.Kc.i:0))!=Ee)de=0;else{if(Ee>J.Vb){if(J.Vb=0,J.Ec=s(Ee),J.Fc=0,J.Ec==null){de=jn(J,1,"no memory during frame initialization.");break t}J.Vb=Ee}Ee=J.Ec,De=J.Fc,J.Ac=Ee,J.Bc=De,De+=Se,J.Gd=o(rt,fu),J.Hd=0,J.rb=o($e+1,Yr),J.sb=1,J.wa=Lt?o(Lt,Li):null,J.Y=0,J.D.Nb=0,J.D.wa=J.wa,J.D.Y=J.Y,0<J.Aa&&(J.D.Y+=Ne),e(!0),J.oc=Ee,J.pc=De,De+=832,J.ya=o(Qe,cu),J.aa=0,J.D.ya=J.ya,J.D.aa=J.aa,J.Aa==2&&(J.D.aa+=Ne),J.R=16*Ne,J.B=8*Ne,Ne=(rt=gg[J.L])*J.R,rt=rt/2*J.B,J.sa=Ee,J.ta=De+Ne,J.qa=J.sa,J.ra=J.ta+16*de*J.R+rt,J.Ha=J.qa,J.Ia=J.ra+8*de*J.B+rt,J.$c=0,De+=pe,J.mb=ke?Ee:null,J.nb=ke?De:null,e(De+ke<=J.Fc+J.Vb),pu(J),r(J.Ac,J.Bc,0,Se),de=1}}if(de){if(le.ka=0,le.y=J.sa,le.O=J.ta,le.f=J.qa,le.N=J.ra,le.ea=J.Ha,le.Vd=J.Ia,le.fa=J.R,le.Rc=J.B,le.F=null,le.J=0,!Nx){for(de=-255;255>=de;++de)Ex[255+de]=0>de?-de:de;for(de=-1020;1020>=de;++de)Px[1020+de]=-128>de?-128:127<de?127:de;for(de=-112;112>=de;++de)Ix[112+de]=-16>de?-16:15<de?15:de;for(de=-255;510>=de;++de)Cx[255+de]=0>de?0:255<de?255:de;Nx=1}al=bs,xu=Ac,Co=Bt,on=ta,vn=Ao,Is=Ya,si=el,bi=Ts,oa=j,Nf=X,Nc=wu,og=_,vx=te,wx=ue,_x=Eo,bx=Sr,xx=vu,Sx=Ic,Js[0]=xf,Js[1]=kc,Js[2]=_f,Js[3]=bf,Js[4]=Ri,Js[5]=Sf,Js[6]=Ys,Js[7]=Qa,Js[8]=Ja,Js[9]=Xs,ll[0]=xs,ll[1]=wf,ll[2]=gu,ll[3]=Tc,ll[4]=ko,ll[5]=Xa,ll[6]=Ec,aa[0]=mu,aa[1]=vf,aa[2]=Xr,aa[3]=ia,aa[4]=yu,aa[5]=gn,aa[6]=Pc,de=1}else de=0}de&&(de=function(qt,xi){for(qt.M=0;qt.M<qt.Va;++qt.M){var Rt,Je=qt.Jc[qt.M&qt.Xb],Ve=qt.m,oi=qt;for(Rt=0;Rt<oi.za;++Rt){var Et=Ve,Gt=oi,Pn=Gt.Ac,zi=Gt.Bc+4*Rt,kr=Gt.zc,Xn=Gt.ya[Gt.aa+Rt];if(Gt.Qa.Bb?Xn.$b=Te(Et,Gt.Pa.jb[0])?2+Te(Et,Gt.Pa.jb[2]):Te(Et,Gt.Pa.jb[1]):Xn.$b=0,Gt.kc&&(Xn.Ad=Te(Et,Gt.Bd)),Xn.Za=!Te(Et,145)+0,Xn.Za){var rr=Xn.Ob,Tr=0;for(Gt=0;4>Gt;++Gt){var Si,Yt=kr[0+Gt];for(Si=0;4>Si;++Si){Yt=vM[Pn[zi+Si]][Yt];for(var un=Dx[Te(Et,Yt[0])];0<un;)un=Dx[2*un+Te(Et,Yt[un])];Yt=-un,Pn[zi+Si]=Yt}i(rr,Tr,Pn,zi,4),Tr+=4,kr[0+Gt]=Yt}}else Yt=Te(Et,156)?Te(Et,128)?1:3:Te(Et,163)?2:0,Xn.Ob[0]=Yt,r(Pn,zi,Yt,4),r(kr,0,Yt,4);Xn.Dd=Te(Et,142)?Te(Et,114)?Te(Et,183)?1:3:2:0}if(oi.m.Ka)return jn(qt,7,"Premature end-of-partition0 encountered.");for(;qt.ja<qt.za;++qt.ja){if(oi=Je,Et=(Ve=qt).rb[Ve.sb-1],Pn=Ve.rb[Ve.sb+Ve.ja],Rt=Ve.ya[Ve.aa+Ve.ja],zi=Ve.kc?Rt.Ad:0)Et.la=Pn.la=0,Rt.Za||(Et.Na=Pn.Na=0),Rt.Hc=0,Rt.Gc=0,Rt.ia=0;else{var Qn,cn;if(Et=Pn,Pn=oi,zi=Ve.Pa.Xc,kr=Ve.ya[Ve.aa+Ve.ja],Xn=Ve.pb[kr.$b],Gt=kr.ad,rr=0,Tr=Ve.rb[Ve.sb-1],Yt=Si=0,r(Gt,rr,0,384),kr.Za)var Ui=0,Zs=zi[3];else{un=s(16);var ai=Et.Na+Tr.Na;if(ai=Rf(Pn,zi[1],ai,Xn.Eb,0,un,0),Et.Na=Tr.Na=(0<ai)+0,1<ai)al(un,0,Gt,rr);else{var Fr=un[0]+3>>3;for(un=0;256>un;un+=16)Gt[rr+un]=Fr}Ui=1,Zs=zi[0]}var wn=15&Et.la,Ai=15&Tr.la;for(un=0;4>un;++un){var ts=1&Ai;for(Fr=cn=0;4>Fr;++Fr)wn=wn>>1|(ts=(ai=Rf(Pn,Zs,ai=ts+(1&wn),Xn.Sc,Ui,Gt,rr))>Ui)<<7,cn=cn<<2|(3<ai?3:1<ai?2:Gt[rr+0]!=0),rr+=16;wn>>=4,Ai=Ai>>1|ts<<7,Si=(Si<<8|cn)>>>0}for(Zs=wn,Ui=Ai>>4,Qn=0;4>Qn;Qn+=2){for(cn=0,wn=Et.la>>4+Qn,Ai=Tr.la>>4+Qn,un=0;2>un;++un){for(ts=1&Ai,Fr=0;2>Fr;++Fr)ai=ts+(1&wn),wn=wn>>1|(ts=0<(ai=Rf(Pn,zi[2],ai,Xn.Qc,0,Gt,rr)))<<3,cn=cn<<2|(3<ai?3:1<ai?2:Gt[rr+0]!=0),rr+=16;wn>>=2,Ai=Ai>>1|ts<<5}Yt|=cn<<4*Qn,Zs|=wn<<4<<Qn,Ui|=(240&Ai)<<Qn}Et.la=Zs,Tr.la=Ui,kr.Hc=Si,kr.Gc=Yt,kr.ia=43690&Yt?0:Xn.ia,zi=!(Si|Yt)}if(0<Ve.L&&(Ve.wa[Ve.Y+Ve.ja]=Ve.gd[Rt.$b][Rt.Za],Ve.wa[Ve.Y+Ve.ja].La|=!zi),oi.Ka)return jn(qt,7,"Premature end-of-file encountered.")}if(pu(qt),Ve=xi,oi=1,Rt=(Je=qt).D,Et=0<Je.L&&Je.M>=Je.zb&&Je.M<=Je.Va,Je.Aa==0)t:{if(Rt.M=Je.M,Rt.uc=Et,Bi(Je,Rt),oi=1,Rt=(cn=Je.D).Nb,Et=(Yt=gg[Je.L])*Je.R,Pn=Yt/2*Je.B,un=16*Rt*Je.R,Fr=8*Rt*Je.B,zi=Je.sa,kr=Je.ta-Et+un,Xn=Je.qa,Gt=Je.ra-Pn+Fr,rr=Je.Ha,Tr=Je.Ia-Pn+Fr,Ai=(wn=cn.M)==0,Si=wn>=Je.Va-1,Je.Aa==2&&Bi(Je,cn),cn.uc)for(ts=(ai=Je).D.M,e(ai.D.uc),cn=ai.yb;cn<ai.Hb;++cn){Ui=cn,Zs=ts;var Er=(ns=(Wi=ai).D).Nb;Qn=Wi.R;var ns=ns.wa[ns.Y+Ui],is=Wi.sa,jr=Wi.ta+16*Er*Qn+16*Ui,rs=ns.dd,kn=ns.tc;if(kn!=0)if(e(3<=kn),Wi.L==1)0<Ui&&bx(is,jr,Qn,kn+4),ns.La&&Sx(is,jr,Qn,kn),0<Zs&&_x(is,jr,Qn,kn+4),ns.La&&xx(is,jr,Qn,kn);else{var ss=Wi.B,eo=Wi.qa,Su=Wi.ra+8*Er*ss+8*Ui,la=Wi.Ha,Wi=Wi.Ia+8*Er*ss+8*Ui;Er=ns.ld,0<Ui&&(bi(is,jr,Qn,kn+4,rs,Er),Nf(eo,Su,la,Wi,ss,kn+4,rs,Er)),ns.La&&(og(is,jr,Qn,kn,rs,Er),wx(eo,Su,la,Wi,ss,kn,rs,Er)),0<Zs&&(si(is,jr,Qn,kn+4,rs,Er),oa(eo,Su,la,Wi,ss,kn+4,rs,Er)),ns.La&&(Nc(is,jr,Qn,kn,rs,Er),vx(eo,Su,la,Wi,ss,kn,rs,Er))}}if(Je.ia&&alert("todo:DitherRow"),Ve.put!=null){if(cn=16*wn,wn=16*(wn+1),Ai?(Ve.y=Je.sa,Ve.O=Je.ta+un,Ve.f=Je.qa,Ve.N=Je.ra+Fr,Ve.ea=Je.Ha,Ve.W=Je.Ia+Fr):(cn-=Yt,Ve.y=zi,Ve.O=kr,Ve.f=Xn,Ve.N=Gt,Ve.ea=rr,Ve.W=Tr),Si||(wn-=Yt),wn>Ve.o&&(wn=Ve.o),Ve.F=null,Ve.J=null,Je.Fa!=null&&0<Je.Fa.length&&cn<wn&&(Ve.J=ln(Je,Ve,cn,wn-cn),Ve.F=Je.mb,Ve.F==null&&Ve.F.length==0)){oi=jn(Je,3,"Could not decode alpha data.");break t}cn<Ve.j&&(Yt=Ve.j-cn,cn=Ve.j,e(!(1&Yt)),Ve.O+=Je.R*Yt,Ve.N+=Je.B*(Yt>>1),Ve.W+=Je.B*(Yt>>1),Ve.F!=null&&(Ve.J+=Ve.width*Yt)),cn<wn&&(Ve.O+=Ve.v,Ve.N+=Ve.v>>1,Ve.W+=Ve.v>>1,Ve.F!=null&&(Ve.J+=Ve.v),Ve.ka=cn-Ve.j,Ve.U=Ve.va-Ve.v,Ve.T=wn-cn,oi=Ve.put(Ve))}Rt+1!=Je.Ic||Si||(i(Je.sa,Je.ta-Et,zi,kr+16*Je.R,Et),i(Je.qa,Je.ra-Pn,Xn,Gt+8*Je.B,Pn),i(Je.Ha,Je.Ia-Pn,rr,Tr+8*Je.B,Pn))}if(!oi)return jn(qt,6,"Output aborted.")}return 1}(J,le)),le.bc!=null&&le.bc(le),de&=1}return de?(J.cb=0,de):0})(p,C)||(m=p.a)}}else m=p.a}m==0&&U.Oa!=null&&U.Oa.fd&&(m=kf(U.ba))}U=m}z=U!=0?null:11>z?W.f.RGBA.eb:W.f.kb.y}else z=null;return z};var Wx=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(T,O){for(var E="",L=0;L<4;L++)E+=String.fromCharCode(T[O++]);return E}function c(T,O){return T[O+0]|T[O+1]<<8}function h(T,O){return(T[O+0]|T[O+1]<<8|T[O+2]<<16)>>>0}function d(T,O){return(T[O+0]|T[O+1]<<8|T[O+2]<<16|T[O+3]<<24)>>>0}new l;var f=[0],y=[0],w=[],b=new l,v=t,S=function(T,O){var E={},L=0,D=!1,Z=0,oe=0;if(E.frames=[],!function(B,Y){for(var ee=0;ee<4;ee++)if(B[Y+ee]!="RIFF".charCodeAt(ee))return!0;return!1}(T,O)){for(d(T,O+=4),O+=8;O<T.length;){var ce=u(T,O),ae=d(T,O+=4);O+=4;var $=ae+(1&ae);switch(ce){case"VP8 ":case"VP8L":E.frames[L]===void 0&&(E.frames[L]={}),(ve=E.frames[L]).src_off=D?oe:O-8,ve.src_size=Z+ae+8,L++,D&&(D=!1,Z=0,oe=0);break;case"VP8X":(ve=E.header={}).feature_flags=T[O];var ie=O+4;ve.canvas_width=1+h(T,ie),ie+=3,ve.canvas_height=1+h(T,ie),ie+=3;break;case"ALPH":D=!0,Z=$+8,oe=O-8;break;case"ANIM":(ve=E.header).bgcolor=d(T,O),ie=O+4,ve.loop_count=c(T,ie),ie+=2;break;case"ANMF":var me,ve;(ve=E.frames[L]={}).offset_x=2*h(T,O),O+=3,ve.offset_y=2*h(T,O),O+=3,ve.width=1+h(T,O),O+=3,ve.height=1+h(T,O),O+=3,ve.duration=h(T,O),O+=3,me=T[O++],ve.dispose=1&me,ve.blend=me>>1&1}ce!="ANMF"&&(O+=$)}return E}}(v,0);S.response=v,S.rgbaoutput=!0,S.dataurl=!1;var I=S.header?S.header:null,P=S.frames?S.frames:null;if(I){I.loop_counter=I.loop_count,f=[I.canvas_height],y=[I.canvas_width];for(var F=0;F<P.length&&P[F].blend!=0;F++);}var H=P[0],M=b.WebPDecodeRGBA(v,H.src_off,H.src_size,y,f);H.rgba=M,H.imgwidth=y[0],H.imgheight=f[0];for(var k=0;k<y[0]*f[0]*4;k++)w[k]=M[k];return this.width=y,this.height=f,this.data=w,this}/** ====================================================================
 * @license
 * jsPDF XMP metadata plugin
 * Copyright (c) 2016 Jussi Utunen, u-jussi@suomi24.fi
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 */function fee(){var t,e=this.internal.__metadata__.metadata,n=unescape(encodeURIComponent(e));t=this.internal.__metadata__.rawXml?n:'<x:xmpmeta xmlns:x="adobe:ns:meta/"><rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceUri+'"><jspdf:metadata>'+n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")+"</jspdf:metadata></rdf:Description></rdf:RDF></x:xmpmeta>",this.internal.__metadata__.metadataObjectNumber=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+t.length+" >>"),this.internal.write("stream"),this.internal.write(t),this.internal.write("endstream"),this.internal.write("endobj")}function dee(){this.internal.__metadata__.metadataObjectNumber&&this.internal.write("/Metadata "+this.internal.__metadata__.metadataObjectNumber+" 0 R")}(function(t){var e,n,i,r,s,o,a,l,u,c=function(B){return B=B||{},this.isStrokeTransparent=B.isStrokeTransparent||!1,this.strokeOpacity=B.strokeOpacity||1,this.strokeStyle=B.strokeStyle||"#000000",this.fillStyle=B.fillStyle||"#000000",this.isFillTransparent=B.isFillTransparent||!1,this.fillOpacity=B.fillOpacity||1,this.font=B.font||"10px sans-serif",this.textBaseline=B.textBaseline||"alphabetic",this.textAlign=B.textAlign||"left",this.lineWidth=B.lineWidth||1,this.lineJoin=B.lineJoin||"miter",this.lineCap=B.lineCap||"butt",this.path=B.path||[],this.transform=B.transform!==void 0?B.transform.clone():new l,this.globalCompositeOperation=B.globalCompositeOperation||"normal",this.globalAlpha=B.globalAlpha||1,this.clip_path=B.clip_path||[],this.currentPoint=B.currentPoint||new o,this.miterLimit=B.miterLimit||10,this.lastPoint=B.lastPoint||new o,this.lineDashOffset=B.lineDashOffset||0,this.lineDash=B.lineDash||[],this.margin=B.margin||[0,0,0,0],this.prevPageLastElemOffset=B.prevPageLastElemOffset||0,this.ignoreClearRect=typeof B.ignoreClearRect!="boolean"||B.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new h(this),e=this.internal.f2,n=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,r=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,u=new c}]);var h=function(B){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Y=B;Object.defineProperty(this,"pdf",{get:function(){return Y}});var ee=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return ee},set:function(K){ee=!!K}});var ne=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ne},set:function(K){ne=!!K}});var re=0;Object.defineProperty(this,"posX",{get:function(){return re},set:function(K){isNaN(K)||(re=K)}});var fe=0;Object.defineProperty(this,"posY",{get:function(){return fe},set:function(K){isNaN(K)||(fe=K)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(K){var Be;typeof K=="number"?Be=[K,K,K,K]:((Be=new Array(4))[0]=K[0],Be[1]=K.length>=2?K[1]:Be[0],Be[2]=K.length>=3?K[2]:Be[0],Be[3]=K.length>=4?K[3]:Be[1]),u.margin=Be}});var we=!1;Object.defineProperty(this,"autoPaging",{get:function(){return we},set:function(K){we=K}});var be=0;Object.defineProperty(this,"lastBreak",{get:function(){return be},set:function(K){be=K}});var Te=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Te},set:function(K){Te=K}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(K){K instanceof c&&(u=K)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(K){u.path=K}});var Re=[];Object.defineProperty(this,"ctxStack",{get:function(){return Re},set:function(K){Re=K}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(K){var Be;Be=d(K),this.ctx.fillStyle=Be.style,this.ctx.isFillTransparent=Be.a===0,this.ctx.fillOpacity=Be.a,this.pdf.setFillColor(Be.r,Be.g,Be.b,{a:Be.a}),this.pdf.setTextColor(Be.r,Be.g,Be.b,{a:Be.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(K){var Be=d(K);this.ctx.strokeStyle=Be.style,this.ctx.isStrokeTransparent=Be.a===0,this.ctx.strokeOpacity=Be.a,Be.a===0?this.pdf.setDrawColor(255,255,255):(Be.a,this.pdf.setDrawColor(Be.r,Be.g,Be.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(K){["butt","round","square"].indexOf(K)!==-1&&(this.ctx.lineCap=K,this.pdf.setLineCap(K))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(K){isNaN(K)||(this.ctx.lineWidth=K,this.pdf.setLineWidth(K))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(K){["bevel","round","miter"].indexOf(K)!==-1&&(this.ctx.lineJoin=K,this.pdf.setLineJoin(K))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(K){isNaN(K)||(this.ctx.miterLimit=K,this.pdf.setMiterLimit(K))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(K){this.ctx.textBaseline=K}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(K){["right","end","center","left","start"].indexOf(K)!==-1&&(this.ctx.textAlign=K)}});var _e=null,Ce=null,Ue=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ue},set:function(K){_e=null,Ce=null,Ue=K}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(K){var Be;if(this.ctx.font=K,(Be=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(K))!==null){var Pt=Be[1];Be[2];var ct=Be[3],Le=Be[4];Be[5];var st=Be[6],We=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Le)[2];Le=Math.floor(We==="px"?parseFloat(Le)*this.pdf.internal.scaleFactor:We==="em"?parseFloat(Le)*this.pdf.getFontSize():parseFloat(Le)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Le);var lt=function(tt){var mn,Vt,It=[],Tt=tt.trim();if(Tt==="")return J2;if(Tt in J3)return[J3[Tt]];for(;Tt!=="";){switch(Vt=null,mn=(Tt=eE(Tt)).charAt(0)){case'"':case"'":Vt=oee(Tt.substring(1),mn);break;default:Vt=aee(Tt)}if(Vt===null||(It.push(Vt[0]),(Tt=eE(Vt[1]))!==""&&Tt.charAt(0)!==","))return J2;Tt=Tt.replace(/^,/,"")}return It}(st);if(this.fontFaces){var it=function(tt,mn){var Vt=tt.getFontList(),It=JSON.stringify(Vt);if(_e===null||Ce!==It){var Tt=function(Sn){var ot=[];return Object.keys(Sn).forEach(function(rn){Sn[rn].forEach(function(ft){var _t=null;switch(ft){case"bold":_t={family:rn,weight:"bold"};break;case"italic":_t={family:rn,style:"italic"};break;case"bolditalic":_t={family:rn,weight:"bold",style:"italic"};break;case"":case"normal":_t={family:rn}}_t!==null&&(_t.ref={name:rn,style:ft},ot.push(_t))})}),ot}(Vt);_e=function(Sn){for(var ot={},rn=0;rn<Sn.length;++rn){var ft=Q2(Sn[rn]),_t=ft.family,sn=ft.stretch,Ct=ft.style,ut=ft.weight;ot[_t]=ot[_t]||{},ot[_t][sn]=ot[_t][sn]||{},ot[_t][sn][Ct]=ot[_t][sn][Ct]||{},ot[_t][sn][Ct][ut]=ft}return ot}(Tt.concat(mn)),Ce=It}return _e}(this.pdf,this.fontFaces),$t=lt.map(function(tt){return{family:tt,stretch:"normal",weight:ct,style:Pt}}),Mt=function(tt,mn,Vt){for(var It=(Vt=Vt||{}).defaultFontFamily||"times",Tt=Object.assign({},see,Vt.genericFontFamilies||{}),Sn=null,ot=null,rn=0;rn<mn.length;++rn)if(Tt[(Sn=Q2(mn[rn])).family]&&(Sn.family=Tt[Sn.family]),tt.hasOwnProperty(Sn.family)){ot=tt[Sn.family];break}if(!(ot=ot||tt[It]))throw new Error("Could not find a font-family for the rule '"+Z3(Sn)+"' and default family '"+It+"'.");if(ot=function(ft,_t){if(_t[ft])return _t[ft];var sn=uw[ft],Ct=sn<=uw.normal?-1:1,ut=Q3(_t,z8,sn,Ct);if(!ut)throw new Error("Could not find a matching font-stretch value for "+ft);return ut}(Sn.stretch,ot),ot=function(ft,_t){if(_t[ft])return _t[ft];for(var sn=B8[ft],Ct=0;Ct<sn.length;++Ct)if(_t[sn[Ct]])return _t[sn[Ct]];throw new Error("Could not find a matching font-style for "+ft)}(Sn.style,ot),!(ot=function(ft,_t){if(_t[ft])return _t[ft];if(ft===400&&_t[500])return _t[500];if(ft===500&&_t[400])return _t[400];var sn=ree[ft],Ct=Q3(_t,U8,sn,ft<400?-1:1);if(!Ct)throw new Error("Could not find a matching font-weight for value "+ft);return Ct}(Sn.weight,ot)))throw new Error("Failed to resolve a font for the rule '"+Z3(Sn)+"'.");return ot}(it,$t);this.pdf.setFont(Mt.ref.name,Mt.ref.style)}else{var et="";(ct==="bold"||parseInt(ct,10)>=700||Pt==="bold")&&(et="bold"),Pt==="italic"&&(et+="italic"),et.length===0&&(et="normal");for(var pt="",Nt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ke=0;Ke<lt.length;Ke++){if(this.pdf.internal.getFont(lt[Ke],et,{noFallback:!0,disableWarning:!0})!==void 0){pt=lt[Ke];break}if(et==="bolditalic"&&this.pdf.internal.getFont(lt[Ke],"bold",{noFallback:!0,disableWarning:!0})!==void 0)pt=lt[Ke],et="bold";else if(this.pdf.internal.getFont(lt[Ke],"normal",{noFallback:!0,disableWarning:!0})!==void 0){pt=lt[Ke],et="normal";break}}if(pt===""){for(var St=0;St<lt.length;St++)if(Nt[lt[St]]){pt=Nt[lt[St]];break}}pt=pt===""?"Times":pt,this.pdf.setFont(pt,et)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(K){this.ctx.globalCompositeOperation=K}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(K){this.ctx.globalAlpha=K}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(K){this.ctx.lineDashOffset=K,ve.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(K){this.ctx.lineDash=K,ve.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(K){this.ctx.ignoreClearRect=!!K}})};h.prototype.setLineDash=function(B){this.lineDash=B},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){P.call(this,"fill",!1)},h.prototype.stroke=function(){P.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(B,Y){if(isNaN(B)||isNaN(Y))throw _n.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var ee=this.ctx.transform.applyToPoint(new o(B,Y));this.path.push({type:"mt",x:ee.x,y:ee.y}),this.ctx.lastPoint=new o(B,Y)},h.prototype.closePath=function(){var B=new o(0,0),Y=0;for(Y=this.path.length-1;Y!==-1;Y--)if(this.path[Y].type==="begin"&&fn(this.path[Y+1])==="object"&&typeof this.path[Y+1].x=="number"){B=new o(this.path[Y+1].x,this.path[Y+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(B.x,B.y)},h.prototype.lineTo=function(B,Y){if(isNaN(B)||isNaN(Y))throw _n.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var ee=this.ctx.transform.applyToPoint(new o(B,Y));this.path.push({type:"lt",x:ee.x,y:ee.y}),this.ctx.lastPoint=new o(ee.x,ee.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),P.call(this,null,!0)},h.prototype.quadraticCurveTo=function(B,Y,ee,ne){if(isNaN(ee)||isNaN(ne)||isNaN(B)||isNaN(Y))throw _n.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var re=this.ctx.transform.applyToPoint(new o(ee,ne)),fe=this.ctx.transform.applyToPoint(new o(B,Y));this.path.push({type:"qct",x1:fe.x,y1:fe.y,x:re.x,y:re.y}),this.ctx.lastPoint=new o(re.x,re.y)},h.prototype.bezierCurveTo=function(B,Y,ee,ne,re,fe){if(isNaN(re)||isNaN(fe)||isNaN(B)||isNaN(Y)||isNaN(ee)||isNaN(ne))throw _n.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var we=this.ctx.transform.applyToPoint(new o(re,fe)),be=this.ctx.transform.applyToPoint(new o(B,Y)),Te=this.ctx.transform.applyToPoint(new o(ee,ne));this.path.push({type:"bct",x1:be.x,y1:be.y,x2:Te.x,y2:Te.y,x:we.x,y:we.y}),this.ctx.lastPoint=new o(we.x,we.y)},h.prototype.arc=function(B,Y,ee,ne,re,fe){if(isNaN(B)||isNaN(Y)||isNaN(ee)||isNaN(ne)||isNaN(re))throw _n.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(fe=!!fe,!this.ctx.transform.isIdentity){var we=this.ctx.transform.applyToPoint(new o(B,Y));B=we.x,Y=we.y;var be=this.ctx.transform.applyToPoint(new o(0,ee)),Te=this.ctx.transform.applyToPoint(new o(0,0));ee=Math.sqrt(Math.pow(be.x-Te.x,2)+Math.pow(be.y-Te.y,2))}Math.abs(re-ne)>=2*Math.PI&&(ne=0,re=2*Math.PI),this.path.push({type:"arc",x:B,y:Y,radius:ee,startAngle:ne,endAngle:re,counterclockwise:fe})},h.prototype.arcTo=function(B,Y,ee,ne,re){throw new Error("arcTo not implemented.")},h.prototype.rect=function(B,Y,ee,ne){if(isNaN(B)||isNaN(Y)||isNaN(ee)||isNaN(ne))throw _n.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(B,Y),this.lineTo(B+ee,Y),this.lineTo(B+ee,Y+ne),this.lineTo(B,Y+ne),this.lineTo(B,Y),this.lineTo(B+ee,Y),this.lineTo(B,Y)},h.prototype.fillRect=function(B,Y,ee,ne){if(isNaN(B)||isNaN(Y)||isNaN(ee)||isNaN(ne))throw _n.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var re={};this.lineCap!=="butt"&&(re.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(re.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(B,Y,ee,ne),this.fill(),re.hasOwnProperty("lineCap")&&(this.lineCap=re.lineCap),re.hasOwnProperty("lineJoin")&&(this.lineJoin=re.lineJoin)}},h.prototype.strokeRect=function(B,Y,ee,ne){if(isNaN(B)||isNaN(Y)||isNaN(ee)||isNaN(ne))throw _n.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");y.call(this)||(this.beginPath(),this.rect(B,Y,ee,ne),this.stroke())},h.prototype.clearRect=function(B,Y,ee,ne){if(isNaN(B)||isNaN(Y)||isNaN(ee)||isNaN(ne))throw _n.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(B,Y,ee,ne))},h.prototype.save=function(B){B=typeof B!="boolean"||B;for(var Y=this.pdf.internal.getCurrentPageInfo().pageNumber,ee=0;ee<this.pdf.internal.getNumberOfPages();ee++)this.pdf.setPage(ee+1),this.pdf.internal.out("q");if(this.pdf.setPage(Y),B){this.ctx.fontSize=this.pdf.internal.getFontSize();var ne=new c(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ne}},h.prototype.restore=function(B){B=typeof B!="boolean"||B;for(var Y=this.pdf.internal.getCurrentPageInfo().pageNumber,ee=0;ee<this.pdf.internal.getNumberOfPages();ee++)this.pdf.setPage(ee+1),this.pdf.internal.out("Q");this.pdf.setPage(Y),B&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var d=function(B){var Y,ee,ne,re;if(B.isCanvasGradient===!0&&(B=B.getColor()),!B)return{r:0,g:0,b:0,a:0,style:B};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(B))Y=0,ee=0,ne=0,re=0;else{var fe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(B);if(fe!==null)Y=parseInt(fe[1]),ee=parseInt(fe[2]),ne=parseInt(fe[3]),re=1;else if((fe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(B))!==null)Y=parseInt(fe[1]),ee=parseInt(fe[2]),ne=parseInt(fe[3]),re=parseFloat(fe[4]);else{if(re=1,typeof B=="string"&&B.charAt(0)!=="#"){var we=new R8(B);B=we.ok?we.toHex():"#000000"}B.length===4?(Y=B.substring(1,2),Y+=Y,ee=B.substring(2,3),ee+=ee,ne=B.substring(3,4),ne+=ne):(Y=B.substring(1,3),ee=B.substring(3,5),ne=B.substring(5,7)),Y=parseInt(Y,16),ee=parseInt(ee,16),ne=parseInt(ne,16)}}return{r:Y,g:ee,b:ne,a:re,style:B}},f=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},y=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(B,Y,ee,ne){if(isNaN(Y)||isNaN(ee)||typeof B!="string")throw _n.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ne=isNaN(ne)?void 0:ne,!f.call(this)){var re=$(this.ctx.transform.rotation),fe=this.ctx.transform.scaleX;L.call(this,{text:B,x:Y,y:ee,scale:fe,angle:re,align:this.textAlign,maxWidth:ne})}},h.prototype.strokeText=function(B,Y,ee,ne){if(isNaN(Y)||isNaN(ee)||typeof B!="string")throw _n.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!y.call(this)){ne=isNaN(ne)?void 0:ne;var re=$(this.ctx.transform.rotation),fe=this.ctx.transform.scaleX;L.call(this,{text:B,x:Y,y:ee,scale:fe,renderingMode:"stroke",angle:re,align:this.textAlign,maxWidth:ne})}},h.prototype.measureText=function(B){if(typeof B!="string")throw _n.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Y=this.pdf,ee=this.pdf.internal.scaleFactor,ne=Y.internal.getFontSize(),re=Y.getStringUnitWidth(B)*ne/Y.internal.scaleFactor;return new function(fe){var we=(fe=fe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return we}}),this}({width:re*=Math.round(96*ee/72*1e4)/1e4})},h.prototype.scale=function(B,Y){if(isNaN(B)||isNaN(Y))throw _n.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var ee=new l(B,0,0,Y,0,0);this.ctx.transform=this.ctx.transform.multiply(ee)},h.prototype.rotate=function(B){if(isNaN(B))throw _n.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Y=new l(Math.cos(B),Math.sin(B),-Math.sin(B),Math.cos(B),0,0);this.ctx.transform=this.ctx.transform.multiply(Y)},h.prototype.translate=function(B,Y){if(isNaN(B)||isNaN(Y))throw _n.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var ee=new l(1,0,0,1,B,Y);this.ctx.transform=this.ctx.transform.multiply(ee)},h.prototype.transform=function(B,Y,ee,ne,re,fe){if(isNaN(B)||isNaN(Y)||isNaN(ee)||isNaN(ne)||isNaN(re)||isNaN(fe))throw _n.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var we=new l(B,Y,ee,ne,re,fe);this.ctx.transform=this.ctx.transform.multiply(we)},h.prototype.setTransform=function(B,Y,ee,ne,re,fe){B=isNaN(B)?1:B,Y=isNaN(Y)?0:Y,ee=isNaN(ee)?0:ee,ne=isNaN(ne)?1:ne,re=isNaN(re)?0:re,fe=isNaN(fe)?0:fe,this.ctx.transform=new l(B,Y,ee,ne,re,fe)};var w=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(B,Y,ee,ne,re,fe,we,be,Te){var Re=this.pdf.getImageProperties(B),_e=1,Ce=1,Ue=1,K=1;ne!==void 0&&be!==void 0&&(Ue=be/ne,K=Te/re,_e=Re.width/ne*be/ne,Ce=Re.height/re*Te/re),fe===void 0&&(fe=Y,we=ee,Y=0,ee=0),ne!==void 0&&be===void 0&&(be=ne,Te=re),ne===void 0&&be===void 0&&(be=Re.width,Te=Re.height);var Be=this.ctx.transform.decompose(),Pt=$(Be.rotate.shx),ct=new l,Le=(ct=(ct=(ct=ct.multiply(Be.translate)).multiply(Be.skew)).multiply(Be.scale)).applyToRectangle(new a(fe-Y*Ue,we-ee*K,ne*_e,re*Ce));if(this.autoPaging){for(var st,We=b.call(this,Le),lt=[],it=0;it<We.length;it+=1)lt.indexOf(We[it])===-1&&lt.push(We[it]);I(lt);for(var $t=lt[0],Mt=lt[lt.length-1],et=$t;et<Mt+1;et++){this.pdf.setPage(et);var pt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Nt=et===1?this.posY+this.margin[0]:this.margin[0],Ke=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],St=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],tt=et===1?0:Ke+(et-2)*St;if(this.ctx.clip_path.length!==0){var mn=this.path;st=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(st,this.posX+this.margin[3],-tt+Nt+this.ctx.prevPageLastElemOffset),F.call(this,"fill",!0),this.path=mn}var Vt=JSON.parse(JSON.stringify(Le));Vt=S([Vt],this.posX+this.margin[3],-tt+Nt+this.ctx.prevPageLastElemOffset)[0];var It=(et>$t||et<Mt)&&w.call(this);It&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],pt,St,null).clip().discardPath()),this.pdf.addImage(B,"JPEG",Vt.x,Vt.y,Vt.w,Vt.h,null,null,Pt),It&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(B,"JPEG",Le.x,Le.y,Le.w,Le.h,null,null,Pt)};var b=function(B,Y,ee){var ne=[];Y=Y||this.pdf.internal.pageSize.width,ee=ee||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var re=this.posY+this.ctx.prevPageLastElemOffset;switch(B.type){default:case"mt":case"lt":ne.push(Math.floor((B.y+re)/ee)+1);break;case"arc":ne.push(Math.floor((B.y+re-B.radius)/ee)+1),ne.push(Math.floor((B.y+re+B.radius)/ee)+1);break;case"qct":var fe=ie(this.ctx.lastPoint.x,this.ctx.lastPoint.y,B.x1,B.y1,B.x,B.y);ne.push(Math.floor((fe.y+re)/ee)+1),ne.push(Math.floor((fe.y+fe.h+re)/ee)+1);break;case"bct":var we=me(this.ctx.lastPoint.x,this.ctx.lastPoint.y,B.x1,B.y1,B.x2,B.y2,B.x,B.y);ne.push(Math.floor((we.y+re)/ee)+1),ne.push(Math.floor((we.y+we.h+re)/ee)+1);break;case"rect":ne.push(Math.floor((B.y+re)/ee)+1),ne.push(Math.floor((B.y+B.h+re)/ee)+1)}for(var be=0;be<ne.length;be+=1)for(;this.pdf.internal.getNumberOfPages()<ne[be];)v.call(this);return ne},v=function(){var B=this.fillStyle,Y=this.strokeStyle,ee=this.font,ne=this.lineCap,re=this.lineWidth,fe=this.lineJoin;this.pdf.addPage(),this.fillStyle=B,this.strokeStyle=Y,this.font=ee,this.lineCap=ne,this.lineWidth=re,this.lineJoin=fe},S=function(B,Y,ee){for(var ne=0;ne<B.length;ne++)switch(B[ne].type){case"bct":B[ne].x2+=Y,B[ne].y2+=ee;case"qct":B[ne].x1+=Y,B[ne].y1+=ee;default:B[ne].x+=Y,B[ne].y+=ee}return B},I=function(B){return B.sort(function(Y,ee){return Y-ee})},P=function(B,Y){var ee=this.fillStyle,ne=this.strokeStyle,re=this.lineCap,fe=this.lineWidth,we=Math.abs(fe*this.ctx.transform.scaleX),be=this.lineJoin;if(this.autoPaging){for(var Te,Re,_e=JSON.parse(JSON.stringify(this.path)),Ce=JSON.parse(JSON.stringify(this.path)),Ue=[],K=0;K<Ce.length;K++)if(Ce[K].x!==void 0)for(var Be=b.call(this,Ce[K]),Pt=0;Pt<Be.length;Pt+=1)Ue.indexOf(Be[Pt])===-1&&Ue.push(Be[Pt]);for(var ct=0;ct<Ue.length;ct++)for(;this.pdf.internal.getNumberOfPages()<Ue[ct];)v.call(this);I(Ue);for(var Le=Ue[0],st=Ue[Ue.length-1],We=Le;We<st+1;We++){this.pdf.setPage(We),this.fillStyle=ee,this.strokeStyle=ne,this.lineCap=re,this.lineWidth=we,this.lineJoin=be;var lt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],it=We===1?this.posY+this.margin[0]:this.margin[0],$t=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Mt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],et=We===1?0:$t+(We-2)*Mt;if(this.ctx.clip_path.length!==0){var pt=this.path;Te=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(Te,this.posX+this.margin[3],-et+it+this.ctx.prevPageLastElemOffset),F.call(this,B,!0),this.path=pt}if(Re=JSON.parse(JSON.stringify(_e)),this.path=S(Re,this.posX+this.margin[3],-et+it+this.ctx.prevPageLastElemOffset),Y===!1||We===0){var Nt=(We>Le||We<st)&&w.call(this);Nt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],lt,Mt,null).clip().discardPath()),F.call(this,B,Y),Nt&&this.pdf.restoreGraphicsState()}this.lineWidth=fe}this.path=_e}else this.lineWidth=we,F.call(this,B,Y),this.lineWidth=fe},F=function(B,Y){if((B!=="stroke"||Y||!y.call(this))&&(B==="stroke"||Y||!f.call(this))){for(var ee,ne,re=[],fe=this.path,we=0;we<fe.length;we++){var be=fe[we];switch(be.type){case"begin":re.push({begin:!0});break;case"close":re.push({close:!0});break;case"mt":re.push({start:be,deltas:[],abs:[]});break;case"lt":var Te=re.length;if(fe[we-1]&&!isNaN(fe[we-1].x)&&(ee=[be.x-fe[we-1].x,be.y-fe[we-1].y],Te>0)){for(;Te>=0;Te--)if(re[Te-1].close!==!0&&re[Te-1].begin!==!0){re[Te-1].deltas.push(ee),re[Te-1].abs.push(be);break}}break;case"bct":ee=[be.x1-fe[we-1].x,be.y1-fe[we-1].y,be.x2-fe[we-1].x,be.y2-fe[we-1].y,be.x-fe[we-1].x,be.y-fe[we-1].y],re[re.length-1].deltas.push(ee);break;case"qct":var Re=fe[we-1].x+2/3*(be.x1-fe[we-1].x),_e=fe[we-1].y+2/3*(be.y1-fe[we-1].y),Ce=be.x+2/3*(be.x1-be.x),Ue=be.y+2/3*(be.y1-be.y),K=be.x,Be=be.y;ee=[Re-fe[we-1].x,_e-fe[we-1].y,Ce-fe[we-1].x,Ue-fe[we-1].y,K-fe[we-1].x,Be-fe[we-1].y],re[re.length-1].deltas.push(ee);break;case"arc":re.push({deltas:[],abs:[],arc:!0}),Array.isArray(re[re.length-1].abs)&&re[re.length-1].abs.push(be)}}ne=Y?null:B==="stroke"?"stroke":"fill";for(var Pt=!1,ct=0;ct<re.length;ct++)if(re[ct].arc)for(var Le=re[ct].abs,st=0;st<Le.length;st++){var We=Le[st];We.type==="arc"?k.call(this,We.x,We.y,We.radius,We.startAngle,We.endAngle,We.counterclockwise,void 0,Y,!Pt):D.call(this,We.x,We.y),Pt=!0}else if(re[ct].close===!0)this.pdf.internal.out("h"),Pt=!1;else if(re[ct].begin!==!0){var lt=re[ct].start.x,it=re[ct].start.y;Z.call(this,re[ct].deltas,lt,it),Pt=!0}ne&&T.call(this,ne),Y&&O.call(this)}},H=function(B){var Y=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ee=Y*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return B-ee;case"top":return B+Y-ee;case"hanging":return B+Y-2*ee;case"middle":return B+Y/2-ee;default:return B}},M=function(B){return B+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var B=function(){};return B.colorStops=[],B.addColorStop=function(Y,ee){this.colorStops.push([Y,ee])},B.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},B.isCanvasGradient=!0,B},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var k=function(B,Y,ee,ne,re,fe,we,be,Te){for(var Re=ce.call(this,ee,ne,re,fe),_e=0;_e<Re.length;_e++){var Ce=Re[_e];_e===0&&(Te?E.call(this,Ce.x1+B,Ce.y1+Y):D.call(this,Ce.x1+B,Ce.y1+Y)),oe.call(this,B,Y,Ce.x2,Ce.y2,Ce.x3,Ce.y3,Ce.x4,Ce.y4)}be?O.call(this):T.call(this,we)},T=function(B){switch(B){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},O=function(){this.pdf.clip(),this.pdf.discardPath()},E=function(B,Y){this.pdf.internal.out(n(B)+" "+i(Y)+" m")},L=function(B){var Y;switch(B.align){case"right":case"end":Y="right";break;case"center":Y="center";break;default:Y="left"}var ee,ne,re,fe=this.pdf.getTextDimensions(B.text),we=H.call(this,B.y),be=M.call(this,we)-fe.h,Te=this.ctx.transform.applyToPoint(new o(B.x,we));if(this.autoPaging){var Re=this.ctx.transform.decompose(),_e=new l;_e=(_e=(_e=_e.multiply(Re.translate)).multiply(Re.skew)).multiply(Re.scale);for(var Ce=this.ctx.transform.applyToRectangle(new a(B.x,we,fe.w,fe.h)),Ue=_e.applyToRectangle(new a(B.x,be,fe.w,fe.h)),K=b.call(this,Ue),Be=[],Pt=0;Pt<K.length;Pt+=1)Be.indexOf(K[Pt])===-1&&Be.push(K[Pt]);I(Be);for(var ct=Be[0],Le=Be[Be.length-1],st=ct;st<Le+1;st++){this.pdf.setPage(st);var We=st===1?this.posY+this.margin[0]:this.margin[0],lt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],it=this.pdf.internal.pageSize.height-this.margin[2],$t=it-this.margin[0],Mt=this.pdf.internal.pageSize.width-this.margin[1],et=Mt-this.margin[3],pt=st===1?0:lt+(st-2)*$t;if(this.ctx.clip_path.length!==0){var Nt=this.path;ee=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(ee,this.posX+this.margin[3],-1*pt+We),F.call(this,"fill",!0),this.path=Nt}var Ke=S([JSON.parse(JSON.stringify(Ue))],this.posX+this.margin[3],-pt+We+this.ctx.prevPageLastElemOffset)[0];B.scale>=.01&&(ne=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ne*B.scale),re=this.lineWidth,this.lineWidth=re*B.scale);var St=this.autoPaging!=="text";if(St||Ke.y+Ke.h<=it){if(St||Ke.y>=We&&Ke.x<=Mt){var tt=St?B.text:this.pdf.splitTextToSize(B.text,B.maxWidth||Mt-Ke.x)[0],mn=S([JSON.parse(JSON.stringify(Ce))],this.posX+this.margin[3],-pt+We+this.ctx.prevPageLastElemOffset)[0],Vt=St&&(st>ct||st<Le)&&w.call(this);Vt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],et,$t,null).clip().discardPath()),this.pdf.text(tt,mn.x,mn.y,{angle:B.angle,align:Y,renderingMode:B.renderingMode}),Vt&&this.pdf.restoreGraphicsState()}}else Ke.y<it&&(this.ctx.prevPageLastElemOffset+=it-Ke.y);B.scale>=.01&&(this.pdf.setFontSize(ne),this.lineWidth=re)}}else B.scale>=.01&&(ne=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ne*B.scale),re=this.lineWidth,this.lineWidth=re*B.scale),this.pdf.text(B.text,Te.x+this.posX,Te.y+this.posY,{angle:B.angle,align:Y,renderingMode:B.renderingMode,maxWidth:B.maxWidth}),B.scale>=.01&&(this.pdf.setFontSize(ne),this.lineWidth=re)},D=function(B,Y,ee,ne){ee=ee||0,ne=ne||0,this.pdf.internal.out(n(B+ee)+" "+i(Y+ne)+" l")},Z=function(B,Y,ee){return this.pdf.lines(B,Y,ee,null,null)},oe=function(B,Y,ee,ne,re,fe,we,be){this.pdf.internal.out([e(r(ee+B)),e(s(ne+Y)),e(r(re+B)),e(s(fe+Y)),e(r(we+B)),e(s(be+Y)),"c"].join(" "))},ce=function(B,Y,ee,ne){for(var re=2*Math.PI,fe=Math.PI/2;Y>ee;)Y-=re;var we=Math.abs(ee-Y);we<re&&ne&&(we=re-we);for(var be=[],Te=ne?-1:1,Re=Y;we>1e-5;){var _e=Re+Te*Math.min(we,fe);be.push(ae.call(this,B,Re,_e)),we-=Math.abs(_e-Re),Re=_e}return be},ae=function(B,Y,ee){var ne=(ee-Y)/2,re=B*Math.cos(ne),fe=B*Math.sin(ne),we=re,be=-fe,Te=we*we+be*be,Re=Te+we*re+be*fe,_e=4/3*(Math.sqrt(2*Te*Re)-Re)/(we*fe-be*re),Ce=we-_e*be,Ue=be+_e*we,K=Ce,Be=-Ue,Pt=ne+Y,ct=Math.cos(Pt),Le=Math.sin(Pt);return{x1:B*Math.cos(Y),y1:B*Math.sin(Y),x2:Ce*ct-Ue*Le,y2:Ce*Le+Ue*ct,x3:K*ct-Be*Le,y3:K*Le+Be*ct,x4:B*Math.cos(ee),y4:B*Math.sin(ee)}},$=function(B){return 180*B/Math.PI},ie=function(B,Y,ee,ne,re,fe){var we=B+.5*(ee-B),be=Y+.5*(ne-Y),Te=re+.5*(ee-re),Re=fe+.5*(ne-fe),_e=Math.min(B,re,we,Te),Ce=Math.max(B,re,we,Te),Ue=Math.min(Y,fe,be,Re),K=Math.max(Y,fe,be,Re);return new a(_e,Ue,Ce-_e,K-Ue)},me=function(B,Y,ee,ne,re,fe,we,be){var Te,Re,_e,Ce,Ue,K,Be,Pt,ct,Le,st,We,lt,it,$t=ee-B,Mt=ne-Y,et=re-ee,pt=fe-ne,Nt=we-re,Ke=be-fe;for(Re=0;Re<41;Re++)ct=(Be=(_e=B+(Te=Re/40)*$t)+Te*((Ue=ee+Te*et)-_e))+Te*(Ue+Te*(re+Te*Nt-Ue)-Be),Le=(Pt=(Ce=Y+Te*Mt)+Te*((K=ne+Te*pt)-Ce))+Te*(K+Te*(fe+Te*Ke-K)-Pt),Re==0?(st=ct,We=Le,lt=ct,it=Le):(st=Math.min(st,ct),We=Math.min(We,Le),lt=Math.max(lt,ct),it=Math.max(it,Le));return new a(Math.round(st),Math.round(We),Math.round(lt-st),Math.round(it-We))},ve=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var B,Y,ee=(B=this.ctx.lineDash,Y=this.ctx.lineDashOffset,JSON.stringify({lineDash:B,lineDashOffset:Y}));this.prevLineDash!==ee&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=ee)}}})(nt.API),function(t){var e=function(o){var a,l,u,c,h,d,f,y,w,b;for(l=[],u=0,c=(o+=a="\0\0\0\0".slice(o.length%4||4)).length;c>u;u+=4)(h=(o.charCodeAt(u)<<24)+(o.charCodeAt(u+1)<<16)+(o.charCodeAt(u+2)<<8)+o.charCodeAt(u+3))!==0?(d=(h=((h=((h=((h=(h-(b=h%85))/85)-(w=h%85))/85)-(y=h%85))/85)-(f=h%85))/85)%85,l.push(d+33,f+33,y+33,w+33,b+33)):l.push(122);return function(v,S){for(var I=S;I>0;I--)v.pop()}(l,a.length),String.fromCharCode.apply(String,l)+"~>"},n=function(o){var a,l,u,c,h,d=String,f="length",y=255,w="charCodeAt",b="slice",v="replace";for(o[b](-2),o=o[b](0,-2)[v](/\s/g,"")[v]("z","!!!!!"),u=[],c=0,h=(o+=a="uuuuu"[b](o[f]%5||5))[f];h>c;c+=5)l=52200625*(o[w](c)-33)+614125*(o[w](c+1)-33)+7225*(o[w](c+2)-33)+85*(o[w](c+3)-33)+(o[w](c+4)-33),u.push(y&l>>24,y&l>>16,y&l>>8,y&l);return function(S,I){for(var P=I;P>0;P--)S.pop()}(u,a[f]),d.fromCharCode.apply(d,u)},i=function(o){return o.split("").map(function(a){return("0"+a.charCodeAt().toString(16)).slice(-2)}).join("")+">"},r=function(o){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),a.test(o)===!1)return"";for(var l="",u=0;u<o.length;u+=2)l+=String.fromCharCode("0x"+(o[u]+o[u+1]));return l},s=function(o){for(var a=new Uint8Array(o.length),l=o.length;l--;)a[l]=o.charCodeAt(l);return(a=nw(a)).reduce(function(u,c){return u+String.fromCharCode(c)},"")};t.processDataByFilters=function(o,a){var l=0,u=o||"",c=[];for(typeof(a=a||[])=="string"&&(a=[a]),l=0;l<a.length;l+=1)switch(a[l]){case"ASCII85Decode":case"/ASCII85Decode":u=n(u),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=e(u),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=r(u),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=i(u),c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=s(u),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[l]+'" is not implemented')}return{data:u,reverseChain:c.reverse().join(" ")}}}(nt.API),function(t){t.loadFile=function(e,n,i){return function(r,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var a=void 0;try{a=function(l,u,c){var h=new XMLHttpRequest,d=0,f=function(y){var w=y.length,b=[],v=String.fromCharCode;for(d=0;d<w;d+=1)b.push(v(255&y.charCodeAt(d)));return b.join("")};if(h.open("GET",l,!u),h.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(h.onload=function(){h.status===200?c(f(this.responseText)):c(void 0)}),h.send(null),u&&h.status===200)return f(h.responseText)}(r,s,o)}catch{}return a}(e,n,i)},t.allowFsRead=void 0,t.loadImageFile=t.loadFile}(nt.API),function(t){function e(){return(wt.html2canvas?Promise.resolve(wt.html2canvas):R2(()=>import("./html2canvas.esm-CBrSDip1.js"),[],import.meta.url)).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function n(){return(wt.DOMPurify?Promise.resolve(wt.DOMPurify):R2(()=>import("./purify.es-B9ZVCkUG.js"),[],import.meta.url)).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var i=function(a){var l=fn(a);return l==="undefined"?"undefined":l==="string"||a instanceof String?"string":l==="number"||a instanceof Number?"number":l==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":l==="object"?"object":"unknown"},r=function(a,l){var u=document.createElement(a);for(var c in l.className&&(u.className=l.className),l.innerHTML&&l.dompurify&&(u.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)u.style[c]=l.style[c];return u},s=function a(l,u){for(var c=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),h=l.firstChild;h;h=h.nextSibling)u!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||c.appendChild(a(h,u));return l.nodeType===1&&(l.nodeName==="CANVAS"?(c.width=l.width,c.height=l.height,c.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(c.value=l.value),c.addEventListener("load",function(){c.scrollTop=l.scrollTop,c.scrollLeft=l.scrollLeft},!0)),c},o=function a(l){var u=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),c=a.convert(Promise.resolve(),u);return(c=c.setProgress(1,a,1,[a])).set(l)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(a,l){return a.__proto__=l||o.prototype,a},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(a,l){return this.then(function(){switch(l=l||function(u){switch(i(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a),l){case"string":return this.then(n).then(function(u){return this.set({src:r("div",{innerHTML:a,dompurify:u})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},o.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=r("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=r("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(r("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(l){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,l(this.prop.container,u)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(l){var u=this.opt.jsPDF,c=this.opt.fontFaces,h=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,d=Object.assign({async:!0,allowTaint:!0,scale:h,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete d.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=c,c)for(var f=0;f<c.length;++f){var y=c[f],w=y.src.find(function(b){return b.format==="truetype"});w&&u.addFont(w.url,y.ref.name,y.ref.style)}return d.windowHeight=d.windowHeight||0,d.windowHeight=d.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):d.windowHeight,u.context2d.save(!0),l(this.prop.container,d)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(a,l,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(a,l):this.outputPdf(a,l)},o.prototype.outputPdf=function(a,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,l)})},o.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},o.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(a){if(i(a)!=="object")return this;var l=Object.keys(a||{}).map(function(u){if(u in o.template.prop)return function(){this.prop[u]=a[u]};switch(u){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[u]=a[u]}}},this);return this.then(function(){return this.thenList(l)})},o.prototype.get=function(a,l){return this.then(function(){var u=a in o.template.prop?this.prop[a]:this.opt[a];return l?l(u):u})},o.prototype.setMargin=function(a){return this.then(function(){switch(i(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},o.prototype.setPageSize=function(a){function l(u,c){return Math.floor(u*c/72*96)}return this.then(function(){(a=a||nt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:l(a.inner.width,a.k),height:l(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},o.prototype.setProgress=function(a,l,u,c){return a!=null&&(this.progress.val=a),l!=null&&(this.progress.state=l),u!=null&&(this.progress.n=u),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(a,l,u,c){return this.setProgress(a?this.progress.val+a:null,l||null,u?this.progress.n+u:null,c?this.progress.stack.concat(c):null)},o.prototype.then=function(a,l){var u=this;return this.thenCore(a,l,function(c,h){return u.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(d){return u.updateProgress(null,c),d}).then(c,h).then(function(d){return u.updateProgress(1),d})})},o.prototype.thenCore=function(a,l,u){u=u||Promise.prototype.then;var c=this;a&&(a=a.bind(c)),l&&(l=l.bind(c));var h=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?c:o.convert(Object.assign({},c),Promise.prototype),d=u.call(h,a,l);return o.convert(d,c.__proto__)},o.prototype.thenExternal=function(a,l){return Promise.prototype.then.call(this,a,l)},o.prototype.thenList=function(a){var l=this;return a.forEach(function(u){l=l.thenCore(u)}),l},o.prototype.catch=function(a){a&&(a=a.bind(this));var l=Promise.prototype.catch.call(this,a);return o.convert(l,this)},o.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},o.prototype.error=function(a){return this.then(function(){throw new Error(a)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,nt.getPageSize=function(a,l,u){if(fn(a)==="object"){var c=a;a=c.orientation,l=c.unit||l,u=c.format||u}l=l||"mm",u=u||"a4",a=(""+(a||"P")).toLowerCase();var h,d=(""+u).toLowerCase(),f={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":h=1;break;case"mm":h=72/25.4;break;case"cm":h=72/2.54;break;case"in":h=72;break;case"px":h=.75;break;case"pc":case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+l}var y,w=0,b=0;if(f.hasOwnProperty(d))w=f[d][1]/h,b=f[d][0]/h;else try{w=u[1],b=u[0]}catch{throw new Error("Invalid format: "+u)}if(a==="p"||a==="portrait")a="p",b>w&&(y=b,b=w,w=y);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",w>b&&(y=b,b=w,w=y)}return{width:b,height:w,unit:l,k:h,orientation:a}},t.html=function(a,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(Q2):null;var u=new o(l);return l.worker?u:u.from(a).doCallback()}}(nt.API),nt.API.addJS=function(t){var e,n,i=function(r){for(var s="",o=0;o<r.length;o++){var a=r[o];if(a==="("||a===")"){for(var l=0,u=o-1;u>=0&&r[u]==="\\";u--)l++;s+=l%2==0?"\\"+a:a}else s+=a}return s}(t);return this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(e+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),n=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+i+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){e!==void 0&&n!==void 0&&this.internal.out("/Names <</JavaScript "+e+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,i=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var r=n.outline.render().split(/\r\n/),s=0;s<r.length;s++){var o=r[s],a=i.exec(o);if(a!=null){var l=a[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,c=[];for(s=0;s<u;s++){var h=n.internal.newObject();c.push(h);var d=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+d.objId+" 0 R /XYZ null null null]>> endobj")}var f=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<c.length;s++)n.internal.write("(page_"+(s+1)+")"+c[s]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+f+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(i,r,s){var o={title:r,options:s,children:[]};return i==null&&(i=this.root),i.children.push(o),o},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(i){i.id=n.internal.newObjectDeferred();for(var r=0;r<i.children.length;r++)this.genIds_r(i.children[r])},n.outline.renderRoot=function(i){this.objStart(i),this.line("/Type /Outlines"),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1]))),this.line("/Count "+this.count_r({count:0},i)),this.objEnd()},n.outline.renderItems=function(i){for(var r=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<i.children.length;s++){var o=i.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(i)),s>0&&this.line("/Prev "+this.makeRef(i.children[s-1])),s<i.children.length-1&&this.line("/Next "+this.makeRef(i.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var a=this.count=this.count_r({count:0},o);if(a>0&&this.line("/Count "+a),o.options&&o.options.pageNumber){var l=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+r(0)+" 0]")}this.objEnd()}for(var u=0;u<i.children.length;u++)this.renderItems(i.children[u])},n.outline.line=function(i){this.ctx.val+=i+`\r
`},n.outline.makeRef=function(i){return i.id+" 0 R"},n.outline.makeString=function(i){return"("+n.internal.pdfEscape(i)+")"},n.outline.objStart=function(i){this.ctx.val+=`\r
`+i.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(i,r){for(var s=0;s<r.children.length;s++)i.count++,this.count_r(i,r.children[s]);return i.count}}])}(nt.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,i,r,s,o,a){var l,u=this.decode.DCT_DECODE,c=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=o||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,l=function(h){for(var d,f=256*h.charCodeAt(4)+h.charCodeAt(5),y=h.length,w={width:0,height:0,numcomponents:1},b=4;b<y;b+=2){if(b+=f,e.indexOf(h.charCodeAt(b+1))!==-1){d=256*h.charCodeAt(b+5)+h.charCodeAt(b+6),w={width:256*h.charCodeAt(b+7)+h.charCodeAt(b+8),height:d,numcomponents:h.charCodeAt(b+9)};break}f=256*h.charCodeAt(b+2)+h.charCodeAt(b+3)}return w}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),l.numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}c={data:n,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:u,index:i,alias:r}}return c}}(nt.API),nt.API.processPNG=function(t,e,n,i){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var r,s=qZ(t,{checkCrc:!0}),o=s.width,a=s.height,l=s.channels,u=s.palette,c=s.depth;r=u&&l===1?function(k){for(var T=k.width,O=k.height,E=k.data,L=k.palette,D=k.depth,Z=!1,oe=[],ce=[],ae=void 0,$=!1,ie=0,me=0;me<L.length;me++){var ve=o3(L[me],4),B=ve[0],Y=ve[1],ee=ve[2],ne=ve[3];oe.push(B,Y,ee),ne!=null&&(ne===0?(ie++,ce.length<1&&ce.push(me)):ne<255&&($=!0))}if($||ie>1){Z=!0,ce=void 0;var re=T*O;ae=new Uint8Array(re);for(var fe=new DataView(E.buffer),we=0;we<re;we++){var be=Z2(fe,we,D),Te=o3(L[be],4)[3];ae[we]=Te}}else ie===0&&(ce=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:Z?8:void 0,colorBytes:E,alphaBytes:ae,needSMask:Z,palette:oe,mask:ce}}(s):l===2||l===4?function(k){for(var T=k.data,O=k.width,E=k.height,L=k.channels,D=k.depth,Z=L===2?"DeviceGray":"DeviceRGB",oe=L-1,ce=O*E,ae=oe,$=ce*ae,ie=1*ce,me=Math.ceil($*D/8),ve=Math.ceil(ie*D/8),B=new Uint8Array(me),Y=new Uint8Array(ve),ee=new DataView(T.buffer),ne=new DataView(B.buffer),re=new DataView(Y.buffer),fe=!1,we=0;we<ce;we++){for(var be=we*L,Te=0;Te<ae;Te++)uE(ne,Z2(ee,be+Te,D),we*ae+Te,D);var Re=Z2(ee,be+ae,D);Re<(1<<D)-1&&(fe=!0),uE(re,Re,1*we,D)}return{colorSpace:Z,colorsPerPixel:oe,sMaskBitsPerComponent:fe?D:void 0,colorBytes:B,alphaBytes:Y,needSMask:fe}}(s):function(k){var T=k.data,O=k.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:O,colorsPerPixel:O==="DeviceGray"?1:3,colorBytes:T instanceof Uint16Array?function(E){for(var L=E.length,D=new Uint8Array(2*L),Z=new DataView(D.buffer,D.byteOffset,D.byteLength),oe=0;oe<L;oe++)Z.setUint16(2*oe,E[oe],!1);return D}(T):T,needSMask:!1}}(s);var h,d,f,y=r,w=y.colorSpace,b=y.colorsPerPixel,v=y.sMaskBitsPerComponent,S=y.colorBytes,I=y.alphaBytes,P=y.needSMask,F=y.palette,H=y.mask,M=null;return i!==nt.API.image_compression.NONE&&typeof nw=="function"?(M=function(k){var T;switch(k){case nt.API.image_compression.FAST:T=11;break;case nt.API.image_compression.MEDIUM:T=13;break;case nt.API.image_compression.SLOW:T=14;break;default:T=12}return T}(i),h=this.decode.FLATE_DECODE,d="/Predictor ".concat(M," /Colors ").concat(b," /BitsPerComponent ").concat(c," /Columns ").concat(o),t=rE(S,Math.ceil(o*b*c/8),b,c,i),P&&(f=rE(I,Math.ceil(o*v/8),1,v,i))):(h=void 0,d=void 0,t=S,P&&(f=I)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(f&&this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),{alias:n,data:t,index:e,filter:h,decodeParameters:d,transparency:H,palette:F,sMask:f,predictor:M,width:o,height:a,bitsPerComponent:c,sMaskBitsPerComponent:v,colorSpace:w}}},function(t){t.processGIF89A=function(e,n,i,r){var s=new hee(e),o=s.width,a=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var u={data:l,width:o,height:a},c=new ev(100).encode(u,100);return t.processJPEG.call(this,c,n,i,r)},t.processGIF87A=t.processGIF89A}(nt.API),no.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:r,green:i,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},no.prototype.parseBGR=function(){this.pos=this.offset;var t="bit"+this.bitPP,e=this.width*this.height*4;if(e>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");this.data=new Uint8Array(e);try{this[t]()}catch(n){_n.log("bit decode error:"+n)}},no.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var i=this.bottom_up?t:this.height-1-t,r=0;r<e;r++)for(var s=this.datav.getUint8(this.pos++,!0),o=i*this.width*4+8*r*4,a=0;a<8&&8*r+a<this.width;a++){var l=this.palette[s>>7-a&1];this.data[o+4*a]=l.blue,this.data[o+4*a+1]=l.green,this.data[o+4*a+2]=l.red,this.data[o+4*a+3]=255}n!==0&&(this.pos+=4-n)}},no.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,r=0;r<t;r++){var s=this.datav.getUint8(this.pos++,!0),o=i*this.width*4+2*r*4,a=s>>4,l=15&s,u=this.palette[a];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*r+1>=this.width)break;u=this.palette[l],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},no.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,i=0;i<this.width;i++){var r=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*i;if(r<this.palette.length){var o=this.palette[r];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},no.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,r=0;r<this.width;r++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,a=(s>>5&e)/e*255|0,l=(s>>10&e)/e*255|0,u=s>>15?255:0,c=i*this.width*4+4*r;this.data[c]=l,this.data[c+1]=a,this.data[c+2]=o,this.data[c+3]=u}this.pos+=t}},no.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),i=this.height-1;i>=0;i--){for(var r=this.bottom_up?i:this.height-1-i,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&e)/e*255|0,l=(o>>5&n)/n*255|0,u=(o>>11)/e*255|0,c=r*this.width*4+4*s;this.data[c]=u,this.data[c+1]=l,this.data[c+2]=a,this.data[c+3]=255}this.pos+=t}},no.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=s,this.data[o+1]=r,this.data[o+2]=i,this.data[o+3]=255}this.pos+=this.width%4}},no.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;this.data[a]=s,this.data[a+1]=r,this.data[a+2]=i,this.data[a+3]=o}},no.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,i,r){var s=new no(e,!1),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},u=new ev(100).encode(l,100);return t.processJPEG.call(this,u,n,i,r)}}(nt.API),hE.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,i,r){var s=new hE(e),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},u=new ev(100).encode(l,100);return t.processJPEG.call(this,u,n,i,r)}}(nt.API),nt.API.processRGBA=function(t,e,n){for(var i=t.data,r=i.length,s=new Uint8Array(r/4*3),o=new Uint8Array(r/4),a=0,l=0,u=0;u<r;u+=4){var c=i[u],h=i[u+1],d=i[u+2],f=i[u+3];s[a++]=c,s[a++]=h,s[a++]=d,o[l++]=f}var y=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:y,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},nt.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},jc=nt.API,mm=jc.getCharWidthsArray=function(t,e){var n,i,r=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:r.metadata.Unicode.widths,l=a.fof?a.fof:1,u=e.kerning?e.kerning:r.metadata.Unicode.kerning,c=u.fof?u.fof:1,h=e.doKerning!==!1,d=0,f=t.length,y=0,w=a[0]||l,b=[];for(n=0;n<f;n++)i=t.charCodeAt(n),typeof r.metadata.widthOfString=="function"?b.push((r.metadata.widthOfGlyph(r.metadata.characterToGlyph(i))+o*(1e3/s)||0)/1e3):(d=h&&fn(u[i])==="object"&&!isNaN(parseInt(u[i][y],10))?u[i][y]/c:0,b.push((a[i]||w)/l+d)),y=i;return b},tE=jc.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),i=e.font||this.internal.getFont(),r=e.charSpace||this.internal.getCharSpace();return jc.processArabic&&(t=jc.processArabic(t)),typeof i.metadata.widthOfString=="function"?i.metadata.widthOfString(t,n,r)/n:mm.apply(this,arguments).reduce(function(s,o){return s+o},0)},nE=function(t,e,n,i){for(var r=[],s=0,o=t.length,a=0;s!==o&&a+e[s]<n;)a+=e[s],s++;r.push(t.slice(0,s));var l=s;for(a=0;s!==o;)a+e[s]>i&&(r.push(t.slice(l,s)),a=0,l=s),a+=e[s],s++;return l!==s&&r.push(t.slice(l,s)),r},iE=function(t,e,n){n||(n={});var i,r,s,o,a,l,u,c=[],h=[c],d=n.textIndent||0,f=0,y=0,w=t.split(" "),b=mm.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?w[0].length+2:n.lineIndent||0){var v=Array(l).join(" "),S=[];w.map(function(P){(P=P.split(/\s*\n/)).length>1?S=S.concat(P.map(function(F,H){return(H&&F.length?`
`:"")+F})):S.push(P[0])}),w=S,l=tE.apply(this,[v,n])}for(s=0,o=w.length;s<o;s++){var I=0;if(i=w[s],l&&i[0]==`
`&&(i=i.substr(1),I=1),d+f+(y=(r=mm.apply(this,[i,n])).reduce(function(P,F){return P+F},0))>e||I){if(y>e){for(a=nE.apply(this,[i,r,e-(d+f),e]),c.push(a.shift()),c=[a.pop()];a.length;)h.push([a.shift()]);y=r.slice(i.length-(c[0]?c[0].length:0)).reduce(function(P,F){return P+F},0)}else c=[i];h.push(c),d=y+l,f=b}else c.push(i),d+=f+y,f=b}return u=l?function(P,F){return(F?v:"")+P.join(" ")}:function(P){return P.join(" ")},h.map(u)},jc.splitTextToSize=function(t,e,n){var i,r=(n=n||{}).fontSize||this.internal.getFontSize(),s=(function(c){if(c.widths&&c.kerning)return{widths:c.widths,kerning:c.kerning};var h=this.internal.getFont(c.fontName,c.fontStyle),d="Unicode";return h.metadata[d]?{widths:h.metadata[d].widths||{0:1},kerning:h.metadata[d].kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);i=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/r;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/r:0,s.lineIndent=n.lineIndent;var a,l,u=[];for(a=0,l=i.length;a<l;a++)u=u.concat(iE.apply(this,[i[a],o,s]));return u},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",n="klmnopqrstuvwxyz",i={},r={},s=0;s<16;s++)i[n[s]]=e[s],r[e[s]]=n[s];var o=function(d){return"0x"+parseInt(d,10).toString(16)},a=t.__fontmetrics__.compress=function(d){var f,y,w,b,v=["{"];for(var S in d){if(f=d[S],isNaN(parseInt(S,10))?y="'"+S+"'":(S=parseInt(S,10),y=(y=o(S).slice(2)).slice(0,-1)+r[y.slice(-1)]),typeof f=="number")f<0?(w=o(f).slice(3),b="-"):(w=o(f).slice(2),b=""),w=b+w.slice(0,-1)+r[w.slice(-1)];else{if(fn(f)!=="object")throw new Error("Don't know what to do with value type "+fn(f)+".");w=a(f)}v.push(y+w)}return v.push("}"),v.join("")},l=t.__fontmetrics__.uncompress=function(d){if(typeof d!="string")throw new Error("Invalid argument passed to uncompress.");for(var f,y,w,b,v={},S=1,I=v,P=[],F="",H="",M=d.length-1,k=1;k<M;k+=1)(b=d[k])=="'"?f?(w=f.join(""),f=void 0):f=[]:f?f.push(b):b=="{"?(P.push([I,w]),I={},w=void 0):b=="}"?((y=P.pop())[0][y[1]]=I,w=void 0,I=y[0]):b=="-"?S=-1:w===void 0?i.hasOwnProperty(b)?(F+=i[b],w=parseInt(F,16)*S,S=1,F=""):F+=b:i.hasOwnProperty(b)?(H+=i[b],I[w]=parseInt(H,16)*S,S=1,w=void 0,H=""):H+=b;return v},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},h={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(d){var f=d.font,y=h.Unicode[f.postScriptName];y&&(f.metadata.Unicode={},f.metadata.Unicode.widths=y.widths,f.metadata.Unicode.kerning=y.kerning);var w=c.Unicode[f.postScriptName];w&&(f.metadata.Unicode.encoding=w,f.encoding=w.codePages[0])}])}(nt.API),function(t){var e=function(n){for(var i=n.length,r=new Uint8Array(i),s=0;s<i;s++)r[s]=n.charCodeAt(s);return r};t.API.events.push(["addFont",function(n){var i=void 0,r=n.font,s=n.instance;if(!r.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");if(typeof(i=s.existsFileInVFS(r.postScriptName)===!1?s.loadFile(r.postScriptName):s.getFileFromVFS(r.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");(function(o,a){a=/^\x00\x01\x00\x00/.test(a)?e(a):e(Gm(a)),o.metadata=t.API.TTFFont.open(a),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(r,i)}}])}(nt),nt.API.addSvgAsImage=function(t,e,n,i,r,s,o,a){if(isNaN(e)||isNaN(n))throw _n.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(r))throw _n.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=i,l.height=r;var u=l.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,l.width,l.height);var c={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return(wt.canvg?Promise.resolve(wt.canvg):R2(()=>import("./index.es-Ct1GSV96.js"),[],import.meta.url)).catch(function(d){return Promise.reject(new Error("Could not load canvg: "+d))}).then(function(d){return d.default?d.default:d}).then(function(d){return d.fromString(u,t,c)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(d){return d.render(c)}).then(function(){h.addImage(l.toDataURL("image/jpeg",1),e,n,i,r,o,a)})},nt.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var i=1;i<=this.internal.getNumberOfPages();i++)for(var r=0;r<this.internal.pages[i].length;r++)this.internal.pages[i][r]=this.internal.pages[i][r].replace(e,n);return this},nt.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var i,r,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),l=[],u=0,c=0,h=0;function d(y,w){var b,v=!1;for(b=0;b<y.length;b+=1)y[b]===w&&(v=!0);return v}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var f=a.length;for(h=0;h<f;h+=1)n[a[h]].value=n[a[h]].defaultValue,n[a[h]].explicitSet=!1}if(fn(t)==="object"){for(r in t)if(s=t[r],d(a,r)&&s!==void 0){if(n[r].type==="boolean"&&typeof s=="boolean")n[r].value=s;else if(n[r].type==="name"&&d(n[r].valueSet,s))n[r].value=s;else if(n[r].type==="integer"&&Number.isInteger(s))n[r].value=s;else if(n[r].type==="array"){for(u=0;u<s.length;u+=1)if(i=!0,s[u].length===1&&typeof s[u][0]=="number")l.push(String(s[u]-1));else if(s[u].length>1){for(c=0;c<s[u].length;c+=1)typeof s[u][c]!="number"&&(i=!1);i===!0&&l.push([s[u][0]-1,s[u][1]-1].join(" "))}n[r].value="["+l.join(" ")+"]"}else n[r].value=n[r].defaultValue;n[r].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var y,w=[];for(y in n)n[y].explicitSet===!0&&(n[y].type==="name"?w.push("/"+y+" /"+n[y].value):w.push("/"+y+" "+n[y].value));w.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+w.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},nt.API.addMetadata=function(t,e){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:t,namespaceUri:e??"http://jspdf.default.namespaceuri/",rawXml:typeof e=="boolean"&&e},this.internal.events.subscribe("putCatalog",dee),this.internal.events.subscribe("postPutResources",fee)),this},function(t){var e=t.API,n=e.pdfEscape16=function(s,o){for(var a,l=o.metadata.Unicode.widths,u=["","0","00","000","0000"],c=[""],h=0,d=s.length;h<d;++h){if(a=o.metadata.characterToGlyph(s.charCodeAt(h)),o.metadata.glyIdsUsed.push(a),o.metadata.toUnicode[a]=s.charCodeAt(h),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(o.metadata.widthOfGlyph(a),10)])),a=="0")return c.join("");a=a.toString(16),c.push(u[4-a.length],a)}return c.join("")},i=function(s){var o,a,l,u,c,h,d;for(c=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],h=0,d=(a=Object.keys(s).sort(function(f,y){return f-y})).length;h<d;h++)o=a[h],l.length>=100&&(c+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(u=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+u+">"));return l.length&&(c+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),c+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,u=o.newObject,c=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="Identity-H"){for(var h=a.metadata.Unicode.widths,d=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),f="",y=0;y<d.length;y++)f+=String.fromCharCode(d[y]);var w=u();c({data:f,addLength1:!0,objectId:w}),l("endobj");var b=u();c({data:i(a.metadata.toUnicode),addLength1:!0,objectId:b}),l("endobj");var v=u();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Wc(a.fontName)),l("/FontFile2 "+w+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var S=u();l("<<"),l("/Type /Font"),l("/BaseFont /"+Wc(a.fontName)),l("/FontDescriptor "+v+" 0 R"),l("/W "+t.API.PDFObject.convert(h)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=u(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+b+" 0 R"),l("/BaseFont /"+Wc(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+S+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,u=o.newObject,c=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var h=a.metadata.rawData,d="",f=0;f<h.length;f++)d+=String.fromCharCode(h[f]);var y=u();c({data:d,addLength1:!0,objectId:y}),l("endobj");var w=u();c({data:i(a.metadata.toUnicode),addLength1:!0,objectId:w}),l("endobj");var b=u();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+y+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+Wc(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=u();for(var v=0;v<a.metadata.hmtx.widths.length;v++)a.metadata.hmtx.widths[v]=parseInt(a.metadata.hmtx.widths[v]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+w+" 0 R/BaseFont/"+Wc(a.fontName)+"/FontDescriptor "+b+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]);var r=function(s){var o,a=s.text||"",l=s.x,u=s.y,c=s.options||{},h=s.mutex||{},d=h.pdfEscape,f=h.activeFontKey,y=h.fonts,w=f,b="",v=0,S="",I=y[w].encoding;if(y[w].encoding!=="Identity-H")return{text:a,x:l,y:u,options:c,mutex:h};for(S=a,w=f,Array.isArray(a)&&(S=a[0]),v=0;v<S.length;v+=1)y[w].metadata.hasOwnProperty("cmap")&&(o=y[w].metadata.cmap.unicode.codeMap[S[v].charCodeAt(0)]),o||S[v].charCodeAt(0)<256&&y[w].metadata.hasOwnProperty("Unicode")?b+=S[v]:b+="";var P="";return parseInt(w.slice(1))<14||I==="WinAnsiEncoding"?P=d(b,w).split("").map(function(F){return F.charCodeAt(0).toString(16)}).join(""):I==="Identity-H"&&(P=n(b,y[w])),h.isHex=!0,{text:P,x:l,y:u,options:c,mutex:h}};e.events.push(["postProcessText",function(s){var o=s.text||"",a=[],l={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var u=0;for(u=0;u<o.length;u+=1)Array.isArray(o[u])&&o[u].length===3?a.push([r(Object.assign({},l,{text:o[u][0]})).text,o[u][1],o[u][2]]):a.push(r(Object.assign({},l,{text:o[u]})).text);s.text=a}else s.text=r(Object.assign({},l,{text:o})).text}])}(nt),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,i){return e.call(this),this.internal.vFS[n]=i,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(nt.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(i){var r,s,o,a,l,u,c,h=e,d=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],f=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],y={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},w={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},b=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],v=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),S=!1,I=0;this.__bidiEngine__={};var P=function(E){var L=E.charCodeAt(),D=L>>8,Z=w[D];return Z!==void 0?h[256*Z+(255&L)]:D===252||D===253?"AL":v.test(D)?"L":D===8?"R":"N"},F=function(E){for(var L,D=0;D<E.length;D++){if((L=P(E.charAt(D)))==="L")return!1;if(L==="R")return!0}return!1},H=function(E,L,D,Z){var oe,ce,ae,$,ie=L[Z];switch(ie){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":S=!1;break;case"N":case"AN":break;case"EN":S&&(ie="AN");break;case"AL":S=!0,ie="R";break;case"WS":case"BN":ie="N";break;case"CS":Z<1||Z+1>=L.length||(oe=D[Z-1])!=="EN"&&oe!=="AN"||(ce=L[Z+1])!=="EN"&&ce!=="AN"?ie="N":S&&(ce="AN"),ie=ce===oe?ce:"N";break;case"ES":ie=(oe=Z>0?D[Z-1]:"B")==="EN"&&Z+1<L.length&&L[Z+1]==="EN"?"EN":"N";break;case"ET":if(Z>0&&D[Z-1]==="EN"){ie="EN";break}if(S){ie="N";break}for(ae=Z+1,$=L.length;ae<$&&L[ae]==="ET";)ae++;ie=ae<$&&L[ae]==="EN"?"EN":"N";break;case"NSM":if(o&&!a){for($=L.length,ae=Z+1;ae<$&&L[ae]==="NSM";)ae++;if(ae<$){var me=E[Z],ve=me>=1425&&me<=2303||me===64286;if(oe=L[ae],ve&&(oe==="R"||oe==="AL")){ie="R";break}}}ie=Z<1||(oe=L[Z-1])==="B"?"N":D[Z-1];break;case"B":S=!1,r=!0,ie=I;break;case"S":s=!0,ie="N"}return ie},M=function(E,L,D){var Z=E.split("");return D&&k(Z,D,{hiLevel:I}),Z.reverse(),L&&L.reverse(),Z.join("")},k=function(E,L,D){var Z,oe,ce,ae,$,ie=-1,me=E.length,ve=0,B=[],Y=I?f:d,ee=[];for(S=!1,r=!1,s=!1,oe=0;oe<me;oe++)ee[oe]=P(E[oe]);for(ce=0;ce<me;ce++){if($=ve,B[ce]=H(E,ee,B,ce),Z=240&(ve=Y[$][y[B[ce]]]),ve&=15,L[ce]=ae=Y[ve][5],Z>0)if(Z===16){for(oe=ie;oe<ce;oe++)L[oe]=1;ie=-1}else ie=-1;if(Y[ve][6])ie===-1&&(ie=ce);else if(ie>-1){for(oe=ie;oe<ce;oe++)L[oe]=ae;ie=-1}ee[ce]==="B"&&(L[ce]=0),D.hiLevel|=ae}s&&function(ne,re,fe){for(var we=0;we<fe;we++)if(ne[we]==="S"){re[we]=I;for(var be=we-1;be>=0&&ne[be]==="WS";be--)re[be]=I}}(ee,L,me)},T=function(E,L,D,Z,oe){if(!(oe.hiLevel<E)){if(E===1&&I===1&&!r)return L.reverse(),void(D&&D.reverse());for(var ce,ae,$,ie,me=L.length,ve=0;ve<me;){if(Z[ve]>=E){for($=ve+1;$<me&&Z[$]>=E;)$++;for(ie=ve,ae=$-1;ie<ae;ie++,ae--)ce=L[ie],L[ie]=L[ae],L[ae]=ce,D&&(ce=D[ie],D[ie]=D[ae],D[ae]=ce);ve=$}ve++}}},O=function(E,L,D){var Z=E.split(""),oe={hiLevel:I};return D||(D=[]),k(Z,D,oe),function(ce,ae,$){if($.hiLevel!==0&&c)for(var ie,me=0;me<ce.length;me++)ae[me]===1&&(ie=b.indexOf(ce[me]))>=0&&(ce[me]=b[ie+1])}(Z,D,oe),T(2,Z,L,D,oe),T(1,Z,L,D,oe),Z.join("")};return this.__bidiEngine__.doBidiReorder=function(E,L,D){if(function(oe,ce){if(ce)for(var ae=0;ae<oe.length;ae++)ce[ae]=ae;a===void 0&&(a=F(oe)),u===void 0&&(u=F(oe))}(E,L),o||!l||u)if(o&&l&&a^u)I=a?1:0,E=M(E,L,D);else if(!o&&l&&u)I=a?1:0,E=O(E,L,D),E=M(E,L);else if(!o||a||l||u){if(o&&!l&&a^u)E=M(E,L),a?(I=0,E=O(E,L,D)):(I=1,E=O(E,L,D),E=M(E,L));else if(o&&a&&!l&&u)I=1,E=O(E,L,D),E=M(E,L);else if(!o&&!l&&a^u){var Z=c;a?(I=1,E=O(E,L,D),I=0,c=!1,E=O(E,L,D),c=Z):(I=0,E=O(E,L,D),E=M(E,L),I=1,c=!1,E=O(E,L,D),c=Z,E=M(E,L))}}else I=0,E=O(E,L,D);else I=a?1:0,E=O(E,L,D);return E},this.__bidiEngine__.setOptions=function(E){E&&(o=E.isInputVisual,l=E.isOutputVisual,a=E.isInputRtl,u=E.isOutputRtl,c=E.isSymmetricSwapping)},this.__bidiEngine__.setOptions(i),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(i){var r=i.text;i.x,i.y;var s=i.options||{};i.mutex,s.lang;var o=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(r)==="[object Array]"){var a=0;for(o=[],a=0;a<r.length;a+=1)Object.prototype.toString.call(r[a])==="[object Array]"?o.push([n.doBidiReorder(r[a][0]),r[a][1],r[a][2]]):o.push([n.doBidiReorder(r[a])]);i.text=o}else i.text=n.doBidiReorder(r);n.setOptions({isInputVisual:!0})}])}(nt),nt.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new iu(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new Pee(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new pee(this.contents),this.head=new mee(this),this.name=new bee(this),this.cmap=new q8(this),this.toUnicode={},this.hhea=new yee(this),this.maxp=new xee(this),this.hmtx=new See(this),this.post=new wee(this),this.os2=new vee(this),this.loca=new Eee(this),this.glyf=new Aee(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,i,r,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,a,l,u;for(u=[],o=0,a=(l=this.bbox).length;o<a;o++)e=l[o],u.push(Math.round(e*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(i=255&(r=this.post.italic_angle),32768&(n=r>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+i)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,i){var r,s,o,a;for(o=0,s=0,a=(e=""+e).length;0<=a?s<a:s>a;s=0<=a?++s:--s)r=e.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(r))+i*(1e3/n)||0;return o*(n/1e3)},t.prototype.lineHeight=function(e,n){var i;return n==null&&(n=!1),i=n?this.lineGap:0,(this.ascender+i-this.decender)/1e3*e},t}();var yo,iu=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,i;for(i=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)i[n]=String.fromCharCode(this.readByte());return i.join("")},t.prototype.writeString=function(e){var n,i,r;for(r=[],n=0,i=e.length;0<=i?n<i:n>i;n=0<=i?++n:--n)r.push(this.writeByte(e.charCodeAt(n)));return r},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,i,r,s,o,a,l;return e=this.readByte(),n=this.readByte(),i=this.readByte(),r=this.readByte(),s=this.readByte(),o=this.readByte(),a=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^i)+4294967296*(255^r)+16777216*(255^s)+65536*(255^o)+256*(255^a)+(255^l)+1):72057594037927940*e+281474976710656*n+1099511627776*i+4294967296*r+16777216*s+65536*o+256*a+l},t.prototype.writeLongLong=function(e){var n,i;return n=Math.floor(e/4294967296),i=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(i>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,i;for(n=[],i=0;0<=e?i<e:i>e;i=0<=e?++i:--i)n.push(this.readByte());return n},t.prototype.write=function(e){var n,i,r,s;for(s=[],i=0,r=e.length;i<r;i++)n=e[i],s.push(this.writeByte(n));return s},t}(),pee=function(){var t;function e(n){var i,r,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},r=0,s=this.tableCount;0<=s?r<s:r>s;r=0<=s?++r:--r)i={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[i.tag]=i}return e.prototype.encode=function(n){var i,r,s,o,a,l,u,c,h,d,f,y,w;for(w in f=Object.keys(n).length,l=Math.log(2),h=16*Math.floor(Math.log(f)/l),o=Math.floor(h/l),c=16*f-h,(r=new iu).writeInt(this.scalarType),r.writeShort(f),r.writeShort(h),r.writeShort(o),r.writeShort(c),s=16*f,u=r.pos+s,a=null,y=[],n)for(d=n[w],r.writeString(w),r.writeInt(t(d)),r.writeInt(u),r.writeInt(d.length),y=y.concat(d),w==="head"&&(a=u),u+=d.length;u%4;)y.push(0),u++;return r.write(y),i=2981146554-t(r.data),r.pos=a+8,r.writeUInt32(i),r.data},t=function(n){var i,r,s,o;for(n=H8.call(n);n.length%4;)n.push(0);for(s=new iu(n),r=0,i=0,o=n.length;i<o;i=i+=4)r+=s.readUInt32();return 4294967295&r},e}(),gee={}.hasOwnProperty,Yo=function(t,e){for(var n in e)gee.call(e,n)&&(t[n]=e[n]);function i(){this.constructor=t}return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};yo=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var mee=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Yo(t,yo),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var n;return(n=new iu).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(e),n.writeShort(this.glyphDataFormat),n.data},t}(),fE=function(){function t(e,n){var i,r,s,o,a,l,u,c,h,d,f,y,w,b,v,S,I;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),h=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(f=e.readUInt16(),d=f/2,e.pos+=6,s=function(){var P,F;for(F=[],l=P=0;0<=d?P<d:P>d;l=0<=d?++P:--P)F.push(e.readUInt16());return F}(),e.pos+=2,w=function(){var P,F;for(F=[],l=P=0;0<=d?P<d:P>d;l=0<=d?++P:--P)F.push(e.readUInt16());return F}(),u=function(){var P,F;for(F=[],l=P=0;0<=d?P<d:P>d;l=0<=d?++P:--P)F.push(e.readUInt16());return F}(),c=function(){var P,F;for(F=[],l=P=0;0<=d?P<d:P>d;l=0<=d?++P:--P)F.push(e.readUInt16());return F}(),r=(this.length-e.pos+this.offset)/2,a=function(){var P,F;for(F=[],l=P=0;0<=r?P<r:P>r;l=0<=r?++P:--P)F.push(e.readUInt16());return F}(),l=v=0,I=s.length;v<I;l=++v)for(b=s[l],i=S=y=w[l];y<=b?S<=b:S>=b;i=y<=b?++S:--S)c[l]===0?o=i+u[l]:(o=a[c[l]/2+(i-y)-(d-l)]||0)!==0&&(o+=u[l]),this.codeMap[i]=65535&o}e.pos=h}return t.encode=function(e,n){var i,r,s,o,a,l,u,c,h,d,f,y,w,b,v,S,I,P,F,H,M,k,T,O,E,L,D,Z,oe,ce,ae,$,ie,me,ve,B,Y,ee,ne,re,fe,we,be,Te,Re,_e;switch(Z=new iu,o=Object.keys(e).sort(function(Ce,Ue){return Ce-Ue}),n){case"macroman":for(w=0,b=function(){var Ce=[];for(y=0;y<256;++y)Ce.push(0);return Ce}(),S={0:0},s={},oe=0,ie=o.length;oe<ie;oe++)S[be=e[r=o[oe]]]==null&&(S[be]=++w),s[r]={old:e[r],new:S[e[r]]},b[r]=S[e[r]];return Z.writeUInt16(1),Z.writeUInt16(0),Z.writeUInt32(12),Z.writeUInt16(0),Z.writeUInt16(262),Z.writeUInt16(0),Z.write(b),{charMap:s,subtable:Z.data,maxGlyphID:w+1};case"unicode":for(L=[],h=[],I=0,S={},i={},v=u=null,ce=0,me=o.length;ce<me;ce++)S[F=e[r=o[ce]]]==null&&(S[F]=++I),i[r]={old:F,new:S[F]},a=S[F]-r,v!=null&&a===u||(v&&h.push(v),L.push(r),u=a),v=r;for(v&&h.push(v),h.push(65535),L.push(65535),O=2*(T=L.length),k=2*Math.pow(Math.log(T)/Math.LN2,2),d=Math.log(k/2)/Math.LN2,M=2*T-k,l=[],H=[],f=[],y=ae=0,ve=L.length;ae<ve;y=++ae){if(E=L[y],c=h[y],E===65535){l.push(0),H.push(0);break}if(E-(D=i[E].new)>=32768)for(l.push(0),H.push(2*(f.length+T-y)),r=$=E;E<=c?$<=c:$>=c;r=E<=c?++$:--$)f.push(i[r].new);else l.push(D-E),H.push(0)}for(Z.writeUInt16(3),Z.writeUInt16(1),Z.writeUInt32(12),Z.writeUInt16(4),Z.writeUInt16(16+8*T+2*f.length),Z.writeUInt16(0),Z.writeUInt16(O),Z.writeUInt16(k),Z.writeUInt16(d),Z.writeUInt16(M),fe=0,B=h.length;fe<B;fe++)r=h[fe],Z.writeUInt16(r);for(Z.writeUInt16(0),we=0,Y=L.length;we<Y;we++)r=L[we],Z.writeUInt16(r);for(Te=0,ee=l.length;Te<ee;Te++)a=l[Te],Z.writeUInt16(a);for(Re=0,ne=H.length;Re<ne;Re++)P=H[Re],Z.writeUInt16(P);for(_e=0,re=f.length;_e<re;_e++)w=f[_e],Z.writeUInt16(w);return{charMap:i,subtable:Z.data,maxGlyphID:I+1}}},t}(),q8=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Yo(t,yo),t.prototype.tag="cmap",t.prototype.parse=function(e){var n,i,r;for(e.pos=this.offset,this.version=e.readUInt16(),r=e.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)n=new fE(e,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(e,n){var i,r;return n==null&&(n="macroman"),i=fE.encode(e,n),(r=new iu).writeUInt16(0),r.writeUInt16(1),i.table=r.data.concat(i.subtable),i},t}(),yee=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Yo(t,yo),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),vee=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Yo(t,yo),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var n,i;for(i=[],n=0;n<10;++n)i.push(e.readByte());return i}(),this.charRange=function(){var n,i;for(i=[],n=0;n<4;++n)i.push(e.readInt());return i}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var n,i;for(i=[],n=0;n<2;n=++n)i.push(e.readInt());return i}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),wee=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Yo(t,yo),t.prototype.tag="post",t.prototype.parse=function(e){var n,i,r;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(i=e.readUInt16(),this.glyphNameIndex=[],s=0;0<=i?s<i:s>i;s=0<=i?++s:--s)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],r=[];e.pos<this.offset+this.length;)n=e.readByte(),r.push(this.names.push(e.readString(n)));return r;case 151552:return i=e.readUInt16(),this.offsets=e.read(i);case 262144:return this.map=(function(){var o,a,l;for(l=[],s=o=0,a=this.file.maxp.numGlyphs;0<=a?o<a:o>a;s=0<=a?++o:--o)l.push(e.readUInt32());return l}).call(this)}},t}(),_ee=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},bee=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Yo(t,yo),t.prototype.tag="name",t.prototype.parse=function(e){var n,i,r,s,o,a,l,u,c,h,d;for(e.pos=this.offset,e.readShort(),n=e.readShort(),a=e.readShort(),i=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)i.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+a+e.readShort()});for(l={},s=c=0,h=i.length;c<h;s=++c)r=i[s],e.pos=r.offset,u=e.readString(r.length),o=new _ee(u,r),l[d=r.nameID]==null&&(l[d]=[]),l[r.nameID].push(o);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},t}(),xee=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Yo(t,yo),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),See=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Yo(t,yo),t.prototype.tag="hmtx",t.prototype.parse=function(e){var n,i,r,s,o,a,l;for(e.pos=this.offset,this.metrics=[],n=0,a=this.file.hhea.numberOfMetrics;0<=a?n<a:n>a;n=0<=a?++n:--n)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(r=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,c;for(c=[],n=u=0;0<=r?u<r:u>r;n=0<=r?++u:--u)c.push(e.readInt16());return c}(),this.widths=(function(){var u,c,h,d;for(d=[],u=0,c=(h=this.metrics).length;u<c;u++)s=h[u],d.push(s.advance);return d}).call(this),i=this.widths[this.widths.length-1],l=[],n=o=0;0<=r?o<r:o>r;n=0<=r?++o:--o)l.push(this.widths.push(i));return l},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),H8=[].slice,Aee=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Yo(t,yo),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var n,i,r,s,o,a,l,u,c,h;return e in this.cache?this.cache[e]:(s=this.file.loca,n=this.file.contents,i=s.indexOf(e),(r=s.lengthOf(e))===0?this.cache[e]=null:(n.pos=this.offset+i,o=(a=new iu(n.read(r))).readShort(),u=a.readShort(),h=a.readShort(),l=a.readShort(),c=a.readShort(),this.cache[e]=o===-1?new Tee(a,u,h,l,c):new kee(a,o,u,h,l,c),this.cache[e]))},t.prototype.encode=function(e,n,i){var r,s,o,a,l;for(o=[],s=[],a=0,l=n.length;a<l;a++)r=e[n[a]],s.push(o.length),r&&(o=o.concat(r.encode(i)));return s.push(o.length),{table:o,offsets:s}},t}(),kee=function(){function t(e,n,i,r,s,o){this.raw=e,this.numberOfContours=n,this.xMin=i,this.yMin=r,this.xMax=s,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),Tee=function(){function t(e,n,i,r,s){var o,a;for(this.raw=e,this.xMin=n,this.yMin=i,this.xMax=r,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return t.prototype.encode=function(){var e,n,i;for(n=new iu(H8.call(this.raw.data)),e=0,i=this.glyphIDs.length;e<i;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),Eee=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Yo(t,yo),t.prototype.tag="loca",t.prototype.parse=function(e){var n,i;return e.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var r,s;for(s=[],i=0,r=this.length;i<r;i+=2)s.push(2*e.readUInt16());return s}).call(this):(function(){var r,s;for(s=[],i=0,r=this.length;i<r;i+=4)s.push(e.readUInt32());return s}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,n){for(var i=new Uint32Array(this.offsets.length),r=0,s=0,o=0;o<i.length;++o)if(i[o]=r,s<n.length&&n[s]==o){++s,i[o]=r;var a=this.offsets[o],l=this.offsets[o+1]-a;l>0&&(r+=l)}for(var u=new Array(4*i.length),c=0;c<i.length;++c)u[4*c+3]=255&i[c],u[4*c+2]=(65280&i[c])>>8,u[4*c+1]=(16711680&i[c])>>16,u[4*c]=(4278190080&i[c])>>24;return u},t}(),Pee=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,i,r,s;for(n in r=this.font.cmap.tables[0].codeMap,e={},s=this.subset)i=s[n],e[n]=r[i];return e},t.prototype.glyphsFor=function(e){var n,i,r,s,o,a,l;for(r={},o=0,a=e.length;o<a;o++)r[s=e[o]]=this.font.glyf.glyphFor(s);for(s in n=[],r)(i=r[s])!=null&&i.compound&&n.push.apply(n,i.glyphIDs);if(n.length>0)for(s in l=this.glyphsFor(n))i=l[s],r[s]=i;return r},t.prototype.encode=function(e,n){var i,r,s,o,a,l,u,c,h,d,f,y,w,b,v;for(r in i=q8.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),f={0:0},v=i.charMap)f[(l=v[r]).old]=l.new;for(y in d=i.maxGlyphID,o)y in f||(f[y]=d++);return c=function(S){var I,P;for(I in P={},S)P[S[I]]=I;return P}(f),h=Object.keys(c).sort(function(S,I){return S-I}),w=function(){var S,I,P;for(P=[],S=0,I=h.length;S<I;S++)a=h[S],P.push(c[a]);return P}(),s=this.font.glyf.encode(o,w,f),u=this.font.loca.encode(s.offsets,w),b={cmap:this.font.cmap.raw(),glyf:s.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(b["OS/2"]=this.font.os2.raw()),this.font.directory.encode(b)},t}();nt.API.PDFObject=function(){var t;function e(){}return t=function(n,i){return(Array(i+1).join("0")+n).slice(-i)},e.convert=function(n){var i,r,s,o;if(Array.isArray(n))return"["+function(){var a,l,u;for(u=[],a=0,l=n.length;a<l;a++)i=n[a],u.push(e.convert(i));return u}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(r in s=["<<"],n)o=n[r],s.push("/"+r+" "+e.convert(o));return s.push(">>"),s.join(`
`)}return""+n},e}();function $8(t,e,n,i,r){i=i||{};var s=1.15,o=r.internal.scaleFactor,a=r.internal.getFontSize()/o,l=r.getLineHeightFactor?r.getLineHeightFactor():s,u=a*l,c=/\r\n|\r|\n/g,h="",d=1;if((i.valign==="middle"||i.valign==="bottom"||i.halign==="center"||i.halign==="right")&&(h=typeof t=="string"?t.split(c):t,d=h.length||1),n+=a*(2-s),i.valign==="middle"?n-=d/2*u:i.valign==="bottom"&&(n-=d*u),i.halign==="center"||i.halign==="right"){var f=a;if(i.halign==="center"&&(f*=.5),h&&d>=1){for(var y=0;y<h.length;y++)r.text(h[y],e-r.getStringUnitWidth(h[y])*f,n),n+=u;return r}e-=r.getStringUnitWidth(t)*f}return i.halign==="justify"?r.text(t,e,n,{maxWidth:i.maxWidth||100,align:"justify"}):r.text(t,e,n),r}var dE={},Ih=function(){function t(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return t.setDefaults=function(e,n){n===void 0&&(n=null),n?n.__autoTableDocumentDefaults=e:dE=e},t.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},t.prototype.applyStyles=function(e,n){var i,r,s;n===void 0&&(n=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var o=this.jsPDFDocument.internal.getFont(),a=o.fontStyle,l=o.fontName;if(e.font&&(l=e.font),e.fontStyle){a=e.fontStyle;var u=this.getFontList()[l];u&&u.indexOf(a)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(u[0]),a=u[0])}if(this.jsPDFDocument.setFont(l,a),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!n){var c=t.unifyColor(e.fillColor);c&&(i=this.jsPDFDocument).setFillColor.apply(i,c),c=t.unifyColor(e.textColor),c&&(r=this.jsPDFDocument).setTextColor.apply(r,c),c=t.unifyColor(e.lineColor),c&&(s=this.jsPDFDocument).setDrawColor.apply(s,c),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},t.prototype.splitTextToSize=function(e,n,i){return this.jsPDFDocument.splitTextToSize(e,n,i)},t.prototype.rect=function(e,n,i,r,s){return this.jsPDFDocument.rect(e,n,i,r,s)},t.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},t.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},t.prototype.getDocument=function(){return this.jsPDFDocument},t.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},t.prototype.addPage=function(){return this.jsPDFDocument.addPage()},t.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},t.prototype.getGlobalOptions=function(){return dE||{}},t.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},t.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},t.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},t.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},t.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},t.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},t}(),cw=function(t,e){return cw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(n[r]=i[r])},cw(t,e)};function G8(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");cw(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var K8=function(t){G8(e,t);function e(n){var i=t.call(this)||this;return i._element=n,i}return e}(Array);function Iee(t){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/t,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function Cee(t){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[t]}function a1(t,e,n){n.applyStyles(e,!0);var i=Array.isArray(t)?t:[t],r=i.map(function(s){return n.getTextWidth(s)}).reduce(function(s,o){return Math.max(s,o)},0);return r}function Y8(t,e,n,i){var r=e.settings.tableLineWidth,s=e.settings.tableLineColor;t.applyStyles({lineWidth:r,lineColor:s});var o=X8(r,!1);o&&t.rect(n.x,n.y,e.getWidth(t.pageSize().width),i.y-n.y,o)}function X8(t,e){var n=t>0,i=e||e===0;return n&&i?"DF":n?"S":i?"F":null}function ly(t,e){var n,i,r,s;if(t=t||e,Array.isArray(t)){if(t.length>=4)return{top:t[0],right:t[1],bottom:t[2],left:t[3]};if(t.length===3)return{top:t[0],right:t[1],bottom:t[2],left:t[1]};if(t.length===2)return{top:t[0],right:t[1],bottom:t[0],left:t[1]};t.length===1?t=t[0]:t=e}return typeof t=="object"?(typeof t.vertical=="number"&&(t.top=t.vertical,t.bottom=t.vertical),typeof t.horizontal=="number"&&(t.right=t.horizontal,t.left=t.horizontal),{left:(n=t.left)!==null&&n!==void 0?n:e,top:(i=t.top)!==null&&i!==void 0?i:e,right:(r=t.right)!==null&&r!==void 0?r:e,bottom:(s=t.bottom)!==null&&s!==void 0?s:e}):(typeof t!="number"&&(t=e),{top:t,right:t,bottom:t,left:t})}function Q8(t,e){var n=ly(e.settings.margin,0);return t.pageSize().width-(n.left+n.right)}function Nee(t,e,n,i,r){var s={},o=1.3333333333333333,a=tv(e,function(I){return r.getComputedStyle(I).backgroundColor});a!=null&&(s.fillColor=a);var l=tv(e,function(I){return r.getComputedStyle(I).color});l!=null&&(s.textColor=l);var u=Ree(i,n);u&&(s.cellPadding=u);var c="borderTopColor",h=o*n,d=i.borderTopWidth;if(i.borderBottomWidth===d&&i.borderRightWidth===d&&i.borderLeftWidth===d){var f=(parseFloat(d)||0)/h;f&&(s.lineWidth=f)}else s.lineWidth={top:(parseFloat(i.borderTopWidth)||0)/h,right:(parseFloat(i.borderRightWidth)||0)/h,bottom:(parseFloat(i.borderBottomWidth)||0)/h,left:(parseFloat(i.borderLeftWidth)||0)/h},s.lineWidth.top||(s.lineWidth.right?c="borderRightColor":s.lineWidth.bottom?c="borderBottomColor":s.lineWidth.left&&(c="borderLeftColor"));var y=tv(e,function(I){return r.getComputedStyle(I)[c]});y!=null&&(s.lineColor=y);var w=["left","right","center","justify"];w.indexOf(i.textAlign)!==-1&&(s.halign=i.textAlign),w=["middle","bottom","top"],w.indexOf(i.verticalAlign)!==-1&&(s.valign=i.verticalAlign);var b=parseInt(i.fontSize||"");isNaN(b)||(s.fontSize=b/o);var v=Lee(i);v&&(s.fontStyle=v);var S=(i.fontFamily||"").toLowerCase();return t.indexOf(S)!==-1&&(s.font=S),s}function Lee(t){var e="";return(t.fontWeight==="bold"||t.fontWeight==="bolder"||parseInt(t.fontWeight)>=700)&&(e="bold"),(t.fontStyle==="italic"||t.fontStyle==="oblique")&&(e+="italic"),e}function tv(t,e){var n=J8(t,e);if(!n)return null;var i=n.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!i||!Array.isArray(i))return null;var r=[parseInt(i[1]),parseInt(i[2]),parseInt(i[3])],s=parseInt(i[4]);return s===0||isNaN(r[0])||isNaN(r[1])||isNaN(r[2])?null:r}function J8(t,e){var n=e(t);return n==="rgba(0, 0, 0, 0)"||n==="transparent"||n==="initial"||n==="inherit"?t.parentElement==null?null:J8(t.parentElement,e):n}function Ree(t,e){var n=[t.paddingTop,t.paddingRight,t.paddingBottom,t.paddingLeft],i=96/(72/e),r=(parseInt(t.lineHeight)-parseInt(t.fontSize))/e/2,s=n.map(function(a){return parseInt(a||"0")/i}),o=ly(s,0);return r>o.top&&(o.top=r),r>o.bottom&&(o.bottom=r),o}function Z8(t,e,n,i,r){var s,o;i===void 0&&(i=!1),r===void 0&&(r=!1);var a;typeof e=="string"?a=n.document.querySelector(e):a=e;var l=Object.keys(t.getFontList()),u=t.scaleFactor(),c=[],h=[],d=[];if(!a)return console.error("Html table could not be found with input: ",e),{head:c,body:h,foot:d};for(var f=0;f<a.rows.length;f++){var y=a.rows[f],w=(o=(s=y==null?void 0:y.parentElement)===null||s===void 0?void 0:s.tagName)===null||o===void 0?void 0:o.toLowerCase(),b=Mee(l,u,n,y,i,r);b&&(w==="thead"?c.push(b):w==="tfoot"?d.push(b):h.push(b))}return{head:c,body:h,foot:d}}function Mee(t,e,n,i,r,s){for(var o=new K8(i),a=0;a<i.cells.length;a++){var l=i.cells[a],u=n.getComputedStyle(l);if(r||u.display!=="none"){var c=void 0;s&&(c=Nee(t,l,e,u,n)),o.push({rowSpan:l.rowSpan,colSpan:l.colSpan,styles:c,_element:l,content:Dee(l)})}}var h=n.getComputedStyle(i);if(o.length>0&&(r||h.display!=="none"))return o}function Dee(t){var e=t.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(n){return n.trim()}).join(`
`),e.innerText||e.textContent||""}function Oee(t,e,n){for(var i=0,r=[t,e,n];i<r.length;i++){var s=r[i];s&&typeof s!="object"&&console.error("The options parameter should be of type object, is: "+typeof s),s.startY&&typeof s.startY!="number"&&(console.error("Invalid value for startY option",s.startY),delete s.startY)}}function Ea(t,e,n,i,r){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(t),o=1;o<arguments.length;o++){var a=arguments[o];if(a!=null)for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[l]=a[l])}return s}function eM(t,e){var n=new Ih(t),i=n.getDocumentOptions(),r=n.getGlobalOptions();Oee(r,i,e);var s=Ea({},r,i,e),o;typeof window<"u"&&(o=window);var a=Fee(r,i,e),l=jee(r,i,e),u=Vee(n,s),c=zee(n,s,o);return{id:e.tableId,content:c,hooks:l,styles:a,settings:u}}function Fee(t,e,n){for(var i={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},r=function(l){if(l==="columnStyles"){var u=t[l],c=e[l],h=n[l];i.columnStyles=Ea({},u,c,h)}else{var d=[t,e,n],f=d.map(function(y){return y[l]||{}});i[l]=Ea({},f[0],f[1],f[2])}},s=0,o=Object.keys(i);s<o.length;s++){var a=o[s];r(a)}return i}function jee(t,e,n){for(var i=[t,e,n],r={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},s=0,o=i;s<o.length;s++){var a=o[s];a.didParseCell&&r.didParseCell.push(a.didParseCell),a.willDrawCell&&r.willDrawCell.push(a.willDrawCell),a.didDrawCell&&r.didDrawCell.push(a.didDrawCell),a.willDrawPage&&r.willDrawPage.push(a.willDrawPage),a.didDrawPage&&r.didDrawPage.push(a.didDrawPage)}return r}function Vee(t,e){var n,i,r,s,o,a,l,u,c,h,d,f,y=ly(e.margin,40/t.scaleFactor()),w=(n=Bee(t,e.startY))!==null&&n!==void 0?n:y.top,b;e.showFoot===!0?b="everyPage":e.showFoot===!1?b="never":b=(i=e.showFoot)!==null&&i!==void 0?i:"everyPage";var v;e.showHead===!0?v="everyPage":e.showHead===!1?v="never":v=(r=e.showHead)!==null&&r!==void 0?r:"everyPage";var S=(s=e.useCss)!==null&&s!==void 0?s:!1,I=e.theme||(S?"plain":"striped"),P=!!e.horizontalPageBreak,F=(o=e.horizontalPageBreakRepeat)!==null&&o!==void 0?o:null;return{includeHiddenHtml:(a=e.includeHiddenHtml)!==null&&a!==void 0?a:!1,useCss:S,theme:I,startY:w,margin:y,pageBreak:(l=e.pageBreak)!==null&&l!==void 0?l:"auto",rowPageBreak:(u=e.rowPageBreak)!==null&&u!==void 0?u:"auto",tableWidth:(c=e.tableWidth)!==null&&c!==void 0?c:"auto",showHead:v,showFoot:b,tableLineWidth:(h=e.tableLineWidth)!==null&&h!==void 0?h:0,tableLineColor:(d=e.tableLineColor)!==null&&d!==void 0?d:200,horizontalPageBreak:P,horizontalPageBreakRepeat:F,horizontalPageBreakBehaviour:(f=e.horizontalPageBreakBehaviour)!==null&&f!==void 0?f:"afterAllRows"}}function Bee(t,e){var n=t.getLastAutoTable(),i=t.scaleFactor(),r=t.pageNumber(),s=!1;if(n&&n.startPageNumber){var o=n.startPageNumber+n.pageNumber-1;s=o===r}return typeof e=="number"?e:(e==null||e===!1)&&s&&(n==null?void 0:n.finalY)!=null?n.finalY+20/i:null}function zee(t,e,n){var i=e.head||[],r=e.body||[],s=e.foot||[];if(e.html){var o=e.includeHiddenHtml;if(n){var a=Z8(t,e.html,n,o,e.useCss)||{};i=a.head||i,r=a.body||i,s=a.foot||i}else console.error("Cannot parse html in non browser environment")}var l=e.columns||Uee(i,r,s);return{columns:l,head:i,body:r,foot:s}}function Uee(t,e,n){var i=t[0]||e[0]||n[0]||[],r=[];return Object.keys(i).filter(function(s){return s!=="_element"}).forEach(function(s){var o=1,a;Array.isArray(i)?a=i[parseInt(s)]:a=i[s],typeof a=="object"&&!Array.isArray(a)&&(o=(a==null?void 0:a.colSpan)||1);for(var l=0;l<o;l++){var u=void 0;Array.isArray(i)?u=r.length:u=s+(l>0?"_".concat(l):"");var c={dataKey:u};r.push(c)}}),r}var hw=function(){function t(e,n,i){this.table=n,this.pageNumber=n.pageNumber,this.settings=n.settings,this.cursor=i,this.doc=e.getDocument()}return t}(),Wee=function(t){G8(e,t);function e(n,i,r,s,o,a){var l=t.call(this,n,i,a)||this;return l.cell=r,l.row=s,l.column=o,l.section=s.section,l}return e}(hw),qee=function(){function t(e,n){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=n.columns,this.head=n.head,this.body=n.body,this.foot=n.foot}return t.prototype.getHeadHeight=function(e){return this.head.reduce(function(n,i){return n+i.getMaxCellHeight(e)},0)},t.prototype.getFootHeight=function(e){return this.foot.reduce(function(n,i){return n+i.getMaxCellHeight(e)},0)},t.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},t.prototype.callCellHooks=function(e,n,i,r,s,o){for(var a=0,l=n;a<l.length;a++){var u=l[a],c=new Wee(e,this,i,r,s,o),h=u(c)===!1;if(i.text=Array.isArray(i.text)?i.text:[i.text],h)return!1}return!0},t.prototype.callEndPageHooks=function(e,n){e.applyStyles(e.userStyles);for(var i=0,r=this.hooks.didDrawPage;i<r.length;i++){var s=r[i];s(new hw(e,this,n))}},t.prototype.callWillDrawPageHooks=function(e,n){for(var i=0,r=this.hooks.willDrawPage;i<r.length;i++){var s=r[i];s(new hw(e,this,n))}},t.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var n=this.columns.reduce(function(r,s){return r+s.wrappedWidth},0);return n}else{var i=this.settings.margin;return e-i.left-i.right}},t}(),tM=function(){function t(e,n,i,r,s){s===void 0&&(s=!1),this.height=0,this.raw=e,e instanceof K8&&(this.raw=e._element,this.element=e._element),this.index=n,this.section=i,this.cells=r,this.spansMultiplePages=s}return t.prototype.getMaxCellHeight=function(e){var n=this;return e.reduce(function(i,r){var s;return Math.max(i,((s=n.cells[r.index])===null||s===void 0?void 0:s.height)||0)},0)},t.prototype.hasRowSpan=function(e){var n=this;return e.filter(function(i){var r=n.cells[i.index];return r?r.rowSpan>1:!1}).length>0},t.prototype.canEntireRowFit=function(e,n){return this.getMaxCellHeight(n)<=e},t.prototype.getMinimumRowHeight=function(e,n){var i=this;return e.reduce(function(r,s){var o=i.cells[s.index];if(!o)return 0;var a=n.getLineHeight(o.styles.fontSize),l=o.padding("vertical"),u=l+a;return u>r?u:r},0)},t}(),nM=function(){function t(e,n,i){var r;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=n,this.section=i,this.raw=e;var s=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,s=(r=e.content)!==null&&r!==void 0?r:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var o=s!=null?""+s:"",a=/\r\n|\r|\n/g;this.text=o.split(a)}return t.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var n=this.height-this.padding("vertical");e=this.y+n/2+this.padding("top")}var i;if(this.styles.halign==="right")i=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var r=this.width-this.padding("horizontal");i=this.x+r/2+this.padding("left")}else i=this.x+this.padding("left");return{x:i,y:e}},t.prototype.getContentHeight=function(e,n){n===void 0&&(n=1.15);var i=Array.isArray(this.text)?this.text.length:1,r=this.styles.fontSize/e*n,s=i*r+this.padding("vertical");return Math.max(s,this.styles.minCellHeight)},t.prototype.padding=function(e){var n=ly(this.styles.cellPadding,0);return e==="vertical"?n.top+n.bottom:e==="horizontal"?n.left+n.right:n[e]},t}(),Hee=function(){function t(e,n,i){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=n,this.index=i}return t.prototype.getMaxCustomCellWidth=function(e){for(var n=0,i=0,r=e.allRows();i<r.length;i++){var s=r[i],o=s.cells[this.index];o&&typeof o.styles.cellWidth=="number"&&(n=Math.max(n,o.styles.cellWidth))}return n},t}();function $ee(t,e){Gee(t,e);var n=[],i=0;e.columns.forEach(function(s){var o=s.getMaxCustomCellWidth(e);o?s.width=o:(s.width=s.wrappedWidth,n.push(s)),i+=s.width});var r=e.getWidth(t.pageSize().width)-i;r&&(r=fw(n,r,function(s){return Math.max(s.minReadableWidth,s.minWidth)})),r&&(r=fw(n,r,function(s){return s.minWidth})),r=Math.abs(r),!e.settings.horizontalPageBreak&&r>.1/t.scaleFactor()&&(r=r<1?r:Math.round(r),console.log("Of the table content, ".concat(r," units width could not fit page"))),Yee(e),Xee(e,t),Kee(e)}function Gee(t,e){var n=t.scaleFactor(),i=e.settings.horizontalPageBreak,r=Q8(t,e);e.allRows().forEach(function(s){for(var o=0,a=e.columns;o<a.length;o++){var l=a[o],u=s.cells[l.index];if(u){var c=e.hooks.didParseCell;e.callCellHooks(t,c,u,s,l,null);var h=u.padding("horizontal");u.contentWidth=a1(u.text,u.styles,t)+h;var d=a1(u.text.join(" ").split(/[^\S\u00A0]+/),u.styles,t);if(u.minReadableWidth=d+u.padding("horizontal"),typeof u.styles.cellWidth=="number")u.minWidth=u.styles.cellWidth,u.wrappedWidth=u.styles.cellWidth;else if(u.styles.cellWidth==="wrap"||i===!0)u.contentWidth>r?(u.minWidth=r,u.wrappedWidth=r):(u.minWidth=u.contentWidth,u.wrappedWidth=u.contentWidth);else{var f=10/n;u.minWidth=u.styles.minCellWidth||f,u.wrappedWidth=u.contentWidth,u.minWidth>u.wrappedWidth&&(u.wrappedWidth=u.minWidth)}}}}),e.allRows().forEach(function(s){for(var o=0,a=e.columns;o<a.length;o++){var l=a[o],u=s.cells[l.index];if(u&&u.colSpan===1)l.wrappedWidth=Math.max(l.wrappedWidth,u.wrappedWidth),l.minWidth=Math.max(l.minWidth,u.minWidth),l.minReadableWidth=Math.max(l.minReadableWidth,u.minReadableWidth);else{var c=e.styles.columnStyles[l.dataKey]||e.styles.columnStyles[l.index]||{},h=c.cellWidth||c.minCellWidth;h&&typeof h=="number"&&(l.minWidth=h,l.wrappedWidth=h)}u&&(u.colSpan>1&&!l.minWidth&&(l.minWidth=u.minWidth),u.colSpan>1&&!l.wrappedWidth&&(l.wrappedWidth=u.minWidth))}})}function fw(t,e,n){for(var i=e,r=t.reduce(function(f,y){return f+y.wrappedWidth},0),s=0;s<t.length;s++){var o=t[s],a=o.wrappedWidth/r,l=i*a,u=o.width+l,c=n(o),h=u<c?c:u;e-=h-o.width,o.width=h}if(e=Math.round(e*1e10)/1e10,e){var d=t.filter(function(f){return e<0?f.width>n(f):!0});d.length&&(e=fw(d,e,n))}return e}function Kee(t){for(var e={},n=1,i=t.allRows(),r=0;r<i.length;r++)for(var s=i[r],o=0,a=t.columns;o<a.length;o++){var l=a[o],u=e[l.index];if(n>1)n--,delete s.cells[l.index];else if(u)u.cell.height+=s.height,n=u.cell.colSpan,delete s.cells[l.index],u.left--,u.left<=1&&delete e[l.index];else{var c=s.cells[l.index];if(!c)continue;if(c.height=s.height,c.rowSpan>1){var h=i.length-r,d=c.rowSpan>h?h:c.rowSpan;e[l.index]={cell:c,left:d,row:s}}}}}function Yee(t){for(var e=t.allRows(),n=0;n<e.length;n++)for(var i=e[n],r=null,s=0,o=0,a=0;a<t.columns.length;a++){var l=t.columns[a];if(o-=1,o>1&&t.columns[a+1])s+=l.width,delete i.cells[l.index];else if(r){var u=r;delete i.cells[l.index],r=null,u.width=l.width+s}else{var u=i.cells[l.index];if(!u)continue;if(o=u.colSpan,s=0,u.colSpan>1){r=u,s+=l.width;continue}u.width=l.width+s}}}function Xee(t,e){for(var n={count:0,height:0},i=0,r=t.allRows();i<r.length;i++){for(var s=r[i],o=0,a=t.columns;o<a.length;o++){var l=a[o],u=s.cells[l.index];if(u){e.applyStyles(u.styles,!0);var c=u.width-u.padding("horizontal");if(u.styles.overflow==="linebreak")u.text=e.splitTextToSize(u.text,c+1/e.scaleFactor(),{fontSize:u.styles.fontSize});else if(u.styles.overflow==="ellipsize")u.text=pE(u.text,c,u.styles,e,"...");else if(u.styles.overflow==="hidden")u.text=pE(u.text,c,u.styles,e,"");else if(typeof u.styles.overflow=="function"){var h=u.styles.overflow(u.text,c);typeof h=="string"?u.text=[h]:u.text=h}u.contentHeight=u.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var d=u.contentHeight/u.rowSpan;u.rowSpan>1&&n.count*n.height<d*u.rowSpan?n={height:d,count:u.rowSpan}:n&&n.count>0&&n.height>d&&(d=n.height),d>s.height&&(s.height=d)}}n.count--}}function pE(t,e,n,i,r){return t.map(function(s){return Qee(s,e,n,i,r)})}function Qee(t,e,n,i,r){var s=1e4*i.scaleFactor();if(e=Math.ceil(e*s)/s,e>=a1(t,n,i))return t;for(;e<a1(t+r,n,i)&&!(t.length<=1);)t=t.substring(0,t.length-1);return t.trim()+r}function iM(t,e){var n=new Ih(t),i=Jee(e,n.scaleFactor()),r=new qee(e,i);return $ee(n,r),n.applyStyles(n.userStyles),r}function Jee(t,e){var n=t.content,i=ete(n.columns);if(n.head.length===0){var r=gE(i,"head");r&&n.head.push(r)}if(n.foot.length===0){var r=gE(i,"foot");r&&n.foot.push(r)}var s=t.settings.theme,o=t.styles;return{columns:i,head:nv("head",n.head,i,o,s,e),body:nv("body",n.body,i,o,s,e),foot:nv("foot",n.foot,i,o,s,e)}}function nv(t,e,n,i,r,s){var o={},a=e.map(function(l,u){for(var c=0,h={},d=0,f=0,y=0,w=n;y<w.length;y++){var b=w[y];if(o[b.index]==null||o[b.index].left===0)if(f===0){var v=void 0;Array.isArray(l)?v=l[b.index-d-c]:v=l[b.dataKey];var S={};typeof v=="object"&&!Array.isArray(v)&&(S=(v==null?void 0:v.styles)||{});var I=tte(t,b,u,r,i,s,S),P=new nM(v,I,t);h[b.dataKey]=P,h[b.index]=P,f=P.colSpan-1,o[b.index]={left:P.rowSpan-1,times:f}}else f--,d++;else o[b.index].left--,f=o[b.index].times,c++}return new tM(l,u,t,h)});return a}function gE(t,e){var n={};return t.forEach(function(i){if(i.raw!=null){var r=Zee(e,i.raw);r!=null&&(n[i.dataKey]=r)}}),Object.keys(n).length>0?n:null}function Zee(t,e){if(t==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(t==="foot"&&typeof e=="object")return e.footer;return null}function ete(t){return t.map(function(e,n){var i,r;return typeof e=="object"?r=(i=e.dataKey)!==null&&i!==void 0?i:n:r=n,new Hee(r,e,n)})}function tte(t,e,n,i,r,s,o){var a=Cee(i),l;t==="head"?l=r.headStyles:t==="body"?l=r.bodyStyles:t==="foot"&&(l=r.footStyles);var u=Ea({},a.table,a[t],r.styles,l),c=r.columnStyles[e.dataKey]||r.columnStyles[e.index]||{},h=t==="body"?c:{},d=t==="body"&&n%2===0?Ea({},a.alternateRow,r.alternateRowStyles):{},f=Iee(s),y=Ea({},f,u,d,h);return Ea(y,o)}function nte(t,e,n){var i;n===void 0&&(n={});var r=Q8(t,e),s=new Map,o=[],a=[],l=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?l=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(l=[e.settings.horizontalPageBreakRepeat]),l.forEach(function(d){var f=e.columns.find(function(y){return y.dataKey===d||y.index===d});f&&!s.has(f.index)&&(s.set(f.index,!0),o.push(f.index),a.push(e.columns[f.index]),r-=f.wrappedWidth)});for(var u=!0,c=(i=n==null?void 0:n.start)!==null&&i!==void 0?i:0;c<e.columns.length;){if(s.has(c)){c++;continue}var h=e.columns[c].wrappedWidth;if(u||r>=h)u=!1,o.push(c),a.push(e.columns[c]),r-=h;else break;c++}return{colIndexes:o,columns:a,lastIndex:c-1}}function ite(t,e){for(var n=[],i=0;i<e.columns.length;i++){var r=nte(t,e,{start:i});r.columns.length&&(n.push(r),i=r.lastIndex)}return n}function rM(t,e){var n=e.settings,i=n.startY,r=n.margin,s={x:r.left,y:i},o=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),a=i+r.bottom+o;if(n.pageBreak==="avoid"){var l=e.body,u=l.reduce(function(d,f){return d+f.height},0);a+=u}var c=new Ih(t);(n.pageBreak==="always"||n.startY!=null&&a>c.pageSize().height)&&(oM(c),s.y=r.top),e.callWillDrawPageHooks(c,s);var h=Ea({},s);e.startPageNumber=c.pageNumber(),n.horizontalPageBreak?rte(c,e,h,s):(c.applyStyles(c.userStyles),(n.showHead==="firstPage"||n.showHead==="everyPage")&&e.head.forEach(function(d){return Ua(c,e,d,s,e.columns)}),c.applyStyles(c.userStyles),e.body.forEach(function(d,f){var y=f===e.body.length-1;l1(c,e,d,y,h,s,e.columns)}),c.applyStyles(c.userStyles),(n.showFoot==="lastPage"||n.showFoot==="everyPage")&&e.foot.forEach(function(d){return Ua(c,e,d,s,e.columns)})),Y8(c,e,h,s),e.callEndPageHooks(c,s),e.finalY=s.y,t.lastAutoTable=e,c.applyStyles(c.userStyles)}function rte(t,e,n,i){var r=ite(t,e),s=e.settings;if(s.horizontalPageBreakBehaviour==="afterAllRows")r.forEach(function(u,c){t.applyStyles(t.userStyles),c>0?Ud(t,e,n,i,u.columns,!0):mE(t,e,i,u.columns),ste(t,e,n,i,u.columns),iv(t,e,i,u.columns)});else for(var o=-1,a=r[0],l=function(){var u=o;if(a){t.applyStyles(t.userStyles);var c=a.columns;o>=0?Ud(t,e,n,i,c,!0):mE(t,e,i,c),u=yE(t,e,o+1,i,c),iv(t,e,i,c)}var h=u-o;r.slice(1).forEach(function(d){t.applyStyles(t.userStyles),Ud(t,e,n,i,d.columns,!0),yE(t,e,o+1,i,d.columns,h),iv(t,e,i,d.columns)}),o=u};o<e.body.length-1;)l()}function mE(t,e,n,i){var r=e.settings;t.applyStyles(t.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&e.head.forEach(function(s){return Ua(t,e,s,n,i)})}function ste(t,e,n,i,r){t.applyStyles(t.userStyles),e.body.forEach(function(s,o){var a=o===e.body.length-1;l1(t,e,s,a,n,i,r)})}function yE(t,e,n,i,r,s){t.applyStyles(t.userStyles),s=s??e.body.length;var o=Math.min(n+s,e.body.length),a=-1;return e.body.slice(n,o).forEach(function(l,u){var c=n+u===e.body.length-1,h=sM(t,e,c,i);l.canEntireRowFit(h,r)&&(Ua(t,e,l,i,r),a=n+u)}),a}function iv(t,e,n,i){var r=e.settings;t.applyStyles(t.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&e.foot.forEach(function(s){return Ua(t,e,s,n,i)})}function ote(t,e,n){var i=n.getLineHeight(t.styles.fontSize),r=t.padding("vertical"),s=Math.floor((e-r)/i);return Math.max(0,s)}function ate(t,e,n,i){var r={};t.spansMultiplePages=!0,t.height=0;for(var s=0,o=0,a=n.columns;o<a.length;o++){var l=a[o],u=t.cells[l.index];if(u){Array.isArray(u.text)||(u.text=[u.text]);var c=new nM(u.raw,u.styles,u.section);c=Ea(c,u),c.text=[];var h=ote(u,e,i);u.text.length>h&&(c.text=u.text.splice(h,u.text.length));var d=i.scaleFactor(),f=i.getLineHeightFactor();u.contentHeight=u.getContentHeight(d,f),u.contentHeight>=e&&(u.contentHeight=e,c.styles.minCellHeight-=e),u.contentHeight>t.height&&(t.height=u.contentHeight),c.contentHeight=c.getContentHeight(d,f),c.contentHeight>s&&(s=c.contentHeight),r[l.index]=c}}var y=new tM(t.raw,-1,t.section,r,!0);y.height=s;for(var w=0,b=n.columns;w<b.length;w++){var l=b[w],c=y.cells[l.index];c&&(c.height=y.height);var u=t.cells[l.index];u&&(u.height=t.height)}return y}function lte(t,e,n,i){var r=t.pageSize().height,s=i.settings.margin,o=s.top+s.bottom,a=r-o;e.section==="body"&&(a-=i.getHeadHeight(i.columns)+i.getFootHeight(i.columns));var l=e.getMinimumRowHeight(i.columns,t),u=l<n;if(l>a)return console.log("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!u)return!1;var c=e.hasRowSpan(i.columns),h=e.getMaxCellHeight(i.columns)>a;return h?(c&&console.log("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(c||i.settings.rowPageBreak==="avoid")}function l1(t,e,n,i,r,s,o){var a=sM(t,e,i,s);if(n.canEntireRowFit(a,o))Ua(t,e,n,s,o);else if(lte(t,n,a,e)){var l=ate(n,a,e,t);Ua(t,e,n,s,o),Ud(t,e,r,s,o),l1(t,e,l,i,r,s,o)}else Ud(t,e,r,s,o),l1(t,e,n,i,r,s,o)}function Ua(t,e,n,i,r){i.x=e.settings.margin.left;for(var s=0,o=r;s<o.length;s++){var a=o[s],l=n.cells[a.index];if(!l){i.x+=a.width;continue}t.applyStyles(l.styles),l.x=i.x,l.y=i.y;var u=e.callCellHooks(t,e.hooks.willDrawCell,l,n,a,i);if(u===!1){i.x+=a.width;continue}ute(t,l,i);var c=l.getTextPos();$8(l.text,c.x,c.y,{halign:l.styles.halign,valign:l.styles.valign,maxWidth:Math.ceil(l.width-l.padding("left")-l.padding("right"))},t.getDocument()),e.callCellHooks(t,e.hooks.didDrawCell,l,n,a,i),i.x+=a.width}i.y+=n.height}function ute(t,e,n){var i=e.styles;if(t.getDocument().setFillColor(t.getDocument().getFillColor()),typeof i.lineWidth=="number"){var r=X8(i.lineWidth,i.fillColor);r&&t.rect(e.x,n.y,e.width,e.height,r)}else typeof i.lineWidth=="object"&&(i.fillColor&&t.rect(e.x,n.y,e.width,e.height,"F"),cte(t,e,n,i.lineWidth))}function cte(t,e,n,i){var r,s,o,a;i.top&&(r=n.x,s=n.y,o=n.x+e.width,a=n.y,i.right&&(o+=.5*i.right),i.left&&(r-=.5*i.left),l(i.top,r,s,o,a)),i.bottom&&(r=n.x,s=n.y+e.height,o=n.x+e.width,a=n.y+e.height,i.right&&(o+=.5*i.right),i.left&&(r-=.5*i.left),l(i.bottom,r,s,o,a)),i.left&&(r=n.x,s=n.y,o=n.x,a=n.y+e.height,i.top&&(s-=.5*i.top),i.bottom&&(a+=.5*i.bottom),l(i.left,r,s,o,a)),i.right&&(r=n.x+e.width,s=n.y,o=n.x+e.width,a=n.y+e.height,i.top&&(s-=.5*i.top),i.bottom&&(a+=.5*i.bottom),l(i.right,r,s,o,a));function l(u,c,h,d,f){t.getDocument().setLineWidth(u),t.getDocument().line(c,h,d,f,"S")}}function sM(t,e,n,i){var r=e.settings.margin.bottom,s=e.settings.showFoot;return(s==="everyPage"||s==="lastPage"&&n)&&(r+=e.getFootHeight(e.columns)),t.pageSize().height-i.y-r}function Ud(t,e,n,i,r,s){r===void 0&&(r=[]),s===void 0&&(s=!1),t.applyStyles(t.userStyles),e.settings.showFoot==="everyPage"&&!s&&e.foot.forEach(function(a){return Ua(t,e,a,i,r)}),e.callEndPageHooks(t,i);var o=e.settings.margin;Y8(t,e,n,i),oM(t),e.pageNumber++,i.x=o.left,i.y=o.top,n.y=o.top,e.callWillDrawPageHooks(t,i),e.settings.showHead==="everyPage"&&(e.head.forEach(function(a){return Ua(t,e,a,i,r)}),t.applyStyles(t.userStyles))}function oM(t){var e=t.pageNumber();t.setPage(e+1);var n=t.pageNumber();return n===e?(t.addPage(),!0):!1}function hte(t){t.API.autoTable=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=e[0],r=eM(this,i),s=iM(this,r);return rM(this,s),this},t.API.lastAutoTable=!1,t.API.autoTableText=function(e,n,i,r){$8(e,n,i,r,this)},t.API.autoTableSetDefaults=function(e){return Ih.setDefaults(e,this),this},t.autoTableSetDefaults=function(e,n){Ih.setDefaults(e,n)},t.API.autoTableHtmlToJson=function(e,n){var i;if(n===void 0&&(n=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var r=new Ih(this),s=Z8(r,e,window,n,!1),o=s.head,a=s.body,l=((i=o[0])===null||i===void 0?void 0:i.map(function(u){return u.content}))||[];return{columns:l,rows:a,data:a}}}var rv;function aM(t,e){var n=eM(t,e),i=iM(t,n);rM(t,i)}try{if(typeof window<"u"&&window){var vE=window,wE=vE.jsPDF||((rv=vE.jspdf)===null||rv===void 0?void 0:rv.jsPDF);wE&&hte(wE)}}catch(t){console.error("Could not apply autoTable plugin",t)}const fte=(t,e,n,i)=>{const r=new nt,s=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],o=`Laporan Transaksi - ${s[n]} ${i}`;r.setFontSize(22),r.setTextColor(19,236,91),r.text("MyFinancial",14,20),r.setFontSize(10),r.setTextColor(100),r.text(`User: ${t.displayName||t.email}`,14,28),r.text(`Waktu Cetak: ${new Date().toLocaleString()}`,14,33),r.setFontSize(16),r.setTextColor(0),r.text(o,14,45);const a=e.filter(f=>{const y=new Date(f.date);return y.getMonth()===n&&y.getFullYear()===i}),l=a.map(f=>[new Date(f.date).toLocaleDateString("id-ID"),f.type==="income"?"Pemasukan":f.type==="transfer"?"Transfer":"Pengeluaran",f.category||f.note||"Lainnya",f.note||"-",new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(f.amount)]);aM(r,{startY:55,head:[["Tanggal","Tipe","Kategori","Catatan","Nominal"]],body:l,theme:"striped",headStyles:{fillStyle:[19,236,91],textColor:[255,255,255]},styles:{fontSize:9}});const u=a.filter(f=>f.type==="income").reduce((f,y)=>f+Number(y.amount),0),c=a.filter(f=>f.type==="expense").reduce((f,y)=>f+Number(y.amount),0),h=r.lastAutoTable.finalY+10;r.setFontSize(12),r.text(`Total Pemasukan: ${new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(u)}`,14,h),r.text(`Total Pengeluaran: ${new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(c)}`,14,h+7),r.setFontSize(14);const d=u>=c?[19,236,91]:[248,113,113];r.setTextColor(d[0],d[1],d[2]),r.text(`Net Income: ${new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(u-c)}`,14,h+16),r.save(`MyFinancial_Report_${s[n]}_${i}.pdf`)},dte=(t,e,n)=>{const i=new nt,r=`Ringkasan Keuangan Tahunan - ${n}`;i.setFontSize(22),i.setTextColor(19,236,91),i.text("MyFinancial",14,20),i.setFontSize(10),i.setTextColor(100),i.text(`User: ${t.displayName||t.email}`,14,28),i.setFontSize(16),i.setTextColor(0),i.text(r,14,45);const s=Array(12).fill(0).map((l,u)=>({month:u,income:0,expense:0}));e.forEach(l=>{const u=new Date(l.date);if(u.getFullYear()===n){const c=u.getMonth();l.type==="income"&&(s[c].income+=Number(l.amount)),l.type==="expense"&&(s[c].expense+=Number(l.amount))}});const o=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],a=s.map(l=>[o[l.month],new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(l.income),new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(l.expense),new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(l.income-l.expense)]);aM(i,{startY:55,head:[["Bulan","Total Pemasukan","Total Pengeluaran","Net"]],body:a,theme:"grid",headStyles:{fillColor:[19,236,91]}}),i.save(`MyFinancial_Summary_${n}.pdf`)},pte=({message:t,type:e="info",onClose:n,duration:i=5e3})=>{xe.useEffect(()=>{if(i){const s=setTimeout(()=>{n()},i);return()=>clearTimeout(s)}},[i,n]);const r={success:N.jsx(T7,{className:"text-primary",size:20}),error:N.jsx(k7,{className:"text-red-500",size:20}),warning:N.jsx(d_,{className:"text-amber-500",size:20}),info:N.jsx(N7,{className:"text-blue-500",size:20})};return N.jsxs(Uh.div,{initial:{opacity:0,y:50,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,scale:.9,transition:{duration:.2}},className:"glass-card p-4 rounded-2xl flex items-center gap-4 shadow-2xl border-white/10 min-w-[300px] pointer-events-auto",children:[N.jsx("div",{className:"p-2 rounded-xl bg-white/5",children:r[e]}),N.jsx("div",{className:"flex-1",children:N.jsx("p",{className:"text-sm font-bold text-white leading-tight",children:t})}),N.jsx("button",{onClick:n,className:"p-1 hover:bg-white/5 rounded-lg transition-colors text-slate-500",children:N.jsx(jh,{size:16})})]})},gte=({toasts:t,removeToast:e})=>N.jsx("div",{className:"fixed bottom-24 left-1/2 -translate-x-1/2 z-[200] flex flex-col gap-2 items-center pointer-events-none w-full max-w-sm px-6",children:N.jsx(Fp,{children:t.map(n=>N.jsx(pte,{...n,onClose:()=>e(n.id)},n.id))})}),mte=({isOpen:t,onClose:e})=>{const n=[{icon:N.jsx(M7,{size:20,className:"text-primary"}),title:"Akses & Akun",desc:"Gunakan Google Login untuk sinkronisasi data antar perangkat, atau Mode Tamu (Demo) untuk mencoba langsung tanpa login."},{icon:N.jsx(Fh,{size:20,className:"text-blue-400"}),title:"Kelola Dompet",desc:"Tambahkan dompet/rekening lu di tab 'Dompet'. Atur saldo awal dan tipe dompet (Kas, Bank, Tabungan)."},{icon:N.jsx(Zv,{size:20,className:"text-amber-500"}),title:"Catat Transaksi",desc:"Tekan tombol '+' di tengah navigasi untuk mencatat Pemasukan, Pengeluaran, atau Transfer antar dompet."},{icon:N.jsx(L7,{size:20,className:"text-red-400"}),title:"Atur Anggaran",desc:"Pilih tab 'Anggaran' untuk membuat batas anggaran kategori. Aplikasi bakal ngasih notifikasi kalau pemakaian udah capai 80% & 90%."},{icon:N.jsx(C7,{size:20,className:"text-purple-400"}),title:"Riwayat & Detail",desc:"Cek tab 'Beranda' atau 'Riwayat' buat liat semua transaksi. Lu bisa edit atau hapus transaksi cuma dengan klik itemnya."},{icon:N.jsx(I7,{size:20,className:"text-emerald-400"}),title:"Ekspor Laporan",desc:"Di menu 'Profil', lu bisa unduh laporan bulanan (PDF) atau ringkasan tahunan untuk analisis keuangan lebih dalam."}];return t?N.jsx(Fp,{children:N.jsx("div",{className:"fixed inset-0 z-[150] bg-background-dark/80 backdrop-blur-md flex items-end sm:items-center justify-center p-0 sm:p-6",children:N.jsxs(Uh.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"w-full max-w-lg glass-card rounded-t-[2.5rem] sm:rounded-[2.5rem] p-8 space-y-6 relative max-h-[90vh] overflow-y-auto custom-scrollbar",children:[N.jsx("button",{onClick:e,className:"absolute top-6 left-6 size-10 flex items-center justify-center rounded-full glass-card hover:bg-white/5 transition-colors",children:N.jsx(jh,{className:"size-6"})}),N.jsxs("div",{className:"text-center pt-4",children:[N.jsx("div",{className:"size-16 bg-primary/10 rounded-2xl flex items-center justify-center mx-auto mb-4 border border-primary/20",children:N.jsx(Zv,{className:"text-primary size-8"})}),N.jsx("h2",{className:"text-2xl font-black",children:"Panduan Aplikasi"}),N.jsx("p",{className:"text-slate-400 text-xs mt-1 uppercase tracking-widest font-bold",children:"Cara menggunakan MyFinancial"})]}),N.jsx("div",{className:"space-y-4",children:n.map((i,r)=>N.jsxs(Uh.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:r*.1},className:"glass-card p-4 rounded-2xl border-white/5 flex gap-4 hover:bg-white/5 transition-colors",children:[N.jsx("div",{className:"size-10 rounded-xl bg-white/5 flex items-center justify-center shrink-0",children:i.icon}),N.jsxs("div",{children:[N.jsx("h4",{className:"text-sm font-bold text-slate-100",children:i.title}),N.jsx("p",{className:"text-[11px] text-slate-400 leading-relaxed mt-0.5",children:i.desc})]})]},r))}),N.jsx("button",{onClick:e,className:"w-full bg-primary text-background-dark font-black py-5 rounded-2xl shadow-xl shadow-primary/20 hover:scale-[1.02] active:scale-[0.98] transition-all text-sm uppercase tracking-widest",children:"Paham, Gas Terus!"}),N.jsx("p",{className:"text-center text-[10px] text-slate-500 font-bold uppercase tracking-wider pb-4",children:"v1.0.0  Madewith  by Antigravity"})]})})}):null};function yte(){const[t,e]=xe.useState(null),[n,i]=xe.useState(!0),[r,s]=xe.useState("home"),[o,a]=xe.useState(!1),[l,u]=xe.useState("expense"),[c,h]=xe.useState(!1),[d,f]=xe.useState(null),[y,w]=xe.useState(null),[b,v]=xe.useState(!1),[S,I]=xe.useState([]),[P,F]=xe.useState([]),[H,M]=xe.useState([]),[k,T]=xe.useState(null),[O,E]=xe.useState(!1),[L,D]=xe.useState(new Date().getMonth()),[Z,oe]=xe.useState(new Date().getFullYear()),[ce,ae]=xe.useState([]),$=xe.useRef(new Set),ie=(_e,Ce="info")=>{const Ue=`${Date.now()}-${Math.random().toString(36).substr(2,9)}`;ae(K=>[...K,{id:Ue,message:_e,type:Ce}])},me=_e=>{ae(Ce=>Ce.filter(Ue=>Ue.id!==_e))};xe.useEffect(()=>{!H||H.length===0||H.forEach(_e=>{if(!_e.limit||_e.limit<=0)return;const Ce=_e.current_spent/_e.limit*100,Ue=`${_e.id}_90`,K=`${_e.id}_80`;Ce>=90?$.current.has(Ue)||(ie(`Anggaran ${_e.category} hampir habis (90%)!`,"warning"),$.current.add(Ue),$.current.add(K)):Ce>=80?($.current.has(K)||(ie(`Anggaran ${_e.category} sudah terpakai 80%.`,"info"),$.current.add(K)),$.current.delete(Ue)):($.current.delete(K),$.current.delete(Ue))})},[H]);const ve=async _e=>{if(t)try{_e.id?await OQ(t.uid,_e.id,y,_e):await ZR(t.uid,_e),a(!1),w(null)}catch(Ce){throw console.error("Save failed:",Ce),Ce}},B=async _e=>{if(t)try{await e8(t.uid,_e),a(!1),w(null)}catch(Ce){throw console.error("Delete failed:",Ce),Ce}},Y=_e=>{w(_e),a(!0)},ee=async _e=>{if(t)try{_e.id?await IQ(t.uid,_e.id,{name:_e.name,balance:_e.balance,type:_e.type}):await L2(t.uid,_e),h(!1),f(null)}catch(Ce){console.error("Failed to save wallet:",Ce)}},ne=async _e=>{if(t)try{await CQ(t.uid,_e)}catch(Ce){console.error("Failed to delete wallet:",Ce)}},re=_e=>{f(_e),h(!0)},fe=async()=>{try{await EQ(),e(null),s("home")}catch(_e){console.error("Logout failed:",_e)}},we=async _e=>{if(t)try{_e.id?await RQ(t.uid,_e.id,_e):await LQ(t.uid,_e),v(!1),T(null)}catch(Ce){throw console.error("Failed to save budget:",Ce),Ce}},be=_e=>{T(_e),v(!0)},Te=async _e=>{if(t)try{await MQ(t.uid,_e),v(!1),T(null)}catch(Ce){throw console.error("Failed to delete budget:",Ce),Ce}};if(xe.useEffect(()=>{if(!t)return;const _e=PQ(t.uid,K=>{I(K),K.length===0&&!t.uid.startsWith("guest_")&&(L2(t.uid,{name:"Uang Tunai",balance:0,type:"cash"}),L2(t.uid,{name:"Tabungan Utama",balance:0,type:"saving"}))}),Ce=DQ(t.uid,K=>F(K)),Ue=NQ(t.uid,K=>M(K));return()=>{_e(),Ce(),Ue()}},[t]),xe.useEffect(()=>{const _e=AQ(e,i);return()=>_e&&_e()},[]),n)return N.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background-dark",children:N.jsx("div",{className:"size-12 border-4 border-primary border-t-transparent rounded-full animate-spin"})});if(!t)return N.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center p-6 text-center space-y-8",children:[N.jsxs("div",{className:"space-y-2",children:[N.jsx("h1",{className:"text-4xl font-bold text-white",children:"MyFinancial"}),N.jsx("p",{className:"text-slate-400",children:"Atur keuangan pribadi dengan lebih cerdas dan bergaya."})]}),N.jsxs("div",{className:"flex flex-col w-full max-w-xs gap-4",children:[N.jsxs("button",{onClick:kQ,className:"w-full bg-white text-black font-bold py-4 rounded-2xl flex items-center justify-center gap-3 hover:scale-105 transition-transform active:scale-95",children:[N.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"24",height:"24",viewBox:"0 0 48 48",children:[N.jsx("path",{fill:"#FFC107",d:"M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"}),N.jsx("path",{fill:"#FF3D00",d:"M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"}),N.jsx("path",{fill:"#4CAF50",d:"M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"}),N.jsx("path",{fill:"#1976D2",d:"M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"})]}),"Masuk dengan Google"]}),N.jsx("button",{onClick:()=>e(TQ()),className:"w-full bg-primary/10 text-primary border border-primary/20 font-bold py-4 rounded-2xl flex items-center justify-center gap-3 hover:bg-primary/20 transition-all active:scale-95",children:"Coba Demo (Tanpa Login)"})]})]});const Re=(_e="expense")=>{w(null),u(_e),a(!0)};return N.jsxs(N.Fragment,{children:[N.jsxs(O7,{user:t,activeTab:r,setActiveTab:s,onAddClick:()=>Re("expense"),children:[r==="home"&&N.jsx(Rq,{wallets:S,transactions:P,budgets:H,onSeeAllTransactions:()=>s("history"),onIsiSaldo:()=>{u("income"),a(!0)},onTransfer:()=>{u("transfer"),a(!0)},setActiveTab:s}),r==="history"&&N.jsx(Oq,{transactions:P,budgets:H,onBack:()=>s("home"),onEditTransaction:Y}),r==="wallets"&&N.jsx(Fq,{wallets:S,onAddWallet:()=>{f(null),h(!0)},onEditWallet:re,onDeleteWallet:ne}),r==="budgets"&&N.jsx(jq,{transactions:P,budgets:H,onAddBudget:()=>{T(null),v(!0)},onEditBudget:be}),r==="profile"&&N.jsxs("div",{className:"p-6 space-y-6 pb-28",children:[N.jsxs("div",{className:"glass-card p-8 rounded-[2.5rem] text-center relative overflow-hidden",children:[N.jsx("div",{className:"absolute top-0 right-0 size-32 bg-primary/10 blur-3xl -mr-16 -mt-16 rounded-full"}),N.jsx("img",{src:t.photoURL||"https://api.dicebear.com/7.x/avataaars/svg?seed="+t.email,alt:"Avatar",className:"size-24 rounded-full mx-auto mb-4 border-4 border-primary/20 shadow-xl relative z-10"}),N.jsx("h2",{className:"text-2xl font-black tracking-tight relative z-10",children:t.displayName||"Guest User"}),N.jsx("p",{className:"text-slate-400 text-sm font-bold uppercase tracking-widest opacity-60 relative z-10",children:t.email})]}),N.jsxs("div",{className:"space-y-4",children:[N.jsx("h3",{className:"text-sm font-black uppercase tracking-[0.2em] text-slate-400 px-2",children:"Konfigurasi Laporan"}),N.jsxs("div",{className:"glass-card p-6 rounded-3xl border-white/5 grid grid-cols-2 gap-4",children:[N.jsxs("div",{className:"space-y-2",children:[N.jsx("p",{className:"text-[10px] text-slate-500 font-bold uppercase px-1",children:"PILIH BULAN"}),N.jsx("select",{value:L,onChange:_e=>D(parseInt(_e.target.value)),className:"w-full bg-white/5 border-white/10 rounded-2xl text-xs font-bold p-4 text-white focus:ring-primary focus:border-primary appearance-none",children:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"].map((_e,Ce)=>N.jsx("option",{value:Ce,className:"bg-background-dark",children:_e},Ce))})]}),N.jsxs("div",{className:"space-y-2",children:[N.jsx("p",{className:"text-[10px] text-slate-500 font-bold uppercase px-1",children:"PILIH TAHUN"}),N.jsx("select",{value:Z,onChange:_e=>oe(parseInt(_e.target.value)),className:"w-full bg-white/5 border-white/10 rounded-2xl text-xs font-bold p-4 text-white focus:ring-primary focus:border-primary appearance-none",children:Array.from({length:5},(_e,Ce)=>new Date().getFullYear()-Ce).map(_e=>N.jsx("option",{value:_e,className:"bg-background-dark",children:_e},_e))})]})]})]}),N.jsxs("div",{className:"space-y-4",children:[N.jsx("h3",{className:"text-sm font-black uppercase tracking-[0.2em] text-slate-400 px-2",children:"Ekspor Laporan"}),N.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[N.jsxs("div",{className:"glass-card p-6 rounded-3xl border-white/5 space-y-4",children:[N.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[N.jsx("div",{className:"size-10 bg-primary/10 rounded-xl flex items-center justify-center text-primary",children:N.jsx(a_,{size:20})}),N.jsxs("div",{children:[N.jsx("p",{className:"font-bold text-sm",children:"Laporan Bulanan"}),N.jsx("p",{className:"text-[10px] text-slate-500 font-bold uppercase",children:"Detail transaksi yang dipilih"})]})]}),N.jsxs("button",{onClick:()=>fte(t,P,L,Z),className:"w-full bg-primary text-background-dark font-black py-4 rounded-2xl flex items-center justify-center gap-3 shadow-lg shadow-primary/10 hover:scale-[1.02] active:scale-[0.98] transition-all text-xs uppercase tracking-widest",children:[N.jsx(P7,{size:18,strokeWidth:3})," Unduh PDF Bulanan"]})]}),N.jsxs("div",{className:"glass-card p-6 rounded-3xl border-white/5 space-y-3",children:[N.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[N.jsx("div",{className:"size-10 bg-amber-500/10 rounded-xl flex items-center justify-center text-amber-500",children:N.jsx(E7,{size:20})}),N.jsxs("div",{children:[N.jsx("p",{className:"font-bold text-sm",children:"Ringkasan Tahunan"}),N.jsxs("p",{className:"text-[10px] text-slate-500 font-bold uppercase",children:["Statistik tahun ",Z]})]})]}),N.jsxs("button",{onClick:()=>dte(t,P,Z),className:"w-full bg-white/5 border border-white/10 text-white font-black py-4 rounded-2xl flex items-center justify-center gap-3 hover:bg-white/10 active:scale-[0.98] transition-all text-xs uppercase tracking-widest",children:["Unduh Ringkasan ",Z]})]})]})]}),N.jsxs("div",{className:"space-y-4",children:[N.jsx("h3",{className:"text-sm font-black uppercase tracking-[0.2em] text-slate-400 px-2",children:"Lainnya"}),N.jsxs("button",{onClick:()=>E(!0),className:"w-full glass-card p-6 rounded-3xl border-white/5 flex items-center gap-4 hover:bg-white/5 transition-all text-left",children:[N.jsx("div",{className:"size-10 bg-primary/10 rounded-xl flex items-center justify-center text-primary",children:N.jsx(Zv,{size:20})}),N.jsxs("div",{className:"flex-1",children:[N.jsx("p",{className:"font-bold text-sm",children:"Panduan Aplikasi"}),N.jsx("p",{className:"text-[10px] text-slate-500 font-bold uppercase",children:"Cara menggunakan MyFinancial"})]})]})]}),N.jsx("button",{onClick:fe,className:"w-full bg-red-500/10 text-red-500 font-black py-5 rounded-[2rem] border border-red-500/20 hover:bg-red-500/20 transition-all text-xs uppercase tracking-[0.2em]",children:"Keluar dari Aplikasi"})]})]}),N.jsx(Bq,{isOpen:o,onClose:()=>{a(!1),w(null)},onSave:ve,onDelete:B,wallets:S,budgets:H,initialData:y,defaultType:l}),N.jsx(Uq,{isOpen:c,onClose:()=>{h(!1),f(null)},onSave:ee,initialData:d}),N.jsx(Wq,{isOpen:b,initialData:k,onClose:()=>{v(!1),T(null)},onSave:we,onDelete:Te}),N.jsx(mte,{isOpen:O,onClose:()=>E(!1)}),N.jsx(gte,{toasts:ce,removeToast:me})]})}sv.createRoot(document.getElementById("root")).render(N.jsx(CE.StrictMode,{children:N.jsx(yte,{})}));export{fn as _,wte as c,GM as g};
