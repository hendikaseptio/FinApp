var fD=Object.defineProperty;var dD=(e,t,n)=>t in e?fD(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Dt=(e,t,n)=>dD(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();var jtt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function pD(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var f3={exports:{}},n1={},d3={exports:{}},Fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tp=Symbol.for("react.element"),gD=Symbol.for("react.portal"),mD=Symbol.for("react.fragment"),yD=Symbol.for("react.strict_mode"),vD=Symbol.for("react.profiler"),_D=Symbol.for("react.provider"),wD=Symbol.for("react.context"),bD=Symbol.for("react.forward_ref"),xD=Symbol.for("react.suspense"),SD=Symbol.for("react.memo"),AD=Symbol.for("react.lazy"),Kx=Symbol.iterator;function TD(e){return e===null||typeof e!="object"?null:(e=Kx&&e[Kx]||e["@@iterator"],typeof e=="function"?e:null)}var p3={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g3=Object.assign,m3={};function Xh(e,t,n){this.props=e,this.context=t,this.refs=m3,this.updater=n||p3}Xh.prototype.isReactComponent={};Xh.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Xh.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function y3(){}y3.prototype=Xh.prototype;function l_(e,t,n){this.props=e,this.context=t,this.refs=m3,this.updater=n||p3}var u_=l_.prototype=new y3;u_.constructor=l_;g3(u_,Xh.prototype);u_.isPureReactComponent=!0;var Yx=Array.isArray,v3=Object.prototype.hasOwnProperty,c_={current:null},_3={key:!0,ref:!0,__self:!0,__source:!0};function w3(e,t,n){var i,r={},s=null,o=null;if(t!=null)for(i in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)v3.call(t,i)&&!_3.hasOwnProperty(i)&&(r[i]=t[i]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}if(e&&e.defaultProps)for(i in a=e.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return{$$typeof:Tp,type:e,key:s,ref:o,props:r,_owner:c_.current}}function kD(e,t){return{$$typeof:Tp,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function h_(e){return typeof e=="object"&&e!==null&&e.$$typeof===Tp}function ED(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Xx=/\/+/g;function wy(e,t){return typeof e=="object"&&e!==null&&e.key!=null?ED(""+e.key):t.toString(36)}function cm(e,t,n,i,r){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Tp:case gD:o=!0}}if(o)return o=e,r=r(o),e=i===""?"."+wy(o,0):i,Yx(r)?(n="",e!=null&&(n=e.replace(Xx,"$&/")+"/"),cm(r,t,n,"",function(u){return u})):r!=null&&(h_(r)&&(r=kD(r,n+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(Xx,"$&/")+"/")+e)),t.push(r)),1;if(o=0,i=i===""?".":i+":",Yx(e))for(var a=0;a<e.length;a++){s=e[a];var l=i+wy(s,a);o+=cm(s,t,n,l,r)}else if(l=TD(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=i+wy(s,a++),o+=cm(s,t,n,l,r);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function gg(e,t,n){if(e==null)return e;var i=[],r=0;return cm(e,i,"","",function(s){return t.call(n,s,r++)}),i}function PD(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Lr={current:null},hm={transition:null},ID={ReactCurrentDispatcher:Lr,ReactCurrentBatchConfig:hm,ReactCurrentOwner:c_};function b3(){throw Error("act(...) is not supported in production builds of React.")}Fe.Children={map:gg,forEach:function(e,t,n){gg(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return gg(e,function(){t++}),t},toArray:function(e){return gg(e,function(t){return t})||[]},only:function(e){if(!h_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Fe.Component=Xh;Fe.Fragment=mD;Fe.Profiler=vD;Fe.PureComponent=l_;Fe.StrictMode=yD;Fe.Suspense=xD;Fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ID;Fe.act=b3;Fe.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=g3({},e.props),r=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=c_.current),t.key!==void 0&&(r=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)v3.call(t,l)&&!_3.hasOwnProperty(l)&&(i[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}return{$$typeof:Tp,type:e.type,key:r,ref:s,props:i,_owner:o}};Fe.createContext=function(e){return e={$$typeof:wD,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:_D,_context:e},e.Consumer=e};Fe.createElement=w3;Fe.createFactory=function(e){var t=w3.bind(null,e);return t.type=e,t};Fe.createRef=function(){return{current:null}};Fe.forwardRef=function(e){return{$$typeof:bD,render:e}};Fe.isValidElement=h_;Fe.lazy=function(e){return{$$typeof:AD,_payload:{_status:-1,_result:e},_init:PD}};Fe.memo=function(e,t){return{$$typeof:SD,type:e,compare:t===void 0?null:t}};Fe.startTransition=function(e){var t=hm.transition;hm.transition={};try{e()}finally{hm.transition=t}};Fe.unstable_act=b3;Fe.useCallback=function(e,t){return Lr.current.useCallback(e,t)};Fe.useContext=function(e){return Lr.current.useContext(e)};Fe.useDebugValue=function(){};Fe.useDeferredValue=function(e){return Lr.current.useDeferredValue(e)};Fe.useEffect=function(e,t){return Lr.current.useEffect(e,t)};Fe.useId=function(){return Lr.current.useId()};Fe.useImperativeHandle=function(e,t,n){return Lr.current.useImperativeHandle(e,t,n)};Fe.useInsertionEffect=function(e,t){return Lr.current.useInsertionEffect(e,t)};Fe.useLayoutEffect=function(e,t){return Lr.current.useLayoutEffect(e,t)};Fe.useMemo=function(e,t){return Lr.current.useMemo(e,t)};Fe.useReducer=function(e,t,n){return Lr.current.useReducer(e,t,n)};Fe.useRef=function(e){return Lr.current.useRef(e)};Fe.useState=function(e){return Lr.current.useState(e)};Fe.useSyncExternalStore=function(e,t,n){return Lr.current.useSyncExternalStore(e,t,n)};Fe.useTransition=function(){return Lr.current.useTransition()};Fe.version="18.3.1";d3.exports=Fe;var kt=d3.exports;const f_=pD(kt);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CD=kt,ND=Symbol.for("react.element"),LD=Symbol.for("react.fragment"),RD=Object.prototype.hasOwnProperty,MD=CD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,DD={key:!0,ref:!0,__self:!0,__source:!0};function x3(e,t,n){var i,r={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(i in t)RD.call(t,i)&&!DD.hasOwnProperty(i)&&(r[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps,t)r[i]===void 0&&(r[i]=t[i]);return{$$typeof:ND,type:e,key:s,ref:o,props:r,_owner:MD.current}}n1.Fragment=LD;n1.jsx=x3;n1.jsxs=x3;f3.exports=n1;var V=f3.exports,t2={},S3={exports:{}},ms={},A3={exports:{}},T3={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(tt,at){var vt=tt.length;tt.push(at);t:for(;0<vt;){var _t=vt-1>>>1,B=tt[_t];if(0<r(B,at))tt[_t]=at,tt[vt]=B,vt=_t;else break t}}function n(tt){return tt.length===0?null:tt[0]}function i(tt){if(tt.length===0)return null;var at=tt[0],vt=tt.pop();if(vt!==at){tt[0]=vt;t:for(var _t=0,B=tt.length,Y=B>>>1;_t<Y;){var et=2*(_t+1)-1,Z=tt[et],nt=et+1,ft=tt[nt];if(0>r(Z,vt))nt<B&&0>r(ft,Z)?(tt[_t]=ft,tt[nt]=vt,_t=nt):(tt[_t]=Z,tt[et]=vt,_t=et);else if(nt<B&&0>r(ft,vt))tt[_t]=ft,tt[nt]=vt,_t=nt;else break t}}return at}function r(tt,at){var vt=tt.sortIndex-at.sortIndex;return vt!==0?vt:tt.id-at.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,h=null,p=3,f=!1,y=!1,_=!1,x=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(tt){for(var at=n(u);at!==null;){if(at.callback===null)i(u);else if(at.startTime<=tt)i(u),at.sortIndex=at.expirationTime,t(l,at);else break;at=n(u)}}function P(tt){if(_=!1,I(tt),!y)if(n(l)!==null)y=!0,ut(F);else{var at=n(u);at!==null&&ot(P,at.startTime-tt)}}function F(tt,at){y=!1,_&&(_=!1,v(T),T=-1),f=!0;var vt=p;try{for(I(at),h=n(l);h!==null&&(!(h.expirationTime>at)||tt&&!k());){var _t=h.callback;if(typeof _t=="function"){h.callback=null,p=h.priorityLevel;var B=_t(h.expirationTime<=at);at=e.unstable_now(),typeof B=="function"?h.callback=B:h===n(l)&&i(l),I(at)}else i(l);h=n(l)}if(h!==null)var Y=!0;else{var et=n(u);et!==null&&ot(P,et.startTime-at),Y=!1}return Y}finally{h=null,p=vt,f=!1}}var G=!1,R=null,T=-1,E=5,D=-1;function k(){return!(e.unstable_now()-D<E)}function N(){if(R!==null){var tt=e.unstable_now();D=tt;var at=!0;try{at=R(!0,tt)}finally{at?M():(G=!1,R=null)}}else G=!1}var M;if(typeof A=="function")M=function(){A(N)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,rt=H.port2;H.port1.onmessage=N,M=function(){rt.postMessage(null)}}else M=function(){x(N,0)};function ut(tt){R=tt,G||(G=!0,M())}function ot(tt,at){T=x(function(){tt(e.unstable_now())},at)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(tt){tt.callback=null},e.unstable_continueExecution=function(){y||f||(y=!0,ut(F))},e.unstable_forceFrameRate=function(tt){0>tt||125<tt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<tt?Math.floor(1e3/tt):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(tt){switch(p){case 1:case 2:case 3:var at=3;break;default:at=p}var vt=p;p=at;try{return tt()}finally{p=vt}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(tt,at){switch(tt){case 1:case 2:case 3:case 4:case 5:break;default:tt=3}var vt=p;p=tt;try{return at()}finally{p=vt}},e.unstable_scheduleCallback=function(tt,at,vt){var _t=e.unstable_now();switch(typeof vt=="object"&&vt!==null?(vt=vt.delay,vt=typeof vt=="number"&&0<vt?_t+vt:_t):vt=_t,tt){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=vt+B,tt={id:c++,callback:at,priorityLevel:tt,startTime:vt,expirationTime:B,sortIndex:-1},vt>_t?(tt.sortIndex=vt,t(u,tt),n(l)===null&&tt===n(u)&&(_?(v(T),T=-1):_=!0,ot(P,vt-_t))):(tt.sortIndex=B,t(l,tt),y||f||(y=!0,ut(F))),tt},e.unstable_shouldYield=k,e.unstable_wrapCallback=function(tt){var at=p;return function(){var vt=p;p=at;try{return tt.apply(this,arguments)}finally{p=vt}}}})(T3);A3.exports=T3;var OD=A3.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FD=kt,ps=OD;function Mt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var k3=new Set,Od={};function pc(e,t){Ph(e,t),Ph(e+"Capture",t)}function Ph(e,t){for(Od[e]=t,e=0;e<t.length;e++)k3.add(t[e])}var La=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),e2=Object.prototype.hasOwnProperty,jD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Qx={},Jx={};function VD(e){return e2.call(Jx,e)?!0:e2.call(Qx,e)?!1:jD.test(e)?Jx[e]=!0:(Qx[e]=!0,!1)}function BD(e,t,n,i){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function UD(e,t,n,i){if(t===null||typeof t>"u"||BD(e,t,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Rr(e,t,n,i,r,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Ji={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ji[e]=new Rr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ji[t]=new Rr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ji[e]=new Rr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ji[e]=new Rr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ji[e]=new Rr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ji[e]=new Rr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ji[e]=new Rr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ji[e]=new Rr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ji[e]=new Rr(e,5,!1,e.toLowerCase(),null,!1,!1)});var d_=/[\-:]([a-z])/g;function p_(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(d_,p_);Ji[t]=new Rr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(d_,p_);Ji[t]=new Rr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(d_,p_);Ji[t]=new Rr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ji[e]=new Rr(e,1,!1,e.toLowerCase(),null,!1,!1)});Ji.xlinkHref=new Rr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ji[e]=new Rr(e,1,!1,e.toLowerCase(),null,!0,!0)});function g_(e,t,n,i){var r=Ji.hasOwnProperty(t)?Ji[t]:null;(r!==null?r.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(UD(t,n,r,i)&&(n=null),i||r===null?VD(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=n===null?r.type===3?!1:"":n:(t=r.attributeName,i=r.attributeNamespace,n===null?e.removeAttribute(t):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}var Wa=FD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,mg=Symbol.for("react.element"),qc=Symbol.for("react.portal"),Hc=Symbol.for("react.fragment"),m_=Symbol.for("react.strict_mode"),n2=Symbol.for("react.profiler"),E3=Symbol.for("react.provider"),P3=Symbol.for("react.context"),y_=Symbol.for("react.forward_ref"),i2=Symbol.for("react.suspense"),r2=Symbol.for("react.suspense_list"),v_=Symbol.for("react.memo"),wl=Symbol.for("react.lazy"),I3=Symbol.for("react.offscreen"),Zx=Symbol.iterator;function Lf(e){return e===null||typeof e!="object"?null:(e=Zx&&e[Zx]||e["@@iterator"],typeof e=="function"?e:null)}var Gn=Object.assign,by;function Xf(e){if(by===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);by=t&&t[1]||""}return`
`+by+e}var xy=!1;function Sy(e,t){if(!e||xy)return"";xy=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var i=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){i=u}e.call(t.prototype)}else{try{throw Error()}catch(u){i=u}e()}}catch(u){if(u&&i&&typeof u.stack=="string"){for(var r=u.stack.split(`
`),s=i.stack.split(`
`),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==s[a]){var l=`
`+r[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{xy=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Xf(e):""}function zD(e){switch(e.tag){case 5:return Xf(e.type);case 16:return Xf("Lazy");case 13:return Xf("Suspense");case 19:return Xf("SuspenseList");case 0:case 2:case 15:return e=Sy(e.type,!1),e;case 11:return e=Sy(e.type.render,!1),e;case 1:return e=Sy(e.type,!0),e;default:return""}}function s2(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Hc:return"Fragment";case qc:return"Portal";case n2:return"Profiler";case m_:return"StrictMode";case i2:return"Suspense";case r2:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case P3:return(e.displayName||"Context")+".Consumer";case E3:return(e._context.displayName||"Context")+".Provider";case y_:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case v_:return t=e.displayName||null,t!==null?t:s2(e.type)||"Memo";case wl:t=e._payload,e=e._init;try{return s2(e(t))}catch{}}return null}function WD(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return s2(t);case 8:return t===m_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Kl(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function C3(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function qD(e){var t=C3(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function yg(e){e._valueTracker||(e._valueTracker=qD(e))}function N3(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=C3(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function $m(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function o2(e,t){var n=t.checked;return Gn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function tS(e,t){var n=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;n=Kl(t.value!=null?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function L3(e,t){t=t.checked,t!=null&&g_(e,"checked",t,!1)}function a2(e,t){L3(e,t);var n=Kl(t.value),i=t.type;if(n!=null)i==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?l2(e,t.type,n):t.hasOwnProperty("defaultValue")&&l2(e,t.type,Kl(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function eS(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function l2(e,t,n){(t!=="number"||$m(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Qf=Array.isArray;function hh(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+Kl(n),t=null,r=0;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,i&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function u2(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Mt(91));return Gn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function nS(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Mt(92));if(Qf(n)){if(1<n.length)throw Error(Mt(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Kl(n)}}function R3(e,t){var n=Kl(t.value),i=Kl(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),i!=null&&(e.defaultValue=""+i)}function iS(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function M3(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function c2(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?M3(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var vg,D3=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,i,r){MSApp.execUnsafeLocalFunction(function(){return e(t,n,i,r)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(vg=vg||document.createElement("div"),vg.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=vg.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Fd(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var cd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},HD=["Webkit","ms","Moz","O"];Object.keys(cd).forEach(function(e){HD.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),cd[t]=cd[e]})});function O3(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||cd.hasOwnProperty(e)&&cd[e]?(""+t).trim():t+"px"}function F3(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var i=n.indexOf("--")===0,r=O3(n,t[n],i);n==="float"&&(n="cssFloat"),i?e.setProperty(n,r):e[n]=r}}var $D=Gn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function h2(e,t){if(t){if($D[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Mt(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Mt(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Mt(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Mt(62))}}function f2(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var d2=null;function __(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var p2=null,fh=null,dh=null;function rS(e){if(e=Pp(e)){if(typeof p2!="function")throw Error(Mt(280));var t=e.stateNode;t&&(t=a1(t),p2(e.stateNode,e.type,t))}}function j3(e){fh?dh?dh.push(e):dh=[e]:fh=e}function V3(){if(fh){var e=fh,t=dh;if(dh=fh=null,rS(e),t)for(e=0;e<t.length;e++)rS(t[e])}}function B3(e,t){return e(t)}function U3(){}var Ay=!1;function z3(e,t,n){if(Ay)return e(t,n);Ay=!0;try{return B3(e,t,n)}finally{Ay=!1,(fh!==null||dh!==null)&&(U3(),V3())}}function jd(e,t){var n=e.stateNode;if(n===null)return null;var i=a1(n);if(i===null)return null;n=i[t];t:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break t;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Mt(231,t,typeof n));return n}var g2=!1;if(La)try{var Rf={};Object.defineProperty(Rf,"passive",{get:function(){g2=!0}}),window.addEventListener("test",Rf,Rf),window.removeEventListener("test",Rf,Rf)}catch{g2=!1}function GD(e,t,n,i,r,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var hd=!1,Gm=null,Km=!1,m2=null,KD={onError:function(e){hd=!0,Gm=e}};function YD(e,t,n,i,r,s,o,a,l){hd=!1,Gm=null,GD.apply(KD,arguments)}function XD(e,t,n,i,r,s,o,a,l){if(YD.apply(this,arguments),hd){if(hd){var u=Gm;hd=!1,Gm=null}else throw Error(Mt(198));Km||(Km=!0,m2=u)}}function gc(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function W3(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function sS(e){if(gc(e)!==e)throw Error(Mt(188))}function QD(e){var t=e.alternate;if(!t){if(t=gc(e),t===null)throw Error(Mt(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return sS(r),e;if(s===i)return sS(r),t;s=s.sibling}throw Error(Mt(188))}if(n.return!==i.return)n=r,i=s;else{for(var o=!1,a=r.child;a;){if(a===n){o=!0,n=r,i=s;break}if(a===i){o=!0,i=r,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,i=r;break}if(a===i){o=!0,i=s,n=r;break}a=a.sibling}if(!o)throw Error(Mt(189))}}if(n.alternate!==i)throw Error(Mt(190))}if(n.tag!==3)throw Error(Mt(188));return n.stateNode.current===n?e:t}function q3(e){return e=QD(e),e!==null?H3(e):null}function H3(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=H3(e);if(t!==null)return t;e=e.sibling}return null}var $3=ps.unstable_scheduleCallback,oS=ps.unstable_cancelCallback,JD=ps.unstable_shouldYield,ZD=ps.unstable_requestPaint,hi=ps.unstable_now,t8=ps.unstable_getCurrentPriorityLevel,w_=ps.unstable_ImmediatePriority,G3=ps.unstable_UserBlockingPriority,Ym=ps.unstable_NormalPriority,e8=ps.unstable_LowPriority,K3=ps.unstable_IdlePriority,i1=null,Bo=null;function n8(e){if(Bo&&typeof Bo.onCommitFiberRoot=="function")try{Bo.onCommitFiberRoot(i1,e,void 0,(e.current.flags&128)===128)}catch{}}var lo=Math.clz32?Math.clz32:s8,i8=Math.log,r8=Math.LN2;function s8(e){return e>>>=0,e===0?32:31-(i8(e)/r8|0)|0}var _g=64,wg=4194304;function Jf(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Xm(e,t){var n=e.pendingLanes;if(n===0)return 0;var i=0,r=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~r;a!==0?i=Jf(a):(s&=o,s!==0&&(i=Jf(s)))}else o=n&~r,o!==0?i=Jf(o):s!==0&&(i=Jf(s));if(i===0)return 0;if(t!==0&&t!==i&&!(t&r)&&(r=i&-i,s=t&-t,r>=s||r===16&&(s&4194240)!==0))return t;if(i&4&&(i|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)n=31-lo(t),r=1<<n,i|=e[n],t&=~r;return i}function o8(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function a8(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,r=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-lo(s),a=1<<o,l=r[o];l===-1?(!(a&n)||a&i)&&(r[o]=o8(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function y2(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Y3(){var e=_g;return _g<<=1,!(_g&4194240)&&(_g=64),e}function Ty(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function kp(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-lo(t),e[t]=n}function l8(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-lo(n),s=1<<r;t[r]=0,i[r]=-1,e[r]=-1,n&=~s}}function b_(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-lo(n),r=1<<i;r&t|e[i]&t&&(e[i]|=t),n&=~r}}var gn=0;function X3(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Q3,x_,J3,Z3,tP,v2=!1,bg=[],Dl=null,Ol=null,Fl=null,Vd=new Map,Bd=new Map,xl=[],u8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function aS(e,t){switch(e){case"focusin":case"focusout":Dl=null;break;case"dragenter":case"dragleave":Ol=null;break;case"mouseover":case"mouseout":Fl=null;break;case"pointerover":case"pointerout":Vd.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bd.delete(t.pointerId)}}function Mf(e,t,n,i,r,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},t!==null&&(t=Pp(t),t!==null&&x_(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function c8(e,t,n,i,r){switch(t){case"focusin":return Dl=Mf(Dl,e,t,n,i,r),!0;case"dragenter":return Ol=Mf(Ol,e,t,n,i,r),!0;case"mouseover":return Fl=Mf(Fl,e,t,n,i,r),!0;case"pointerover":var s=r.pointerId;return Vd.set(s,Mf(Vd.get(s)||null,e,t,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,Bd.set(s,Mf(Bd.get(s)||null,e,t,n,i,r)),!0}return!1}function eP(e){var t=Fu(e.target);if(t!==null){var n=gc(t);if(n!==null){if(t=n.tag,t===13){if(t=W3(n),t!==null){e.blockedOn=t,tP(e.priority,function(){J3(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function fm(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=_2(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);d2=i,n.target.dispatchEvent(i),d2=null}else return t=Pp(n),t!==null&&x_(t),e.blockedOn=n,!1;t.shift()}return!0}function lS(e,t,n){fm(e)&&n.delete(t)}function h8(){v2=!1,Dl!==null&&fm(Dl)&&(Dl=null),Ol!==null&&fm(Ol)&&(Ol=null),Fl!==null&&fm(Fl)&&(Fl=null),Vd.forEach(lS),Bd.forEach(lS)}function Df(e,t){e.blockedOn===t&&(e.blockedOn=null,v2||(v2=!0,ps.unstable_scheduleCallback(ps.unstable_NormalPriority,h8)))}function Ud(e){function t(r){return Df(r,e)}if(0<bg.length){Df(bg[0],e);for(var n=1;n<bg.length;n++){var i=bg[n];i.blockedOn===e&&(i.blockedOn=null)}}for(Dl!==null&&Df(Dl,e),Ol!==null&&Df(Ol,e),Fl!==null&&Df(Fl,e),Vd.forEach(t),Bd.forEach(t),n=0;n<xl.length;n++)i=xl[n],i.blockedOn===e&&(i.blockedOn=null);for(;0<xl.length&&(n=xl[0],n.blockedOn===null);)eP(n),n.blockedOn===null&&xl.shift()}var ph=Wa.ReactCurrentBatchConfig,Qm=!0;function f8(e,t,n,i){var r=gn,s=ph.transition;ph.transition=null;try{gn=1,S_(e,t,n,i)}finally{gn=r,ph.transition=s}}function d8(e,t,n,i){var r=gn,s=ph.transition;ph.transition=null;try{gn=4,S_(e,t,n,i)}finally{gn=r,ph.transition=s}}function S_(e,t,n,i){if(Qm){var r=_2(e,t,n,i);if(r===null)Dy(e,t,i,Jm,n),aS(e,i);else if(c8(r,e,t,n,i))i.stopPropagation();else if(aS(e,i),t&4&&-1<u8.indexOf(e)){for(;r!==null;){var s=Pp(r);if(s!==null&&Q3(s),s=_2(e,t,n,i),s===null&&Dy(e,t,i,Jm,n),s===r)break;r=s}r!==null&&i.stopPropagation()}else Dy(e,t,i,null,n)}}var Jm=null;function _2(e,t,n,i){if(Jm=null,e=__(i),e=Fu(e),e!==null)if(t=gc(e),t===null)e=null;else if(n=t.tag,n===13){if(e=W3(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Jm=e,null}function nP(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(t8()){case w_:return 1;case G3:return 4;case Ym:case e8:return 16;case K3:return 536870912;default:return 16}default:return 16}}var El=null,A_=null,dm=null;function iP(){if(dm)return dm;var e,t=A_,n=t.length,i,r="value"in El?El.value:El.textContent,s=r.length;for(e=0;e<n&&t[e]===r[e];e++);var o=n-e;for(i=1;i<=o&&t[n-i]===r[s-i];i++);return dm=r.slice(e,1<i?1-i:void 0)}function pm(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function xg(){return!0}function uS(){return!1}function ys(e){function t(n,i,r,s,o){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?xg:uS,this.isPropagationStopped=uS,this}return Gn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=xg)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=xg)},persist:function(){},isPersistent:xg}),t}var Qh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},T_=ys(Qh),Ep=Gn({},Qh,{view:0,detail:0}),p8=ys(Ep),ky,Ey,Of,r1=Gn({},Ep,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:k_,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Of&&(Of&&e.type==="mousemove"?(ky=e.screenX-Of.screenX,Ey=e.screenY-Of.screenY):Ey=ky=0,Of=e),ky)},movementY:function(e){return"movementY"in e?e.movementY:Ey}}),cS=ys(r1),g8=Gn({},r1,{dataTransfer:0}),m8=ys(g8),y8=Gn({},Ep,{relatedTarget:0}),Py=ys(y8),v8=Gn({},Qh,{animationName:0,elapsedTime:0,pseudoElement:0}),_8=ys(v8),w8=Gn({},Qh,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),b8=ys(w8),x8=Gn({},Qh,{data:0}),hS=ys(x8),S8={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},A8={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},T8={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function k8(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=T8[e])?!!t[e]:!1}function k_(){return k8}var E8=Gn({},Ep,{key:function(e){if(e.key){var t=S8[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=pm(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?A8[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:k_,charCode:function(e){return e.type==="keypress"?pm(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?pm(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),P8=ys(E8),I8=Gn({},r1,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fS=ys(I8),C8=Gn({},Ep,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:k_}),N8=ys(C8),L8=Gn({},Qh,{propertyName:0,elapsedTime:0,pseudoElement:0}),R8=ys(L8),M8=Gn({},r1,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),D8=ys(M8),O8=[9,13,27,32],E_=La&&"CompositionEvent"in window,fd=null;La&&"documentMode"in document&&(fd=document.documentMode);var F8=La&&"TextEvent"in window&&!fd,rP=La&&(!E_||fd&&8<fd&&11>=fd),dS=" ",pS=!1;function sP(e,t){switch(e){case"keyup":return O8.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oP(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var $c=!1;function j8(e,t){switch(e){case"compositionend":return oP(t);case"keypress":return t.which!==32?null:(pS=!0,dS);case"textInput":return e=t.data,e===dS&&pS?null:e;default:return null}}function V8(e,t){if($c)return e==="compositionend"||!E_&&sP(e,t)?(e=iP(),dm=A_=El=null,$c=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return rP&&t.locale!=="ko"?null:t.data;default:return null}}var B8={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gS(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!B8[e.type]:t==="textarea"}function aP(e,t,n,i){j3(i),t=Zm(t,"onChange"),0<t.length&&(n=new T_("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var dd=null,zd=null;function U8(e){vP(e,0)}function s1(e){var t=Yc(e);if(N3(t))return e}function z8(e,t){if(e==="change")return t}var lP=!1;if(La){var Iy;if(La){var Cy="oninput"in document;if(!Cy){var mS=document.createElement("div");mS.setAttribute("oninput","return;"),Cy=typeof mS.oninput=="function"}Iy=Cy}else Iy=!1;lP=Iy&&(!document.documentMode||9<document.documentMode)}function yS(){dd&&(dd.detachEvent("onpropertychange",uP),zd=dd=null)}function uP(e){if(e.propertyName==="value"&&s1(zd)){var t=[];aP(t,zd,e,__(e)),z3(U8,t)}}function W8(e,t,n){e==="focusin"?(yS(),dd=t,zd=n,dd.attachEvent("onpropertychange",uP)):e==="focusout"&&yS()}function q8(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return s1(zd)}function H8(e,t){if(e==="click")return s1(t)}function $8(e,t){if(e==="input"||e==="change")return s1(t)}function G8(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var fo=typeof Object.is=="function"?Object.is:G8;function Wd(e,t){if(fo(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!e2.call(t,r)||!fo(e[r],t[r]))return!1}return!0}function vS(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function _S(e,t){var n=vS(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=vS(n)}}function cP(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?cP(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function hP(){for(var e=window,t=$m();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=$m(e.document)}return t}function P_(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function K8(e){var t=hP(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&cP(n.ownerDocument.documentElement,n)){if(i!==null&&P_(n)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var r=n.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!e.extend&&s>i&&(r=i,i=s,s=r),r=_S(n,s);var o=_S(n,i);r&&o&&(e.rangeCount!==1||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(r.node,r.offset),e.removeAllRanges(),s>i?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Y8=La&&"documentMode"in document&&11>=document.documentMode,Gc=null,w2=null,pd=null,b2=!1;function wS(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;b2||Gc==null||Gc!==$m(i)||(i=Gc,"selectionStart"in i&&P_(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),pd&&Wd(pd,i)||(pd=i,i=Zm(w2,"onSelect"),0<i.length&&(t=new T_("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=Gc)))}function Sg(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Kc={animationend:Sg("Animation","AnimationEnd"),animationiteration:Sg("Animation","AnimationIteration"),animationstart:Sg("Animation","AnimationStart"),transitionend:Sg("Transition","TransitionEnd")},Ny={},fP={};La&&(fP=document.createElement("div").style,"AnimationEvent"in window||(delete Kc.animationend.animation,delete Kc.animationiteration.animation,delete Kc.animationstart.animation),"TransitionEvent"in window||delete Kc.transitionend.transition);function o1(e){if(Ny[e])return Ny[e];if(!Kc[e])return e;var t=Kc[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in fP)return Ny[e]=t[n];return e}var dP=o1("animationend"),pP=o1("animationiteration"),gP=o1("animationstart"),mP=o1("transitionend"),yP=new Map,bS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ru(e,t){yP.set(e,t),pc(t,[e])}for(var Ly=0;Ly<bS.length;Ly++){var Ry=bS[Ly],X8=Ry.toLowerCase(),Q8=Ry[0].toUpperCase()+Ry.slice(1);ru(X8,"on"+Q8)}ru(dP,"onAnimationEnd");ru(pP,"onAnimationIteration");ru(gP,"onAnimationStart");ru("dblclick","onDoubleClick");ru("focusin","onFocus");ru("focusout","onBlur");ru(mP,"onTransitionEnd");Ph("onMouseEnter",["mouseout","mouseover"]);Ph("onMouseLeave",["mouseout","mouseover"]);Ph("onPointerEnter",["pointerout","pointerover"]);Ph("onPointerLeave",["pointerout","pointerover"]);pc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));pc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));pc("onBeforeInput",["compositionend","keypress","textInput","paste"]);pc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));pc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));pc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),J8=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zf));function xS(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,XD(i,t,void 0,e),e.currentTarget=null}function vP(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],r=i.event;i=i.listeners;t:{var s=void 0;if(t)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break t;xS(r,a,u),s=l}else for(o=0;o<i.length;o++){if(a=i[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break t;xS(r,a,u),s=l}}}if(Km)throw e=m2,Km=!1,m2=null,e}function In(e,t){var n=t[k2];n===void 0&&(n=t[k2]=new Set);var i=e+"__bubble";n.has(i)||(_P(t,e,2,!1),n.add(i))}function My(e,t,n){var i=0;t&&(i|=4),_P(n,e,i,t)}var Ag="_reactListening"+Math.random().toString(36).slice(2);function qd(e){if(!e[Ag]){e[Ag]=!0,k3.forEach(function(n){n!=="selectionchange"&&(J8.has(n)||My(n,!1,e),My(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ag]||(t[Ag]=!0,My("selectionchange",!1,t))}}function _P(e,t,n,i){switch(nP(t)){case 1:var r=f8;break;case 4:r=d8;break;default:r=S_}n=r.bind(null,t,n,e),r=void 0,!g2||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),i?r!==void 0?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):r!==void 0?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Dy(e,t,n,i,r){var s=i;if(!(t&1)&&!(t&2)&&i!==null)t:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=i.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=Fu(a),o===null)return;if(l=o.tag,l===5||l===6){i=s=o;continue t}a=a.parentNode}}i=i.return}z3(function(){var u=s,c=__(n),h=[];t:{var p=yP.get(e);if(p!==void 0){var f=T_,y=e;switch(e){case"keypress":if(pm(n)===0)break t;case"keydown":case"keyup":f=P8;break;case"focusin":y="focus",f=Py;break;case"focusout":y="blur",f=Py;break;case"beforeblur":case"afterblur":f=Py;break;case"click":if(n.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=cS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=m8;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=N8;break;case dP:case pP:case gP:f=_8;break;case mP:f=R8;break;case"scroll":f=p8;break;case"wheel":f=D8;break;case"copy":case"cut":case"paste":f=b8;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=fS}var _=(t&4)!==0,x=!_&&e==="scroll",v=_?p!==null?p+"Capture":null:p;_=[];for(var A=u,I;A!==null;){I=A;var P=I.stateNode;if(I.tag===5&&P!==null&&(I=P,v!==null&&(P=jd(A,v),P!=null&&_.push(Hd(A,P,I)))),x)break;A=A.return}0<_.length&&(p=new f(p,y,null,n,c),h.push({event:p,listeners:_}))}}if(!(t&7)){t:{if(p=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",p&&n!==d2&&(y=n.relatedTarget||n.fromElement)&&(Fu(y)||y[Ra]))break t;if((f||p)&&(p=c.window===c?c:(p=c.ownerDocument)?p.defaultView||p.parentWindow:window,f?(y=n.relatedTarget||n.toElement,f=u,y=y?Fu(y):null,y!==null&&(x=gc(y),y!==x||y.tag!==5&&y.tag!==6)&&(y=null)):(f=null,y=u),f!==y)){if(_=cS,P="onMouseLeave",v="onMouseEnter",A="mouse",(e==="pointerout"||e==="pointerover")&&(_=fS,P="onPointerLeave",v="onPointerEnter",A="pointer"),x=f==null?p:Yc(f),I=y==null?p:Yc(y),p=new _(P,A+"leave",f,n,c),p.target=x,p.relatedTarget=I,P=null,Fu(c)===u&&(_=new _(v,A+"enter",y,n,c),_.target=I,_.relatedTarget=x,P=_),x=P,f&&y)e:{for(_=f,v=y,A=0,I=_;I;I=Rc(I))A++;for(I=0,P=v;P;P=Rc(P))I++;for(;0<A-I;)_=Rc(_),A--;for(;0<I-A;)v=Rc(v),I--;for(;A--;){if(_===v||v!==null&&_===v.alternate)break e;_=Rc(_),v=Rc(v)}_=null}else _=null;f!==null&&SS(h,p,f,_,!1),y!==null&&x!==null&&SS(h,x,y,_,!0)}}t:{if(p=u?Yc(u):window,f=p.nodeName&&p.nodeName.toLowerCase(),f==="select"||f==="input"&&p.type==="file")var F=z8;else if(gS(p))if(lP)F=$8;else{F=q8;var G=W8}else(f=p.nodeName)&&f.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(F=H8);if(F&&(F=F(e,u))){aP(h,F,n,c);break t}G&&G(e,p,u),e==="focusout"&&(G=p._wrapperState)&&G.controlled&&p.type==="number"&&l2(p,"number",p.value)}switch(G=u?Yc(u):window,e){case"focusin":(gS(G)||G.contentEditable==="true")&&(Gc=G,w2=u,pd=null);break;case"focusout":pd=w2=Gc=null;break;case"mousedown":b2=!0;break;case"contextmenu":case"mouseup":case"dragend":b2=!1,wS(h,n,c);break;case"selectionchange":if(Y8)break;case"keydown":case"keyup":wS(h,n,c)}var R;if(E_)t:{switch(e){case"compositionstart":var T="onCompositionStart";break t;case"compositionend":T="onCompositionEnd";break t;case"compositionupdate":T="onCompositionUpdate";break t}T=void 0}else $c?sP(e,n)&&(T="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(rP&&n.locale!=="ko"&&($c||T!=="onCompositionStart"?T==="onCompositionEnd"&&$c&&(R=iP()):(El=c,A_="value"in El?El.value:El.textContent,$c=!0)),G=Zm(u,T),0<G.length&&(T=new hS(T,e,null,n,c),h.push({event:T,listeners:G}),R?T.data=R:(R=oP(n),R!==null&&(T.data=R)))),(R=F8?j8(e,n):V8(e,n))&&(u=Zm(u,"onBeforeInput"),0<u.length&&(c=new hS("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=R))}vP(h,t)})}function Hd(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Zm(e,t){for(var n=t+"Capture",i=[];e!==null;){var r=e,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=jd(e,n),s!=null&&i.unshift(Hd(e,s,r)),s=jd(e,t),s!=null&&i.push(Hd(e,s,r))),e=e.return}return i}function Rc(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function SS(e,t,n,i,r){for(var s=t._reactName,o=[];n!==null&&n!==i;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&u!==null&&(a=u,r?(l=jd(n,s),l!=null&&o.unshift(Hd(n,l,a))):r||(l=jd(n,s),l!=null&&o.push(Hd(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Z8=/\r\n?/g,tO=/\u0000|\uFFFD/g;function AS(e){return(typeof e=="string"?e:""+e).replace(Z8,`
`).replace(tO,"")}function Tg(e,t,n){if(t=AS(t),AS(e)!==t&&n)throw Error(Mt(425))}function t0(){}var x2=null,S2=null;function A2(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var T2=typeof setTimeout=="function"?setTimeout:void 0,eO=typeof clearTimeout=="function"?clearTimeout:void 0,TS=typeof Promise=="function"?Promise:void 0,nO=typeof queueMicrotask=="function"?queueMicrotask:typeof TS<"u"?function(e){return TS.resolve(null).then(e).catch(iO)}:T2;function iO(e){setTimeout(function(){throw e})}function Oy(e,t){var n=t,i=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(i===0){e.removeChild(r),Ud(t);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=r}while(n);Ud(t)}function jl(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function kS(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Jh=Math.random().toString(36).slice(2),jo="__reactFiber$"+Jh,$d="__reactProps$"+Jh,Ra="__reactContainer$"+Jh,k2="__reactEvents$"+Jh,rO="__reactListeners$"+Jh,sO="__reactHandles$"+Jh;function Fu(e){var t=e[jo];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ra]||n[jo]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=kS(e);e!==null;){if(n=e[jo])return n;e=kS(e)}return t}e=n,n=e.parentNode}return null}function Pp(e){return e=e[jo]||e[Ra],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Yc(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Mt(33))}function a1(e){return e[$d]||null}var E2=[],Xc=-1;function su(e){return{current:e}}function Ln(e){0>Xc||(e.current=E2[Xc],E2[Xc]=null,Xc--)}function kn(e,t){Xc++,E2[Xc]=e.current,e.current=t}var Yl={},wr=su(Yl),Wr=su(!1),Ju=Yl;function Ih(e,t){var n=e.type.contextTypes;if(!n)return Yl;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in n)r[s]=t[s];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=r),r}function qr(e){return e=e.childContextTypes,e!=null}function e0(){Ln(Wr),Ln(wr)}function ES(e,t,n){if(wr.current!==Yl)throw Error(Mt(168));kn(wr,t),kn(Wr,n)}function wP(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var r in i)if(!(r in t))throw Error(Mt(108,WD(e)||"Unknown",r));return Gn({},n,i)}function n0(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Yl,Ju=wr.current,kn(wr,e),kn(Wr,Wr.current),!0}function PS(e,t,n){var i=e.stateNode;if(!i)throw Error(Mt(169));n?(e=wP(e,t,Ju),i.__reactInternalMemoizedMergedChildContext=e,Ln(Wr),Ln(wr),kn(wr,e)):Ln(Wr),kn(Wr,n)}var ma=null,l1=!1,Fy=!1;function bP(e){ma===null?ma=[e]:ma.push(e)}function oO(e){l1=!0,bP(e)}function ou(){if(!Fy&&ma!==null){Fy=!0;var e=0,t=gn;try{var n=ma;for(gn=1;e<n.length;e++){var i=n[e];do i=i(!0);while(i!==null)}ma=null,l1=!1}catch(r){throw ma!==null&&(ma=ma.slice(e+1)),$3(w_,ou),r}finally{gn=t,Fy=!1}}return null}var Qc=[],Jc=0,i0=null,r0=0,Ds=[],Os=0,Zu=null,wa=1,ba="";function Pu(e,t){Qc[Jc++]=r0,Qc[Jc++]=i0,i0=e,r0=t}function xP(e,t,n){Ds[Os++]=wa,Ds[Os++]=ba,Ds[Os++]=Zu,Zu=e;var i=wa;e=ba;var r=32-lo(i)-1;i&=~(1<<r),n+=1;var s=32-lo(t)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,wa=1<<32-lo(t)+r|n<<r|i,ba=s+e}else wa=1<<s|n<<r|i,ba=e}function I_(e){e.return!==null&&(Pu(e,1),xP(e,1,0))}function C_(e){for(;e===i0;)i0=Qc[--Jc],Qc[Jc]=null,r0=Qc[--Jc],Qc[Jc]=null;for(;e===Zu;)Zu=Ds[--Os],Ds[Os]=null,ba=Ds[--Os],Ds[Os]=null,wa=Ds[--Os],Ds[Os]=null}var hs=null,ls=null,jn=!1,ao=null;function SP(e,t){var n=Fs(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function IS(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,hs=e,ls=jl(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,hs=e,ls=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Zu!==null?{id:wa,overflow:ba}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Fs(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,hs=e,ls=null,!0):!1;default:return!1}}function P2(e){return(e.mode&1)!==0&&(e.flags&128)===0}function I2(e){if(jn){var t=ls;if(t){var n=t;if(!IS(e,t)){if(P2(e))throw Error(Mt(418));t=jl(n.nextSibling);var i=hs;t&&IS(e,t)?SP(i,n):(e.flags=e.flags&-4097|2,jn=!1,hs=e)}}else{if(P2(e))throw Error(Mt(418));e.flags=e.flags&-4097|2,jn=!1,hs=e}}}function CS(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;hs=e}function kg(e){if(e!==hs)return!1;if(!jn)return CS(e),jn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!A2(e.type,e.memoizedProps)),t&&(t=ls)){if(P2(e))throw AP(),Error(Mt(418));for(;t;)SP(e,t),t=jl(t.nextSibling)}if(CS(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Mt(317));t:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ls=jl(e.nextSibling);break t}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ls=null}}else ls=hs?jl(e.stateNode.nextSibling):null;return!0}function AP(){for(var e=ls;e;)e=jl(e.nextSibling)}function Ch(){ls=hs=null,jn=!1}function N_(e){ao===null?ao=[e]:ao.push(e)}var aO=Wa.ReactCurrentBatchConfig;function Ff(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Mt(309));var i=n.stateNode}if(!i)throw Error(Mt(147,e));var r=i,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=r.refs;o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(Mt(284));if(!n._owner)throw Error(Mt(290,e))}return e}function Eg(e,t){throw e=Object.prototype.toString.call(t),Error(Mt(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function NS(e){var t=e._init;return t(e._payload)}function TP(e){function t(v,A){if(e){var I=v.deletions;I===null?(v.deletions=[A],v.flags|=16):I.push(A)}}function n(v,A){if(!e)return null;for(;A!==null;)t(v,A),A=A.sibling;return null}function i(v,A){for(v=new Map;A!==null;)A.key!==null?v.set(A.key,A):v.set(A.index,A),A=A.sibling;return v}function r(v,A){return v=zl(v,A),v.index=0,v.sibling=null,v}function s(v,A,I){return v.index=I,e?(I=v.alternate,I!==null?(I=I.index,I<A?(v.flags|=2,A):I):(v.flags|=2,A)):(v.flags|=1048576,A)}function o(v){return e&&v.alternate===null&&(v.flags|=2),v}function a(v,A,I,P){return A===null||A.tag!==6?(A=qy(I,v.mode,P),A.return=v,A):(A=r(A,I),A.return=v,A)}function l(v,A,I,P){var F=I.type;return F===Hc?c(v,A,I.props.children,P,I.key):A!==null&&(A.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===wl&&NS(F)===A.type)?(P=r(A,I.props),P.ref=Ff(v,A,I),P.return=v,P):(P=bm(I.type,I.key,I.props,null,v.mode,P),P.ref=Ff(v,A,I),P.return=v,P)}function u(v,A,I,P){return A===null||A.tag!==4||A.stateNode.containerInfo!==I.containerInfo||A.stateNode.implementation!==I.implementation?(A=Hy(I,v.mode,P),A.return=v,A):(A=r(A,I.children||[]),A.return=v,A)}function c(v,A,I,P,F){return A===null||A.tag!==7?(A=Hu(I,v.mode,P,F),A.return=v,A):(A=r(A,I),A.return=v,A)}function h(v,A,I){if(typeof A=="string"&&A!==""||typeof A=="number")return A=qy(""+A,v.mode,I),A.return=v,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case mg:return I=bm(A.type,A.key,A.props,null,v.mode,I),I.ref=Ff(v,null,A),I.return=v,I;case qc:return A=Hy(A,v.mode,I),A.return=v,A;case wl:var P=A._init;return h(v,P(A._payload),I)}if(Qf(A)||Lf(A))return A=Hu(A,v.mode,I,null),A.return=v,A;Eg(v,A)}return null}function p(v,A,I,P){var F=A!==null?A.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return F!==null?null:a(v,A,""+I,P);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case mg:return I.key===F?l(v,A,I,P):null;case qc:return I.key===F?u(v,A,I,P):null;case wl:return F=I._init,p(v,A,F(I._payload),P)}if(Qf(I)||Lf(I))return F!==null?null:c(v,A,I,P,null);Eg(v,I)}return null}function f(v,A,I,P,F){if(typeof P=="string"&&P!==""||typeof P=="number")return v=v.get(I)||null,a(A,v,""+P,F);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case mg:return v=v.get(P.key===null?I:P.key)||null,l(A,v,P,F);case qc:return v=v.get(P.key===null?I:P.key)||null,u(A,v,P,F);case wl:var G=P._init;return f(v,A,I,G(P._payload),F)}if(Qf(P)||Lf(P))return v=v.get(I)||null,c(A,v,P,F,null);Eg(A,P)}return null}function y(v,A,I,P){for(var F=null,G=null,R=A,T=A=0,E=null;R!==null&&T<I.length;T++){R.index>T?(E=R,R=null):E=R.sibling;var D=p(v,R,I[T],P);if(D===null){R===null&&(R=E);break}e&&R&&D.alternate===null&&t(v,R),A=s(D,A,T),G===null?F=D:G.sibling=D,G=D,R=E}if(T===I.length)return n(v,R),jn&&Pu(v,T),F;if(R===null){for(;T<I.length;T++)R=h(v,I[T],P),R!==null&&(A=s(R,A,T),G===null?F=R:G.sibling=R,G=R);return jn&&Pu(v,T),F}for(R=i(v,R);T<I.length;T++)E=f(R,v,T,I[T],P),E!==null&&(e&&E.alternate!==null&&R.delete(E.key===null?T:E.key),A=s(E,A,T),G===null?F=E:G.sibling=E,G=E);return e&&R.forEach(function(k){return t(v,k)}),jn&&Pu(v,T),F}function _(v,A,I,P){var F=Lf(I);if(typeof F!="function")throw Error(Mt(150));if(I=F.call(I),I==null)throw Error(Mt(151));for(var G=F=null,R=A,T=A=0,E=null,D=I.next();R!==null&&!D.done;T++,D=I.next()){R.index>T?(E=R,R=null):E=R.sibling;var k=p(v,R,D.value,P);if(k===null){R===null&&(R=E);break}e&&R&&k.alternate===null&&t(v,R),A=s(k,A,T),G===null?F=k:G.sibling=k,G=k,R=E}if(D.done)return n(v,R),jn&&Pu(v,T),F;if(R===null){for(;!D.done;T++,D=I.next())D=h(v,D.value,P),D!==null&&(A=s(D,A,T),G===null?F=D:G.sibling=D,G=D);return jn&&Pu(v,T),F}for(R=i(v,R);!D.done;T++,D=I.next())D=f(R,v,T,D.value,P),D!==null&&(e&&D.alternate!==null&&R.delete(D.key===null?T:D.key),A=s(D,A,T),G===null?F=D:G.sibling=D,G=D);return e&&R.forEach(function(N){return t(v,N)}),jn&&Pu(v,T),F}function x(v,A,I,P){if(typeof I=="object"&&I!==null&&I.type===Hc&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case mg:t:{for(var F=I.key,G=A;G!==null;){if(G.key===F){if(F=I.type,F===Hc){if(G.tag===7){n(v,G.sibling),A=r(G,I.props.children),A.return=v,v=A;break t}}else if(G.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===wl&&NS(F)===G.type){n(v,G.sibling),A=r(G,I.props),A.ref=Ff(v,G,I),A.return=v,v=A;break t}n(v,G);break}else t(v,G);G=G.sibling}I.type===Hc?(A=Hu(I.props.children,v.mode,P,I.key),A.return=v,v=A):(P=bm(I.type,I.key,I.props,null,v.mode,P),P.ref=Ff(v,A,I),P.return=v,v=P)}return o(v);case qc:t:{for(G=I.key;A!==null;){if(A.key===G)if(A.tag===4&&A.stateNode.containerInfo===I.containerInfo&&A.stateNode.implementation===I.implementation){n(v,A.sibling),A=r(A,I.children||[]),A.return=v,v=A;break t}else{n(v,A);break}else t(v,A);A=A.sibling}A=Hy(I,v.mode,P),A.return=v,v=A}return o(v);case wl:return G=I._init,x(v,A,G(I._payload),P)}if(Qf(I))return y(v,A,I,P);if(Lf(I))return _(v,A,I,P);Eg(v,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,A!==null&&A.tag===6?(n(v,A.sibling),A=r(A,I),A.return=v,v=A):(n(v,A),A=qy(I,v.mode,P),A.return=v,v=A),o(v)):n(v,A)}return x}var Nh=TP(!0),kP=TP(!1),s0=su(null),o0=null,Zc=null,L_=null;function R_(){L_=Zc=o0=null}function M_(e){var t=s0.current;Ln(s0),e._currentValue=t}function C2(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function gh(e,t){o0=e,L_=Zc=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(zr=!0),e.firstContext=null)}function zs(e){var t=e._currentValue;if(L_!==e)if(e={context:e,memoizedValue:t,next:null},Zc===null){if(o0===null)throw Error(Mt(308));Zc=e,o0.dependencies={lanes:0,firstContext:e}}else Zc=Zc.next=e;return t}var ju=null;function D_(e){ju===null?ju=[e]:ju.push(e)}function EP(e,t,n,i){var r=t.interleaved;return r===null?(n.next=n,D_(t)):(n.next=r.next,r.next=n),t.interleaved=n,Ma(e,i)}function Ma(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var bl=!1;function O_(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function PP(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Pa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Vl(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,Xe&2){var r=i.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),i.pending=t,Ma(e,n)}return r=i.interleaved,r===null?(t.next=t,D_(i)):(t.next=r.next,r.next=t),i.interleaved=t,Ma(e,n)}function gm(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,b_(e,n)}}function LS(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?r=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?r=s=t:s=s.next=t}else r=s=t;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function a0(e,t,n,i){var r=e.updateQueue;bl=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var h=r.baseState;o=0,c=u=l=null,a=s;do{var p=a.lane,f=a.eventTime;if((i&p)===p){c!==null&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});t:{var y=e,_=a;switch(p=t,f=n,_.tag){case 1:if(y=_.payload,typeof y=="function"){h=y.call(f,h,p);break t}h=y;break t;case 3:y.flags=y.flags&-65537|128;case 0:if(y=_.payload,p=typeof y=="function"?y.call(f,h,p):y,p==null)break t;h=Gn({},h,p);break t;case 2:bl=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,p=r.effects,p===null?r.effects=[a]:p.push(a))}else f={eventTime:f,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=f,l=h):c=c.next=f,o|=p;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;p=a,a=p.next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}while(!0);if(c===null&&(l=h),r.baseState=l,r.firstBaseUpdate=u,r.lastBaseUpdate=c,t=r.shared.interleaved,t!==null){r=t;do o|=r.lane,r=r.next;while(r!==t)}else s===null&&(r.shared.lanes=0);ec|=o,e.lanes=o,e.memoizedState=h}}function RS(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],r=i.callback;if(r!==null){if(i.callback=null,i=n,typeof r!="function")throw Error(Mt(191,r));r.call(i)}}}var Ip={},Uo=su(Ip),Gd=su(Ip),Kd=su(Ip);function Vu(e){if(e===Ip)throw Error(Mt(174));return e}function F_(e,t){switch(kn(Kd,t),kn(Gd,e),kn(Uo,Ip),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:c2(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=c2(t,e)}Ln(Uo),kn(Uo,t)}function Lh(){Ln(Uo),Ln(Gd),Ln(Kd)}function IP(e){Vu(Kd.current);var t=Vu(Uo.current),n=c2(t,e.type);t!==n&&(kn(Gd,e),kn(Uo,n))}function j_(e){Gd.current===e&&(Ln(Uo),Ln(Gd))}var qn=su(0);function l0(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var jy=[];function V_(){for(var e=0;e<jy.length;e++)jy[e]._workInProgressVersionPrimary=null;jy.length=0}var mm=Wa.ReactCurrentDispatcher,Vy=Wa.ReactCurrentBatchConfig,tc=0,$n=null,ki=null,Oi=null,u0=!1,gd=!1,Yd=0,lO=0;function sr(){throw Error(Mt(321))}function B_(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!fo(e[n],t[n]))return!1;return!0}function U_(e,t,n,i,r,s){if(tc=s,$n=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,mm.current=e===null||e.memoizedState===null?fO:dO,e=n(i,r),gd){s=0;do{if(gd=!1,Yd=0,25<=s)throw Error(Mt(301));s+=1,Oi=ki=null,t.updateQueue=null,mm.current=pO,e=n(i,r)}while(gd)}if(mm.current=c0,t=ki!==null&&ki.next!==null,tc=0,Oi=ki=$n=null,u0=!1,t)throw Error(Mt(300));return e}function z_(){var e=Yd!==0;return Yd=0,e}function Oo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Oi===null?$n.memoizedState=Oi=e:Oi=Oi.next=e,Oi}function Ws(){if(ki===null){var e=$n.alternate;e=e!==null?e.memoizedState:null}else e=ki.next;var t=Oi===null?$n.memoizedState:Oi.next;if(t!==null)Oi=t,ki=e;else{if(e===null)throw Error(Mt(310));ki=e,e={memoizedState:ki.memoizedState,baseState:ki.baseState,baseQueue:ki.baseQueue,queue:ki.queue,next:null},Oi===null?$n.memoizedState=Oi=e:Oi=Oi.next=e}return Oi}function Xd(e,t){return typeof t=="function"?t(e):t}function By(e){var t=Ws(),n=t.queue;if(n===null)throw Error(Mt(311));n.lastRenderedReducer=e;var i=ki,r=i.baseQueue,s=n.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}i.baseQueue=r=s,n.pending=null}if(r!==null){s=r.next,i=i.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((tc&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),i=u.hasEagerState?u.eagerState:e(i,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=i):l=l.next=h,$n.lanes|=c,ec|=c}u=u.next}while(u!==null&&u!==s);l===null?o=i:l.next=a,fo(i,t.memoizedState)||(zr=!0),t.memoizedState=i,t.baseState=o,t.baseQueue=l,n.lastRenderedState=i}if(e=n.interleaved,e!==null){r=e;do s=r.lane,$n.lanes|=s,ec|=s,r=r.next;while(r!==e)}else r===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Uy(e){var t=Ws(),n=t.queue;if(n===null)throw Error(Mt(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,s=t.memoizedState;if(r!==null){n.pending=null;var o=r=r.next;do s=e(s,o.action),o=o.next;while(o!==r);fo(s,t.memoizedState)||(zr=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,i]}function CP(){}function NP(e,t){var n=$n,i=Ws(),r=t(),s=!fo(i.memoizedState,r);if(s&&(i.memoizedState=r,zr=!0),i=i.queue,W_(MP.bind(null,n,i,e),[e]),i.getSnapshot!==t||s||Oi!==null&&Oi.memoizedState.tag&1){if(n.flags|=2048,Qd(9,RP.bind(null,n,i,r,t),void 0,null),Vi===null)throw Error(Mt(349));tc&30||LP(n,t,r)}return r}function LP(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=$n.updateQueue,t===null?(t={lastEffect:null,stores:null},$n.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function RP(e,t,n,i){t.value=n,t.getSnapshot=i,DP(t)&&OP(e)}function MP(e,t,n){return n(function(){DP(t)&&OP(e)})}function DP(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!fo(e,n)}catch{return!0}}function OP(e){var t=Ma(e,1);t!==null&&uo(t,e,1,-1)}function MS(e){var t=Oo();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xd,lastRenderedState:e},t.queue=e,e=e.dispatch=hO.bind(null,$n,e),[t.memoizedState,e]}function Qd(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},t=$n.updateQueue,t===null?(t={lastEffect:null,stores:null},$n.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e)),e}function FP(){return Ws().memoizedState}function ym(e,t,n,i){var r=Oo();$n.flags|=e,r.memoizedState=Qd(1|t,n,void 0,i===void 0?null:i)}function u1(e,t,n,i){var r=Ws();i=i===void 0?null:i;var s=void 0;if(ki!==null){var o=ki.memoizedState;if(s=o.destroy,i!==null&&B_(i,o.deps)){r.memoizedState=Qd(t,n,s,i);return}}$n.flags|=e,r.memoizedState=Qd(1|t,n,s,i)}function DS(e,t){return ym(8390656,8,e,t)}function W_(e,t){return u1(2048,8,e,t)}function jP(e,t){return u1(4,2,e,t)}function VP(e,t){return u1(4,4,e,t)}function BP(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function UP(e,t,n){return n=n!=null?n.concat([e]):null,u1(4,4,BP.bind(null,t,e),n)}function q_(){}function zP(e,t){var n=Ws();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&B_(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function WP(e,t){var n=Ws();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&B_(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function qP(e,t,n){return tc&21?(fo(n,t)||(n=Y3(),$n.lanes|=n,ec|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,zr=!0),e.memoizedState=n)}function uO(e,t){var n=gn;gn=n!==0&&4>n?n:4,e(!0);var i=Vy.transition;Vy.transition={};try{e(!1),t()}finally{gn=n,Vy.transition=i}}function HP(){return Ws().memoizedState}function cO(e,t,n){var i=Ul(e);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},$P(e))GP(t,n);else if(n=EP(e,t,n,i),n!==null){var r=Cr();uo(n,e,i,r),KP(n,t,i)}}function hO(e,t,n){var i=Ul(e),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if($P(e))GP(t,r);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(r.hasEagerState=!0,r.eagerState=a,fo(a,o)){var l=t.interleaved;l===null?(r.next=r,D_(t)):(r.next=l.next,l.next=r),t.interleaved=r;return}}catch{}finally{}n=EP(e,t,r,i),n!==null&&(r=Cr(),uo(n,e,i,r),KP(n,t,i))}}function $P(e){var t=e.alternate;return e===$n||t!==null&&t===$n}function GP(e,t){gd=u0=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function KP(e,t,n){if(n&4194240){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,b_(e,n)}}var c0={readContext:zs,useCallback:sr,useContext:sr,useEffect:sr,useImperativeHandle:sr,useInsertionEffect:sr,useLayoutEffect:sr,useMemo:sr,useReducer:sr,useRef:sr,useState:sr,useDebugValue:sr,useDeferredValue:sr,useTransition:sr,useMutableSource:sr,useSyncExternalStore:sr,useId:sr,unstable_isNewReconciler:!1},fO={readContext:zs,useCallback:function(e,t){return Oo().memoizedState=[e,t===void 0?null:t],e},useContext:zs,useEffect:DS,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ym(4194308,4,BP.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ym(4194308,4,e,t)},useInsertionEffect:function(e,t){return ym(4,2,e,t)},useMemo:function(e,t){var n=Oo();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=Oo();return t=n!==void 0?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=cO.bind(null,$n,e),[i.memoizedState,e]},useRef:function(e){var t=Oo();return e={current:e},t.memoizedState=e},useState:MS,useDebugValue:q_,useDeferredValue:function(e){return Oo().memoizedState=e},useTransition:function(){var e=MS(!1),t=e[0];return e=uO.bind(null,e[1]),Oo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=$n,r=Oo();if(jn){if(n===void 0)throw Error(Mt(407));n=n()}else{if(n=t(),Vi===null)throw Error(Mt(349));tc&30||LP(i,t,n)}r.memoizedState=n;var s={value:n,getSnapshot:t};return r.queue=s,DS(MP.bind(null,i,s,e),[e]),i.flags|=2048,Qd(9,RP.bind(null,i,s,n,t),void 0,null),n},useId:function(){var e=Oo(),t=Vi.identifierPrefix;if(jn){var n=ba,i=wa;n=(i&~(1<<32-lo(i)-1)).toString(32)+n,t=":"+t+"R"+n,n=Yd++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=lO++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},dO={readContext:zs,useCallback:zP,useContext:zs,useEffect:W_,useImperativeHandle:UP,useInsertionEffect:jP,useLayoutEffect:VP,useMemo:WP,useReducer:By,useRef:FP,useState:function(){return By(Xd)},useDebugValue:q_,useDeferredValue:function(e){var t=Ws();return qP(t,ki.memoizedState,e)},useTransition:function(){var e=By(Xd)[0],t=Ws().memoizedState;return[e,t]},useMutableSource:CP,useSyncExternalStore:NP,useId:HP,unstable_isNewReconciler:!1},pO={readContext:zs,useCallback:zP,useContext:zs,useEffect:W_,useImperativeHandle:UP,useInsertionEffect:jP,useLayoutEffect:VP,useMemo:WP,useReducer:Uy,useRef:FP,useState:function(){return Uy(Xd)},useDebugValue:q_,useDeferredValue:function(e){var t=Ws();return ki===null?t.memoizedState=e:qP(t,ki.memoizedState,e)},useTransition:function(){var e=Uy(Xd)[0],t=Ws().memoizedState;return[e,t]},useMutableSource:CP,useSyncExternalStore:NP,useId:HP,unstable_isNewReconciler:!1};function ro(e,t){if(e&&e.defaultProps){t=Gn({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function N2(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:Gn({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var c1={isMounted:function(e){return(e=e._reactInternals)?gc(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Cr(),r=Ul(e),s=Pa(i,r);s.payload=t,n!=null&&(s.callback=n),t=Vl(e,s,r),t!==null&&(uo(t,e,r,i),gm(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Cr(),r=Ul(e),s=Pa(i,r);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Vl(e,s,r),t!==null&&(uo(t,e,r,i),gm(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Cr(),i=Ul(e),r=Pa(n,i);r.tag=2,t!=null&&(r.callback=t),t=Vl(e,r,i),t!==null&&(uo(t,e,i,n),gm(t,e,i))}};function OS(e,t,n,i,r,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,s,o):t.prototype&&t.prototype.isPureReactComponent?!Wd(n,i)||!Wd(r,s):!0}function YP(e,t,n){var i=!1,r=Yl,s=t.contextType;return typeof s=="object"&&s!==null?s=zs(s):(r=qr(t)?Ju:wr.current,i=t.contextTypes,s=(i=i!=null)?Ih(e,r):Yl),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=c1,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=s),t}function FS(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&c1.enqueueReplaceState(t,t.state,null)}function L2(e,t,n,i){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs={},O_(e);var s=t.contextType;typeof s=="object"&&s!==null?r.context=zs(s):(s=qr(t)?Ju:wr.current,r.context=Ih(e,s)),r.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(N2(e,t,s,n),r.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(t=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),t!==r.state&&c1.enqueueReplaceState(r,r.state,null),a0(e,n,r,i),r.state=e.memoizedState),typeof r.componentDidMount=="function"&&(e.flags|=4194308)}function Rh(e,t){try{var n="",i=t;do n+=zD(i),i=i.return;while(i);var r=n}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:r,digest:null}}function zy(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function R2(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var gO=typeof WeakMap=="function"?WeakMap:Map;function XP(e,t,n){n=Pa(-1,n),n.tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){f0||(f0=!0,W2=i),R2(e,t)},n}function QP(e,t,n){n=Pa(-1,n),n.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var r=t.value;n.payload=function(){return i(r)},n.callback=function(){R2(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){R2(e,t),typeof i!="function"&&(Bl===null?Bl=new Set([this]):Bl.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function jS(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new gO;var r=new Set;i.set(t,r)}else r=i.get(t),r===void 0&&(r=new Set,i.set(t,r));r.has(n)||(r.add(n),e=IO.bind(null,e,t,n),t.then(e,e))}function VS(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function BS(e,t,n,i,r){return e.mode&1?(e.flags|=65536,e.lanes=r,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Pa(-1,1),t.tag=2,Vl(n,t,1))),n.lanes|=1),e)}var mO=Wa.ReactCurrentOwner,zr=!1;function Pr(e,t,n,i){t.child=e===null?kP(t,null,n,i):Nh(t,e.child,n,i)}function US(e,t,n,i,r){n=n.render;var s=t.ref;return gh(t,r),i=U_(e,t,n,i,s,r),n=z_(),e!==null&&!zr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Da(e,t,r)):(jn&&n&&I_(t),t.flags|=1,Pr(e,t,i,r),t.child)}function zS(e,t,n,i,r){if(e===null){var s=n.type;return typeof s=="function"&&!J_(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,JP(e,t,s,i,r)):(e=bm(n.type,null,i,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&r)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Wd,n(o,i)&&e.ref===t.ref)return Da(e,t,r)}return t.flags|=1,e=zl(s,i),e.ref=t.ref,e.return=t,t.child=e}function JP(e,t,n,i,r){if(e!==null){var s=e.memoizedProps;if(Wd(s,i)&&e.ref===t.ref)if(zr=!1,t.pendingProps=i=s,(e.lanes&r)!==0)e.flags&131072&&(zr=!0);else return t.lanes=e.lanes,Da(e,t,r)}return M2(e,t,n,i,r)}function ZP(e,t,n){var i=t.pendingProps,r=i.children,s=e!==null?e.memoizedState:null;if(i.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},kn(eh,as),as|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,kn(eh,as),as|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:n,kn(eh,as),as|=i}else s!==null?(i=s.baseLanes|n,t.memoizedState=null):i=n,kn(eh,as),as|=i;return Pr(e,t,r,n),t.child}function tI(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function M2(e,t,n,i,r){var s=qr(n)?Ju:wr.current;return s=Ih(t,s),gh(t,r),n=U_(e,t,n,i,s,r),i=z_(),e!==null&&!zr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Da(e,t,r)):(jn&&i&&I_(t),t.flags|=1,Pr(e,t,n,r),t.child)}function WS(e,t,n,i,r){if(qr(n)){var s=!0;n0(t)}else s=!1;if(gh(t,r),t.stateNode===null)vm(e,t),YP(t,n,i),L2(t,n,i,r),i=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=zs(u):(u=qr(n)?Ju:wr.current,u=Ih(t,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||l!==u)&&FS(t,o,i,u),bl=!1;var p=t.memoizedState;o.state=p,a0(t,i,o,r),l=t.memoizedState,a!==i||p!==l||Wr.current||bl?(typeof c=="function"&&(N2(t,n,c,i),l=t.memoizedState),(a=bl||OS(t,n,a,i,p,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=l),o.props=i,o.state=l,o.context=u,i=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{o=t.stateNode,PP(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:ro(t.type,a),o.props=u,h=t.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=zs(l):(l=qr(n)?Ju:wr.current,l=Ih(t,l));var f=n.getDerivedStateFromProps;(c=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==l)&&FS(t,o,i,l),bl=!1,p=t.memoizedState,o.state=p,a0(t,i,o,r);var y=t.memoizedState;a!==h||p!==y||Wr.current||bl?(typeof f=="function"&&(N2(t,n,f,i),y=t.memoizedState),(u=bl||OS(t,n,u,i,p,y,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,y,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=y),o.props=i,o.state=y,o.context=l,i=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),i=!1)}return D2(e,t,n,i,s,r)}function D2(e,t,n,i,r,s){tI(e,t);var o=(t.flags&128)!==0;if(!i&&!o)return r&&PS(t,n,!1),Da(e,t,s);i=t.stateNode,mO.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&o?(t.child=Nh(t,e.child,null,s),t.child=Nh(t,null,a,s)):Pr(e,t,a,s),t.memoizedState=i.state,r&&PS(t,n,!0),t.child}function eI(e){var t=e.stateNode;t.pendingContext?ES(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ES(e,t.context,!1),F_(e,t.containerInfo)}function qS(e,t,n,i,r){return Ch(),N_(r),t.flags|=256,Pr(e,t,n,i),t.child}var O2={dehydrated:null,treeContext:null,retryLane:0};function F2(e){return{baseLanes:e,cachePool:null,transitions:null}}function nI(e,t,n){var i=t.pendingProps,r=qn.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(r&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(r|=1),kn(qn,r&1),e===null)return I2(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=i.children,e=i.fallback,s?(i=t.mode,s=t.child,o={mode:"hidden",children:o},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=d1(o,i,0,null),e=Hu(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=F2(n),t.memoizedState=O2,e):H_(t,o));if(r=e.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return yO(e,t,o,i,a,r,n);if(s){s=i.fallback,o=t.mode,r=e.child,a=r.sibling;var l={mode:"hidden",children:i.children};return!(o&1)&&t.child!==r?(i=t.child,i.childLanes=0,i.pendingProps=l,t.deletions=null):(i=zl(r,l),i.subtreeFlags=r.subtreeFlags&14680064),a!==null?s=zl(a,s):(s=Hu(s,o,n,null),s.flags|=2),s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,o=e.child.memoizedState,o=o===null?F2(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=O2,i}return s=e.child,e=s.sibling,i=zl(s,{mode:"visible",children:i.children}),!(t.mode&1)&&(i.lanes=n),i.return=t,i.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function H_(e,t){return t=d1({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Pg(e,t,n,i){return i!==null&&N_(i),Nh(t,e.child,null,n),e=H_(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function yO(e,t,n,i,r,s,o){if(n)return t.flags&256?(t.flags&=-257,i=zy(Error(Mt(422))),Pg(e,t,o,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=i.fallback,r=t.mode,i=d1({mode:"visible",children:i.children},r,0,null),s=Hu(s,r,o,null),s.flags|=2,i.return=t,s.return=t,i.sibling=s,t.child=i,t.mode&1&&Nh(t,e.child,null,o),t.child.memoizedState=F2(o),t.memoizedState=O2,s);if(!(t.mode&1))return Pg(e,t,o,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var a=i.dgst;return i=a,s=Error(Mt(419)),i=zy(s,i,void 0),Pg(e,t,o,i)}if(a=(o&e.childLanes)!==0,zr||a){if(i=Vi,i!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|o)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,Ma(e,r),uo(i,e,r,-1))}return Q_(),i=zy(Error(Mt(421))),Pg(e,t,o,i)}return r.data==="$?"?(t.flags|=128,t.child=e.child,t=CO.bind(null,e),r._reactRetry=t,null):(e=s.treeContext,ls=jl(r.nextSibling),hs=t,jn=!0,ao=null,e!==null&&(Ds[Os++]=wa,Ds[Os++]=ba,Ds[Os++]=Zu,wa=e.id,ba=e.overflow,Zu=t),t=H_(t,i.children),t.flags|=4096,t)}function HS(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),C2(e.return,t,n)}function Wy(e,t,n,i,r){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r)}function iI(e,t,n){var i=t.pendingProps,r=i.revealOrder,s=i.tail;if(Pr(e,t,i.children,n),i=qn.current,i&2)i=i&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)t:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&HS(e,n,t);else if(e.tag===19)HS(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(kn(qn,i),!(t.mode&1))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;n!==null;)e=n.alternate,e!==null&&l0(e)===null&&(r=n),n=n.sibling;n=r,n===null?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Wy(t,!1,r,n,s);break;case"backwards":for(n=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&l0(e)===null){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Wy(t,!0,n,null,s);break;case"together":Wy(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function vm(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Da(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ec|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Mt(153));if(t.child!==null){for(e=t.child,n=zl(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=zl(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function vO(e,t,n){switch(t.tag){case 3:eI(t),Ch();break;case 5:IP(t);break;case 1:qr(t.type)&&n0(t);break;case 4:F_(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,r=t.memoizedProps.value;kn(s0,i._currentValue),i._currentValue=r;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(kn(qn,qn.current&1),t.flags|=128,null):n&t.child.childLanes?nI(e,t,n):(kn(qn,qn.current&1),e=Da(e,t,n),e!==null?e.sibling:null);kn(qn,qn.current&1);break;case 19:if(i=(n&t.childLanes)!==0,e.flags&128){if(i)return iI(e,t,n);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),kn(qn,qn.current),i)break;return null;case 22:case 23:return t.lanes=0,ZP(e,t,n)}return Da(e,t,n)}var rI,j2,sI,oI;rI=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};j2=function(){};sI=function(e,t,n,i){var r=e.memoizedProps;if(r!==i){e=t.stateNode,Vu(Uo.current);var s=null;switch(n){case"input":r=o2(e,r),i=o2(e,i),s=[];break;case"select":r=Gn({},r,{value:void 0}),i=Gn({},i,{value:void 0}),s=[];break;case"textarea":r=u2(e,r),i=u2(e,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=t0)}h2(n,i);var o;n=null;for(u in r)if(!i.hasOwnProperty(u)&&r.hasOwnProperty(u)&&r[u]!=null)if(u==="style"){var a=r[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Od.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in i){var l=i[u];if(a=r!=null?r[u]:void 0,i.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Od.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&In("scroll",e),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};oI=function(e,t,n,i){n!==i&&(t.flags|=4)};function jf(e,t){if(!jn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function or(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var r=e.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function _O(e,t,n){var i=t.pendingProps;switch(C_(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return or(t),null;case 1:return qr(t.type)&&e0(),or(t),null;case 3:return i=t.stateNode,Lh(),Ln(Wr),Ln(wr),V_(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(kg(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ao!==null&&($2(ao),ao=null))),j2(e,t),or(t),null;case 5:j_(t);var r=Vu(Kd.current);if(n=t.type,e!==null&&t.stateNode!=null)sI(e,t,n,i,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(Mt(166));return or(t),null}if(e=Vu(Uo.current),kg(t)){i=t.stateNode,n=t.type;var s=t.memoizedProps;switch(i[jo]=t,i[$d]=s,e=(t.mode&1)!==0,n){case"dialog":In("cancel",i),In("close",i);break;case"iframe":case"object":case"embed":In("load",i);break;case"video":case"audio":for(r=0;r<Zf.length;r++)In(Zf[r],i);break;case"source":In("error",i);break;case"img":case"image":case"link":In("error",i),In("load",i);break;case"details":In("toggle",i);break;case"input":tS(i,s),In("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},In("invalid",i);break;case"textarea":nS(i,s),In("invalid",i)}h2(n,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?i.textContent!==a&&(s.suppressHydrationWarning!==!0&&Tg(i.textContent,a,e),r=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Tg(i.textContent,a,e),r=["children",""+a]):Od.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&In("scroll",i)}switch(n){case"input":yg(i),eS(i,s,!0);break;case"textarea":yg(i),iS(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=t0)}i=r,t.updateQueue=i,i!==null&&(t.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=M3(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=o.createElement(n,{is:i.is}):(e=o.createElement(n),n==="select"&&(o=e,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):e=o.createElementNS(e,n),e[jo]=t,e[$d]=i,rI(e,t,!1,!1),t.stateNode=e;t:{switch(o=f2(n,i),n){case"dialog":In("cancel",e),In("close",e),r=i;break;case"iframe":case"object":case"embed":In("load",e),r=i;break;case"video":case"audio":for(r=0;r<Zf.length;r++)In(Zf[r],e);r=i;break;case"source":In("error",e),r=i;break;case"img":case"image":case"link":In("error",e),In("load",e),r=i;break;case"details":In("toggle",e),r=i;break;case"input":tS(e,i),r=o2(e,i),In("invalid",e);break;case"option":r=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},r=Gn({},i,{value:void 0}),In("invalid",e);break;case"textarea":nS(e,i),r=u2(e,i),In("invalid",e);break;default:r=i}h2(n,r),a=r;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?F3(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&D3(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Fd(e,l):typeof l=="number"&&Fd(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Od.hasOwnProperty(s)?l!=null&&s==="onScroll"&&In("scroll",e):l!=null&&g_(e,s,l,o))}switch(n){case"input":yg(e),eS(e,i,!1);break;case"textarea":yg(e),iS(e);break;case"option":i.value!=null&&e.setAttribute("value",""+Kl(i.value));break;case"select":e.multiple=!!i.multiple,s=i.value,s!=null?hh(e,!!i.multiple,s,!1):i.defaultValue!=null&&hh(e,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(e.onclick=t0)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break t;case"img":i=!0;break t;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return or(t),null;case 6:if(e&&t.stateNode!=null)oI(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(Mt(166));if(n=Vu(Kd.current),Vu(Uo.current),kg(t)){if(i=t.stateNode,n=t.memoizedProps,i[jo]=t,(s=i.nodeValue!==n)&&(e=hs,e!==null))switch(e.tag){case 3:Tg(i.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Tg(i.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[jo]=t,t.stateNode=i}return or(t),null;case 13:if(Ln(qn),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(jn&&ls!==null&&t.mode&1&&!(t.flags&128))AP(),Ch(),t.flags|=98560,s=!1;else if(s=kg(t),i!==null&&i.dehydrated!==null){if(e===null){if(!s)throw Error(Mt(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Mt(317));s[jo]=t}else Ch(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;or(t),s=!1}else ao!==null&&($2(ao),ao=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,t.mode&1&&(e===null||qn.current&1?Pi===0&&(Pi=3):Q_())),t.updateQueue!==null&&(t.flags|=4),or(t),null);case 4:return Lh(),j2(e,t),e===null&&qd(t.stateNode.containerInfo),or(t),null;case 10:return M_(t.type._context),or(t),null;case 17:return qr(t.type)&&e0(),or(t),null;case 19:if(Ln(qn),s=t.memoizedState,s===null)return or(t),null;if(i=(t.flags&128)!==0,o=s.rendering,o===null)if(i)jf(s,!1);else{if(Pi!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=l0(e),o!==null){for(t.flags|=128,jf(s,!1),i=o.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;n!==null;)s=n,e=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return kn(qn,qn.current&1|2),t.child}e=e.sibling}s.tail!==null&&hi()>Mh&&(t.flags|=128,i=!0,jf(s,!1),t.lanes=4194304)}else{if(!i)if(e=l0(o),e!==null){if(t.flags|=128,i=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),jf(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!jn)return or(t),null}else 2*hi()-s.renderingStartTime>Mh&&n!==1073741824&&(t.flags|=128,i=!0,jf(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=hi(),t.sibling=null,n=qn.current,kn(qn,i?n&1|2:n&1),t):(or(t),null);case 22:case 23:return X_(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&t.mode&1?as&1073741824&&(or(t),t.subtreeFlags&6&&(t.flags|=8192)):or(t),null;case 24:return null;case 25:return null}throw Error(Mt(156,t.tag))}function wO(e,t){switch(C_(t),t.tag){case 1:return qr(t.type)&&e0(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Lh(),Ln(Wr),Ln(wr),V_(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return j_(t),null;case 13:if(Ln(qn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Mt(340));Ch()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ln(qn),null;case 4:return Lh(),null;case 10:return M_(t.type._context),null;case 22:case 23:return X_(),null;case 24:return null;default:return null}}var Ig=!1,gr=!1,bO=typeof WeakSet=="function"?WeakSet:Set,qt=null;function th(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){ei(e,t,i)}else n.current=null}function V2(e,t,n){try{n()}catch(i){ei(e,t,i)}}var $S=!1;function xO(e,t){if(x2=Qm,e=hP(),P_(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else t:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break t}var o=0,a=-1,l=-1,u=0,c=0,h=e,p=null;e:for(;;){for(var f;h!==n||r!==0&&h.nodeType!==3||(a=o+r),h!==s||i!==0&&h.nodeType!==3||(l=o+i),h.nodeType===3&&(o+=h.nodeValue.length),(f=h.firstChild)!==null;)p=h,h=f;for(;;){if(h===e)break e;if(p===n&&++u===r&&(a=o),p===s&&++c===i&&(l=o),(f=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(S2={focusedElem:e,selectionRange:n},Qm=!1,qt=t;qt!==null;)if(t=qt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,qt=e;else for(;qt!==null;){t=qt;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var _=y.memoizedProps,x=y.memoizedState,v=t.stateNode,A=v.getSnapshotBeforeUpdate(t.elementType===t.type?_:ro(t.type,_),x);v.__reactInternalSnapshotBeforeUpdate=A}break;case 3:var I=t.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Mt(163))}}catch(P){ei(t,t.return,P)}if(e=t.sibling,e!==null){e.return=t.return,qt=e;break}qt=t.return}return y=$S,$S=!1,y}function md(e,t,n){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&e)===e){var s=r.destroy;r.destroy=void 0,s!==void 0&&V2(t,n,s)}r=r.next}while(r!==i)}}function h1(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function B2(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function aI(e){var t=e.alternate;t!==null&&(e.alternate=null,aI(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[jo],delete t[$d],delete t[k2],delete t[rO],delete t[sO])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function lI(e){return e.tag===5||e.tag===3||e.tag===4}function GS(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||lI(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function U2(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=t0));else if(i!==4&&(e=e.child,e!==null))for(U2(e,t,n),e=e.sibling;e!==null;)U2(e,t,n),e=e.sibling}function z2(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(z2(e,t,n),e=e.sibling;e!==null;)z2(e,t,n),e=e.sibling}var Hi=null,so=!1;function pl(e,t,n){for(n=n.child;n!==null;)uI(e,t,n),n=n.sibling}function uI(e,t,n){if(Bo&&typeof Bo.onCommitFiberUnmount=="function")try{Bo.onCommitFiberUnmount(i1,n)}catch{}switch(n.tag){case 5:gr||th(n,t);case 6:var i=Hi,r=so;Hi=null,pl(e,t,n),Hi=i,so=r,Hi!==null&&(so?(e=Hi,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Hi.removeChild(n.stateNode));break;case 18:Hi!==null&&(so?(e=Hi,n=n.stateNode,e.nodeType===8?Oy(e.parentNode,n):e.nodeType===1&&Oy(e,n),Ud(e)):Oy(Hi,n.stateNode));break;case 4:i=Hi,r=so,Hi=n.stateNode.containerInfo,so=!0,pl(e,t,n),Hi=i,so=r;break;case 0:case 11:case 14:case 15:if(!gr&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&V2(n,t,o),r=r.next}while(r!==i)}pl(e,t,n);break;case 1:if(!gr&&(th(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(a){ei(n,t,a)}pl(e,t,n);break;case 21:pl(e,t,n);break;case 22:n.mode&1?(gr=(i=gr)||n.memoizedState!==null,pl(e,t,n),gr=i):pl(e,t,n);break;default:pl(e,t,n)}}function KS(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new bO),t.forEach(function(i){var r=NO.bind(null,e,i);n.has(i)||(n.add(i),i.then(r,r))})}}function eo(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i];try{var s=e,o=t,a=o;t:for(;a!==null;){switch(a.tag){case 5:Hi=a.stateNode,so=!1;break t;case 3:Hi=a.stateNode.containerInfo,so=!0;break t;case 4:Hi=a.stateNode.containerInfo,so=!0;break t}a=a.return}if(Hi===null)throw Error(Mt(160));uI(s,o,r),Hi=null,so=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(u){ei(r,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)cI(t,e),t=t.sibling}function cI(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(eo(t,e),No(e),i&4){try{md(3,e,e.return),h1(3,e)}catch(_){ei(e,e.return,_)}try{md(5,e,e.return)}catch(_){ei(e,e.return,_)}}break;case 1:eo(t,e),No(e),i&512&&n!==null&&th(n,n.return);break;case 5:if(eo(t,e),No(e),i&512&&n!==null&&th(n,n.return),e.flags&32){var r=e.stateNode;try{Fd(r,"")}catch(_){ei(e,e.return,_)}}if(i&4&&(r=e.stateNode,r!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&L3(r,s),f2(a,o);var u=f2(a,s);for(o=0;o<l.length;o+=2){var c=l[o],h=l[o+1];c==="style"?F3(r,h):c==="dangerouslySetInnerHTML"?D3(r,h):c==="children"?Fd(r,h):g_(r,c,h,u)}switch(a){case"input":a2(r,s);break;case"textarea":R3(r,s);break;case"select":var p=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?hh(r,!!s.multiple,f,!1):p!==!!s.multiple&&(s.defaultValue!=null?hh(r,!!s.multiple,s.defaultValue,!0):hh(r,!!s.multiple,s.multiple?[]:"",!1))}r[$d]=s}catch(_){ei(e,e.return,_)}}break;case 6:if(eo(t,e),No(e),i&4){if(e.stateNode===null)throw Error(Mt(162));r=e.stateNode,s=e.memoizedProps;try{r.nodeValue=s}catch(_){ei(e,e.return,_)}}break;case 3:if(eo(t,e),No(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Ud(t.containerInfo)}catch(_){ei(e,e.return,_)}break;case 4:eo(t,e),No(e);break;case 13:eo(t,e),No(e),r=e.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(K_=hi())),i&4&&KS(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(gr=(u=gr)||c,eo(t,e),gr=u):eo(t,e),No(e),i&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(qt=e,c=e.child;c!==null;){for(h=qt=c;qt!==null;){switch(p=qt,f=p.child,p.tag){case 0:case 11:case 14:case 15:md(4,p,p.return);break;case 1:th(p,p.return);var y=p.stateNode;if(typeof y.componentWillUnmount=="function"){i=p,n=p.return;try{t=i,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(_){ei(i,n,_)}}break;case 5:th(p,p.return);break;case 22:if(p.memoizedState!==null){XS(h);continue}}f!==null?(f.return=p,qt=f):XS(h)}c=c.sibling}t:for(c=null,h=e;;){if(h.tag===5){if(c===null){c=h;try{r=h.stateNode,u?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=O3("display",o))}catch(_){ei(e,e.return,_)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(_){ei(e,e.return,_)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break t;for(;h.sibling===null;){if(h.return===null||h.return===e)break t;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:eo(t,e),No(e),i&4&&KS(e);break;case 21:break;default:eo(t,e),No(e)}}function No(e){var t=e.flags;if(t&2){try{t:{for(var n=e.return;n!==null;){if(lI(n)){var i=n;break t}n=n.return}throw Error(Mt(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(Fd(r,""),i.flags&=-33);var s=GS(e);z2(e,s,r);break;case 3:case 4:var o=i.stateNode.containerInfo,a=GS(e);U2(e,a,o);break;default:throw Error(Mt(161))}}catch(l){ei(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function SO(e,t,n){qt=e,hI(e)}function hI(e,t,n){for(var i=(e.mode&1)!==0;qt!==null;){var r=qt,s=r.child;if(r.tag===22&&i){var o=r.memoizedState!==null||Ig;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||gr;a=Ig;var u=gr;if(Ig=o,(gr=l)&&!u)for(qt=r;qt!==null;)o=qt,l=o.child,o.tag===22&&o.memoizedState!==null?QS(r):l!==null?(l.return=o,qt=l):QS(r);for(;s!==null;)qt=s,hI(s),s=s.sibling;qt=r,Ig=a,gr=u}YS(e)}else r.subtreeFlags&8772&&s!==null?(s.return=r,qt=s):YS(e)}}function YS(e){for(;qt!==null;){var t=qt;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:gr||h1(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!gr)if(n===null)i.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:ro(t.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&RS(t,s,i);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}RS(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&Ud(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Mt(163))}gr||t.flags&512&&B2(t)}catch(p){ei(t,t.return,p)}}if(t===e){qt=null;break}if(n=t.sibling,n!==null){n.return=t.return,qt=n;break}qt=t.return}}function XS(e){for(;qt!==null;){var t=qt;if(t===e){qt=null;break}var n=t.sibling;if(n!==null){n.return=t.return,qt=n;break}qt=t.return}}function QS(e){for(;qt!==null;){var t=qt;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{h1(4,t)}catch(l){ei(t,n,l)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var r=t.return;try{i.componentDidMount()}catch(l){ei(t,r,l)}}var s=t.return;try{B2(t)}catch(l){ei(t,s,l)}break;case 5:var o=t.return;try{B2(t)}catch(l){ei(t,o,l)}}}catch(l){ei(t,t.return,l)}if(t===e){qt=null;break}var a=t.sibling;if(a!==null){a.return=t.return,qt=a;break}qt=t.return}}var AO=Math.ceil,h0=Wa.ReactCurrentDispatcher,$_=Wa.ReactCurrentOwner,Vs=Wa.ReactCurrentBatchConfig,Xe=0,Vi=null,vi=null,Yi=0,as=0,eh=su(0),Pi=0,Jd=null,ec=0,f1=0,G_=0,yd=null,Br=null,K_=0,Mh=1/0,ga=null,f0=!1,W2=null,Bl=null,Cg=!1,Pl=null,d0=0,vd=0,q2=null,_m=-1,wm=0;function Cr(){return Xe&6?hi():_m!==-1?_m:_m=hi()}function Ul(e){return e.mode&1?Xe&2&&Yi!==0?Yi&-Yi:aO.transition!==null?(wm===0&&(wm=Y3()),wm):(e=gn,e!==0||(e=window.event,e=e===void 0?16:nP(e.type)),e):1}function uo(e,t,n,i){if(50<vd)throw vd=0,q2=null,Error(Mt(185));kp(e,n,i),(!(Xe&2)||e!==Vi)&&(e===Vi&&(!(Xe&2)&&(f1|=n),Pi===4&&Sl(e,Yi)),Hr(e,i),n===1&&Xe===0&&!(t.mode&1)&&(Mh=hi()+500,l1&&ou()))}function Hr(e,t){var n=e.callbackNode;a8(e,t);var i=Xm(e,e===Vi?Yi:0);if(i===0)n!==null&&oS(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(n!=null&&oS(n),t===1)e.tag===0?oO(JS.bind(null,e)):bP(JS.bind(null,e)),nO(function(){!(Xe&6)&&ou()}),n=null;else{switch(X3(i)){case 1:n=w_;break;case 4:n=G3;break;case 16:n=Ym;break;case 536870912:n=K3;break;default:n=Ym}n=_I(n,fI.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function fI(e,t){if(_m=-1,wm=0,Xe&6)throw Error(Mt(327));var n=e.callbackNode;if(mh()&&e.callbackNode!==n)return null;var i=Xm(e,e===Vi?Yi:0);if(i===0)return null;if(i&30||i&e.expiredLanes||t)t=p0(e,i);else{t=i;var r=Xe;Xe|=2;var s=pI();(Vi!==e||Yi!==t)&&(ga=null,Mh=hi()+500,qu(e,t));do try{EO();break}catch(a){dI(e,a)}while(!0);R_(),h0.current=s,Xe=r,vi!==null?t=0:(Vi=null,Yi=0,t=Pi)}if(t!==0){if(t===2&&(r=y2(e),r!==0&&(i=r,t=H2(e,r))),t===1)throw n=Jd,qu(e,0),Sl(e,i),Hr(e,hi()),n;if(t===6)Sl(e,i);else{if(r=e.current.alternate,!(i&30)&&!TO(r)&&(t=p0(e,i),t===2&&(s=y2(e),s!==0&&(i=s,t=H2(e,s))),t===1))throw n=Jd,qu(e,0),Sl(e,i),Hr(e,hi()),n;switch(e.finishedWork=r,e.finishedLanes=i,t){case 0:case 1:throw Error(Mt(345));case 2:Iu(e,Br,ga);break;case 3:if(Sl(e,i),(i&130023424)===i&&(t=K_+500-hi(),10<t)){if(Xm(e,0)!==0)break;if(r=e.suspendedLanes,(r&i)!==i){Cr(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=T2(Iu.bind(null,e,Br,ga),t);break}Iu(e,Br,ga);break;case 4:if(Sl(e,i),(i&4194240)===i)break;for(t=e.eventTimes,r=-1;0<i;){var o=31-lo(i);s=1<<o,o=t[o],o>r&&(r=o),i&=~s}if(i=r,i=hi()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*AO(i/1960))-i,10<i){e.timeoutHandle=T2(Iu.bind(null,e,Br,ga),i);break}Iu(e,Br,ga);break;case 5:Iu(e,Br,ga);break;default:throw Error(Mt(329))}}}return Hr(e,hi()),e.callbackNode===n?fI.bind(null,e):null}function H2(e,t){var n=yd;return e.current.memoizedState.isDehydrated&&(qu(e,t).flags|=256),e=p0(e,t),e!==2&&(t=Br,Br=n,t!==null&&$2(t)),e}function $2(e){Br===null?Br=e:Br.push.apply(Br,e)}function TO(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!fo(s(),r))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Sl(e,t){for(t&=~G_,t&=~f1,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-lo(t),i=1<<n;e[n]=-1,t&=~i}}function JS(e){if(Xe&6)throw Error(Mt(327));mh();var t=Xm(e,0);if(!(t&1))return Hr(e,hi()),null;var n=p0(e,t);if(e.tag!==0&&n===2){var i=y2(e);i!==0&&(t=i,n=H2(e,i))}if(n===1)throw n=Jd,qu(e,0),Sl(e,t),Hr(e,hi()),n;if(n===6)throw Error(Mt(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Iu(e,Br,ga),Hr(e,hi()),null}function Y_(e,t){var n=Xe;Xe|=1;try{return e(t)}finally{Xe=n,Xe===0&&(Mh=hi()+500,l1&&ou())}}function nc(e){Pl!==null&&Pl.tag===0&&!(Xe&6)&&mh();var t=Xe;Xe|=1;var n=Vs.transition,i=gn;try{if(Vs.transition=null,gn=1,e)return e()}finally{gn=i,Vs.transition=n,Xe=t,!(Xe&6)&&ou()}}function X_(){as=eh.current,Ln(eh)}function qu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,eO(n)),vi!==null)for(n=vi.return;n!==null;){var i=n;switch(C_(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&e0();break;case 3:Lh(),Ln(Wr),Ln(wr),V_();break;case 5:j_(i);break;case 4:Lh();break;case 13:Ln(qn);break;case 19:Ln(qn);break;case 10:M_(i.type._context);break;case 22:case 23:X_()}n=n.return}if(Vi=e,vi=e=zl(e.current,null),Yi=as=t,Pi=0,Jd=null,G_=f1=ec=0,Br=yd=null,ju!==null){for(t=0;t<ju.length;t++)if(n=ju[t],i=n.interleaved,i!==null){n.interleaved=null;var r=i.next,s=n.pending;if(s!==null){var o=s.next;s.next=r,i.next=o}n.pending=i}ju=null}return e}function dI(e,t){do{var n=vi;try{if(R_(),mm.current=c0,u0){for(var i=$n.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}u0=!1}if(tc=0,Oi=ki=$n=null,gd=!1,Yd=0,$_.current=null,n===null||n.return===null){Pi=1,Jd=t,vi=null;break}t:{var s=e,o=n.return,a=n,l=t;if(t=Yi,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var p=c.alternate;p?(c.updateQueue=p.updateQueue,c.memoizedState=p.memoizedState,c.lanes=p.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=VS(o);if(f!==null){f.flags&=-257,BS(f,o,a,s,t),f.mode&1&&jS(s,u,t),t=f,l=u;var y=t.updateQueue;if(y===null){var _=new Set;_.add(l),t.updateQueue=_}else y.add(l);break t}else{if(!(t&1)){jS(s,u,t),Q_();break t}l=Error(Mt(426))}}else if(jn&&a.mode&1){var x=VS(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),BS(x,o,a,s,t),N_(Rh(l,a));break t}}s=l=Rh(l,a),Pi!==4&&(Pi=2),yd===null?yd=[s]:yd.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var v=XP(s,l,t);LS(s,v);break t;case 1:a=l;var A=s.type,I=s.stateNode;if(!(s.flags&128)&&(typeof A.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(Bl===null||!Bl.has(I)))){s.flags|=65536,t&=-t,s.lanes|=t;var P=QP(s,a,t);LS(s,P);break t}}s=s.return}while(s!==null)}mI(n)}catch(F){t=F,vi===n&&n!==null&&(vi=n=n.return);continue}break}while(!0)}function pI(){var e=h0.current;return h0.current=c0,e===null?c0:e}function Q_(){(Pi===0||Pi===3||Pi===2)&&(Pi=4),Vi===null||!(ec&268435455)&&!(f1&268435455)||Sl(Vi,Yi)}function p0(e,t){var n=Xe;Xe|=2;var i=pI();(Vi!==e||Yi!==t)&&(ga=null,qu(e,t));do try{kO();break}catch(r){dI(e,r)}while(!0);if(R_(),Xe=n,h0.current=i,vi!==null)throw Error(Mt(261));return Vi=null,Yi=0,Pi}function kO(){for(;vi!==null;)gI(vi)}function EO(){for(;vi!==null&&!JD();)gI(vi)}function gI(e){var t=vI(e.alternate,e,as);e.memoizedProps=e.pendingProps,t===null?mI(e):vi=t,$_.current=null}function mI(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=wO(n,t),n!==null){n.flags&=32767,vi=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Pi=6,vi=null;return}}else if(n=_O(n,t,as),n!==null){vi=n;return}if(t=t.sibling,t!==null){vi=t;return}vi=t=e}while(t!==null);Pi===0&&(Pi=5)}function Iu(e,t,n){var i=gn,r=Vs.transition;try{Vs.transition=null,gn=1,PO(e,t,n,i)}finally{Vs.transition=r,gn=i}return null}function PO(e,t,n,i){do mh();while(Pl!==null);if(Xe&6)throw Error(Mt(327));n=e.finishedWork;var r=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Mt(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(l8(e,s),e===Vi&&(vi=Vi=null,Yi=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Cg||(Cg=!0,_I(Ym,function(){return mh(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Vs.transition,Vs.transition=null;var o=gn;gn=1;var a=Xe;Xe|=4,$_.current=null,xO(e,n),cI(n,e),K8(S2),Qm=!!x2,S2=x2=null,e.current=n,SO(n),ZD(),Xe=a,gn=o,Vs.transition=s}else e.current=n;if(Cg&&(Cg=!1,Pl=e,d0=r),s=e.pendingLanes,s===0&&(Bl=null),n8(n.stateNode),Hr(e,hi()),t!==null)for(i=e.onRecoverableError,n=0;n<t.length;n++)r=t[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(f0)throw f0=!1,e=W2,W2=null,e;return d0&1&&e.tag!==0&&mh(),s=e.pendingLanes,s&1?e===q2?vd++:(vd=0,q2=e):vd=0,ou(),null}function mh(){if(Pl!==null){var e=X3(d0),t=Vs.transition,n=gn;try{if(Vs.transition=null,gn=16>e?16:e,Pl===null)var i=!1;else{if(e=Pl,Pl=null,d0=0,Xe&6)throw Error(Mt(331));var r=Xe;for(Xe|=4,qt=e.current;qt!==null;){var s=qt,o=s.child;if(qt.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(qt=u;qt!==null;){var c=qt;switch(c.tag){case 0:case 11:case 15:md(8,c,s)}var h=c.child;if(h!==null)h.return=c,qt=h;else for(;qt!==null;){c=qt;var p=c.sibling,f=c.return;if(aI(c),c===u){qt=null;break}if(p!==null){p.return=f,qt=p;break}qt=f}}}var y=s.alternate;if(y!==null){var _=y.child;if(_!==null){y.child=null;do{var x=_.sibling;_.sibling=null,_=x}while(_!==null)}}qt=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,qt=o;else t:for(;qt!==null;){if(s=qt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:md(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,qt=v;break t}qt=s.return}}var A=e.current;for(qt=A;qt!==null;){o=qt;var I=o.child;if(o.subtreeFlags&2064&&I!==null)I.return=o,qt=I;else t:for(o=A;qt!==null;){if(a=qt,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:h1(9,a)}}catch(F){ei(a,a.return,F)}if(a===o){qt=null;break t}var P=a.sibling;if(P!==null){P.return=a.return,qt=P;break t}qt=a.return}}if(Xe=r,ou(),Bo&&typeof Bo.onPostCommitFiberRoot=="function")try{Bo.onPostCommitFiberRoot(i1,e)}catch{}i=!0}return i}finally{gn=n,Vs.transition=t}}return!1}function ZS(e,t,n){t=Rh(n,t),t=XP(e,t,1),e=Vl(e,t,1),t=Cr(),e!==null&&(kp(e,1,t),Hr(e,t))}function ei(e,t,n){if(e.tag===3)ZS(e,e,n);else for(;t!==null;){if(t.tag===3){ZS(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Bl===null||!Bl.has(i))){e=Rh(n,e),e=QP(t,e,1),t=Vl(t,e,1),e=Cr(),t!==null&&(kp(t,1,e),Hr(t,e));break}}t=t.return}}function IO(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),t=Cr(),e.pingedLanes|=e.suspendedLanes&n,Vi===e&&(Yi&n)===n&&(Pi===4||Pi===3&&(Yi&130023424)===Yi&&500>hi()-K_?qu(e,0):G_|=n),Hr(e,t)}function yI(e,t){t===0&&(e.mode&1?(t=wg,wg<<=1,!(wg&130023424)&&(wg=4194304)):t=1);var n=Cr();e=Ma(e,t),e!==null&&(kp(e,t,n),Hr(e,n))}function CO(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),yI(e,n)}function NO(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,r=e.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(Mt(314))}i!==null&&i.delete(t),yI(e,n)}var vI;vI=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Wr.current)zr=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return zr=!1,vO(e,t,n);zr=!!(e.flags&131072)}else zr=!1,jn&&t.flags&1048576&&xP(t,r0,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;vm(e,t),e=t.pendingProps;var r=Ih(t,wr.current);gh(t,n),r=U_(null,t,i,e,r,n);var s=z_();return t.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,qr(i)?(s=!0,n0(t)):s=!1,t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,O_(t),r.updater=c1,t.stateNode=r,r._reactInternals=t,L2(t,i,e,n),t=D2(null,t,i,!0,s,n)):(t.tag=0,jn&&s&&I_(t),Pr(null,t,r,n),t=t.child),t;case 16:i=t.elementType;t:{switch(vm(e,t),e=t.pendingProps,r=i._init,i=r(i._payload),t.type=i,r=t.tag=RO(i),e=ro(i,e),r){case 0:t=M2(null,t,i,e,n);break t;case 1:t=WS(null,t,i,e,n);break t;case 11:t=US(null,t,i,e,n);break t;case 14:t=zS(null,t,i,ro(i.type,e),n);break t}throw Error(Mt(306,i,""))}return t;case 0:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:ro(i,r),M2(e,t,i,r,n);case 1:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:ro(i,r),WS(e,t,i,r,n);case 3:t:{if(eI(t),e===null)throw Error(Mt(387));i=t.pendingProps,s=t.memoizedState,r=s.element,PP(e,t),a0(t,i,null,n);var o=t.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){r=Rh(Error(Mt(423)),t),t=qS(e,t,i,n,r);break t}else if(i!==r){r=Rh(Error(Mt(424)),t),t=qS(e,t,i,n,r);break t}else for(ls=jl(t.stateNode.containerInfo.firstChild),hs=t,jn=!0,ao=null,n=kP(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ch(),i===r){t=Da(e,t,n);break t}Pr(e,t,i,n)}t=t.child}return t;case 5:return IP(t),e===null&&I2(t),i=t.type,r=t.pendingProps,s=e!==null?e.memoizedProps:null,o=r.children,A2(i,r)?o=null:s!==null&&A2(i,s)&&(t.flags|=32),tI(e,t),Pr(e,t,o,n),t.child;case 6:return e===null&&I2(t),null;case 13:return nI(e,t,n);case 4:return F_(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Nh(t,null,i,n):Pr(e,t,i,n),t.child;case 11:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:ro(i,r),US(e,t,i,r,n);case 7:return Pr(e,t,t.pendingProps,n),t.child;case 8:return Pr(e,t,t.pendingProps.children,n),t.child;case 12:return Pr(e,t,t.pendingProps.children,n),t.child;case 10:t:{if(i=t.type._context,r=t.pendingProps,s=t.memoizedProps,o=r.value,kn(s0,i._currentValue),i._currentValue=o,s!==null)if(fo(s.value,o)){if(s.children===r.children&&!Wr.current){t=Da(e,t,n);break t}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(s.tag===1){l=Pa(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),C2(s.return,n,t),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Mt(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),C2(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Pr(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,i=t.pendingProps.children,gh(t,n),r=zs(r),i=i(r),t.flags|=1,Pr(e,t,i,n),t.child;case 14:return i=t.type,r=ro(i,t.pendingProps),r=ro(i.type,r),zS(e,t,i,r,n);case 15:return JP(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:ro(i,r),vm(e,t),t.tag=1,qr(i)?(e=!0,n0(t)):e=!1,gh(t,n),YP(t,i,r),L2(t,i,r,n),D2(null,t,i,!0,e,n);case 19:return iI(e,t,n);case 22:return ZP(e,t,n)}throw Error(Mt(156,t.tag))};function _I(e,t){return $3(e,t)}function LO(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fs(e,t,n,i){return new LO(e,t,n,i)}function J_(e){return e=e.prototype,!(!e||!e.isReactComponent)}function RO(e){if(typeof e=="function")return J_(e)?1:0;if(e!=null){if(e=e.$$typeof,e===y_)return 11;if(e===v_)return 14}return 2}function zl(e,t){var n=e.alternate;return n===null?(n=Fs(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function bm(e,t,n,i,r,s){var o=2;if(i=e,typeof e=="function")J_(e)&&(o=1);else if(typeof e=="string")o=5;else t:switch(e){case Hc:return Hu(n.children,r,s,t);case m_:o=8,r|=8;break;case n2:return e=Fs(12,n,t,r|2),e.elementType=n2,e.lanes=s,e;case i2:return e=Fs(13,n,t,r),e.elementType=i2,e.lanes=s,e;case r2:return e=Fs(19,n,t,r),e.elementType=r2,e.lanes=s,e;case I3:return d1(n,r,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case E3:o=10;break t;case P3:o=9;break t;case y_:o=11;break t;case v_:o=14;break t;case wl:o=16,i=null;break t}throw Error(Mt(130,e==null?e:typeof e,""))}return t=Fs(o,n,t,r),t.elementType=e,t.type=i,t.lanes=s,t}function Hu(e,t,n,i){return e=Fs(7,e,i,t),e.lanes=n,e}function d1(e,t,n,i){return e=Fs(22,e,i,t),e.elementType=I3,e.lanes=n,e.stateNode={isHidden:!1},e}function qy(e,t,n){return e=Fs(6,e,null,t),e.lanes=n,e}function Hy(e,t,n){return t=Fs(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function MO(e,t,n,i,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ty(0),this.expirationTimes=Ty(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ty(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Z_(e,t,n,i,r,s,o,a,l){return e=new MO(e,t,n,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Fs(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},O_(s),e}function DO(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:qc,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}function wI(e){if(!e)return Yl;e=e._reactInternals;t:{if(gc(e)!==e||e.tag!==1)throw Error(Mt(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break t;case 1:if(qr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break t}}t=t.return}while(t!==null);throw Error(Mt(171))}if(e.tag===1){var n=e.type;if(qr(n))return wP(e,n,t)}return t}function bI(e,t,n,i,r,s,o,a,l){return e=Z_(n,i,!0,e,r,s,o,a,l),e.context=wI(null),n=e.current,i=Cr(),r=Ul(n),s=Pa(i,r),s.callback=t??null,Vl(n,s,r),e.current.lanes=r,kp(e,r,i),Hr(e,i),e}function p1(e,t,n,i){var r=t.current,s=Cr(),o=Ul(r);return n=wI(n),t.context===null?t.context=n:t.pendingContext=n,t=Pa(s,o),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=Vl(r,t,o),e!==null&&(uo(e,r,o,s),gm(e,r,o)),o}function g0(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function tA(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function tw(e,t){tA(e,t),(e=e.alternate)&&tA(e,t)}function OO(){return null}var xI=typeof reportError=="function"?reportError:function(e){console.error(e)};function ew(e){this._internalRoot=e}g1.prototype.render=ew.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Mt(409));p1(e,t,null,null)};g1.prototype.unmount=ew.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;nc(function(){p1(null,e,null,null)}),t[Ra]=null}};function g1(e){this._internalRoot=e}g1.prototype.unstable_scheduleHydration=function(e){if(e){var t=Z3();e={blockedOn:null,target:e,priority:t};for(var n=0;n<xl.length&&t!==0&&t<xl[n].priority;n++);xl.splice(n,0,e),n===0&&eP(e)}};function nw(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function m1(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function eA(){}function FO(e,t,n,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var u=g0(o);s.call(u)}}var o=bI(t,i,e,0,null,!1,!1,"",eA);return e._reactRootContainer=o,e[Ra]=o.current,qd(e.nodeType===8?e.parentNode:e),nc(),o}for(;r=e.lastChild;)e.removeChild(r);if(typeof i=="function"){var a=i;i=function(){var u=g0(l);a.call(u)}}var l=Z_(e,0,!1,null,null,!1,!1,"",eA);return e._reactRootContainer=l,e[Ra]=l.current,qd(e.nodeType===8?e.parentNode:e),nc(function(){p1(t,l,n,i)}),l}function y1(e,t,n,i,r){var s=n._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var a=r;r=function(){var l=g0(o);a.call(l)}}p1(t,o,e,r)}else o=FO(n,t,e,r,i);return g0(o)}Q3=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Jf(t.pendingLanes);n!==0&&(b_(t,n|1),Hr(t,hi()),!(Xe&6)&&(Mh=hi()+500,ou()))}break;case 13:nc(function(){var i=Ma(e,1);if(i!==null){var r=Cr();uo(i,e,1,r)}}),tw(e,1)}};x_=function(e){if(e.tag===13){var t=Ma(e,134217728);if(t!==null){var n=Cr();uo(t,e,134217728,n)}tw(e,134217728)}};J3=function(e){if(e.tag===13){var t=Ul(e),n=Ma(e,t);if(n!==null){var i=Cr();uo(n,e,t,i)}tw(e,t)}};Z3=function(){return gn};tP=function(e,t){var n=gn;try{return gn=e,t()}finally{gn=n}};p2=function(e,t,n){switch(t){case"input":if(a2(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=a1(i);if(!r)throw Error(Mt(90));N3(i),a2(i,r)}}}break;case"textarea":R3(e,n);break;case"select":t=n.value,t!=null&&hh(e,!!n.multiple,t,!1)}};B3=Y_;U3=nc;var jO={usingClientEntryPoint:!1,Events:[Pp,Yc,a1,j3,V3,Y_]},Vf={findFiberByHostInstance:Fu,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},VO={bundleType:Vf.bundleType,version:Vf.version,rendererPackageName:Vf.rendererPackageName,rendererConfig:Vf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Wa.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=q3(e),e===null?null:e.stateNode},findFiberByHostInstance:Vf.findFiberByHostInstance||OO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ng=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ng.isDisabled&&Ng.supportsFiber)try{i1=Ng.inject(VO),Bo=Ng}catch{}}ms.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jO;ms.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nw(t))throw Error(Mt(200));return DO(e,t,null,n)};ms.createRoot=function(e,t){if(!nw(e))throw Error(Mt(299));var n=!1,i="",r=xI;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(r=t.onRecoverableError)),t=Z_(e,1,!1,null,null,n,!1,i,r),e[Ra]=t.current,qd(e.nodeType===8?e.parentNode:e),new ew(t)};ms.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Mt(188)):(e=Object.keys(e).join(","),Error(Mt(268,e)));return e=q3(t),e=e===null?null:e.stateNode,e};ms.flushSync=function(e){return nc(e)};ms.hydrate=function(e,t,n){if(!m1(t))throw Error(Mt(200));return y1(null,e,t,!0,n)};ms.hydrateRoot=function(e,t,n){if(!nw(e))throw Error(Mt(405));var i=n!=null&&n.hydratedSources||null,r=!1,s="",o=xI;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=bI(t,null,e,1,n??null,r,!1,s,o),e[Ra]=t.current,qd(e),i)for(e=0;e<i.length;e++)n=i[e],r=n._getVersion,r=r(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new g1(t)};ms.render=function(e,t,n){if(!m1(t))throw Error(Mt(200));return y1(null,e,t,!1,n)};ms.unmountComponentAtNode=function(e){if(!m1(e))throw Error(Mt(40));return e._reactRootContainer?(nc(function(){y1(null,null,e,!1,function(){e._reactRootContainer=null,e[Ra]=null})}),!0):!1};ms.unstable_batchedUpdates=Y_;ms.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!m1(n))throw Error(Mt(200));if(e==null||e._reactInternals===void 0)throw Error(Mt(38));return y1(e,t,n,!1,i)};ms.version="18.3.1-next-f1338f8080-20240426";function SI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(SI)}catch(e){console.error(e)}}SI(),S3.exports=ms;var BO=S3.exports,nA=BO;t2.createRoot=nA.createRoot,t2.hydrateRoot=nA.hydrateRoot;/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UO=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),AI=(...e)=>e.filter((t,n,i)=>!!t&&i.indexOf(t)===n).join(" ");/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var zO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WO=kt.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:r="",children:s,iconNode:o,...a},l)=>kt.createElement("svg",{ref:l,...zO,width:t,height:t,stroke:e,strokeWidth:i?Number(n)*24/Number(t):n,className:AI("lucide",r),...a},[...o.map(([u,c])=>kt.createElement(u,c)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=(e,t)=>{const n=kt.forwardRef(({className:i,...r},s)=>kt.createElement(WO,{ref:s,iconNode:t,className:AI(`lucide-${UO(e)}`,i),...r}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v1=Ze("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G2=Ze("ArrowDownLeft",[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qO=Ze("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TI=Ze("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HO=Ze("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _1=Ze("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $O=Ze("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kI=Ze("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GO=Ze("ChartLine",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EI=Ze("ChartNoAxesColumn",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KO=Ze("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iw=Ze("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YO=Ze("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XO=Ze("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PI=Ze("Coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w1=Ze("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QO=Ze("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b1=Ze("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JO=Ze("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rw=Ze("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const II=Ze("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x1=Ze("PiggyBank",[["path",{d:"M19 5c-1.5 0-2.8 1.4-3 2-3.5-1.5-11-.3-11 5 0 1.8 0 3 2 4.5V20h4v-2h3v2h4v-4c1-.5 1.7-1 2-2h2v-4h-2c0-1-.5-1.5-1-2V5z",key:"1ivx2i"}],["path",{d:"M2 9v1c0 1.1.9 2 2 2h1",key:"nm575m"}],["path",{d:"M16 11h.01",key:"xkw8gn"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CI=Ze("Plane",[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zd=Ze("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NI=Ze("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LI=Ze("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RI=Ze("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K2=Ze("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZO=Ze("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MI=Ze("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dh=Ze("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m0=Ze("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DI=Ze("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),t7=({children:e,activeTab:t,setActiveTab:n,user:i,onAddClick:r})=>V.jsxs("div",{className:"min-h-screen pb-24 font-display",children:[V.jsxs("header",{className:"flex items-center justify-between p-6 pt-12",children:[V.jsxs("div",{className:"flex items-center gap-3",children:[V.jsx("div",{className:"size-10 rounded-full border-2 border-primary/30 p-0.5 overflow-hidden",children:V.jsx("img",{alt:"User Profile",className:"w-full h-full rounded-full object-cover",src:(i==null?void 0:i.photoURL)||"https://via.placeholder.com/40"})}),V.jsxs("div",{children:[V.jsx("p",{className:"text-xs text-slate-400 font-medium",children:"Selamat datang,"}),V.jsx("h1",{className:"text-lg font-bold leading-none",children:(i==null?void 0:i.displayName)||"Alex Rivera"})]})]}),V.jsxs("button",{className:"relative size-10 flex items-center justify-center rounded-full glass-card",children:[V.jsx(HO,{className:"size-5 text-slate-200"}),V.jsx("span",{className:"absolute top-2.5 right-2.5 size-2 bg-primary rounded-full border-2 border-background-dark"})]})]}),V.jsx("main",{children:e}),V.jsxs("nav",{className:"fixed bottom-6 left-6 right-6 h-16 glass-nav border border-white/10 rounded-2xl flex items-center justify-around px-4 z-50",children:[V.jsx(Lg,{icon:V.jsx(rw,{size:24}),label:"Beranda",active:t==="home",onClick:()=>n("home")}),V.jsx(Lg,{icon:V.jsx(EI,{size:24}),label:"Statistik",active:t==="stats",onClick:()=>n("stats")}),V.jsx("div",{className:"relative -top-6",children:V.jsx("button",{onClick:r,className:"size-14 bg-primary rounded-full flex items-center justify-center text-background-dark shadow-lg shadow-primary/20 hover:scale-105 transition-transform active:scale-95",children:V.jsx(Zd,{size:32,strokeWidth:3})})}),V.jsx(Lg,{icon:V.jsx(Dh,{size:24}),label:"Dompet",active:t==="wallets",onClick:()=>n("wallets")}),V.jsx(Lg,{icon:V.jsx(ZO,{size:24}),label:"Profil",active:t==="profile",onClick:()=>n("profile")})]})]}),Lg=({icon:e,label:t,active:n,onClick:i})=>V.jsxs("button",{onClick:i,className:`flex flex-col items-center gap-1 transition-colors ${n?"text-primary":"text-slate-400"}`,children:[e,V.jsx("span",{className:"text-[10px] font-bold",children:t})]}),sw=kt.createContext({});function ow(e){const t=kt.useRef(null);return t.current===null&&(t.current=e()),t.current}const S1=kt.createContext(null),aw=kt.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class e7 extends kt.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function n7({children:e,isPresent:t}){const n=kt.useId(),i=kt.useRef(null),r=kt.useRef({width:0,height:0,top:0,left:0}),{nonce:s}=kt.useContext(aw);return kt.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:u}=r.current;if(t||!i.current||!o||!a)return;i.current.dataset.motionPopId=n;const c=document.createElement("style");return s&&(c.nonce=s),document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[t]),V.jsx(e7,{isPresent:t,childRef:i,sizeRef:r,children:kt.cloneElement(e,{ref:i})})}const i7=({children:e,initial:t,isPresent:n,onExitComplete:i,custom:r,presenceAffectsLayout:s,mode:o})=>{const a=ow(r7),l=kt.useId(),u=kt.useCallback(h=>{a.set(h,!0);for(const p of a.values())if(!p)return;i&&i()},[a,i]),c=kt.useMemo(()=>({id:l,initial:t,isPresent:n,custom:r,onExitComplete:u,register:h=>(a.set(h,!1),()=>a.delete(h))}),s?[Math.random(),u]:[n,u]);return kt.useMemo(()=>{a.forEach((h,p)=>a.set(p,!1))},[n]),kt.useEffect(()=>{!n&&!a.size&&i&&i()},[n]),o==="popLayout"&&(e=V.jsx(n7,{isPresent:n,children:e})),V.jsx(S1.Provider,{value:c,children:e})};function r7(){return new Map}function OI(e=!0){const t=kt.useContext(S1);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:r}=t,s=kt.useId();kt.useEffect(()=>{e&&r(s)},[e]);const o=kt.useCallback(()=>e&&i&&i(s),[s,i,e]);return!n&&i?[!1,o]:[!0]}const Rg=e=>e.key||"";function iA(e){const t=[];return kt.Children.forEach(e,n=>{kt.isValidElement(n)&&t.push(n)}),t}const lw=typeof window<"u",FI=lw?kt.useLayoutEffect:kt.useEffect,s7=({children:e,custom:t,initial:n=!0,onExitComplete:i,presenceAffectsLayout:r=!0,mode:s="sync",propagate:o=!1})=>{const[a,l]=OI(o),u=kt.useMemo(()=>iA(e),[e]),c=o&&!a?[]:u.map(Rg),h=kt.useRef(!0),p=kt.useRef(u),f=ow(()=>new Map),[y,_]=kt.useState(u),[x,v]=kt.useState(u);FI(()=>{h.current=!1,p.current=u;for(let P=0;P<x.length;P++){const F=Rg(x[P]);c.includes(F)?f.delete(F):f.get(F)!==!0&&f.set(F,!1)}},[x,c.length,c.join("-")]);const A=[];if(u!==y){let P=[...u];for(let F=0;F<x.length;F++){const G=x[F],R=Rg(G);c.includes(R)||(P.splice(F,0,G),A.push(G))}s==="wait"&&A.length&&(P=A),v(iA(P)),_(u);return}const{forceRender:I}=kt.useContext(sw);return V.jsx(V.Fragment,{children:x.map(P=>{const F=Rg(P),G=o&&!a?!1:u===x||c.includes(F),R=()=>{if(f.has(F))f.set(F,!0);else return;let T=!0;f.forEach(E=>{E||(T=!1)}),T&&(I==null||I(),v(p.current),o&&(l==null||l()),i&&i())};return V.jsx(i7,{isPresent:G,initial:!h.current||n?void 0:!1,custom:G?void 0:t,presenceAffectsLayout:r,mode:s,onExitComplete:G?void 0:R,children:P},F)})})},fs=e=>e;let jI=fs;function uw(e){let t;return()=>(t===void 0&&(t=e()),t)}const Oh=(e,t,n)=>{const i=t-e;return i===0?1:(n-e)/i},Ia=e=>e*1e3,Ca=e=>e/1e3,o7={useManualTiming:!1};function a7(e){let t=new Set,n=new Set,i=!1,r=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(u){s.has(u)&&(l.schedule(u),e()),u(o)}const l={schedule:(u,c=!1,h=!1)=>{const f=h&&i?t:n;return c&&s.add(u),f.has(u)||f.add(u),u},cancel:u=>{n.delete(u),s.delete(u)},process:u=>{if(o=u,i){r=!0;return}i=!0,[t,n]=[n,t],t.forEach(a),t.clear(),i=!1,r&&(r=!1,l.process(u))}};return l}const Mg=["read","resolveKeyframes","update","preRender","render","postRender"],l7=40;function VI(e,t){let n=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=Mg.reduce((v,A)=>(v[A]=a7(s),v),{}),{read:a,resolveKeyframes:l,update:u,preRender:c,render:h,postRender:p}=o,f=()=>{const v=performance.now();n=!1,r.delta=i?1e3/60:Math.max(Math.min(v-r.timestamp,l7),1),r.timestamp=v,r.isProcessing=!0,a.process(r),l.process(r),u.process(r),c.process(r),h.process(r),p.process(r),r.isProcessing=!1,n&&t&&(i=!1,e(f))},y=()=>{n=!0,i=!0,r.isProcessing||e(f)};return{schedule:Mg.reduce((v,A)=>{const I=o[A];return v[A]=(P,F=!1,G=!1)=>(n||y(),I.schedule(P,F,G)),v},{}),cancel:v=>{for(let A=0;A<Mg.length;A++)o[Mg[A]].cancel(v)},state:r,steps:o}}const{schedule:Rn,cancel:Xl,state:$i,steps:$y}=VI(typeof requestAnimationFrame<"u"?requestAnimationFrame:fs,!0),BI=kt.createContext({strict:!1}),rA={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Fh={};for(const e in rA)Fh[e]={isEnabled:t=>rA[e].some(n=>!!t[n])};function u7(e){for(const t in e)Fh[t]={...Fh[t],...e[t]}}const c7=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function y0(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||c7.has(e)}let UI=e=>!y0(e);function h7(e){e&&(UI=t=>t.startsWith("on")?!y0(t):e(t))}try{h7(require("@emotion/is-prop-valid").default)}catch{}function f7(e,t,n){const i={};for(const r in e)r==="values"&&typeof e.values=="object"||(UI(r)||n===!0&&y0(r)||!t&&!y0(r)||e.draggable&&r.startsWith("onDrag"))&&(i[r]=e[r]);return i}function d7(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...i)=>e(...i);return new Proxy(n,{get:(i,r)=>r==="create"?e:(t.has(r)||t.set(r,e(r)),t.get(r))})}const A1=kt.createContext({});function tp(e){return typeof e=="string"||Array.isArray(e)}function T1(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const cw=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],hw=["initial",...cw];function k1(e){return T1(e.animate)||hw.some(t=>tp(e[t]))}function zI(e){return!!(k1(e)||e.variants)}function p7(e,t){if(k1(e)){const{initial:n,animate:i}=e;return{initial:n===!1||tp(n)?n:void 0,animate:tp(i)?i:void 0}}return e.inherit!==!1?t:{}}function g7(e){const{initial:t,animate:n}=p7(e,kt.useContext(A1));return kt.useMemo(()=>({initial:t,animate:n}),[sA(t),sA(n)])}function sA(e){return Array.isArray(e)?e.join(" "):e}const m7=Symbol.for("motionComponentSymbol");function nh(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function y7(e,t,n){return kt.useCallback(i=>{i&&e.onMount&&e.onMount(i),t&&(i?t.mount(i):t.unmount()),n&&(typeof n=="function"?n(i):nh(n)&&(n.current=i))},[t])}const fw=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),v7="framerAppearId",WI="data-"+fw(v7),{schedule:dw}=VI(queueMicrotask,!1),qI=kt.createContext({});function _7(e,t,n,i,r){var s,o;const{visualElement:a}=kt.useContext(A1),l=kt.useContext(BI),u=kt.useContext(S1),c=kt.useContext(aw).reducedMotion,h=kt.useRef(null);i=i||l.renderer,!h.current&&i&&(h.current=i(e,{visualState:t,parent:a,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:c}));const p=h.current,f=kt.useContext(qI);p&&!p.projection&&r&&(p.type==="html"||p.type==="svg")&&w7(h.current,n,r,f);const y=kt.useRef(!1);kt.useInsertionEffect(()=>{p&&y.current&&p.update(n,u)});const _=n[WI],x=kt.useRef(!!_&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,_))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,_)));return FI(()=>{p&&(y.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),dw.render(p.render),x.current&&p.animationState&&p.animationState.animateChanges())}),kt.useEffect(()=>{p&&(!x.current&&p.animationState&&p.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)===null||v===void 0||v.call(window,_)}),x.current=!1))}),p}function w7(e,t,n,i){const{layoutId:r,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:HI(e.parent)),e.projection.setOptions({layoutId:r,layout:s,alwaysMeasureLayout:!!o||a&&nh(a),visualElement:e,animationType:typeof s=="string"?s:"both",initialPromotionConfig:i,layoutScroll:l,layoutRoot:u})}function HI(e){if(e)return e.options.allowProjection!==!1?e.projection:HI(e.parent)}function b7({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:i,Component:r}){var s,o;e&&u7(e);function a(u,c){let h;const p={...kt.useContext(aw),...u,layoutId:x7(u)},{isStatic:f}=p,y=g7(u),_=i(u,f);if(!f&&lw){S7();const x=A7(p);h=x.MeasureLayout,y.visualElement=_7(r,_,p,t,x.ProjectionNode)}return V.jsxs(A1.Provider,{value:y,children:[h&&y.visualElement?V.jsx(h,{visualElement:y.visualElement,...p}):null,n(r,u,y7(_,y.visualElement,c),_,f,y.visualElement)]})}a.displayName=`motion.${typeof r=="string"?r:`create(${(o=(s=r.displayName)!==null&&s!==void 0?s:r.name)!==null&&o!==void 0?o:""})`}`;const l=kt.forwardRef(a);return l[m7]=r,l}function x7({layoutId:e}){const t=kt.useContext(sw).id;return t&&e!==void 0?t+"-"+e:e}function S7(e,t){kt.useContext(BI).strict}function A7(e){const{drag:t,layout:n}=Fh;if(!t&&!n)return{};const i={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const T7=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function pw(e){return typeof e!="string"||e.includes("-")?!1:!!(T7.indexOf(e)>-1||/[A-Z]/u.test(e))}function oA(e){const t=[{},{}];return e==null||e.values.forEach((n,i)=>{t[0][i]=n.get(),t[1][i]=n.getVelocity()}),t}function gw(e,t,n,i){if(typeof t=="function"){const[r,s]=oA(i);t=t(n!==void 0?n:e.custom,r,s)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[r,s]=oA(i);t=t(n!==void 0?n:e.custom,r,s)}return t}const Y2=e=>Array.isArray(e),k7=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),E7=e=>Y2(e)?e[e.length-1]||0:e,yr=e=>!!(e&&e.getVelocity);function xm(e){const t=yr(e)?e.get():e;return k7(t)?t.toValue():t}function P7({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:n},i,r,s){const o={latestValues:I7(i,r,s,e),renderState:t()};return n&&(o.onMount=a=>n({props:i,current:a,...o}),o.onUpdate=a=>n(a)),o}const $I=e=>(t,n)=>{const i=kt.useContext(A1),r=kt.useContext(S1),s=()=>P7(e,t,i,r);return n?s():ow(s)};function I7(e,t,n,i){const r={},s=i(e,{});for(const p in s)r[p]=xm(s[p]);let{initial:o,animate:a}=e;const l=k1(e),u=zI(e);t&&u&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),a===void 0&&(a=t.animate));let c=n?n.initial===!1:!1;c=c||o===!1;const h=c?a:o;if(h&&typeof h!="boolean"&&!T1(h)){const p=Array.isArray(h)?h:[h];for(let f=0;f<p.length;f++){const y=gw(e,p[f]);if(y){const{transitionEnd:_,transition:x,...v}=y;for(const A in v){let I=v[A];if(Array.isArray(I)){const P=c?I.length-1:0;I=I[P]}I!==null&&(r[A]=I)}for(const A in _)r[A]=_[A]}}}return r}const Zh=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],mc=new Set(Zh),GI=e=>t=>typeof t=="string"&&t.startsWith(e),KI=GI("--"),C7=GI("var(--"),mw=e=>C7(e)?N7.test(e.split("/*")[0].trim()):!1,N7=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,YI=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Oa=(e,t,n)=>n>t?t:n<e?e:n,tf={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},ep={...tf,transform:e=>Oa(0,1,e)},Dg={...tf,default:1},Cp=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),_l=Cp("deg"),zo=Cp("%"),ge=Cp("px"),L7=Cp("vh"),R7=Cp("vw"),aA={...zo,parse:e=>zo.parse(e)/100,transform:e=>zo.transform(e*100)},M7={borderWidth:ge,borderTopWidth:ge,borderRightWidth:ge,borderBottomWidth:ge,borderLeftWidth:ge,borderRadius:ge,radius:ge,borderTopLeftRadius:ge,borderTopRightRadius:ge,borderBottomRightRadius:ge,borderBottomLeftRadius:ge,width:ge,maxWidth:ge,height:ge,maxHeight:ge,top:ge,right:ge,bottom:ge,left:ge,padding:ge,paddingTop:ge,paddingRight:ge,paddingBottom:ge,paddingLeft:ge,margin:ge,marginTop:ge,marginRight:ge,marginBottom:ge,marginLeft:ge,backgroundPositionX:ge,backgroundPositionY:ge},D7={rotate:_l,rotateX:_l,rotateY:_l,rotateZ:_l,scale:Dg,scaleX:Dg,scaleY:Dg,scaleZ:Dg,skew:_l,skewX:_l,skewY:_l,distance:ge,translateX:ge,translateY:ge,translateZ:ge,x:ge,y:ge,z:ge,perspective:ge,transformPerspective:ge,opacity:ep,originX:aA,originY:aA,originZ:ge},lA={...tf,transform:Math.round},yw={...M7,...D7,zIndex:lA,size:ge,fillOpacity:ep,strokeOpacity:ep,numOctaves:lA},O7={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},F7=Zh.length;function j7(e,t,n){let i="",r=!0;for(let s=0;s<F7;s++){const o=Zh[s],a=e[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const u=YI(a,yw[o]);if(!l){r=!1;const c=O7[o]||o;i+=`${c}(${u}) `}n&&(t[o]=u)}}return i=i.trim(),n?i=n(t,r?"":i):r&&(i="none"),i}function vw(e,t,n){const{style:i,vars:r,transformOrigin:s}=e;let o=!1,a=!1;for(const l in t){const u=t[l];if(mc.has(l)){o=!0;continue}else if(KI(l)){r[l]=u;continue}else{const c=YI(u,yw[l]);l.startsWith("origin")?(a=!0,s[l]=c):i[l]=c}}if(t.transform||(o||n?i.transform=j7(t,e.transform,n):i.transform&&(i.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:c=0}=s;i.transformOrigin=`${l} ${u} ${c}`}}const V7={offset:"stroke-dashoffset",array:"stroke-dasharray"},B7={offset:"strokeDashoffset",array:"strokeDasharray"};function U7(e,t,n=1,i=0,r=!0){e.pathLength=1;const s=r?V7:B7;e[s.offset]=ge.transform(-i);const o=ge.transform(t),a=ge.transform(n);e[s.array]=`${o} ${a}`}function uA(e,t,n){return typeof e=="string"?e:ge.transform(t+n*e)}function z7(e,t,n){const i=uA(t,e.x,e.width),r=uA(n,e.y,e.height);return`${i} ${r}`}function _w(e,{attrX:t,attrY:n,attrScale:i,originX:r,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...u},c,h){if(vw(e,u,h),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:p,style:f,dimensions:y}=e;p.transform&&(y&&(f.transform=p.transform),delete p.transform),y&&(r!==void 0||s!==void 0||f.transform)&&(f.transformOrigin=z7(y,r!==void 0?r:.5,s!==void 0?s:.5)),t!==void 0&&(p.x=t),n!==void 0&&(p.y=n),i!==void 0&&(p.scale=i),o!==void 0&&U7(p,o,a,l,!1)}const ww=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),XI=()=>({...ww(),attrs:{}}),bw=e=>typeof e=="string"&&e.toLowerCase()==="svg";function QI(e,{style:t,vars:n},i,r){Object.assign(e.style,t,r&&r.getProjectionStyles(i));for(const s in n)e.style.setProperty(s,n[s])}const JI=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function ZI(e,t,n,i){QI(e,t,void 0,i);for(const r in t.attrs)e.setAttribute(JI.has(r)?r:fw(r),t.attrs[r])}const v0={};function W7(e){Object.assign(v0,e)}function tC(e,{layout:t,layoutId:n}){return mc.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!v0[e]||e==="opacity")}function xw(e,t,n){var i;const{style:r}=e,s={};for(const o in r)(yr(r[o])||t.style&&yr(t.style[o])||tC(o,e)||((i=n==null?void 0:n.getValue(o))===null||i===void 0?void 0:i.liveStyle)!==void 0)&&(s[o]=r[o]);return s}function eC(e,t,n){const i=xw(e,t,n);for(const r in e)if(yr(e[r])||yr(t[r])){const s=Zh.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;i[s]=e[r]}return i}function q7(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const cA=["x","y","width","height","cx","cy","r"],H7={useVisualState:$I({scrapeMotionValuesFromProps:eC,createRenderState:XI,onUpdate:({props:e,prevProps:t,current:n,renderState:i,latestValues:r})=>{if(!n)return;let s=!!e.drag;if(!s){for(const a in r)if(mc.has(a)){s=!0;break}}if(!s)return;let o=!t;if(t)for(let a=0;a<cA.length;a++){const l=cA[a];e[l]!==t[l]&&(o=!0)}o&&Rn.read(()=>{q7(n,i),Rn.render(()=>{_w(i,r,bw(n.tagName),e.transformTemplate),ZI(n,i)})})}})},$7={useVisualState:$I({scrapeMotionValuesFromProps:xw,createRenderState:ww})};function nC(e,t,n){for(const i in t)!yr(t[i])&&!tC(i,n)&&(e[i]=t[i])}function G7({transformTemplate:e},t){return kt.useMemo(()=>{const n=ww();return vw(n,t,e),Object.assign({},n.vars,n.style)},[t])}function K7(e,t){const n=e.style||{},i={};return nC(i,n,e),Object.assign(i,G7(e,t)),i}function Y7(e,t){const n={},i=K7(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=i,n}function X7(e,t,n,i){const r=kt.useMemo(()=>{const s=XI();return _w(s,t,bw(i),e.transformTemplate),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};nC(s,e.style,e),r.style={...s,...r.style}}return r}function Q7(e=!1){return(n,i,r,{latestValues:s},o)=>{const l=(pw(n)?X7:Y7)(i,s,o,n),u=f7(i,typeof n=="string",e),c=n!==kt.Fragment?{...u,...l,ref:r}:{},{children:h}=i,p=kt.useMemo(()=>yr(h)?h.get():h,[h]);return kt.createElement(n,{...c,children:p})}}function J7(e,t){return function(i,{forwardMotionProps:r}={forwardMotionProps:!1}){const o={...pw(i)?H7:$7,preloadedFeatures:e,useRender:Q7(r),createVisualElement:t,Component:i};return b7(o)}}function iC(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}function E1(e,t,n){const i=e.getProps();return gw(i,t,n!==void 0?n:i.custom,e)}const Z7=uw(()=>window.ScrollTimeline!==void 0);class tF{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let i=0;i<this.animations.length;i++)this.animations[i][t]=n}attachTimeline(t,n){const i=this.animations.map(r=>{if(Z7()&&r.attachTimeline)return r.attachTimeline(t);if(typeof n=="function")return n(r)});return()=>{i.forEach((r,s)=>{r&&r(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class eF extends tF{then(t,n){return Promise.all(this.animations).then(t).catch(n)}}function Sw(e,t){return e?e[t]||e.default||e:void 0}const X2=2e4;function rC(e){let t=0;const n=50;let i=e.next(t);for(;!i.done&&t<X2;)t+=n,i=e.next(t);return t>=X2?1/0:t}function Aw(e){return typeof e=="function"}function hA(e,t){e.timeline=t,e.onfinish=null}const Tw=e=>Array.isArray(e)&&typeof e[0]=="number",nF={linearEasing:void 0};function iF(e,t){const n=uw(e);return()=>{var i;return(i=nF[t])!==null&&i!==void 0?i:n()}}const _0=iF(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),sC=(e,t,n=10)=>{let i="";const r=Math.max(Math.round(t/n),2);for(let s=0;s<r;s++)i+=e(Oh(0,r-1,s))+", ";return`linear(${i.substring(0,i.length-2)})`};function oC(e){return!!(typeof e=="function"&&_0()||!e||typeof e=="string"&&(e in Q2||_0())||Tw(e)||Array.isArray(e)&&e.every(oC))}const td=([e,t,n,i])=>`cubic-bezier(${e}, ${t}, ${n}, ${i})`,Q2={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:td([0,.65,.55,1]),circOut:td([.55,0,1,.45]),backIn:td([.31,.01,.66,-.59]),backOut:td([.33,1.53,.69,.99])};function aC(e,t){if(e)return typeof e=="function"&&_0()?sC(e,t):Tw(e)?td(e):Array.isArray(e)?e.map(n=>aC(n,t)||Q2.easeOut):Q2[e]}const io={x:!1,y:!1};function lC(){return io.x||io.y}function rF(e,t,n){var i;if(e instanceof Element)return[e];if(typeof e=="string"){let r=document;const s=(i=void 0)!==null&&i!==void 0?i:r.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}function uC(e,t){const n=rF(e),i=new AbortController,r={passive:!0,...t,signal:i.signal};return[n,r,()=>i.abort()]}function fA(e){return t=>{t.pointerType==="touch"||lC()||e(t)}}function sF(e,t,n={}){const[i,r,s]=uC(e,n),o=fA(a=>{const{target:l}=a,u=t(a);if(typeof u!="function"||!l)return;const c=fA(h=>{u(h),l.removeEventListener("pointerleave",c)});l.addEventListener("pointerleave",c,r)});return i.forEach(a=>{a.addEventListener("pointerenter",o,r)}),s}const cC=(e,t)=>t?e===t?!0:cC(e,t.parentElement):!1,kw=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,oF=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function aF(e){return oF.has(e.tagName)||e.tabIndex!==-1}const ed=new WeakSet;function dA(e){return t=>{t.key==="Enter"&&e(t)}}function Gy(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const lF=(e,t)=>{const n=e.currentTarget;if(!n)return;const i=dA(()=>{if(ed.has(n))return;Gy(n,"down");const r=dA(()=>{Gy(n,"up")}),s=()=>Gy(n,"cancel");n.addEventListener("keyup",r,t),n.addEventListener("blur",s,t)});n.addEventListener("keydown",i,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),t)};function pA(e){return kw(e)&&!lC()}function uF(e,t,n={}){const[i,r,s]=uC(e,n),o=a=>{const l=a.currentTarget;if(!pA(a)||ed.has(l))return;ed.add(l);const u=t(a),c=(f,y)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",p),!(!pA(f)||!ed.has(l))&&(ed.delete(l),typeof u=="function"&&u(f,{success:y}))},h=f=>{c(f,n.useGlobalTarget||cC(l,f.target))},p=f=>{c(f,!1)};window.addEventListener("pointerup",h,r),window.addEventListener("pointercancel",p,r)};return i.forEach(a=>{!aF(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0),(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,r),a.addEventListener("focus",u=>lF(u,r),r)}),s}function cF(e){return e==="x"||e==="y"?io[e]?null:(io[e]=!0,()=>{io[e]=!1}):io.x||io.y?null:(io.x=io.y=!0,()=>{io.x=io.y=!1})}const hC=new Set(["width","height","top","left","right","bottom",...Zh]);let Sm;function hF(){Sm=void 0}const Wo={now:()=>(Sm===void 0&&Wo.set($i.isProcessing||o7.useManualTiming?$i.timestamp:performance.now()),Sm),set:e=>{Sm=e,queueMicrotask(hF)}};function Ew(e,t){e.indexOf(t)===-1&&e.push(t)}function Pw(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Iw{constructor(){this.subscriptions=[]}add(t){return Ew(this.subscriptions,t),()=>Pw(this.subscriptions,t)}notify(t,n,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](t,n,i);else for(let s=0;s<r;s++){const o=this.subscriptions[s];o&&o(t,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function fC(e,t){return t?e*(1e3/t):0}const gA=30,fF=e=>!isNaN(parseFloat(e));class dF{constructor(t,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,r=!0)=>{const s=Wo.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Wo.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=fF(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Iw);const i=this.events[t].add(n);return t==="change"?()=>{i(),Rn.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Wo.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>gA)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,gA);return fC(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function np(e,t){return new dF(e,t)}function pF(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,np(n))}function gF(e,t){const n=E1(e,t);let{transitionEnd:i={},transition:r={},...s}=n||{};s={...s,...i};for(const o in s){const a=E7(s[o]);pF(e,o,a)}}function mF(e){return!!(yr(e)&&e.add)}function J2(e,t){const n=e.getValue("willChange");if(mF(n))return n.add(t)}function dC(e){return e.props[WI]}const pC=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,yF=1e-7,vF=12;function _F(e,t,n,i,r){let s,o,a=0;do o=t+(n-t)/2,s=pC(o,i,r)-e,s>0?n=o:t=o;while(Math.abs(s)>yF&&++a<vF);return o}function Np(e,t,n,i){if(e===t&&n===i)return fs;const r=s=>_F(s,0,1,e,n);return s=>s===0||s===1?s:pC(r(s),t,i)}const gC=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,mC=e=>t=>1-e(1-t),yC=Np(.33,1.53,.69,.99),Cw=mC(yC),vC=gC(Cw),_C=e=>(e*=2)<1?.5*Cw(e):.5*(2-Math.pow(2,-10*(e-1))),Nw=e=>1-Math.sin(Math.acos(e)),wC=mC(Nw),bC=gC(Nw),xC=e=>/^0[^.\s]+$/u.test(e);function wF(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||xC(e):!0}const _d=e=>Math.round(e*1e5)/1e5,Lw=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function bF(e){return e==null}const xF=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Rw=(e,t)=>n=>!!(typeof n=="string"&&xF.test(n)&&n.startsWith(e)||t&&!bF(n)&&Object.prototype.hasOwnProperty.call(n,t)),SC=(e,t,n)=>i=>{if(typeof i!="string")return i;const[r,s,o,a]=i.match(Lw);return{[e]:parseFloat(r),[t]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},SF=e=>Oa(0,255,e),Ky={...tf,transform:e=>Math.round(SF(e))},Bu={test:Rw("rgb","red"),parse:SC("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:i=1})=>"rgba("+Ky.transform(e)+", "+Ky.transform(t)+", "+Ky.transform(n)+", "+_d(ep.transform(i))+")"};function AF(e){let t="",n="",i="",r="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),i=e.substring(5,7),r=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),i=e.substring(3,4),r=e.substring(4,5),t+=t,n+=n,i+=i,r+=r),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const Z2={test:Rw("#"),parse:AF,transform:Bu.transform},ih={test:Rw("hsl","hue"),parse:SC("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:i=1})=>"hsla("+Math.round(e)+", "+zo.transform(_d(t))+", "+zo.transform(_d(n))+", "+_d(ep.transform(i))+")"},dr={test:e=>Bu.test(e)||Z2.test(e)||ih.test(e),parse:e=>Bu.test(e)?Bu.parse(e):ih.test(e)?ih.parse(e):Z2.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Bu.transform(e):ih.transform(e)},TF=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function kF(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Lw))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(TF))===null||n===void 0?void 0:n.length)||0)>0}const AC="number",TC="color",EF="var",PF="var(",mA="${}",IF=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ip(e){const t=e.toString(),n=[],i={color:[],number:[],var:[]},r=[];let s=0;const a=t.replace(IF,l=>(dr.test(l)?(i.color.push(s),r.push(TC),n.push(dr.parse(l))):l.startsWith(PF)?(i.var.push(s),r.push(EF),n.push(l)):(i.number.push(s),r.push(AC),n.push(parseFloat(l))),++s,mA)).split(mA);return{values:n,split:a,indexes:i,types:r}}function kC(e){return ip(e).values}function EC(e){const{split:t,types:n}=ip(e),i=t.length;return r=>{let s="";for(let o=0;o<i;o++)if(s+=t[o],r[o]!==void 0){const a=n[o];a===AC?s+=_d(r[o]):a===TC?s+=dr.transform(r[o]):s+=r[o]}return s}}const CF=e=>typeof e=="number"?0:e;function NF(e){const t=kC(e);return EC(e)(t.map(CF))}const Ql={test:kF,parse:kC,createTransformer:EC,getAnimatableNone:NF},LF=new Set(["brightness","contrast","saturate","opacity"]);function RF(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[i]=n.match(Lw)||[];if(!i)return e;const r=n.replace(i,"");let s=LF.has(t)?1:0;return i!==n&&(s*=100),t+"("+s+r+")"}const MF=/\b([a-z-]*)\(.*?\)/gu,t5={...Ql,getAnimatableNone:e=>{const t=e.match(MF);return t?t.map(RF).join(" "):e}},DF={...yw,color:dr,backgroundColor:dr,outlineColor:dr,fill:dr,stroke:dr,borderColor:dr,borderTopColor:dr,borderRightColor:dr,borderBottomColor:dr,borderLeftColor:dr,filter:t5,WebkitFilter:t5},Mw=e=>DF[e];function PC(e,t){let n=Mw(e);return n!==t5&&(n=Ql),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const OF=new Set(["auto","none","0"]);function FF(e,t,n){let i=0,r;for(;i<e.length&&!r;){const s=e[i];typeof s=="string"&&!OF.has(s)&&ip(s).values.length&&(r=e[i]),i++}if(r&&n)for(const s of t)e[s]=PC(n,r)}const yA=e=>e===tf||e===ge,vA=(e,t)=>parseFloat(e.split(", ")[t]),_A=(e,t)=>(n,{transform:i})=>{if(i==="none"||!i)return 0;const r=i.match(/^matrix3d\((.+)\)$/u);if(r)return vA(r[1],t);{const s=i.match(/^matrix\((.+)\)$/u);return s?vA(s[1],e):0}},jF=new Set(["x","y","z"]),VF=Zh.filter(e=>!jF.has(e));function BF(e){const t=[];return VF.forEach(n=>{const i=e.getValue(n);i!==void 0&&(t.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),t}const jh={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:_A(4,13),y:_A(5,14)};jh.translateX=jh.x;jh.translateY=jh.y;const $u=new Set;let e5=!1,n5=!1;function IC(){if(n5){const e=Array.from($u).filter(i=>i.needsMeasurement),t=new Set(e.map(i=>i.element)),n=new Map;t.forEach(i=>{const r=BF(i);r.length&&(n.set(i,r),i.render())}),e.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const r=n.get(i);r&&r.forEach(([s,o])=>{var a;(a=i.getValue(s))===null||a===void 0||a.set(o)})}),e.forEach(i=>i.measureEndState()),e.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}n5=!1,e5=!1,$u.forEach(e=>e.complete()),$u.clear()}function CC(){$u.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(n5=!0)})}function UF(){CC(),IC()}class Dw{constructor(t,n,i,r,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=i,this.motionValue=r,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?($u.add(this),e5||(e5=!0,Rn.read(CC),Rn.resolveKeyframes(IC))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:i,motionValue:r}=this;for(let s=0;s<t.length;s++)if(t[s]===null)if(s===0){const o=r==null?void 0:r.get(),a=t[t.length-1];if(o!==void 0)t[0]=o;else if(i&&n){const l=i.readValue(n,a);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=a),r&&o===void 0&&r.set(t[0])}else t[s]=t[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),$u.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,$u.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const NC=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),zF=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function WF(e){const t=zF.exec(e);if(!t)return[,];const[,n,i,r]=t;return[`--${n??i}`,r]}function LC(e,t,n=1){const[i,r]=WF(e);if(!i)return;const s=window.getComputedStyle(t).getPropertyValue(i);if(s){const o=s.trim();return NC(o)?parseFloat(o):o}return mw(r)?LC(r,t,n+1):r}const RC=e=>t=>t.test(e),qF={test:e=>e==="auto",parse:e=>e},MC=[tf,ge,zo,_l,R7,L7,qF],wA=e=>MC.find(RC(e));class DC extends Dw{constructor(t,n,i,r,s){super(t,n,i,r,s,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let u=t[l];if(typeof u=="string"&&(u=u.trim(),mw(u))){const c=LC(u,n.current);c!==void 0&&(t[l]=c),l===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!hC.has(i)||t.length!==2)return;const[r,s]=t,o=wA(r),a=wA(s);if(o!==a)if(yA(o)&&yA(a))for(let l=0;l<t.length;l++){const u=t[l];typeof u=="string"&&(t[l]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,i=[];for(let r=0;r<t.length;r++)wF(t[r])&&i.push(r);i.length&&FF(t,i,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=jh[i](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const r=n[n.length-1];r!==void 0&&t.getValue(i,r).jump(r,!1)}measureEndState(){var t;const{element:n,name:i,unresolvedKeyframes:r}=this;if(!n||!n.current)return;const s=n.getValue(i);s&&s.jump(this.measuredOrigin,!1);const o=r.length-1,a=r[o];r[o]=jh[i](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([l,u])=>{n.getValue(l).set(u)}),this.resolveNoneKeyframes()}}const bA=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ql.test(e)||e==="0")&&!e.startsWith("url("));function HF(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function $F(e,t,n,i){const r=e[0];if(r===null)return!1;if(t==="display"||t==="visibility")return!0;const s=e[e.length-1],o=bA(r,t),a=bA(s,t);return!o||!a?!1:HF(e)||(n==="spring"||Aw(n))&&i}const GF=e=>e!==null;function P1(e,{repeat:t,repeatType:n="loop"},i){const r=e.filter(GF),s=t&&n!=="loop"&&t%2===1?0:r.length-1;return!s||i===void 0?r[s]:i}const KF=40;class OC{constructor({autoplay:t=!0,delay:n=0,type:i="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Wo.now(),this.options={autoplay:t,delay:n,type:i,repeat:r,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>KF?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&UF(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=Wo.now(),this.hasAttemptedResolve=!0;const{name:i,type:r,velocity:s,delay:o,onComplete:a,onUpdate:l,isGenerator:u}=this.options;if(!u&&!$F(t,i,r,s))if(o)this.options.duration=0;else{l&&l(P1(t,this.options,n)),a&&a(),this.resolveFinishedPromise();return}const c=this.initPlayback(t,n);c!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...c},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const Hn=(e,t,n)=>e+(t-e)*n;function Yy(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function YF({hue:e,saturation:t,lightness:n,alpha:i}){e/=360,t/=100,n/=100;let r=0,s=0,o=0;if(!t)r=s=o=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;r=Yy(l,a,e+1/3),s=Yy(l,a,e),o=Yy(l,a,e-1/3)}return{red:Math.round(r*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:i}}function w0(e,t){return n=>n>0?t:e}const Xy=(e,t,n)=>{const i=e*e,r=n*(t*t-i)+i;return r<0?0:Math.sqrt(r)},XF=[Z2,Bu,ih],QF=e=>XF.find(t=>t.test(e));function xA(e){const t=QF(e);if(!t)return!1;let n=t.parse(e);return t===ih&&(n=YF(n)),n}const SA=(e,t)=>{const n=xA(e),i=xA(t);if(!n||!i)return w0(e,t);const r={...n};return s=>(r.red=Xy(n.red,i.red,s),r.green=Xy(n.green,i.green,s),r.blue=Xy(n.blue,i.blue,s),r.alpha=Hn(n.alpha,i.alpha,s),Bu.transform(r))},JF=(e,t)=>n=>t(e(n)),Lp=(...e)=>e.reduce(JF),i5=new Set(["none","hidden"]);function ZF(e,t){return i5.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function tj(e,t){return n=>Hn(e,t,n)}function Ow(e){return typeof e=="number"?tj:typeof e=="string"?mw(e)?w0:dr.test(e)?SA:ij:Array.isArray(e)?FC:typeof e=="object"?dr.test(e)?SA:ej:w0}function FC(e,t){const n=[...e],i=n.length,r=e.map((s,o)=>Ow(s)(s,t[o]));return s=>{for(let o=0;o<i;o++)n[o]=r[o](s);return n}}function ej(e,t){const n={...e,...t},i={};for(const r in n)e[r]!==void 0&&t[r]!==void 0&&(i[r]=Ow(e[r])(e[r],t[r]));return r=>{for(const s in i)n[s]=i[s](r);return n}}function nj(e,t){var n;const i=[],r={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const o=t.types[s],a=e.indexes[o][r[o]],l=(n=e.values[a])!==null&&n!==void 0?n:0;i[s]=l,r[o]++}return i}const ij=(e,t)=>{const n=Ql.createTransformer(t),i=ip(e),r=ip(t);return i.indexes.var.length===r.indexes.var.length&&i.indexes.color.length===r.indexes.color.length&&i.indexes.number.length>=r.indexes.number.length?i5.has(e)&&!r.values.length||i5.has(t)&&!i.values.length?ZF(e,t):Lp(FC(nj(i,r),r.values),n):w0(e,t)};function jC(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Hn(e,t,n):Ow(e)(e,t)}const rj=5;function VC(e,t,n){const i=Math.max(t-rj,0);return fC(n-e(i),t-i)}const ti={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Qy=.001;function sj({duration:e=ti.duration,bounce:t=ti.bounce,velocity:n=ti.velocity,mass:i=ti.mass}){let r,s,o=1-t;o=Oa(ti.minDamping,ti.maxDamping,o),e=Oa(ti.minDuration,ti.maxDuration,Ca(e)),o<1?(r=u=>{const c=u*o,h=c*e,p=c-n,f=r5(u,o),y=Math.exp(-h);return Qy-p/f*y},s=u=>{const h=u*o*e,p=h*n+n,f=Math.pow(o,2)*Math.pow(u,2)*e,y=Math.exp(-h),_=r5(Math.pow(u,2),o);return(-r(u)+Qy>0?-1:1)*((p-f)*y)/_}):(r=u=>{const c=Math.exp(-u*e),h=(u-n)*e+1;return-Qy+c*h},s=u=>{const c=Math.exp(-u*e),h=(n-u)*(e*e);return c*h});const a=5/e,l=aj(r,s,a);if(e=Ia(e),isNaN(l))return{stiffness:ti.stiffness,damping:ti.damping,duration:e};{const u=Math.pow(l,2)*i;return{stiffness:u,damping:o*2*Math.sqrt(i*u),duration:e}}}const oj=12;function aj(e,t,n){let i=n;for(let r=1;r<oj;r++)i=i-e(i)/t(i);return i}function r5(e,t){return e*Math.sqrt(1-t*t)}const lj=["duration","bounce"],uj=["stiffness","damping","mass"];function AA(e,t){return t.some(n=>e[n]!==void 0)}function cj(e){let t={velocity:ti.velocity,stiffness:ti.stiffness,damping:ti.damping,mass:ti.mass,isResolvedFromDuration:!1,...e};if(!AA(e,uj)&&AA(e,lj))if(e.visualDuration){const n=e.visualDuration,i=2*Math.PI/(n*1.2),r=i*i,s=2*Oa(.05,1,1-(e.bounce||0))*Math.sqrt(r);t={...t,mass:ti.mass,stiffness:r,damping:s}}else{const n=sj(e);t={...t,...n,mass:ti.mass},t.isResolvedFromDuration=!0}return t}function BC(e=ti.visualDuration,t=ti.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:i,restDelta:r}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:u,mass:c,duration:h,velocity:p,isResolvedFromDuration:f}=cj({...n,velocity:-Ca(n.velocity||0)}),y=p||0,_=u/(2*Math.sqrt(l*c)),x=o-s,v=Ca(Math.sqrt(l/c)),A=Math.abs(x)<5;i||(i=A?ti.restSpeed.granular:ti.restSpeed.default),r||(r=A?ti.restDelta.granular:ti.restDelta.default);let I;if(_<1){const F=r5(v,_);I=G=>{const R=Math.exp(-_*v*G);return o-R*((y+_*v*x)/F*Math.sin(F*G)+x*Math.cos(F*G))}}else if(_===1)I=F=>o-Math.exp(-v*F)*(x+(y+v*x)*F);else{const F=v*Math.sqrt(_*_-1);I=G=>{const R=Math.exp(-_*v*G),T=Math.min(F*G,300);return o-R*((y+_*v*x)*Math.sinh(T)+F*x*Math.cosh(T))/F}}const P={calculatedDuration:f&&h||null,next:F=>{const G=I(F);if(f)a.done=F>=h;else{let R=0;_<1&&(R=F===0?Ia(y):VC(I,F,G));const T=Math.abs(R)<=i,E=Math.abs(o-G)<=r;a.done=T&&E}return a.value=a.done?o:G,a},toString:()=>{const F=Math.min(rC(P),X2),G=sC(R=>P.next(F*R).value,F,30);return F+"ms "+G}};return P}function TA({keyframes:e,velocity:t=0,power:n=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:c}){const h=e[0],p={done:!1,value:h},f=T=>a!==void 0&&T<a||l!==void 0&&T>l,y=T=>a===void 0?l:l===void 0||Math.abs(a-T)<Math.abs(l-T)?a:l;let _=n*t;const x=h+_,v=o===void 0?x:o(x);v!==x&&(_=v-h);const A=T=>-_*Math.exp(-T/i),I=T=>v+A(T),P=T=>{const E=A(T),D=I(T);p.done=Math.abs(E)<=u,p.value=p.done?v:D};let F,G;const R=T=>{f(p.value)&&(F=T,G=BC({keyframes:[p.value,y(p.value)],velocity:VC(I,T,p.value),damping:r,stiffness:s,restDelta:u,restSpeed:c}))};return R(0),{calculatedDuration:null,next:T=>{let E=!1;return!G&&F===void 0&&(E=!0,P(T),R(T)),F!==void 0&&T>=F?G.next(T-F):(!E&&P(T),p)}}}const hj=Np(.42,0,1,1),fj=Np(0,0,.58,1),UC=Np(.42,0,.58,1),dj=e=>Array.isArray(e)&&typeof e[0]!="number",pj={linear:fs,easeIn:hj,easeInOut:UC,easeOut:fj,circIn:Nw,circInOut:bC,circOut:wC,backIn:Cw,backInOut:vC,backOut:yC,anticipate:_C},kA=e=>{if(Tw(e)){jI(e.length===4);const[t,n,i,r]=e;return Np(t,n,i,r)}else if(typeof e=="string")return pj[e];return e};function gj(e,t,n){const i=[],r=n||jC,s=e.length-1;for(let o=0;o<s;o++){let a=r(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||fs:t;a=Lp(l,a)}i.push(a)}return i}function mj(e,t,{clamp:n=!0,ease:i,mixer:r}={}){const s=e.length;if(jI(s===t.length),s===1)return()=>t[0];if(s===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=gj(t,i,r),l=a.length,u=c=>{if(o&&c<e[0])return t[0];let h=0;if(l>1)for(;h<e.length-2&&!(c<e[h+1]);h++);const p=Oh(e[h],e[h+1],c);return a[h](p)};return n?c=>u(Oa(e[0],e[s-1],c)):u}function yj(e,t){const n=e[e.length-1];for(let i=1;i<=t;i++){const r=Oh(0,t,i);e.push(Hn(n,1,r))}}function vj(e){const t=[0];return yj(t,e.length-1),t}function _j(e,t){return e.map(n=>n*t)}function wj(e,t){return e.map(()=>t||UC).splice(0,e.length-1)}function b0({duration:e=300,keyframes:t,times:n,ease:i="easeInOut"}){const r=dj(i)?i.map(kA):kA(i),s={done:!1,value:t[0]},o=_j(n&&n.length===t.length?n:vj(t),e),a=mj(o,t,{ease:Array.isArray(r)?r:wj(t,r)});return{calculatedDuration:e,next:l=>(s.value=a(l),s.done=l>=e,s)}}const bj=e=>{const t=({timestamp:n})=>e(n);return{start:()=>Rn.update(t,!0),stop:()=>Xl(t),now:()=>$i.isProcessing?$i.timestamp:Wo.now()}},xj={decay:TA,inertia:TA,tween:b0,keyframes:b0,spring:BC},Sj=e=>e/100;class Fw extends OC{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:i,element:r,keyframes:s}=this.options,o=(r==null?void 0:r.KeyframeResolver)||Dw,a=(l,u)=>this.onKeyframesResolved(l,u);this.resolver=new o(s,a,n,i,r),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:i=0,repeatDelay:r=0,repeatType:s,velocity:o=0}=this.options,a=Aw(n)?n:xj[n]||b0;let l,u;a!==b0&&typeof t[0]!="number"&&(l=Lp(Sj,jC(t[0],t[1])),t=[0,100]);const c=a({...this.options,keyframes:t});s==="mirror"&&(u=a({...this.options,keyframes:[...t].reverse(),velocity:-o})),c.calculatedDuration===null&&(c.calculatedDuration=rC(c));const{calculatedDuration:h}=c,p=h+r,f=p*(i+1)-r;return{generator:c,mirroredGenerator:u,mapPercentToKeyframes:l,calculatedDuration:h,resolvedDuration:p,totalDuration:f}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:i}=this;if(!i){const{keyframes:T}=this.options;return{done:!0,value:T[T.length-1]}}const{finalKeyframe:r,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:u,totalDuration:c,resolvedDuration:h}=i;if(this.startTime===null)return s.next(0);const{delay:p,repeat:f,repeatType:y,repeatDelay:_,onUpdate:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-c/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const v=this.currentTime-p*(this.speed>=0?1:-1),A=this.speed>=0?v<0:v>c;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=c);let I=this.currentTime,P=s;if(f){const T=Math.min(this.currentTime,c)/h;let E=Math.floor(T),D=T%1;!D&&T>=1&&(D=1),D===1&&E--,E=Math.min(E,f+1),!!(E%2)&&(y==="reverse"?(D=1-D,_&&(D-=_/h)):y==="mirror"&&(P=o)),I=Oa(0,1,D)*h}const F=A?{done:!1,value:l[0]}:P.next(I);a&&(F.value=a(F.value));let{done:G}=F;!A&&u!==null&&(G=this.speed>=0?this.currentTime>=c:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&G);return R&&r!==void 0&&(F.value=P1(l,this.options,r)),x&&x(F.value),R&&this.finish(),F}get duration(){const{resolved:t}=this;return t?Ca(t.calculatedDuration):0}get time(){return Ca(this.currentTime)}set time(t){t=Ia(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Ca(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=bj,onPlay:n,startTime:i}=this.options;this.driver||(this.driver=t(s=>this.tick(s))),n&&n();const r=this.driver.now();this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=r):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const Aj=new Set(["opacity","clipPath","filter","transform"]);function Tj(e,t,n,{delay:i=0,duration:r=300,repeat:s=0,repeatType:o="loop",ease:a="easeInOut",times:l}={}){const u={[t]:n};l&&(u.offset=l);const c=aC(a,r);return Array.isArray(c)&&(u.easing=c),e.animate(u,{delay:i,duration:r,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const kj=uw(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),x0=10,Ej=2e4;function Pj(e){return Aw(e.type)||e.type==="spring"||!oC(e.ease)}function Ij(e,t){const n=new Fw({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:e[0]};const r=[];let s=0;for(;!i.done&&s<Ej;)i=n.sample(s),r.push(i.value),s+=x0;return{times:void 0,keyframes:r,duration:s-x0,ease:"linear"}}const zC={anticipate:_C,backInOut:vC,circInOut:bC};function Cj(e){return e in zC}class EA extends OC{constructor(t){super(t);const{name:n,motionValue:i,element:r,keyframes:s}=this.options;this.resolver=new DC(s,(o,a)=>this.onKeyframesResolved(o,a),n,i,r),this.resolver.scheduleResolve()}initPlayback(t,n){let{duration:i=300,times:r,ease:s,type:o,motionValue:a,name:l,startTime:u}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof s=="string"&&_0()&&Cj(s)&&(s=zC[s]),Pj(this.options)){const{onComplete:h,onUpdate:p,motionValue:f,element:y,..._}=this.options,x=Ij(t,_);t=x.keyframes,t.length===1&&(t[1]=t[0]),i=x.duration,r=x.times,s=x.ease,o="keyframes"}const c=Tj(a.owner.current,l,t,{...this.options,duration:i,times:r,ease:s});return c.startTime=u??this.calcStartTime(),this.pendingTimeline?(hA(c,this.pendingTimeline),this.pendingTimeline=void 0):c.onfinish=()=>{const{onComplete:h}=this.options;a.set(P1(t,this.options,n)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:c,duration:i,times:r,type:o,ease:s,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return Ca(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return Ca(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.currentTime=Ia(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return fs;const{animation:i}=n;hA(i,t)}return fs}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:i,duration:r,type:s,ease:o,times:a}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:c,onComplete:h,element:p,...f}=this.options,y=new Fw({...f,keyframes:i,duration:r,type:s,ease:o,times:a,isGenerator:!0}),_=Ia(this.time);u.setWithVelocity(y.sample(_-x0).value,y.sample(_).value,x0)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:i,repeatDelay:r,repeatType:s,damping:o,type:a}=t;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=n.owner.getProps();return kj()&&i&&Aj.has(i)&&!l&&!u&&!r&&s!=="mirror"&&o!==0&&a!=="inertia"}}const Nj={type:"spring",stiffness:500,damping:25,restSpeed:10},Lj=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Rj={type:"keyframes",duration:.8},Mj={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Dj=(e,{keyframes:t})=>t.length>2?Rj:mc.has(e)?e.startsWith("scale")?Lj(t[1]):Nj:Mj;function Oj({when:e,delay:t,delayChildren:n,staggerChildren:i,staggerDirection:r,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...c}){return!!Object.keys(c).length}const jw=(e,t,n,i={},r,s)=>o=>{const a=Sw(i,e)||{},l=a.delay||i.delay||0;let{elapsed:u=0}=i;u=u-Ia(l);let c={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-u,onUpdate:p=>{t.set(p),a.onUpdate&&a.onUpdate(p)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:s?void 0:r};Oj(a)||(c={...c,...Dj(e,c)}),c.duration&&(c.duration=Ia(c.duration)),c.repeatDelay&&(c.repeatDelay=Ia(c.repeatDelay)),c.from!==void 0&&(c.keyframes[0]=c.from);let h=!1;if((c.type===!1||c.duration===0&&!c.repeatDelay)&&(c.duration=0,c.delay===0&&(h=!0)),h&&!s&&t.get()!==void 0){const p=P1(c.keyframes,a);if(p!==void 0)return Rn.update(()=>{c.onUpdate(p),c.onComplete()}),new eF([])}return!s&&EA.supports(c)?new EA(c):new Fw(c)};function Fj({protectedKeys:e,needsAnimating:t},n){const i=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,i}function WC(e,t,{delay:n=0,transitionOverride:i,type:r}={}){var s;let{transition:o=e.getDefaultTransition(),transitionEnd:a,...l}=t;i&&(o=i);const u=[],c=r&&e.animationState&&e.animationState.getState()[r];for(const h in l){const p=e.getValue(h,(s=e.latestValues[h])!==null&&s!==void 0?s:null),f=l[h];if(f===void 0||c&&Fj(c,h))continue;const y={delay:n,...Sw(o||{},h)};let _=!1;if(window.MotionHandoffAnimation){const v=dC(e);if(v){const A=window.MotionHandoffAnimation(v,h,Rn);A!==null&&(y.startTime=A,_=!0)}}J2(e,h),p.start(jw(h,p,f,e.shouldReduceMotion&&hC.has(h)?{type:!1}:y,e,_));const x=p.animation;x&&u.push(x)}return a&&Promise.all(u).then(()=>{Rn.update(()=>{a&&gF(e,a)})}),u}function s5(e,t,n={}){var i;const r=E1(e,t,n.type==="exit"?(i=e.presenceContext)===null||i===void 0?void 0:i.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const o=r?()=>Promise.all(WC(e,r,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:c=0,staggerChildren:h,staggerDirection:p}=s;return jj(e,t,c+u,h,p,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[u,c]=l==="beforeChildren"?[o,a]:[a,o];return u().then(()=>c())}else return Promise.all([o(),a(n.delay)])}function jj(e,t,n=0,i=0,r=1,s){const o=[],a=(e.variantChildren.size-1)*i,l=r===1?(u=0)=>u*i:(u=0)=>a-u*i;return Array.from(e.variantChildren).sort(Vj).forEach((u,c)=>{u.notify("AnimationStart",t),o.push(s5(u,t,{...s,delay:n+l(c)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function Vj(e,t){return e.sortNodePosition(t)}function Bj(e,t,n={}){e.notify("AnimationStart",t);let i;if(Array.isArray(t)){const r=t.map(s=>s5(e,s,n));i=Promise.all(r)}else if(typeof t=="string")i=s5(e,t,n);else{const r=typeof t=="function"?E1(e,t,n.custom):t;i=Promise.all(WC(e,r,n))}return i.then(()=>{e.notify("AnimationComplete",t)})}const Uj=hw.length;function qC(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?qC(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<Uj;n++){const i=hw[n],r=e.props[i];(tp(r)||r===!1)&&(t[i]=r)}return t}const zj=[...cw].reverse(),Wj=cw.length;function qj(e){return t=>Promise.all(t.map(({animation:n,options:i})=>Bj(e,n,i)))}function Hj(e){let t=qj(e),n=PA(),i=!0;const r=l=>(u,c)=>{var h;const p=E1(e,c,l==="exit"?(h=e.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(p){const{transition:f,transitionEnd:y,..._}=p;u={...u,..._,...y}}return u};function s(l){t=l(e)}function o(l){const{props:u}=e,c=qC(e.parent)||{},h=[],p=new Set;let f={},y=1/0;for(let x=0;x<Wj;x++){const v=zj[x],A=n[v],I=u[v]!==void 0?u[v]:c[v],P=tp(I),F=v===l?A.isActive:null;F===!1&&(y=x);let G=I===c[v]&&I!==u[v]&&P;if(G&&i&&e.manuallyAnimateOnMount&&(G=!1),A.protectedKeys={...f},!A.isActive&&F===null||!I&&!A.prevProp||T1(I)||typeof I=="boolean")continue;const R=$j(A.prevProp,I);let T=R||v===l&&A.isActive&&!G&&P||x>y&&P,E=!1;const D=Array.isArray(I)?I:[I];let k=D.reduce(r(v),{});F===!1&&(k={});const{prevResolvedValues:N={}}=A,M={...N,...k},H=ot=>{T=!0,p.has(ot)&&(E=!0,p.delete(ot)),A.needsAnimating[ot]=!0;const tt=e.getValue(ot);tt&&(tt.liveStyle=!1)};for(const ot in M){const tt=k[ot],at=N[ot];if(f.hasOwnProperty(ot))continue;let vt=!1;Y2(tt)&&Y2(at)?vt=!iC(tt,at):vt=tt!==at,vt?tt!=null?H(ot):p.add(ot):tt!==void 0&&p.has(ot)?H(ot):A.protectedKeys[ot]=!0}A.prevProp=I,A.prevResolvedValues=k,A.isActive&&(f={...f,...k}),i&&e.blockInitialAnimation&&(T=!1),T&&(!(G&&R)||E)&&h.push(...D.map(ot=>({animation:ot,options:{type:v}})))}if(p.size){const x={};p.forEach(v=>{const A=e.getBaseTarget(v),I=e.getValue(v);I&&(I.liveStyle=!0),x[v]=A??null}),h.push({animation:x})}let _=!!h.length;return i&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(_=!1),i=!1,_?t(h):Promise.resolve()}function a(l,u){var c;if(n[l].isActive===u)return Promise.resolve();(c=e.variantChildren)===null||c===void 0||c.forEach(p=>{var f;return(f=p.animationState)===null||f===void 0?void 0:f.setActive(l,u)}),n[l].isActive=u;const h=o(l);for(const p in n)n[p].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=PA(),i=!0}}}function $j(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!iC(t,e):!1}function Au(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function PA(){return{animate:Au(!0),whileInView:Au(),whileHover:Au(),whileTap:Au(),whileDrag:Au(),whileFocus:Au(),exit:Au()}}class au{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Gj extends au{constructor(t){super(t),t.animationState||(t.animationState=Hj(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();T1(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let Kj=0;class Yj extends au{constructor(){super(...arguments),this.id=Kj++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const r=this.node.animationState.setActive("exit",!t);n&&!t&&r.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const Xj={animation:{Feature:Gj},exit:{Feature:Yj}};function rp(e,t,n,i={passive:!0}){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n)}function Rp(e){return{point:{x:e.pageX,y:e.pageY}}}const Qj=e=>t=>kw(t)&&e(t,Rp(t));function wd(e,t,n,i){return rp(e,t,Qj(n),i)}const IA=(e,t)=>Math.abs(e-t);function Jj(e,t){const n=IA(e.x,t.x),i=IA(e.y,t.y);return Math.sqrt(n**2+i**2)}class HC{constructor(t,n,{transformPagePoint:i,contextWindow:r,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Zy(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,f=Jj(h.offset,{x:0,y:0})>=3;if(!p&&!f)return;const{point:y}=h,{timestamp:_}=$i;this.history.push({...y,timestamp:_});const{onStart:x,onMove:v}=this.handlers;p||(x&&x(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,h)},this.handlePointerMove=(h,p)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Jy(p,this.transformPagePoint),Rn.update(this.updatePoint,!0)},this.handlePointerUp=(h,p)=>{this.end();const{onEnd:f,onSessionEnd:y,resumeAnimation:_}=this.handlers;if(this.dragSnapToOrigin&&_&&_(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=Zy(h.type==="pointercancel"?this.lastMoveEventInfo:Jy(p,this.transformPagePoint),this.history);this.startEvent&&f&&f(h,x),y&&y(h,x)},!kw(t))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=i,this.contextWindow=r||window;const o=Rp(t),a=Jy(o,this.transformPagePoint),{point:l}=a,{timestamp:u}=$i;this.history=[{...l,timestamp:u}];const{onSessionStart:c}=n;c&&c(t,Zy(a,this.history)),this.removeListeners=Lp(wd(this.contextWindow,"pointermove",this.handlePointerMove),wd(this.contextWindow,"pointerup",this.handlePointerUp),wd(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Xl(this.updatePoint)}}function Jy(e,t){return t?{point:t(e.point)}:e}function CA(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Zy({point:e},t){return{point:e,delta:CA(e,$C(t)),offset:CA(e,Zj(t)),velocity:t9(t,.1)}}function Zj(e){return e[0]}function $C(e){return e[e.length-1]}function t9(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,i=null;const r=$C(e);for(;n>=0&&(i=e[n],!(r.timestamp-i.timestamp>Ia(t)));)n--;if(!i)return{x:0,y:0};const s=Ca(r.timestamp-i.timestamp);if(s===0)return{x:0,y:0};const o={x:(r.x-i.x)/s,y:(r.y-i.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const GC=1e-4,e9=1-GC,n9=1+GC,KC=.01,i9=0-KC,r9=0+KC;function gs(e){return e.max-e.min}function s9(e,t,n){return Math.abs(e-t)<=n}function NA(e,t,n,i=.5){e.origin=i,e.originPoint=Hn(t.min,t.max,e.origin),e.scale=gs(n)/gs(t),e.translate=Hn(n.min,n.max,e.origin)-e.originPoint,(e.scale>=e9&&e.scale<=n9||isNaN(e.scale))&&(e.scale=1),(e.translate>=i9&&e.translate<=r9||isNaN(e.translate))&&(e.translate=0)}function bd(e,t,n,i){NA(e.x,t.x,n.x,i?i.originX:void 0),NA(e.y,t.y,n.y,i?i.originY:void 0)}function LA(e,t,n){e.min=n.min+t.min,e.max=e.min+gs(t)}function o9(e,t,n){LA(e.x,t.x,n.x),LA(e.y,t.y,n.y)}function RA(e,t,n){e.min=t.min-n.min,e.max=e.min+gs(t)}function xd(e,t,n){RA(e.x,t.x,n.x),RA(e.y,t.y,n.y)}function a9(e,{min:t,max:n},i){return t!==void 0&&e<t?e=i?Hn(t,e,i.min):Math.max(e,t):n!==void 0&&e>n&&(e=i?Hn(n,e,i.max):Math.min(e,n)),e}function MA(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function l9(e,{top:t,left:n,bottom:i,right:r}){return{x:MA(e.x,n,r),y:MA(e.y,t,i)}}function DA(e,t){let n=t.min-e.min,i=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,i]=[i,n]),{min:n,max:i}}function u9(e,t){return{x:DA(e.x,t.x),y:DA(e.y,t.y)}}function c9(e,t){let n=.5;const i=gs(e),r=gs(t);return r>i?n=Oh(t.min,t.max-i,e.min):i>r&&(n=Oh(e.min,e.max-r,t.min)),Oa(0,1,n)}function h9(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const o5=.35;function f9(e=o5){return e===!1?e=0:e===!0&&(e=o5),{x:OA(e,"left","right"),y:OA(e,"top","bottom")}}function OA(e,t,n){return{min:FA(e,t),max:FA(e,n)}}function FA(e,t){return typeof e=="number"?e:e[t]||0}const jA=()=>({translate:0,scale:1,origin:0,originPoint:0}),rh=()=>({x:jA(),y:jA()}),VA=()=>({min:0,max:0}),ui=()=>({x:VA(),y:VA()});function Ms(e){return[e("x"),e("y")]}function YC({top:e,left:t,right:n,bottom:i}){return{x:{min:t,max:n},y:{min:e,max:i}}}function d9({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function p9(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),i=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function tv(e){return e===void 0||e===1}function a5({scale:e,scaleX:t,scaleY:n}){return!tv(e)||!tv(t)||!tv(n)}function Cu(e){return a5(e)||XC(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function XC(e){return BA(e.x)||BA(e.y)}function BA(e){return e&&e!=="0%"}function S0(e,t,n){const i=e-n,r=t*i;return n+r}function UA(e,t,n,i,r){return r!==void 0&&(e=S0(e,r,i)),S0(e,n,i)+t}function l5(e,t=0,n=1,i,r){e.min=UA(e.min,t,n,i,r),e.max=UA(e.max,t,n,i,r)}function QC(e,{x:t,y:n}){l5(e.x,t.translate,t.scale,t.originPoint),l5(e.y,n.translate,n.scale,n.originPoint)}const zA=.999999999999,WA=1.0000000000001;function g9(e,t,n,i=!1){const r=n.length;if(!r)return;t.x=t.y=1;let s,o;for(let a=0;a<r;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(i&&s.options.layoutScroll&&s.scroll&&s!==s.root&&oh(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,QC(e,o)),i&&Cu(s.latestValues)&&oh(e,s.latestValues))}t.x<WA&&t.x>zA&&(t.x=1),t.y<WA&&t.y>zA&&(t.y=1)}function sh(e,t){e.min=e.min+t,e.max=e.max+t}function qA(e,t,n,i,r=.5){const s=Hn(e.min,e.max,r);l5(e,t,n,s,i)}function oh(e,t){qA(e.x,t.x,t.scaleX,t.scale,t.originX),qA(e.y,t.y,t.scaleY,t.scale,t.originY)}function JC(e,t){return YC(p9(e.getBoundingClientRect(),t))}function m9(e,t,n){const i=JC(e,n),{scroll:r}=t;return r&&(sh(i.x,r.offset.x),sh(i.y,r.offset.y)),i}const ZC=({current:e})=>e?e.ownerDocument.defaultView:null,y9=new WeakMap;class v9{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ui(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const r=c=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Rp(c).point)},s=(c,h)=>{const{drag:p,dragPropagation:f,onDragStart:y}=this.getProps();if(p&&!f&&(this.openDragLock&&this.openDragLock(),this.openDragLock=cF(p),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ms(x=>{let v=this.getAxisMotionValue(x).get()||0;if(zo.test(v)){const{projection:A}=this.visualElement;if(A&&A.layout){const I=A.layout.layoutBox[x];I&&(v=gs(I)*(parseFloat(v)/100))}}this.originPoint[x]=v}),y&&Rn.postRender(()=>y(c,h)),J2(this.visualElement,"transform");const{animationState:_}=this.visualElement;_&&_.setActive("whileDrag",!0)},o=(c,h)=>{const{dragPropagation:p,dragDirectionLock:f,onDirectionLock:y,onDrag:_}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:x}=h;if(f&&this.currentDirection===null){this.currentDirection=_9(x),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",h.point,x),this.updateAxis("y",h.point,x),this.visualElement.render(),_&&_(c,h)},a=(c,h)=>this.stop(c,h),l=()=>Ms(c=>{var h;return this.getAnimationState(c)==="paused"&&((h=this.getAxisMotionValue(c).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new HC(t,{onSessionStart:r,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:ZC(this.visualElement)})}stop(t,n){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:r}=n;this.startAnimation(r);const{onDragEnd:s}=this.getProps();s&&Rn.postRender(()=>s(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,i){const{drag:r}=this.getProps();if(!i||!Og(t,r,this.currentDirection))return;const s=this.getAxisMotionValue(t);let o=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(o=a9(o,this.constraints[t],this.elastic[t])),s.set(o)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:i}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,s=this.constraints;n&&nh(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&r?this.constraints=l9(r.layoutBox,n):this.constraints=!1,this.elastic=f9(i),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Ms(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=h9(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!nh(t))return!1;const i=t.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const s=m9(i,r.root,this.visualElement.getTransformPagePoint());let o=u9(r.layout.layoutBox,s);if(n){const a=n(d9(o));this.hasMutatedConstraints=!!a,a&&(o=YC(a))}return o}startAnimation(t){const{drag:n,dragMomentum:i,dragElastic:r,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=Ms(c=>{if(!Og(c,n,this.currentDirection))return;let h=l&&l[c]||{};o&&(h={min:0,max:0});const p=r?200:1e6,f=r?40:1e7,y={type:"inertia",velocity:i?t[c]:0,bounceStiffness:p,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(c,y)});return Promise.all(u).then(a)}startAxisValueAnimation(t,n){const i=this.getAxisMotionValue(t);return J2(this.visualElement,t),i.start(jw(t,i,0,n,this.visualElement,!1))}stopAnimation(){Ms(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Ms(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),r=i[n];return r||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){Ms(n=>{const{drag:i}=this.getProps();if(!Og(n,i,this.currentDirection))return;const{projection:r}=this.visualElement,s=this.getAxisMotionValue(n);if(r&&r.layout){const{min:o,max:a}=r.layout.layoutBox[n];s.set(t[n]-Hn(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!nh(n)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Ms(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();r[o]=c9({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Ms(o=>{if(!Og(o,t,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(Hn(l,u,r[o]))})}addListeners(){if(!this.visualElement.current)return;y9.set(this.visualElement,this);const t=this.visualElement.current,n=wd(t,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),i=()=>{const{dragConstraints:l}=this.getProps();nh(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,s=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),Rn.read(i);const o=rp(window,"resize",()=>this.scalePositionWithinConstraints()),a=r.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(Ms(c=>{const h=this.getAxisMotionValue(c);h&&(this.originPoint[c]+=l[c].translate,h.set(h.get()+l[c].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:s=!1,dragElastic:o=o5,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:i,dragPropagation:r,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Og(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function _9(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class w9 extends au{constructor(t){super(t),this.removeGroupControls=fs,this.removeListeners=fs,this.controls=new v9(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||fs}unmount(){this.removeGroupControls(),this.removeListeners()}}const HA=e=>(t,n)=>{e&&Rn.postRender(()=>e(t,n))};class b9 extends au{constructor(){super(...arguments),this.removePointerDownListener=fs}onPointerDown(t){this.session=new HC(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:ZC(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:HA(t),onStart:HA(n),onMove:i,onEnd:(s,o)=>{delete this.session,r&&Rn.postRender(()=>r(s,o))}}}mount(){this.removePointerDownListener=wd(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Am={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function $A(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Bf={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(ge.test(e))e=parseFloat(e);else return e;const n=$A(e,t.target.x),i=$A(e,t.target.y);return`${n}% ${i}%`}},x9={correct:(e,{treeScale:t,projectionDelta:n})=>{const i=e,r=Ql.parse(e);if(r.length>5)return i;const s=Ql.createTransformer(e),o=typeof r[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;r[0+o]/=a,r[1+o]/=l;const u=Hn(a,l,.5);return typeof r[2+o]=="number"&&(r[2+o]/=u),typeof r[3+o]=="number"&&(r[3+o]/=u),s(r)}};class S9 extends kt.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i,layoutId:r}=this.props,{projection:s}=t;W7(A9),s&&(n.group&&n.group.add(s),i&&i.register&&r&&i.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Am.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:i,drag:r,isPresent:s}=this.props,o=i.projection;return o&&(o.isPresent=s,r||t.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?o.promote():o.relegate()||Rn.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),dw.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:r}=t;r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function tN(e){const[t,n]=OI(),i=kt.useContext(sw);return V.jsx(S9,{...e,layoutGroup:i,switchLayoutGroup:kt.useContext(qI),isPresent:t,safeToRemove:n})}const A9={borderRadius:{...Bf,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Bf,borderTopRightRadius:Bf,borderBottomLeftRadius:Bf,borderBottomRightRadius:Bf,boxShadow:x9};function T9(e,t,n){const i=yr(e)?e:np(e);return i.start(jw("",i,t,n)),i.animation}function k9(e){return e instanceof SVGElement&&e.tagName!=="svg"}const E9=(e,t)=>e.depth-t.depth;class P9{constructor(){this.children=[],this.isDirty=!1}add(t){Ew(this.children,t),this.isDirty=!0}remove(t){Pw(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(E9),this.isDirty=!1,this.children.forEach(t)}}function I9(e,t){const n=Wo.now(),i=({timestamp:r})=>{const s=r-n;s>=t&&(Xl(i),e(s-t))};return Rn.read(i,!0),()=>Xl(i)}const eN=["TopLeft","TopRight","BottomLeft","BottomRight"],C9=eN.length,GA=e=>typeof e=="string"?parseFloat(e):e,KA=e=>typeof e=="number"||ge.test(e);function N9(e,t,n,i,r,s){r?(e.opacity=Hn(0,n.opacity!==void 0?n.opacity:1,L9(i)),e.opacityExit=Hn(t.opacity!==void 0?t.opacity:1,0,R9(i))):s&&(e.opacity=Hn(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,i));for(let o=0;o<C9;o++){const a=`border${eN[o]}Radius`;let l=YA(t,a),u=YA(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||KA(l)===KA(u)?(e[a]=Math.max(Hn(GA(l),GA(u),i),0),(zo.test(u)||zo.test(l))&&(e[a]+="%")):e[a]=u}(t.rotate||n.rotate)&&(e.rotate=Hn(t.rotate||0,n.rotate||0,i))}function YA(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const L9=nN(0,.5,wC),R9=nN(.5,.95,fs);function nN(e,t,n){return i=>i<e?0:i>t?1:n(Oh(e,t,i))}function XA(e,t){e.min=t.min,e.max=t.max}function Ls(e,t){XA(e.x,t.x),XA(e.y,t.y)}function QA(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function JA(e,t,n,i,r){return e-=t,e=S0(e,1/n,i),r!==void 0&&(e=S0(e,1/r,i)),e}function M9(e,t=0,n=1,i=.5,r,s=e,o=e){if(zo.test(t)&&(t=parseFloat(t),t=Hn(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=Hn(s.min,s.max,i);e===s&&(a-=t),e.min=JA(e.min,t,n,a,r),e.max=JA(e.max,t,n,a,r)}function ZA(e,t,[n,i,r],s,o){M9(e,t[n],t[i],t[r],t.scale,s,o)}const D9=["x","scaleX","originX"],O9=["y","scaleY","originY"];function t4(e,t,n,i){ZA(e.x,t,D9,n?n.x:void 0,i?i.x:void 0),ZA(e.y,t,O9,n?n.y:void 0,i?i.y:void 0)}function e4(e){return e.translate===0&&e.scale===1}function iN(e){return e4(e.x)&&e4(e.y)}function n4(e,t){return e.min===t.min&&e.max===t.max}function F9(e,t){return n4(e.x,t.x)&&n4(e.y,t.y)}function i4(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function rN(e,t){return i4(e.x,t.x)&&i4(e.y,t.y)}function r4(e){return gs(e.x)/gs(e.y)}function s4(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class j9{constructor(){this.members=[]}add(t){Ew(this.members,t),t.scheduleRender()}remove(t){if(Pw(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(r=>t===r);if(n===0)return!1;let i;for(let r=n;r>=0;r--){const s=this.members[r];if(s.isPresent!==!1){i=s;break}}return i?(this.promote(i),!0):!1}promote(t,n){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender(),t.resumeFrom=i,n&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:r}=t.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:i}=t;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function V9(e,t,n){let i="";const r=e.x.translate/t.x,s=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((r||s||o)&&(i=`translate3d(${r}px, ${s}px, ${o}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:c,rotateX:h,rotateY:p,skewX:f,skewY:y}=n;u&&(i=`perspective(${u}px) ${i}`),c&&(i+=`rotate(${c}deg) `),h&&(i+=`rotateX(${h}deg) `),p&&(i+=`rotateY(${p}deg) `),f&&(i+=`skewX(${f}deg) `),y&&(i+=`skewY(${y}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(i+=`scale(${a}, ${l})`),i||"none"}const Nu={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},nd=typeof window<"u"&&window.MotionDebug!==void 0,ev=["","X","Y","Z"],B9={visibility:"hidden"},o4=1e3;let U9=0;function nv(e,t,n,i){const{latestValues:r}=t;r[e]&&(n[e]=r[e],t.setStaticValue(e,0),i&&(i[e]=0))}function sN(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=dC(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:r,layoutId:s}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Rn,!(r||s))}const{parent:i}=e;i&&!i.hasCheckedOptimisedAppear&&sN(i)}function oN({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(o={},a=t==null?void 0:t()){this.id=U9++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,nd&&(Nu.totalNodes=Nu.resolvedTargetDeltas=Nu.recalculatedProjection=0),this.nodes.forEach(q9),this.nodes.forEach(Y9),this.nodes.forEach(X9),this.nodes.forEach(H9),nd&&window.MotionDebug.record(Nu)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new P9)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Iw),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=k9(o),this.instance=o;const{layoutId:l,layout:u,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),e){let h;const p=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=I9(p,250),Am.hasAnimatedSinceResize&&(Am.hasAnimatedSinceResize=!1,this.nodes.forEach(l4))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&c&&(l||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:p,hasRelativeTargetChanged:f,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const _=this.options.transition||c.getDefaultTransition()||eV,{onLayoutAnimationStart:x,onLayoutAnimationComplete:v}=c.getProps(),A=!this.targetLayout||!rN(this.targetLayout,y)||f,I=!p&&f;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||I||p&&(A||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,I);const P={...Sw(_,"layout"),onPlay:x,onComplete:v};(c.shouldReduceMotion||this.options.layoutRoot)&&(P.delay=0,P.type=!1),this.startAnimation(P)}else p||l4(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Xl(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Q9),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&sN(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const h=this.path[c];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(a4);return}this.isUpdating||this.nodes.forEach(G9),this.isUpdating=!1,this.nodes.forEach(K9),this.nodes.forEach(z9),this.nodes.forEach(W9),this.clearAllSnapshots();const a=Wo.now();$i.delta=Oa(0,1e3/60,a-$i.timestamp),$i.timestamp=a,$i.isProcessing=!0,$y.update.process($i),$y.preRender.process($i),$y.render.process($i),$i.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,dw.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach($9),this.sharedNodes.forEach(J9)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Rn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Rn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ui(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=i(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!r)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!iN(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;o&&(a||Cu(this.latestValues)||c)&&(r(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),nV(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return ui();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(iV))){const{scroll:c}=this.root;c&&(sh(l.x,c.offset.x),sh(l.y,c.offset.y))}return l}removeElementScroll(o){var a;const l=ui();if(Ls(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let u=0;u<this.path.length;u++){const c=this.path[u],{scroll:h,options:p}=c;c!==this.root&&h&&p.layoutScroll&&(h.wasRoot&&Ls(l,o),sh(l.x,h.offset.x),sh(l.y,h.offset.y))}return l}applyTransform(o,a=!1){const l=ui();Ls(l,o);for(let u=0;u<this.path.length;u++){const c=this.path[u];!a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&oh(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),Cu(c.latestValues)&&oh(l,c.latestValues)}return Cu(this.latestValues)&&oh(l,this.latestValues),l}removeTransform(o){const a=ui();Ls(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!Cu(u.latestValues))continue;a5(u.latestValues)&&u.updateSnapshot();const c=ui(),h=u.measurePageBox();Ls(c,h),t4(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return Cu(this.latestValues)&&t4(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==$i.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:p}=this.options;if(!(!this.layout||!(h||p))){if(this.resolvedRelativeTargetAt=$i.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ui(),this.relativeTargetOrigin=ui(),xd(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),Ls(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ui(),this.targetWithTransforms=ui()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),o9(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ls(this.target,this.layout.layoutBox),QC(this.target,this.targetDelta)):Ls(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ui(),this.relativeTargetOrigin=ui(),xd(this.relativeTargetOrigin,this.target,f.target),Ls(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}nd&&Nu.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||a5(this.parent.latestValues)||XC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===$i.timestamp&&(u=!1),u)return;const{layout:c,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||h))return;Ls(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,f=this.treeScale.y;g9(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=ui());const{target:y}=a;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(QA(this.prevProjectionDelta.x,this.projectionDelta.x),QA(this.prevProjectionDelta.y,this.projectionDelta.y)),bd(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==f||!s4(this.projectionDelta.x,this.prevProjectionDelta.x)||!s4(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y)),nd&&Nu.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=rh(),this.projectionDelta=rh(),this.projectionDeltaWithTransform=rh()}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},h=rh();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=ui(),f=l?l.source:void 0,y=this.layout?this.layout.source:void 0,_=f!==y,x=this.getStack(),v=!x||x.members.length<=1,A=!!(_&&!v&&this.options.crossfade===!0&&!this.path.some(tV));this.animationProgress=0;let I;this.mixTargetDelta=P=>{const F=P/1e3;u4(h.x,o.x,F),u4(h.y,o.y,F),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(xd(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Z9(this.relativeTarget,this.relativeTargetOrigin,p,F),I&&F9(this.relativeTarget,I)&&(this.isProjectionDirty=!1),I||(I=ui()),Ls(I,this.relativeTarget)),_&&(this.animationValues=c,N9(c,u,this.latestValues,F,A,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=F},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Xl(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Rn.update(()=>{Am.hasAnimatedSinceResize=!0,this.currentAnimation=T9(0,o4,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(o4),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:c}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&aN(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||ui();const h=gs(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const p=gs(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}Ls(a,l),oh(a,c),bd(this.projectionDeltaWithTransform,this.layoutCorrected,a,c)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new j9),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&nv("z",o,u,this.animationValues);for(let c=0;c<ev.length;c++)nv(`rotate${ev[c]}`,o,u,this.animationValues),nv(`skew${ev[c]}`,o,u,this.animationValues);o.render();for(const c in u)o.setStaticValue(c,u[c]),this.animationValues&&(this.animationValues[c]=u[c]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return B9;const u={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=xm(o==null?void 0:o.pointerEvents)||"",u.transform=c?c(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const _={};return this.options.layoutId&&(_.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,_.pointerEvents=xm(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Cu(this.latestValues)&&(_.transform=c?c({},""):"none",this.hasProjected=!1),_}const p=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=V9(this.projectionDeltaWithTransform,this.treeScale,p),c&&(u.transform=c(p,u.transform));const{x:f,y}=this.projectionDelta;u.transformOrigin=`${f.origin*100}% ${y.origin*100}% 0`,h.animationValues?u.opacity=h===this?(l=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:u.opacity=h===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const _ in v0){if(p[_]===void 0)continue;const{correct:x,applyTo:v}=v0[_],A=u.transform==="none"?p[_]:x(p[_],h);if(v){const I=v.length;for(let P=0;P<I;P++)u[v[P]]=A}else u[_]=A}return this.options.layoutId&&(u.pointerEvents=h===this?xm(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(a4),this.root.sharedNodes.clear()}}}function z9(e){e.updateLayout()}function W9(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:r}=e.layout,{animationType:s}=e.options,o=n.source!==e.layout.source;s==="size"?Ms(h=>{const p=o?n.measuredBox[h]:n.layoutBox[h],f=gs(p);p.min=i[h].min,p.max=p.min+f}):aN(s,n.layoutBox,i)&&Ms(h=>{const p=o?n.measuredBox[h]:n.layoutBox[h],f=gs(i[h]);p.max=p.min+f,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+f)});const a=rh();bd(a,i,n.layoutBox);const l=rh();o?bd(l,e.applyTransform(r,!0),n.measuredBox):bd(l,i,n.layoutBox);const u=!iN(a);let c=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:p,layout:f}=h;if(p&&f){const y=ui();xd(y,n.layoutBox,p.layoutBox);const _=ui();xd(_,i,f.layoutBox),rN(y,_)||(c=!0),h.options.layoutRoot&&(e.relativeTarget=_,e.relativeTargetOrigin=y,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:i,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:c})}else if(e.isLead()){const{onExitComplete:i}=e.options;i&&i()}e.options.transition=void 0}function q9(e){nd&&Nu.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function H9(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function $9(e){e.clearSnapshot()}function a4(e){e.clearMeasurements()}function G9(e){e.isLayoutDirty=!1}function K9(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function l4(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Y9(e){e.resolveTargetDelta()}function X9(e){e.calcProjection()}function Q9(e){e.resetSkewAndRotation()}function J9(e){e.removeLeadSnapshot()}function u4(e,t,n){e.translate=Hn(t.translate,0,n),e.scale=Hn(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function c4(e,t,n,i){e.min=Hn(t.min,n.min,i),e.max=Hn(t.max,n.max,i)}function Z9(e,t,n,i){c4(e.x,t.x,n.x,i),c4(e.y,t.y,n.y,i)}function tV(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const eV={duration:.45,ease:[.4,0,.1,1]},h4=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),f4=h4("applewebkit/")&&!h4("chrome/")?Math.round:fs;function d4(e){e.min=f4(e.min),e.max=f4(e.max)}function nV(e){d4(e.x),d4(e.y)}function aN(e,t,n){return e==="position"||e==="preserve-aspect"&&!s9(r4(t),r4(n),.2)}function iV(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const rV=oN({attachResizeListener:(e,t)=>rp(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),iv={current:void 0},lN=oN({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!iv.current){const e=new rV({});e.mount(window),e.setOptions({layoutScroll:!0}),iv.current=e}return iv.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),sV={pan:{Feature:b9},drag:{Feature:w9,ProjectionNode:lN,MeasureLayout:tN}};function p4(e,t,n){const{props:i}=e;e.animationState&&i.whileHover&&e.animationState.setActive("whileHover",n==="Start");const r="onHover"+n,s=i[r];s&&Rn.postRender(()=>s(t,Rp(t)))}class oV extends au{mount(){const{current:t}=this.node;t&&(this.unmount=sF(t,n=>(p4(this.node,n,"Start"),i=>p4(this.node,i,"End"))))}unmount(){}}class aV extends au{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Lp(rp(this.node.current,"focus",()=>this.onFocus()),rp(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function g4(e,t,n){const{props:i}=e;e.animationState&&i.whileTap&&e.animationState.setActive("whileTap",n==="Start");const r="onTap"+(n==="End"?"":n),s=i[r];s&&Rn.postRender(()=>s(t,Rp(t)))}class lV extends au{mount(){const{current:t}=this.node;t&&(this.unmount=uF(t,n=>(g4(this.node,n,"Start"),(i,{success:r})=>g4(this.node,i,r?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const u5=new WeakMap,rv=new WeakMap,uV=e=>{const t=u5.get(e.target);t&&t(e)},cV=e=>{e.forEach(uV)};function hV({root:e,...t}){const n=e||document;rv.has(n)||rv.set(n,{});const i=rv.get(n),r=JSON.stringify(t);return i[r]||(i[r]=new IntersectionObserver(cV,{root:e,...t})),i[r]}function fV(e,t,n){const i=hV(t);return u5.set(e,n),i.observe(e),()=>{u5.delete(e),i.unobserve(e)}}const dV={some:0,all:1};class pV extends au{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:i,amount:r="some",once:s}=t,o={root:n?n.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:dV[r]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:h}=this.node.getProps(),p=u?c:h;p&&p(l)};return fV(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(gV(t,n))&&this.startObserver()}unmount(){}}function gV({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const mV={inView:{Feature:pV},tap:{Feature:lV},focus:{Feature:aV},hover:{Feature:oV}},yV={layout:{ProjectionNode:lN,MeasureLayout:tN}},c5={current:null},uN={current:!1};function vV(){if(uN.current=!0,!!lw)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>c5.current=e.matches;e.addListener(t),t()}else c5.current=!1}const _V=[...MC,dr,Ql],wV=e=>_V.find(RC(e)),m4=new WeakMap;function bV(e,t,n){for(const i in t){const r=t[i],s=n[i];if(yr(r))e.addValue(i,r);else if(yr(s))e.addValue(i,np(r,{owner:e}));else if(s!==r)if(e.hasValue(i)){const o=e.getValue(i);o.liveStyle===!0?o.jump(r):o.hasAnimated||o.set(r)}else{const o=e.getStaticValue(i);e.addValue(i,np(o!==void 0?o:r,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const y4=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class xV{scrapeMotionValuesFromProps(t,n,i){return{}}constructor({parent:t,props:n,presenceContext:i,reducedMotionConfig:r,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Dw,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=Wo.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,Rn.render(this.render,!1,!0))};const{latestValues:l,renderState:u,onUpdate:c}=o;this.onUpdate=c,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=r,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=k1(n),this.isVariantNode=zI(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:h,...p}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in p){const y=p[f];l[f]!==void 0&&yr(y)&&y.set(l[f],!1)}}mount(t){this.current=t,m4.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),uN.current||vV(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:c5.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){m4.delete(this.current),this.projection&&this.projection.unmount(),Xl(this.notifyUpdate),Xl(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const i=mc.has(t),r=n.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&Rn.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{r(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Fh){const n=Fh[t];if(!n)continue;const{isEnabled:i,Feature:r}=n;if(!this.features[t]&&r&&i(this.props)&&(this.features[t]=new r(this)),this.features[t]){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ui()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<y4.length;i++){const r=y4[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const s="on"+r,o=t[s];o&&(this.propEventSubscriptions[r]=this.on(r,o))}this.prevMotionValues=bV(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const i=this.values.get(t);n!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&n!==void 0&&(i=np(n===null?void 0:n,{owner:this}),this.addValue(t,i)),i}readValue(t,n){var i;let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(i=this.getBaseTargetFromProps(this.props,t))!==null&&i!==void 0?i:this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(NC(r)||xC(r))?r=parseFloat(r):!wV(r)&&Ql.test(n)&&(r=PC(t,n)),this.setBaseTarget(t,yr(r)?r.get():r)),yr(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:i}=this.props;let r;if(typeof i=="string"||typeof i=="object"){const o=gw(this.props,i,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(r=o[t])}if(i&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!yr(s)?s:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Iw),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class cN extends xV{constructor(){super(...arguments),this.KeyframeResolver=DC}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:i}){delete n[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;yr(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function SV(e){return window.getComputedStyle(e)}class AV extends cN{constructor(){super(...arguments),this.type="html",this.renderInstance=QI}readValueFromInstance(t,n){if(mc.has(n)){const i=Mw(n);return i&&i.default||0}else{const i=SV(t),r=(KI(n)?i.getPropertyValue(n):i[n])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(t,{transformPagePoint:n}){return JC(t,n)}build(t,n,i){vw(t,n,i.transformTemplate)}scrapeMotionValuesFromProps(t,n,i){return xw(t,n,i)}}class TV extends cN{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ui}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(mc.has(n)){const i=Mw(n);return i&&i.default||0}return n=JI.has(n)?n:fw(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,i){return eC(t,n,i)}build(t,n,i){_w(t,n,this.isSVGTag,i.transformTemplate)}renderInstance(t,n,i,r){ZI(t,n,i,r)}mount(t){this.isSVGTag=bw(t.tagName),super.mount(t)}}const kV=(e,t)=>pw(e)?new TV(t):new AV(t,{allowProjection:e!==kt.Fragment}),EV=J7({...Xj,...mV,...sV,...yV},kV),PV=d7(EV);/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Mp(e){return e+.5|0}const Il=(e,t,n)=>Math.max(Math.min(e,n),t);function id(e){return Il(Mp(e*2.55),0,255)}function Wl(e){return Il(Mp(e*255),0,255)}function ya(e){return Il(Mp(e/2.55)/100,0,1)}function v4(e){return Il(Mp(e*100),0,100)}const Rs={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},h5=[..."0123456789ABCDEF"],IV=e=>h5[e&15],CV=e=>h5[(e&240)>>4]+h5[e&15],Fg=e=>(e&240)>>4===(e&15),NV=e=>Fg(e.r)&&Fg(e.g)&&Fg(e.b)&&Fg(e.a);function LV(e){var t=e.length,n;return e[0]==="#"&&(t===4||t===5?n={r:255&Rs[e[1]]*17,g:255&Rs[e[2]]*17,b:255&Rs[e[3]]*17,a:t===5?Rs[e[4]]*17:255}:(t===7||t===9)&&(n={r:Rs[e[1]]<<4|Rs[e[2]],g:Rs[e[3]]<<4|Rs[e[4]],b:Rs[e[5]]<<4|Rs[e[6]],a:t===9?Rs[e[7]]<<4|Rs[e[8]]:255})),n}const RV=(e,t)=>e<255?t(e):"";function MV(e){var t=NV(e)?IV:CV;return e?"#"+t(e.r)+t(e.g)+t(e.b)+RV(e.a,t):void 0}const DV=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function hN(e,t,n){const i=t*Math.min(n,1-n),r=(s,o=(s+e/30)%12)=>n-i*Math.max(Math.min(o-3,9-o,1),-1);return[r(0),r(8),r(4)]}function OV(e,t,n){const i=(r,s=(r+e/60)%6)=>n-n*t*Math.max(Math.min(s,4-s,1),0);return[i(5),i(3),i(1)]}function FV(e,t,n){const i=hN(e,1,.5);let r;for(t+n>1&&(r=1/(t+n),t*=r,n*=r),r=0;r<3;r++)i[r]*=1-t-n,i[r]+=t;return i}function jV(e,t,n,i,r){return e===r?(t-n)/i+(t<n?6:0):t===r?(n-e)/i+2:(e-t)/i+4}function Vw(e){const n=e.r/255,i=e.g/255,r=e.b/255,s=Math.max(n,i,r),o=Math.min(n,i,r),a=(s+o)/2;let l,u,c;return s!==o&&(c=s-o,u=a>.5?c/(2-s-o):c/(s+o),l=jV(n,i,r,c,s),l=l*60+.5),[l|0,u||0,a]}function Bw(e,t,n,i){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,i)).map(Wl)}function Uw(e,t,n){return Bw(hN,e,t,n)}function VV(e,t,n){return Bw(FV,e,t,n)}function BV(e,t,n){return Bw(OV,e,t,n)}function fN(e){return(e%360+360)%360}function UV(e){const t=DV.exec(e);let n=255,i;if(!t)return;t[5]!==i&&(n=t[6]?id(+t[5]):Wl(+t[5]));const r=fN(+t[2]),s=+t[3]/100,o=+t[4]/100;return t[1]==="hwb"?i=VV(r,s,o):t[1]==="hsv"?i=BV(r,s,o):i=Uw(r,s,o),{r:i[0],g:i[1],b:i[2],a:n}}function zV(e,t){var n=Vw(e);n[0]=fN(n[0]+t),n=Uw(n),e.r=n[0],e.g=n[1],e.b=n[2]}function WV(e){if(!e)return;const t=Vw(e),n=t[0],i=v4(t[1]),r=v4(t[2]);return e.a<255?`hsla(${n}, ${i}%, ${r}%, ${ya(e.a)})`:`hsl(${n}, ${i}%, ${r}%)`}const _4={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},w4={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function qV(){const e={},t=Object.keys(w4),n=Object.keys(_4);let i,r,s,o,a;for(i=0;i<t.length;i++){for(o=a=t[i],r=0;r<n.length;r++)s=n[r],a=a.replace(s,_4[s]);s=parseInt(w4[o],16),e[a]=[s>>16&255,s>>8&255,s&255]}return e}let jg;function HV(e){jg||(jg=qV(),jg.transparent=[0,0,0,0]);const t=jg[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const $V=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function GV(e){const t=$V.exec(e);let n=255,i,r,s;if(t){if(t[7]!==i){const o=+t[7];n=t[8]?id(o):Il(o*255,0,255)}return i=+t[1],r=+t[3],s=+t[5],i=255&(t[2]?id(i):Il(i,0,255)),r=255&(t[4]?id(r):Il(r,0,255)),s=255&(t[6]?id(s):Il(s,0,255)),{r:i,g:r,b:s,a:n}}}function KV(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${ya(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const sv=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,Mc=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function YV(e,t,n){const i=Mc(ya(e.r)),r=Mc(ya(e.g)),s=Mc(ya(e.b));return{r:Wl(sv(i+n*(Mc(ya(t.r))-i))),g:Wl(sv(r+n*(Mc(ya(t.g))-r))),b:Wl(sv(s+n*(Mc(ya(t.b))-s))),a:e.a+n*(t.a-e.a)}}function Vg(e,t,n){if(e){let i=Vw(e);i[t]=Math.max(0,Math.min(i[t]+i[t]*n,t===0?360:1)),i=Uw(i),e.r=i[0],e.g=i[1],e.b=i[2]}}function dN(e,t){return e&&Object.assign(t||{},e)}function b4(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=Wl(e[3]))):(t=dN(e,{r:0,g:0,b:0,a:1}),t.a=Wl(t.a)),t}function XV(e){return e.charAt(0)==="r"?GV(e):UV(e)}class sp{constructor(t){if(t instanceof sp)return t;const n=typeof t;let i;n==="object"?i=b4(t):n==="string"&&(i=LV(t)||HV(t)||XV(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=dN(this._rgb);return t&&(t.a=ya(t.a)),t}set rgb(t){this._rgb=b4(t)}rgbString(){return this._valid?KV(this._rgb):void 0}hexString(){return this._valid?MV(this._rgb):void 0}hslString(){return this._valid?WV(this._rgb):void 0}mix(t,n){if(t){const i=this.rgb,r=t.rgb;let s;const o=n===s?.5:n,a=2*o-1,l=i.a-r.a,u=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;s=1-u,i.r=255&u*i.r+s*r.r+.5,i.g=255&u*i.g+s*r.g+.5,i.b=255&u*i.b+s*r.b+.5,i.a=o*i.a+(1-o)*r.a,this.rgb=i}return this}interpolate(t,n){return t&&(this._rgb=YV(this._rgb,t._rgb,n)),this}clone(){return new sp(this.rgb)}alpha(t){return this._rgb.a=Wl(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=Mp(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Vg(this._rgb,2,t),this}darken(t){return Vg(this._rgb,2,-t),this}saturate(t){return Vg(this._rgb,1,t),this}desaturate(t){return Vg(this._rgb,1,-t),this}rotate(t){return zV(this._rgb,t),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function ca(){}const QV=(()=>{let e=0;return()=>e++})();function ln(e){return e==null}function Ei(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Qe(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function qs(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function Lo(e,t){return qs(e)?e:t}function Me(e,t){return typeof e>"u"?t:e}const JV=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,pN=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function Cn(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function fn(e,t,n,i){let r,s,o;if(Ei(e))for(s=e.length,r=0;r<s;r++)t.call(n,e[r],r);else if(Qe(e))for(o=Object.keys(e),s=o.length,r=0;r<s;r++)t.call(n,e[o[r]],o[r])}function A0(e,t){let n,i,r,s;if(!e||!t||e.length!==t.length)return!1;for(n=0,i=e.length;n<i;++n)if(r=e[n],s=t[n],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function T0(e){if(Ei(e))return e.map(T0);if(Qe(e)){const t=Object.create(null),n=Object.keys(e),i=n.length;let r=0;for(;r<i;++r)t[n[r]]=T0(e[n[r]]);return t}return e}function gN(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function ZV(e,t,n,i){if(!gN(e))return;const r=t[e],s=n[e];Qe(r)&&Qe(s)?op(r,s,i):t[e]=T0(s)}function op(e,t,n){const i=Ei(t)?t:[t],r=i.length;if(!Qe(e))return e;n=n||{};const s=n.merger||ZV;let o;for(let a=0;a<r;++a){if(o=i[a],!Qe(o))continue;const l=Object.keys(o);for(let u=0,c=l.length;u<c;++u)s(l[u],e,o,n)}return e}function Sd(e,t){return op(e,t,{merger:tB})}function tB(e,t,n){if(!gN(e))return;const i=t[e],r=n[e];Qe(i)&&Qe(r)?Sd(i,r):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=T0(r))}const x4={"":e=>e,x:e=>e.x,y:e=>e.y};function eB(e){const t=e.split("."),n=[];let i="";for(const r of t)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function nB(e){const t=eB(e);return n=>{for(const i of t){if(i==="")break;n=n&&n[i]}return n}}function ic(e,t){return(x4[t]||(x4[t]=nB(t)))(e)}function zw(e){return e.charAt(0).toUpperCase()+e.slice(1)}const ap=e=>typeof e<"u",Jl=e=>typeof e=="function",S4=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function iB(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const pn=Math.PI,ni=2*pn,rB=ni+pn,k0=Number.POSITIVE_INFINITY,sB=pn/180,Ii=pn/2,Tu=pn/4,A4=pn*2/3,mN=Math.log10,qo=Math.sign;function Ad(e,t,n){return Math.abs(e-t)<n}function T4(e){const t=Math.round(e);e=Ad(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(mN(e))),i=e/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function oB(e){const t=[],n=Math.sqrt(e);let i;for(i=1;i<n;i++)e%i===0&&(t.push(i),t.push(e/i));return n===(n|0)&&t.push(n),t.sort((r,s)=>r-s).pop(),t}function aB(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function lp(e){return!aB(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function lB(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function uB(e,t,n){let i,r,s;for(i=0,r=e.length;i<r;i++)s=e[i][n],isNaN(s)||(t.min=Math.min(t.min,s),t.max=Math.max(t.max,s))}function xa(e){return e*(pn/180)}function cB(e){return e*(180/pn)}function k4(e){if(!qs(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function yN(e,t){const n=t.x-e.x,i=t.y-e.y,r=Math.sqrt(n*n+i*i);let s=Math.atan2(i,n);return s<-.5*pn&&(s+=ni),{angle:s,distance:r}}function f5(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function hB(e,t){return(e-t+rB)%ni-pn}function oo(e){return(e%ni+ni)%ni}function up(e,t,n,i){const r=oo(e),s=oo(t),o=oo(n),a=oo(s-r),l=oo(o-r),u=oo(r-s),c=oo(r-o);return r===s||r===o||i&&s===o||a>l&&u<c}function vr(e,t,n){return Math.max(t,Math.min(n,e))}function fB(e){return vr(e,-32768,32767)}function Cl(e,t,n,i=1e-6){return e>=Math.min(t,n)-i&&e<=Math.max(t,n)+i}function Ww(e,t,n){n=n||(o=>e[o]<t);let i=e.length-1,r=0,s;for(;i-r>1;)s=r+i>>1,n(s)?r=s:i=s;return{lo:r,hi:i}}const Uu=(e,t,n,i)=>Ww(e,n,i?r=>{const s=e[r][t];return s<n||s===n&&e[r+1][t]===n}:r=>e[r][t]<n),dB=(e,t,n)=>Ww(e,n,i=>e[i][t]>=n);function pB(e,t,n){let i=0,r=e.length;for(;i<r&&e[i]<t;)i++;for(;r>i&&e[r-1]>n;)r--;return i>0||r<e.length?e.slice(i,r):e}const vN=["push","pop","shift","splice","unshift"];function gB(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),vN.forEach(n=>{const i="_onData"+zw(n),r=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...s){const o=r.apply(this,s);return e._chartjs.listeners.forEach(a=>{typeof a[i]=="function"&&a[i](...s)}),o}})})}function E4(e,t){const n=e._chartjs;if(!n)return;const i=n.listeners,r=i.indexOf(t);r!==-1&&i.splice(r,1),!(i.length>0)&&(vN.forEach(s=>{delete e[s]}),delete e._chartjs)}function _N(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const wN=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function bN(e,t){let n=[],i=!1;return function(...r){n=r,i||(i=!0,wN.call(window,()=>{i=!1,e.apply(t,n)}))}}function mB(e,t){let n;return function(...i){return t?(clearTimeout(n),n=setTimeout(e,t,i)):e.apply(this,i),t}}const qw=e=>e==="start"?"left":e==="end"?"right":"center",fr=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,yB=(e,t,n,i)=>e===(i?"left":"right")?n:e==="center"?(t+n)/2:t;function vB(e,t,n){const i=t.length;let r=0,s=i;if(e._sorted){const{iScale:o,vScale:a,_parsed:l}=e,u=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,c=o.axis,{min:h,max:p,minDefined:f,maxDefined:y}=o.getUserBounds();if(f){if(r=Math.min(Uu(l,c,h).lo,n?i:Uu(t,c,o.getPixelForValue(h)).lo),u){const _=l.slice(0,r+1).reverse().findIndex(x=>!ln(x[a.axis]));r-=Math.max(0,_)}r=vr(r,0,i-1)}if(y){let _=Math.max(Uu(l,o.axis,p,!0).hi+1,n?0:Uu(t,c,o.getPixelForValue(p),!0).hi+1);if(u){const x=l.slice(_-1).findIndex(v=>!ln(v[a.axis]));_+=Math.max(0,x)}s=vr(_,r,i)-r}else s=i-r}return{start:r,count:s}}function _B(e){const{xScale:t,yScale:n,_scaleRanges:i}=e,r={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!i)return e._scaleRanges=r,!0;const s=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,r),s}const Bg=e=>e===0||e===1,P4=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*ni/n)),I4=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*ni/n)+1,Td={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*Ii)+1,easeOutSine:e=>Math.sin(e*Ii),easeInOutSine:e=>-.5*(Math.cos(pn*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>Bg(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Bg(e)?e:P4(e,.075,.3),easeOutElastic:e=>Bg(e)?e:I4(e,.075,.3),easeInOutElastic(e){return Bg(e)?e:e<.5?.5*P4(e*2,.1125,.45):.5+.5*I4(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-Td.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?Td.easeInBounce(e*2)*.5:Td.easeOutBounce(e*2-1)*.5+.5};function Hw(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function C4(e){return Hw(e)?e:new sp(e)}function ov(e){return Hw(e)?e:new sp(e).saturate(.5).darken(.1).hexString()}const wB=["x","y","borderWidth","radius","tension"],bB=["color","borderColor","backgroundColor"];function xB(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:bB},numbers:{type:"number",properties:wB}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function SB(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const N4=new Map;function AB(e,t){t=t||{};const n=e+JSON.stringify(t);let i=N4.get(n);return i||(i=new Intl.NumberFormat(e,t),N4.set(n,i)),i}function $w(e,t,n){return AB(t,n).format(e)}const TB={values(e){return Ei(e)?e:""+e},numeric(e,t,n){if(e===0)return"0";const i=this.chart.options.locale;let r,s=e;if(n.length>1){const u=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(u<1e-4||u>1e15)&&(r="scientific"),s=kB(e,n)}const o=mN(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:r,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),$w(e,i,l)}};function kB(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var xN={formatters:TB};function EB(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:xN.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const rc=Object.create(null),d5=Object.create(null);function kd(e,t){if(!t)return e;const n=t.split(".");for(let i=0,r=n.length;i<r;++i){const s=n[i];e=e[s]||(e[s]=Object.create(null))}return e}function av(e,t,n){return typeof t=="string"?op(kd(e,t),n):op(kd(e,""),t)}class PB{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>ov(r.backgroundColor),this.hoverBorderColor=(i,r)=>ov(r.borderColor),this.hoverColor=(i,r)=>ov(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return av(this,t,n)}get(t){return kd(this,t)}describe(t,n){return av(d5,t,n)}override(t,n){return av(rc,t,n)}route(t,n,i,r){const s=kd(this,t),o=kd(this,i),a="_"+n;Object.defineProperties(s,{[a]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],u=o[r];return Qe(l)?Object.assign({},u,l):Me(l,u)},set(l){this[a]=l}}})}apply(t){t.forEach(n=>n(this))}}var gi=new PB({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[xB,SB,EB]);function IB(e){return!e||ln(e.size)||ln(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function L4(e,t,n,i,r){let s=t[r];return s||(s=t[r]=e.measureText(r).width,n.push(r)),s>i&&(i=s),i}function ku(e,t,n){const i=e.currentDevicePixelRatio,r=n!==0?Math.max(n/2,.5):0;return Math.round((t-r)*i)/i+r}function R4(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function p5(e,t,n,i){SN(e,t,n,i,null)}function SN(e,t,n,i,r){let s,o,a,l,u,c,h,p;const f=t.pointStyle,y=t.rotation,_=t.radius;let x=(y||0)*sB;if(f&&typeof f=="object"&&(s=f.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){e.save(),e.translate(n,i),e.rotate(x),e.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),e.restore();return}if(!(isNaN(_)||_<=0)){switch(e.beginPath(),f){default:r?e.ellipse(n,i,r/2,_,0,0,ni):e.arc(n,i,_,0,ni),e.closePath();break;case"triangle":c=r?r/2:_,e.moveTo(n+Math.sin(x)*c,i-Math.cos(x)*_),x+=A4,e.lineTo(n+Math.sin(x)*c,i-Math.cos(x)*_),x+=A4,e.lineTo(n+Math.sin(x)*c,i-Math.cos(x)*_),e.closePath();break;case"rectRounded":u=_*.516,l=_-u,o=Math.cos(x+Tu)*l,h=Math.cos(x+Tu)*(r?r/2-u:l),a=Math.sin(x+Tu)*l,p=Math.sin(x+Tu)*(r?r/2-u:l),e.arc(n-h,i-a,u,x-pn,x-Ii),e.arc(n+p,i-o,u,x-Ii,x),e.arc(n+h,i+a,u,x,x+Ii),e.arc(n-p,i+o,u,x+Ii,x+pn),e.closePath();break;case"rect":if(!y){l=Math.SQRT1_2*_,c=r?r/2:l,e.rect(n-c,i-l,2*c,2*l);break}x+=Tu;case"rectRot":h=Math.cos(x)*(r?r/2:_),o=Math.cos(x)*_,a=Math.sin(x)*_,p=Math.sin(x)*(r?r/2:_),e.moveTo(n-h,i-a),e.lineTo(n+p,i-o),e.lineTo(n+h,i+a),e.lineTo(n-p,i+o),e.closePath();break;case"crossRot":x+=Tu;case"cross":h=Math.cos(x)*(r?r/2:_),o=Math.cos(x)*_,a=Math.sin(x)*_,p=Math.sin(x)*(r?r/2:_),e.moveTo(n-h,i-a),e.lineTo(n+h,i+a),e.moveTo(n+p,i-o),e.lineTo(n-p,i+o);break;case"star":h=Math.cos(x)*(r?r/2:_),o=Math.cos(x)*_,a=Math.sin(x)*_,p=Math.sin(x)*(r?r/2:_),e.moveTo(n-h,i-a),e.lineTo(n+h,i+a),e.moveTo(n+p,i-o),e.lineTo(n-p,i+o),x+=Tu,h=Math.cos(x)*(r?r/2:_),o=Math.cos(x)*_,a=Math.sin(x)*_,p=Math.sin(x)*(r?r/2:_),e.moveTo(n-h,i-a),e.lineTo(n+h,i+a),e.moveTo(n+p,i-o),e.lineTo(n-p,i+o);break;case"line":o=r?r/2:Math.cos(x)*_,a=Math.sin(x)*_,e.moveTo(n-o,i-a),e.lineTo(n+o,i+a);break;case"dash":e.moveTo(n,i),e.lineTo(n+Math.cos(x)*(r?r/2:_),i+Math.sin(x)*_);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function cp(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function Gw(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function Kw(e){e.restore()}function CB(e,t,n,i,r){if(!t)return e.lineTo(n.x,n.y);if(r==="middle"){const s=(t.x+n.x)/2;e.lineTo(s,t.y),e.lineTo(s,n.y)}else r==="after"!=!!i?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function NB(e,t,n,i){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function LB(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),ln(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function RB(e,t,n,i,r){if(r.strikethrough||r.underline){const s=e.measureText(i),o=t-s.actualBoundingBoxLeft,a=t+s.actualBoundingBoxRight,l=n-s.actualBoundingBoxAscent,u=n+s.actualBoundingBoxDescent,c=r.strikethrough?(l+u)/2:u;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=r.decorationWidth||2,e.moveTo(o,c),e.lineTo(a,c),e.stroke()}}function MB(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function hp(e,t,n,i,r,s={}){const o=Ei(t)?t:[t],a=s.strokeWidth>0&&s.strokeColor!=="";let l,u;for(e.save(),e.font=r.string,LB(e,s),l=0;l<o.length;++l)u=o[l],s.backdrop&&MB(e,s.backdrop),a&&(s.strokeColor&&(e.strokeStyle=s.strokeColor),ln(s.strokeWidth)||(e.lineWidth=s.strokeWidth),e.strokeText(u,n,i,s.maxWidth)),e.fillText(u,n,i,s.maxWidth),RB(e,n,i,u,s),i+=Number(r.lineHeight);e.restore()}function E0(e,t){const{x:n,y:i,w:r,h:s,radius:o}=t;e.arc(n+o.topLeft,i+o.topLeft,o.topLeft,1.5*pn,pn,!0),e.lineTo(n,i+s-o.bottomLeft),e.arc(n+o.bottomLeft,i+s-o.bottomLeft,o.bottomLeft,pn,Ii,!0),e.lineTo(n+r-o.bottomRight,i+s),e.arc(n+r-o.bottomRight,i+s-o.bottomRight,o.bottomRight,Ii,0,!0),e.lineTo(n+r,i+o.topRight),e.arc(n+r-o.topRight,i+o.topRight,o.topRight,0,-Ii,!0),e.lineTo(n+o.topLeft,i)}const DB=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,OB=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function FB(e,t){const n=(""+e).match(DB);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const jB=e=>+e||0;function Yw(e,t){const n={},i=Qe(t),r=i?Object.keys(t):t,s=Qe(e)?i?o=>Me(e[o],e[t[o]]):o=>e[o]:()=>e;for(const o of r)n[o]=jB(s(o));return n}function AN(e){return Yw(e,{top:"y",right:"x",bottom:"y",left:"x"})}function yh(e){return Yw(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Hs(e){const t=AN(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function _r(e,t){e=e||{},t=t||gi.font;let n=Me(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let i=Me(e.style,t.style);i&&!(""+i).match(OB)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:Me(e.family,t.family),lineHeight:FB(Me(e.lineHeight,t.lineHeight),n),size:n,style:i,weight:Me(e.weight,t.weight),string:""};return r.string=IB(r),r}function Ug(e,t,n,i){let r,s,o;for(r=0,s=e.length;r<s;++r)if(o=e[r],o!==void 0&&o!==void 0)return o}function VB(e,t,n){const{min:i,max:r}=e,s=pN(t,(r-i)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(i,-Math.abs(s)),max:o(r,s)}}function yc(e,t){return Object.assign(Object.create(e),t)}function Xw(e,t=[""],n,i,r=()=>e[0]){const s=n||e;typeof i>"u"&&(i=PN("_fallback",e));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:s,_fallback:i,_getTarget:r,override:a=>Xw([a,...e],t,s,i)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete e[0][l],!0},get(a,l){return kN(a,l,()=>GB(l,t,e,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(a,l){return D4(a).includes(l)},ownKeys(a){return D4(a)},set(a,l,u){const c=a._storage||(a._storage=r());return a[l]=c[l]=u,delete a._keys,!0}})}function Vh(e,t,n,i){const r={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:TN(e,i),setContext:s=>Vh(e,s,n,i),override:s=>Vh(e.override(s),t,n,i)};return new Proxy(r,{deleteProperty(s,o){return delete s[o],delete e[o],!0},get(s,o,a){return kN(s,o,()=>UB(s,o,a))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(e,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,o)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(s,o){return Reflect.has(e,o)},ownKeys(){return Reflect.ownKeys(e)},set(s,o,a){return e[o]=a,delete s[o],!0}})}function TN(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:i=t.indexable,_allKeys:r=t.allKeys}=e;return{allKeys:r,scriptable:n,indexable:i,isScriptable:Jl(n)?n:()=>n,isIndexable:Jl(i)?i:()=>i}}const BB=(e,t)=>e?e+zw(t):t,Qw=(e,t)=>Qe(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function kN(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const i=n();return e[t]=i,i}function UB(e,t,n){const{_proxy:i,_context:r,_subProxy:s,_descriptors:o}=e;let a=i[t];return Jl(a)&&o.isScriptable(t)&&(a=zB(t,a,e,n)),Ei(a)&&a.length&&(a=WB(t,a,e,o.isIndexable)),Qw(t,a)&&(a=Vh(a,r,s&&s[t],o)),a}function zB(e,t,n,i){const{_proxy:r,_context:s,_subProxy:o,_stack:a}=n;if(a.has(e))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+e);a.add(e);let l=t(s,o||i);return a.delete(e),Qw(e,l)&&(l=Jw(r._scopes,r,e,l)),l}function WB(e,t,n,i){const{_proxy:r,_context:s,_subProxy:o,_descriptors:a}=n;if(typeof s.index<"u"&&i(e))return t[s.index%t.length];if(Qe(t[0])){const l=t,u=r._scopes.filter(c=>c!==l);t=[];for(const c of l){const h=Jw(u,r,e,c);t.push(Vh(h,s,o&&o[e],a))}}return t}function EN(e,t,n){return Jl(e)?e(t,n):e}const qB=(e,t)=>e===!0?t:typeof e=="string"?ic(t,e):void 0;function HB(e,t,n,i,r){for(const s of t){const o=qB(n,s);if(o){e.add(o);const a=EN(o._fallback,n,r);if(typeof a<"u"&&a!==n&&a!==i)return a}else if(o===!1&&typeof i<"u"&&n!==i)return null}return!1}function Jw(e,t,n,i){const r=t._rootScopes,s=EN(t._fallback,n,i),o=[...e,...r],a=new Set;a.add(i);let l=M4(a,o,n,s||n,i);return l===null||typeof s<"u"&&s!==n&&(l=M4(a,o,s,l,i),l===null)?!1:Xw(Array.from(a),[""],r,s,()=>$B(t,n,i))}function M4(e,t,n,i,r){for(;n;)n=HB(e,t,n,i,r);return n}function $B(e,t,n){const i=e._getTarget();t in i||(i[t]={});const r=i[t];return Ei(r)&&Qe(n)?n:r||{}}function GB(e,t,n,i){let r;for(const s of t)if(r=PN(BB(s,e),n),typeof r<"u")return Qw(e,r)?Jw(n,i,e,r):r}function PN(e,t){for(const n of t){if(!n)continue;const i=n[e];if(typeof i<"u")return i}}function D4(e){let t=e._keys;return t||(t=e._keys=KB(e._scopes)),t}function KB(e){const t=new Set;for(const n of e)for(const i of Object.keys(n).filter(r=>!r.startsWith("_")))t.add(i);return Array.from(t)}const YB=Number.EPSILON||1e-14,Bh=(e,t)=>t<e.length&&!e[t].skip&&e[t],IN=e=>e==="x"?"y":"x";function XB(e,t,n,i){const r=e.skip?t:e,s=t,o=n.skip?t:n,a=f5(s,r),l=f5(o,s);let u=a/(a+l),c=l/(a+l);u=isNaN(u)?0:u,c=isNaN(c)?0:c;const h=i*u,p=i*c;return{previous:{x:s.x-h*(o.x-r.x),y:s.y-h*(o.y-r.y)},next:{x:s.x+p*(o.x-r.x),y:s.y+p*(o.y-r.y)}}}function QB(e,t,n){const i=e.length;let r,s,o,a,l,u=Bh(e,0);for(let c=0;c<i-1;++c)if(l=u,u=Bh(e,c+1),!(!l||!u)){if(Ad(t[c],0,YB)){n[c]=n[c+1]=0;continue}r=n[c]/t[c],s=n[c+1]/t[c],a=Math.pow(r,2)+Math.pow(s,2),!(a<=9)&&(o=3/Math.sqrt(a),n[c]=r*o*t[c],n[c+1]=s*o*t[c])}}function JB(e,t,n="x"){const i=IN(n),r=e.length;let s,o,a,l=Bh(e,0);for(let u=0;u<r;++u){if(o=a,a=l,l=Bh(e,u+1),!a)continue;const c=a[n],h=a[i];o&&(s=(c-o[n])/3,a[`cp1${n}`]=c-s,a[`cp1${i}`]=h-s*t[u]),l&&(s=(l[n]-c)/3,a[`cp2${n}`]=c+s,a[`cp2${i}`]=h+s*t[u])}}function ZB(e,t="x"){const n=IN(t),i=e.length,r=Array(i).fill(0),s=Array(i);let o,a,l,u=Bh(e,0);for(o=0;o<i;++o)if(a=l,l=u,u=Bh(e,o+1),!!l){if(u){const c=u[t]-l[t];r[o]=c!==0?(u[n]-l[n])/c:0}s[o]=a?u?qo(r[o-1])!==qo(r[o])?0:(r[o-1]+r[o])/2:r[o-1]:r[o]}QB(e,r,s),JB(e,s,t)}function zg(e,t,n){return Math.max(Math.min(e,n),t)}function tU(e,t){let n,i,r,s,o,a=cp(e[0],t);for(n=0,i=e.length;n<i;++n)o=s,s=a,a=n<i-1&&cp(e[n+1],t),s&&(r=e[n],o&&(r.cp1x=zg(r.cp1x,t.left,t.right),r.cp1y=zg(r.cp1y,t.top,t.bottom)),a&&(r.cp2x=zg(r.cp2x,t.left,t.right),r.cp2y=zg(r.cp2y,t.top,t.bottom)))}function eU(e,t,n,i,r){let s,o,a,l;if(t.spanGaps&&(e=e.filter(u=>!u.skip)),t.cubicInterpolationMode==="monotone")ZB(e,r);else{let u=i?e[e.length-1]:e[0];for(s=0,o=e.length;s<o;++s)a=e[s],l=XB(u,a,e[Math.min(s+1,o-(i?0:1))%o],t.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,u=a}t.capBezierPoints&&tU(e,n)}function Zw(){return typeof window<"u"&&typeof document<"u"}function tb(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function P0(e,t,n){let i;return typeof e=="string"?(i=parseInt(e,10),e.indexOf("%")!==-1&&(i=i/100*t.parentNode[n])):i=e,i}const I1=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function nU(e,t){return I1(e).getPropertyValue(t)}const iU=["top","right","bottom","left"];function Gu(e,t,n){const i={};n=n?"-"+n:"";for(let r=0;r<4;r++){const s=iU[r];i[s]=parseFloat(e[t+"-"+s+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const rU=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function sU(e,t){const n=e.touches,i=n&&n.length?n[0]:e,{offsetX:r,offsetY:s}=i;let o=!1,a,l;if(rU(r,s,e.target))a=r,l=s;else{const u=t.getBoundingClientRect();a=i.clientX-u.left,l=i.clientY-u.top,o=!0}return{x:a,y:l,box:o}}function Lu(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:i}=t,r=I1(n),s=r.boxSizing==="border-box",o=Gu(r,"padding"),a=Gu(r,"border","width"),{x:l,y:u,box:c}=sU(e,n),h=o.left+(c&&a.left),p=o.top+(c&&a.top);let{width:f,height:y}=t;return s&&(f-=o.width+a.width,y-=o.height+a.height),{x:Math.round((l-h)/f*n.width/i),y:Math.round((u-p)/y*n.height/i)}}function oU(e,t,n){let i,r;if(t===void 0||n===void 0){const s=e&&tb(e);if(!s)t=e.clientWidth,n=e.clientHeight;else{const o=s.getBoundingClientRect(),a=I1(s),l=Gu(a,"border","width"),u=Gu(a,"padding");t=o.width-u.width-l.width,n=o.height-u.height-l.height,i=P0(a.maxWidth,s,"clientWidth"),r=P0(a.maxHeight,s,"clientHeight")}}return{width:t,height:n,maxWidth:i||k0,maxHeight:r||k0}}const Nl=e=>Math.round(e*10)/10;function aU(e,t,n,i){const r=I1(e),s=Gu(r,"margin"),o=P0(r.maxWidth,e,"clientWidth")||k0,a=P0(r.maxHeight,e,"clientHeight")||k0,l=oU(e,t,n);let{width:u,height:c}=l;if(r.boxSizing==="content-box"){const p=Gu(r,"border","width"),f=Gu(r,"padding");u-=f.width+p.width,c-=f.height+p.height}return u=Math.max(0,u-s.width),c=Math.max(0,i?u/i:c-s.height),u=Nl(Math.min(u,o,l.maxWidth)),c=Nl(Math.min(c,a,l.maxHeight)),u&&!c&&(c=Nl(u/2)),(t!==void 0||n!==void 0)&&i&&l.height&&c>l.height&&(c=l.height,u=Nl(Math.floor(c*i))),{width:u,height:c}}function O4(e,t,n){const i=t||1,r=Nl(e.height*i),s=Nl(e.width*i);e.height=Nl(e.height),e.width=Nl(e.width);const o=e.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${e.height}px`,o.style.width=`${e.width}px`),e.currentDevicePixelRatio!==i||o.height!==r||o.width!==s?(e.currentDevicePixelRatio=i,o.height=r,o.width=s,e.ctx.setTransform(i,0,0,i,0,0),!0):!1}const lU=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};Zw()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e}();function F4(e,t){const n=nU(e,t),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Ru(e,t,n,i){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function uU(e,t,n,i){return{x:e.x+n*(t.x-e.x),y:i==="middle"?n<.5?e.y:t.y:i==="after"?n<1?e.y:t.y:n>0?t.y:e.y}}function cU(e,t,n,i){const r={x:e.cp2x,y:e.cp2y},s={x:t.cp1x,y:t.cp1y},o=Ru(e,r,n),a=Ru(r,s,n),l=Ru(s,t,n),u=Ru(o,a,n),c=Ru(a,l,n);return Ru(u,c,n)}const hU=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},fU=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function vh(e,t,n){return e?hU(t,n):fU()}function CN(e,t){let n,i;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=i)}function NN(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function LN(e){return e==="angle"?{between:up,compare:hB,normalize:oo}:{between:Cl,compare:(t,n)=>t-n,normalize:t=>t}}function j4({start:e,end:t,count:n,loop:i,style:r}){return{start:e%n,end:t%n,loop:i&&(t-e+1)%n===0,style:r}}function dU(e,t,n){const{property:i,start:r,end:s}=n,{between:o,normalize:a}=LN(i),l=t.length;let{start:u,end:c,loop:h}=e,p,f;if(h){for(u+=l,c+=l,p=0,f=l;p<f&&o(a(t[u%l][i]),r,s);++p)u--,c--;u%=l,c%=l}return c<u&&(c+=l),{start:u,end:c,loop:h,style:e.style}}function pU(e,t,n){if(!n)return[e];const{property:i,start:r,end:s}=n,o=t.length,{compare:a,between:l,normalize:u}=LN(i),{start:c,end:h,loop:p,style:f}=dU(e,t,n),y=[];let _=!1,x=null,v,A,I;const P=()=>l(r,I,v)&&a(r,I)!==0,F=()=>a(s,v)===0||l(s,I,v),G=()=>_||P(),R=()=>!_||F();for(let T=c,E=c;T<=h;++T)A=t[T%o],!A.skip&&(v=u(A[i]),v!==I&&(_=l(v,r,s),x===null&&G()&&(x=a(v,r)===0?T:E),x!==null&&R()&&(y.push(j4({start:x,end:T,loop:p,count:o,style:f})),x=null),E=T,I=v));return x!==null&&y.push(j4({start:x,end:h,loop:p,count:o,style:f})),y}function gU(e,t){const n=[],i=e.segments;for(let r=0;r<i.length;r++){const s=pU(i[r],e.points,t);s.length&&n.push(...s)}return n}function mU(e,t,n,i){let r=0,s=t-1;if(n&&!i)for(;r<t&&!e[r].skip;)r++;for(;r<t&&e[r].skip;)r++;for(r%=t,n&&(s+=r);s>r&&e[s%t].skip;)s--;return s%=t,{start:r,end:s}}function yU(e,t,n,i){const r=e.length,s=[];let o=t,a=e[t],l;for(l=t+1;l<=n;++l){const u=e[l%r];u.skip||u.stop?a.skip||(i=!1,s.push({start:t%r,end:(l-1)%r,loop:i}),t=o=u.stop?l:null):(o=l,a.skip&&(t=l)),a=u}return o!==null&&s.push({start:t%r,end:o%r,loop:i}),s}function vU(e,t){const n=e.points,i=e.options.spanGaps,r=n.length;if(!r)return[];const s=!!e._loop,{start:o,end:a}=mU(n,r,s,i);if(i===!0)return V4(e,[{start:o,end:a,loop:s}],n,t);const l=a<o?a+r:a,u=!!e._fullLoop&&o===0&&a===r-1;return V4(e,yU(n,o,l,u),n,t)}function V4(e,t,n,i){return!i||!i.setContext||!n?t:_U(e,t,n,i)}function _U(e,t,n,i){const r=e._chart.getContext(),s=B4(e.options),{_datasetIndex:o,options:{spanGaps:a}}=e,l=n.length,u=[];let c=s,h=t[0].start,p=h;function f(y,_,x,v){const A=a?-1:1;if(y!==_){for(y+=l;n[y%l].skip;)y-=A;for(;n[_%l].skip;)_+=A;y%l!==_%l&&(u.push({start:y%l,end:_%l,loop:x,style:v}),c=v,h=_%l)}}for(const y of t){h=a?h:y.start;let _=n[h%l],x;for(p=h+1;p<=y.end;p++){const v=n[p%l];x=B4(i.setContext(yc(r,{type:"segment",p0:_,p1:v,p0DataIndex:(p-1)%l,p1DataIndex:p%l,datasetIndex:o}))),wU(x,c)&&f(h,p-1,y.loop,c),_=v,c=x}h<p-1&&f(h,p-1,y.loop,c)}return u}function B4(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function wU(e,t){if(!t)return!1;const n=[],i=function(r,s){return Hw(s)?(n.includes(s)||n.push(s),n.indexOf(s)):s};return JSON.stringify(e,i)!==JSON.stringify(t,i)}function Wg(e,t,n){return e.options.clip?e[n]:t[n]}function bU(e,t){const{xScale:n,yScale:i}=e;return n&&i?{left:Wg(n,t,"left"),right:Wg(n,t,"right"),top:Wg(i,t,"top"),bottom:Wg(i,t,"bottom")}:t}function xU(e,t){const n=t._clip;if(n.disabled)return!1;const i=bU(t,e.chartArea);return{left:n.left===!1?0:i.left-(n.left===!0?0:n.left),right:n.right===!1?e.width:i.right+(n.right===!0?0:n.right),top:n.top===!1?0:i.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?e.height:i.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class SU{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,i,r){const s=n.listeners[r],o=n.duration;s.forEach(a=>a({chart:t,initial:n.initial,numSteps:o,currentStep:Math.min(i-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=wN.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const s=i.items;let o=s.length-1,a=!1,l;for(;o>=0;--o)l=s[o],l._active?(l._total>i.duration&&(i.duration=l._total),l.tick(t),a=!0):(s[o]=s[s.length-1],s.pop());a&&(r.draw(),this._notify(r,i,t,"progress")),s.length||(i.running=!1,this._notify(r,i,t,"complete"),i.initial=!1),n+=s.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let i=n.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,i)),i}listen(t,n,i){this._getAnims(t).listeners[n].push(i)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const i=n.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var da=new SU;const U4="transparent",AU={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const i=C4(e||U4),r=i.valid&&C4(t||U4);return r&&r.valid?r.mix(i,n).hexString():t},number(e,t,n){return e+(t-e)*n}};class TU{constructor(t,n,i,r){const s=n[i];r=Ug([t.to,r,s,t.from]);const o=Ug([t.from,s,r]);this._active=!0,this._fn=t.fn||AU[t.type||typeof o],this._easing=Td[t.easing]||Td.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=i,this._from=o,this._to=r,this._promises=void 0}active(){return this._active}update(t,n,i){if(this._active){this._notify(!1);const r=this._target[this._prop],s=i-this._start,o=this._duration-s;this._start=i,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=s,this._loop=!!t.loop,this._to=Ug([t.to,n,r,t.from]),this._from=Ug([t.from,r,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,i=this._duration,r=this._prop,s=this._from,o=this._loop,a=this._to;let l;if(this._active=s!==a&&(o||n<i),!this._active){this._target[r]=a,this._notify(!0);return}if(n<0){this._target[r]=s;return}l=n/i%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[r]=this._fn(s,a,l)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,i)=>{t.push({res:n,rej:i})})}_notify(t){const n=t?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][n]()}}class RN{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!Qe(t))return;const n=Object.keys(gi.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{const s=t[r];if(!Qe(s))return;const o={};for(const a of n)o[a]=s[a];(Ei(s.properties)&&s.properties||[r]).forEach(a=>{(a===r||!i.has(a))&&i.set(a,o)})})}_animateOptions(t,n){const i=n.options,r=EU(t,i);if(!r)return[];const s=this._createAnimations(r,i);return i.$shared&&kU(t.options.$animations,i).then(()=>{t.options=i},()=>{}),s}_createAnimations(t,n){const i=this._properties,r=[],s=t.$animations||(t.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const u=o[l];if(u.charAt(0)==="$")continue;if(u==="options"){r.push(...this._animateOptions(t,n));continue}const c=n[u];let h=s[u];const p=i.get(u);if(h)if(p&&h.active()){h.update(p,c,a);continue}else h.cancel();if(!p||!p.duration){t[u]=c;continue}s[u]=h=new TU(p,t,u,c),r.push(h)}return r}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const i=this._createAnimations(t,n);if(i.length)return da.add(this._chart,i),!0}}function kU(e,t){const n=[],i=Object.keys(t);for(let r=0;r<i.length;r++){const s=e[i[r]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function EU(e,t){if(!t)return;let n=e.options;if(!n){e.options=t;return}return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function z4(e,t){const n=e&&e.options||{},i=n.reverse,r=n.min===void 0?t:0,s=n.max===void 0?t:0;return{start:i?s:r,end:i?r:s}}function PU(e,t,n){if(n===!1)return!1;const i=z4(e,n),r=z4(t,n);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function IU(e){let t,n,i,r;return Qe(e)?(t=e.top,n=e.right,i=e.bottom,r=e.left):t=n=i=r=e,{top:t,right:n,bottom:i,left:r,disabled:e===!1}}function MN(e,t){const n=[],i=e._getSortedDatasetMetas(t);let r,s;for(r=0,s=i.length;r<s;++r)n.push(i[r].index);return n}function W4(e,t,n,i={}){const r=e.keys,s=i.mode==="single";let o,a,l,u;if(t===null)return;let c=!1;for(o=0,a=r.length;o<a;++o){if(l=+r[o],l===n){if(c=!0,i.all)continue;break}u=e.values[l],qs(u)&&(s||t===0||qo(t)===qo(u))&&(t+=u)}return!c&&!i.all?0:t}function CU(e,t){const{iScale:n,vScale:i}=t,r=n.axis==="x"?"x":"y",s=i.axis==="x"?"x":"y",o=Object.keys(e),a=new Array(o.length);let l,u,c;for(l=0,u=o.length;l<u;++l)c=o[l],a[l]={[r]:c,[s]:e[c]};return a}function lv(e,t){const n=e&&e.options.stacked;return n||n===void 0&&t.stack!==void 0}function NU(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function LU(e){const{min:t,max:n,minDefined:i,maxDefined:r}=e.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}function RU(e,t,n){const i=e[t]||(e[t]={});return i[n]||(i[n]={})}function q4(e,t,n,i){for(const r of t.getMatchingVisibleMetas(i).reverse()){const s=e[r.index];if(n&&s>0||!n&&s<0)return r.index}return null}function H4(e,t){const{chart:n,_cachedMeta:i}=e,r=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:a}=i,l=s.axis,u=o.axis,c=NU(s,o,i),h=t.length;let p;for(let f=0;f<h;++f){const y=t[f],{[l]:_,[u]:x}=y,v=y._stacks||(y._stacks={});p=v[u]=RU(r,c,_),p[a]=x,p._top=q4(p,o,!0,i.type),p._bottom=q4(p,o,!1,i.type);const A=p._visualValues||(p._visualValues={});A[a]=x}}function uv(e,t){const n=e.scales;return Object.keys(n).filter(i=>n[i].axis===t).shift()}function MU(e,t){return yc(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function DU(e,t,n){return yc(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function Uf(e,t){const n=e.controller.index,i=e.vScale&&e.vScale.axis;if(i){t=t||e._parsed;for(const r of t){const s=r._stacks;if(!s||s[i]===void 0||s[i][n]===void 0)return;delete s[i][n],s[i]._visualValues!==void 0&&s[i]._visualValues[n]!==void 0&&delete s[i]._visualValues[n]}}}const cv=e=>e==="reset"||e==="none",$4=(e,t)=>t?e:Object.assign({},e),OU=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:MN(n,!0),values:null};class Ku{constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=lv(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Uf(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,i=this.getDataset(),r=(h,p,f,y)=>h==="x"?p:h==="r"?y:f,s=n.xAxisID=Me(i.xAxisID,uv(t,"x")),o=n.yAxisID=Me(i.yAxisID,uv(t,"y")),a=n.rAxisID=Me(i.rAxisID,uv(t,"r")),l=n.indexAxis,u=n.iAxisID=r(l,s,o,a),c=n.vAxisID=r(l,o,s,a);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(u),n.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&E4(this._data,this),t._stacked&&Uf(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),i=this._data;if(Qe(n)){const r=this._cachedMeta;this._data=CU(n,r)}else if(i!==n){if(i){E4(i,this);const r=this._cachedMeta;Uf(r),r._parsed=[]}n&&Object.isExtensible(n)&&gB(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const s=n._stacked;n._stacked=lv(n.vScale,n),n.stack!==i.stack&&(r=!0,Uf(n),n.stack=i.stack),this._resyncElements(t),(r||s!==n._stacked)&&(H4(this,n._parsed),n._stacked=lv(n.vScale,n))}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:i,_data:r}=this,{iScale:s,_stacked:o}=i,a=s.axis;let l=t===0&&n===r.length?!0:i._sorted,u=t>0&&i._parsed[t-1],c,h,p;if(this._parsing===!1)i._parsed=r,i._sorted=!0,p=r;else{Ei(r[t])?p=this.parseArrayData(i,r,t,n):Qe(r[t])?p=this.parseObjectData(i,r,t,n):p=this.parsePrimitiveData(i,r,t,n);const f=()=>h[a]===null||u&&h[a]<u[a];for(c=0;c<n;++c)i._parsed[c+t]=h=p[c],l&&(f()&&(l=!1),u=h);i._sorted=l}o&&H4(this,p)}parsePrimitiveData(t,n,i,r){const{iScale:s,vScale:o}=t,a=s.axis,l=o.axis,u=s.getLabels(),c=s===o,h=new Array(r);let p,f,y;for(p=0,f=r;p<f;++p)y=p+i,h[p]={[a]:c||s.parse(u[y],y),[l]:o.parse(n[y],y)};return h}parseArrayData(t,n,i,r){const{xScale:s,yScale:o}=t,a=new Array(r);let l,u,c,h;for(l=0,u=r;l<u;++l)c=l+i,h=n[c],a[l]={x:s.parse(h[0],c),y:o.parse(h[1],c)};return a}parseObjectData(t,n,i,r){const{xScale:s,yScale:o}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,u=new Array(r);let c,h,p,f;for(c=0,h=r;c<h;++c)p=c+i,f=n[p],u[c]={x:s.parse(ic(f,a),p),y:o.parse(ic(f,l),p)};return u}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,i){const r=this.chart,s=this._cachedMeta,o=n[t.axis],a={keys:MN(r,!0),values:n._stacks[t.axis]._visualValues};return W4(a,o,s.index,{mode:i})}updateRangeFromParsed(t,n,i,r){const s=i[n.axis];let o=s===null?NaN:s;const a=r&&i._stacks[n.axis];r&&a&&(r.values=a,o=W4(r,s,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,n){const i=this._cachedMeta,r=i._parsed,s=i._sorted&&t===i.iScale,o=r.length,a=this._getOtherScale(t),l=OU(n,i,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:h}=LU(a);let p,f;function y(){f=r[p];const _=f[a.axis];return!qs(f[t.axis])||c>_||h<_}for(p=0;p<o&&!(!y()&&(this.updateRangeFromParsed(u,t,f,l),s));++p);if(s){for(p=o-1;p>=0;--p)if(!y()){this.updateRangeFromParsed(u,t,f,l);break}}return u}getAllParsedValues(t){const n=this._cachedMeta._parsed,i=[];let r,s,o;for(r=0,s=n.length;r<s;++r)o=n[r][t.axis],qs(o)&&i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,i=n.iScale,r=n.vScale,s=this.getParsed(t);return{label:i?""+i.getLabelForValue(s[i.axis]):"",value:r?""+r.getLabelForValue(s[r.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=IU(Me(this.options.clip,PU(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,i=this._cachedMeta,r=i.data||[],s=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||r.length-a,u=this.options.drawActiveElementsOnTop;let c;for(i.dataset&&i.dataset.draw(t,s,a,l),c=a;c<a+l;++c){const h=r[c];h.hidden||(h.active&&u?o.push(h):h.draw(t,s))}for(c=0;c<o.length;++c)o[c].draw(t,s)}getStyle(t,n){const i=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,n,i){const r=this.getDataset();let s;if(t>=0&&t<this._cachedMeta.data.length){const o=this._cachedMeta.data[t];s=o.$context||(o.$context=DU(this.getContext(),t,o)),s.parsed=this.getParsed(t),s.raw=r.data[t],s.index=s.dataIndex=t}else s=this.$context||(this.$context=MU(this.chart.getContext(),this.index)),s.dataset=r,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=i,s}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",i){const r=n==="active",s=this._cachedDataOpts,o=t+"-"+n,a=s[o],l=this.enableOptionSharing&&ap(i);if(a)return $4(a,l);const u=this.chart.config,c=u.datasetElementScopeKeys(this._type,t),h=r?[`${t}Hover`,"hover",t,""]:[t,""],p=u.getOptionScopes(this.getDataset(),c),f=Object.keys(gi.elements[t]),y=()=>this.getContext(i,r,n),_=u.resolveNamedOptions(p,f,y,h);return _.$shared&&(_.$shared=l,s[o]=Object.freeze($4(_,l))),_}_resolveAnimations(t,n,i){const r=this.chart,s=this._cachedDataOpts,o=`animation-${n}`,a=s[o];if(a)return a;let l;if(r.options.animation!==!1){const c=this.chart.config,h=c.datasetAnimationScopeKeys(this._type,n),p=c.getOptionScopes(this.getDataset(),h);l=c.createResolver(p,this.getContext(t,i,n))}const u=new RN(r,l&&l.animations);return l&&l._cacheable&&(s[o]=Object.freeze(u)),u}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||cv(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const i=this.resolveDataElementOptions(t,n),r=this._sharedOptions,s=this.getSharedOptions(i),o=this.includeOptions(n,s)||s!==r;return this.updateSharedOptions(s,n,i),{sharedOptions:s,includeOptions:o}}updateElement(t,n,i,r){cv(r)?Object.assign(t,i):this._resolveAnimations(n,r).update(t,i)}updateSharedOptions(t,n,i){t&&!cv(n)&&this._resolveAnimations(void 0,n).update(t,i)}_setStyle(t,n,i,r){t.active=r;const s=this.getStyle(n,r);this._resolveAnimations(n,i,r).update(t,{options:!r&&this.getSharedOptions(s)||s})}removeHoverStyle(t,n,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,n,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,i=this._cachedMeta.data;for(const[a,l,u]of this._syncList)this[a](l,u);this._syncList=[];const r=i.length,s=n.length,o=Math.min(s,r);o&&this.parse(0,o),s>r?this._insertElements(r,s-r,t):s<r&&this._removeElements(s,r-s)}_insertElements(t,n,i=!0){const r=this._cachedMeta,s=r.data,o=t+n;let a;const l=u=>{for(u.length+=n,a=u.length-1;a>=o;a--)u[a]=u[a-n]};for(l(s),a=t;a<o;++a)s[a]=new this.dataElementType;this._parsing&&l(r._parsed),this.parse(t,n),i&&this.updateElements(s,t,n,"reset")}updateElements(t,n,i,r){}_removeElements(t,n){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(t,n);i._stacked&&Uf(i,r)}i.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,i,r]=t;this[n](i,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Dt(Ku,"defaults",{}),Dt(Ku,"datasetElementType",null),Dt(Ku,"dataElementType",null);function FU(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let i=[];for(let r=0,s=n.length;r<s;r++)i=i.concat(n[r].controller.getAllParsedValues(e));e._cache.$bar=_N(i.sort((r,s)=>r-s))}return e._cache.$bar}function jU(e){const t=e.iScale,n=FU(t,e.type);let i=t._length,r,s,o,a;const l=()=>{o===32767||o===-32768||(ap(a)&&(i=Math.min(i,Math.abs(o-a)||i)),a=o)};for(r=0,s=n.length;r<s;++r)o=t.getPixelForValue(n[r]),l();for(a=void 0,r=0,s=t.ticks.length;r<s;++r)o=t.getPixelForTick(r),l();return i}function VU(e,t,n,i){const r=n.barThickness;let s,o;return ln(r)?(s=t.min*n.categoryPercentage,o=n.barPercentage):(s=r*i,o=1),{chunk:s/i,ratio:o,start:t.pixels[e]-s/2}}function BU(e,t,n,i){const r=t.pixels,s=r[e];let o=e>0?r[e-1]:null,a=e<r.length-1?r[e+1]:null;const l=n.categoryPercentage;o===null&&(o=s-(a===null?t.end-t.start:a-s)),a===null&&(a=s+s-o);const u=s-(s-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/i,ratio:n.barPercentage,start:u}}function UU(e,t,n,i){const r=n.parse(e[0],i),s=n.parse(e[1],i),o=Math.min(r,s),a=Math.max(r,s);let l=o,u=a;Math.abs(o)>Math.abs(a)&&(l=a,u=o),t[n.axis]=u,t._custom={barStart:l,barEnd:u,start:r,end:s,min:o,max:a}}function DN(e,t,n,i){return Ei(e)?UU(e,t,n,i):t[n.axis]=n.parse(e,i),t}function G4(e,t,n,i){const r=e.iScale,s=e.vScale,o=r.getLabels(),a=r===s,l=[];let u,c,h,p;for(u=n,c=n+i;u<c;++u)p=t[u],h={},h[r.axis]=a||r.parse(o[u],u),l.push(DN(p,h,s,u));return l}function hv(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function zU(e,t,n){return e!==0?qo(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}function WU(e){let t,n,i,r,s;return e.horizontal?(t=e.base>e.x,n="left",i="right"):(t=e.base<e.y,n="bottom",i="top"),t?(r="end",s="start"):(r="start",s="end"),{start:n,end:i,reverse:t,top:r,bottom:s}}function qU(e,t,n,i){let r=t.borderSkipped;const s={};if(!r){e.borderSkipped=s;return}if(r===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:u,bottom:c}=WU(e);r==="middle"&&n&&(e.enableBorderRadius=!0,(n._top||0)===i?r=u:(n._bottom||0)===i?r=c:(s[K4(c,o,a,l)]=!0,r=u)),s[K4(r,o,a,l)]=!0,e.borderSkipped=s}function K4(e,t,n,i){return i?(e=HU(e,t,n),e=Y4(e,n,t)):e=Y4(e,t,n),e}function HU(e,t,n){return e===t?n:e===n?t:e}function Y4(e,t,n){return e==="start"?t:e==="end"?n:e}function $U(e,{inflateAmount:t},n){e.inflateAmount=t==="auto"?n===1?.33:0:t}class Tm extends Ku{parsePrimitiveData(t,n,i,r){return G4(t,n,i,r)}parseArrayData(t,n,i,r){return G4(t,n,i,r)}parseObjectData(t,n,i,r){const{iScale:s,vScale:o}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,u=s.axis==="x"?a:l,c=o.axis==="x"?a:l,h=[];let p,f,y,_;for(p=i,f=i+r;p<f;++p)_=n[p],y={},y[s.axis]=s.parse(ic(_,u),p),h.push(DN(ic(_,c),y,o,p));return h}updateRangeFromParsed(t,n,i,r){super.updateRangeFromParsed(t,n,i,r);const s=i._custom;s&&n===this._cachedMeta.vScale&&(t.min=Math.min(t.min,s.min),t.max=Math.max(t.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const n=this._cachedMeta,{iScale:i,vScale:r}=n,s=this.getParsed(t),o=s._custom,a=hv(o)?"["+o.start+", "+o.end+"]":""+r.getLabelForValue(s[r.axis]);return{label:""+i.getLabelForValue(s[i.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,t)}updateElements(t,n,i,r){const s=r==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),u=a.isHorizontal(),c=this._getRuler(),{sharedOptions:h,includeOptions:p}=this._getSharedOptions(n,r);for(let f=n;f<n+i;f++){const y=this.getParsed(f),_=s||ln(y[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(f),x=this._calculateBarIndexPixels(f,c),v=(y._stacks||{})[a.axis],A={horizontal:u,base:_.base,enableBorderRadius:!v||hv(y._custom)||o===v._top||o===v._bottom,x:u?_.head:x.center,y:u?x.center:_.head,height:u?x.size:Math.abs(_.size),width:u?Math.abs(_.size):x.size};p&&(A.options=h||this.resolveDataElementOptions(f,t[f].active?"active":r));const I=A.options||t[f].options;qU(A,I,v,o),$U(A,I,c.ratio),this.updateElement(t[f],f,A,r)}}_getStacks(t,n){const{iScale:i}=this._cachedMeta,r=i.getMatchingVisibleMetas(this._type).filter(c=>c.controller.options.grouped),s=i.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(n),l=a&&a[i.axis],u=c=>{const h=c._parsed.find(f=>f[i.axis]===l),p=h&&h[c.vScale.axis];if(ln(p)||isNaN(p))return!0};for(const c of r)if(!(n!==void 0&&u(c))&&((s===!1||o.indexOf(c.stack)===-1||s===void 0&&c.stack===void 0)&&o.push(c.stack),c.index===t))break;return o.length||o.push(void 0),o}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(t).filter(i=>t[i].axis===n).shift()}_getAxis(){const t={},n=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)t[Me(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,n)]=!0;return Object.keys(t)}_getStackIndex(t,n,i){const r=this._getStacks(t,i),s=n!==void 0?r.indexOf(n):-1;return s===-1?r.length-1:s}_getRuler(){const t=this.options,n=this._cachedMeta,i=n.iScale,r=[];let s,o;for(s=0,o=n.data.length;s<o;++s)r.push(i.getPixelForValue(this.getParsed(s)[i.axis],s));const a=t.barThickness;return{min:a||jU(n),pixels:r,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:a?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:n,_stacked:i,index:r},options:{base:s,minBarLength:o}}=this,a=s||0,l=this.getParsed(t),u=l._custom,c=hv(u);let h=l[n.axis],p=0,f=i?this.applyStack(n,l,i):h,y,_;f!==h&&(p=f-h,f=h),c&&(h=u.barStart,f=u.barEnd-u.barStart,h!==0&&qo(h)!==qo(u.barEnd)&&(p=0),p+=h);const x=!ln(s)&&!c?s:p;let v=n.getPixelForValue(x);if(this.chart.getDataVisibility(t)?y=n.getPixelForValue(p+f):y=v,_=y-v,Math.abs(_)<o){_=zU(_,n,a)*o,h===a&&(v-=_/2);const A=n.getPixelForDecimal(0),I=n.getPixelForDecimal(1),P=Math.min(A,I),F=Math.max(A,I);v=Math.max(Math.min(v,F),P),y=v+_,i&&!c&&(l._stacks[n.axis]._visualValues[r]=n.getValueForPixel(y)-n.getValueForPixel(v))}if(v===n.getPixelForValue(a)){const A=qo(_)*n.getLineWidthForValue(a)/2;v+=A,_-=A}return{size:_,base:v,head:y,center:y+_/2}}_calculateBarIndexPixels(t,n){const i=n.scale,r=this.options,s=r.skipNull,o=Me(r.maxBarThickness,1/0);let a,l;const u=this._getAxisCount();if(n.grouped){const c=s?this._getStackCount(t):n.stackCount,h=r.barThickness==="flex"?BU(t,n,r,c*u):VU(t,n,r,c*u),p=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,f=this._getAxis().indexOf(Me(p,this.getFirstScaleIdForIndexAxis())),y=this._getStackIndex(this.index,this._cachedMeta.stack,s?t:void 0)+f;a=h.start+h.chunk*y+h.chunk/2,l=Math.min(o,h.chunk*h.ratio)}else a=i.getPixelForValue(this.getParsed(t)[i.axis],t),l=Math.min(o,n.min*n.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const t=this._cachedMeta,n=t.vScale,i=t.data,r=i.length;let s=0;for(;s<r;++s)this.getParsed(s)[n.axis]!==null&&!i[s].hidden&&i[s].draw(this._ctx)}}Dt(Tm,"id","bar"),Dt(Tm,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),Dt(Tm,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function GU(e,t,n){let i=1,r=1,s=0,o=0;if(t<ni){const a=e,l=a+t,u=Math.cos(a),c=Math.sin(a),h=Math.cos(l),p=Math.sin(l),f=(I,P,F)=>up(I,a,l,!0)?1:Math.max(P,P*n,F,F*n),y=(I,P,F)=>up(I,a,l,!0)?-1:Math.min(P,P*n,F,F*n),_=f(0,u,h),x=f(Ii,c,p),v=y(pn,u,h),A=y(pn+Ii,c,p);i=(_-v)/2,r=(x-A)/2,s=-(_+v)/2,o=-(x+A)/2}return{ratioX:i,ratioY:r,offsetX:s,offsetY:o}}class ah extends Ku{constructor(t,n){super(t,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,n){const i=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=i;else{let s=l=>+i[l];if(Qe(i[t])){const{key:l="value"}=this._parsing;s=u=>+ic(i[u],l)}let o,a;for(o=t,a=t+n;o<a;++o)r._parsed[o]=s(o)}}_getRotation(){return xa(this.options.rotation-90)}_getCircumference(){return xa(this.options.circumference)}_getRotationExtents(){let t=ni,n=-ni;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const r=this.chart.getDatasetMeta(i).controller,s=r._getRotation(),o=r._getCircumference();t=Math.min(t,s),n=Math.max(n,s+o)}return{rotation:t,circumference:n-t}}update(t){const n=this.chart,{chartArea:i}=n,r=this._cachedMeta,s=r.data,o=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,a=Math.max((Math.min(i.width,i.height)-o)/2,0),l=Math.min(JV(this.options.cutout,a),1),u=this._getRingWeight(this.index),{circumference:c,rotation:h}=this._getRotationExtents(),{ratioX:p,ratioY:f,offsetX:y,offsetY:_}=GU(h,c,l),x=(i.width-o)/p,v=(i.height-o)/f,A=Math.max(Math.min(x,v)/2,0),I=pN(this.options.radius,A),P=Math.max(I*l,0),F=(I-P)/this._getVisibleDatasetWeightTotal();this.offsetX=y*I,this.offsetY=_*I,r.total=this.calculateTotal(),this.outerRadius=I-F*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-F*u,0),this.updateElements(s,0,s.length,t)}_circumference(t,n){const i=this.options,r=this._cachedMeta,s=this._getCircumference();return n&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||r._parsed[t]===null||r.data[t].hidden?0:this.calculateCircumference(r._parsed[t]*s/ni)}updateElements(t,n,i,r){const s=r==="reset",o=this.chart,a=o.chartArea,u=o.options.animation,c=(a.left+a.right)/2,h=(a.top+a.bottom)/2,p=s&&u.animateScale,f=p?0:this.innerRadius,y=p?0:this.outerRadius,{sharedOptions:_,includeOptions:x}=this._getSharedOptions(n,r);let v=this._getRotation(),A;for(A=0;A<n;++A)v+=this._circumference(A,s);for(A=n;A<n+i;++A){const I=this._circumference(A,s),P=t[A],F={x:c+this.offsetX,y:h+this.offsetY,startAngle:v,endAngle:v+I,circumference:I,outerRadius:y,innerRadius:f};x&&(F.options=_||this.resolveDataElementOptions(A,P.active?"active":r)),v+=I,this.updateElement(P,A,F,r)}}calculateTotal(){const t=this._cachedMeta,n=t.data;let i=0,r;for(r=0;r<n.length;r++){const s=t._parsed[r];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(r)&&!n[r].hidden&&(i+=Math.abs(s))}return i}calculateCircumference(t){const n=this._cachedMeta.total;return n>0&&!isNaN(t)?ni*(Math.abs(t)/n):0}getLabelAndValue(t){const n=this._cachedMeta,i=this.chart,r=i.data.labels||[],s=$w(n._parsed[t],i.options.locale);return{label:r[t]||"",value:s}}getMaxBorderWidth(t){let n=0;const i=this.chart;let r,s,o,a,l;if(!t){for(r=0,s=i.data.datasets.length;r<s;++r)if(i.isDatasetVisible(r)){o=i.getDatasetMeta(r),t=o.data,a=o.controller;break}}if(!t)return 0;for(r=0,s=t.length;r<s;++r)l=a.resolveDataElementOptions(r),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(t){let n=0;for(let i=0,r=t.length;i<r;++i){const s=this.resolveDataElementOptions(i);n=Math.max(n,s.offset||0,s.hoverOffset||0)}return n}_getRingWeightOffset(t){let n=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(n+=this._getRingWeight(i));return n}_getRingWeight(t){return Math.max(Me(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Dt(ah,"id","doughnut"),Dt(ah,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),Dt(ah,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),Dt(ah,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data,{labels:{pointStyle:i,textAlign:r,color:s,useBorderRadius:o,borderRadius:a}}=t.legend.options;return n.labels.length&&n.datasets.length?n.labels.map((l,u)=>{const h=t.getDatasetMeta(0).controller.getStyle(u);return{text:l,fillStyle:h.backgroundColor,fontColor:s,hidden:!t.getDataVisibility(u),lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:h.borderWidth,strokeStyle:h.borderColor,textAlign:r,pointStyle:i,borderRadius:o&&(a||h.borderRadius),index:u}}):[]}},onClick(t,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}}});class km extends Ku{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const n=this._cachedMeta,{dataset:i,data:r=[],_dataset:s}=n,o=this.chart._animationsDisabled;let{start:a,count:l}=vB(n,r,o);this._drawStart=a,this._drawCount=l,_B(n)&&(a=0,l=r.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!s._decimated,i.points=r;const u=this.resolveDatasetElementOptions(t);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(i,void 0,{animated:!o,options:u},t),this.updateElements(r,a,l,t)}updateElements(t,n,i,r){const s=r==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:u}=this._cachedMeta,{sharedOptions:c,includeOptions:h}=this._getSharedOptions(n,r),p=o.axis,f=a.axis,{spanGaps:y,segment:_}=this.options,x=lp(y)?y:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||s||r==="none",A=n+i,I=t.length;let P=n>0&&this.getParsed(n-1);for(let F=0;F<I;++F){const G=t[F],R=v?G:{};if(F<n||F>=A){R.skip=!0;continue}const T=this.getParsed(F),E=ln(T[f]),D=R[p]=o.getPixelForValue(T[p],F),k=R[f]=s||E?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,T,l):T[f],F);R.skip=isNaN(D)||isNaN(k)||E,R.stop=F>0&&Math.abs(T[p]-P[p])>x,_&&(R.parsed=T,R.raw=u.data[F]),h&&(R.options=c||this.resolveDataElementOptions(F,G.active?"active":r)),v||this.updateElement(G,F,R,r),P=T}}getMaxOverflow(){const t=this._cachedMeta,n=t.dataset,i=n.options&&n.options.borderWidth||0,r=t.data||[];if(!r.length)return i;const s=r[0].size(this.resolveDataElementOptions(0)),o=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(i,s,o)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}Dt(km,"id","line"),Dt(km,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Dt(km,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class g5 extends ah{}Dt(g5,"id","pie"),Dt(g5,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});function Eu(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class eb{constructor(t){Dt(this,"options");this.options=t||{}}static override(t){Object.assign(eb.prototype,t)}init(){}formats(){return Eu()}parse(){return Eu()}format(){return Eu()}add(){return Eu()}diff(){return Eu()}startOf(){return Eu()}endOf(){return Eu()}}var KU={_date:eb};function YU(e,t,n,i){const{controller:r,data:s,_sorted:o}=e,a=r._cachedMeta.iScale,l=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(a&&t===a.axis&&t!=="r"&&o&&s.length){const u=a._reversePixels?dB:Uu;if(i){if(r._sharedOptions){const c=s[0],h=typeof c.getRange=="function"&&c.getRange(t);if(h){const p=u(s,t,n-h),f=u(s,t,n+h);return{lo:p.lo,hi:f.hi}}}}else{const c=u(s,t,n);if(l){const{vScale:h}=r._cachedMeta,{_parsed:p}=e,f=p.slice(0,c.lo+1).reverse().findIndex(_=>!ln(_[h.axis]));c.lo-=Math.max(0,f);const y=p.slice(c.hi).findIndex(_=>!ln(_[h.axis]));c.hi+=Math.max(0,y)}return c}}return{lo:0,hi:s.length-1}}function C1(e,t,n,i,r){const s=e.getSortedVisibleDatasetMetas(),o=n[t];for(let a=0,l=s.length;a<l;++a){const{index:u,data:c}=s[a],{lo:h,hi:p}=YU(s[a],t,o,r);for(let f=h;f<=p;++f){const y=c[f];y.skip||i(y,u,f)}}}function XU(e){const t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(i,r){const s=t?Math.abs(i.x-r.x):0,o=n?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function fv(e,t,n,i,r){const s=[];return!r&&!e.isPointInArea(t)||C1(e,n,t,function(a,l,u){!r&&!cp(a,e.chartArea,0)||a.inRange(t.x,t.y,i)&&s.push({element:a,datasetIndex:l,index:u})},!0),s}function QU(e,t,n,i){let r=[];function s(o,a,l){const{startAngle:u,endAngle:c}=o.getProps(["startAngle","endAngle"],i),{angle:h}=yN(o,{x:t.x,y:t.y});up(h,u,c)&&r.push({element:o,datasetIndex:a,index:l})}return C1(e,n,t,s),r}function JU(e,t,n,i,r,s){let o=[];const a=XU(n);let l=Number.POSITIVE_INFINITY;function u(c,h,p){const f=c.inRange(t.x,t.y,r);if(i&&!f)return;const y=c.getCenterPoint(r);if(!(!!s||e.isPointInArea(y))&&!f)return;const x=a(t,y);x<l?(o=[{element:c,datasetIndex:h,index:p}],l=x):x===l&&o.push({element:c,datasetIndex:h,index:p})}return C1(e,n,t,u),o}function dv(e,t,n,i,r,s){return!s&&!e.isPointInArea(t)?[]:n==="r"&&!i?QU(e,t,n,r):JU(e,t,n,i,r,s)}function X4(e,t,n,i,r){const s=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return C1(e,n,t,(l,u,c)=>{l[o]&&l[o](t[n],r)&&(s.push({element:l,datasetIndex:u,index:c}),a=a||l.inRange(t.x,t.y,r))}),i&&!a?[]:s}var ZU={modes:{index(e,t,n,i){const r=Lu(t,e),s=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?fv(e,r,s,i,o):dv(e,r,s,!1,i,o),l=[];return a.length?(e.getSortedVisibleDatasetMetas().forEach(u=>{const c=a[0].index,h=u.data[c];h&&!h.skip&&l.push({element:h,datasetIndex:u.index,index:c})}),l):[]},dataset(e,t,n,i){const r=Lu(t,e),s=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?fv(e,r,s,i,o):dv(e,r,s,!1,i,o);if(a.length>0){const l=a[0].datasetIndex,u=e.getDatasetMeta(l).data;a=[];for(let c=0;c<u.length;++c)a.push({element:u[c],datasetIndex:l,index:c})}return a},point(e,t,n,i){const r=Lu(t,e),s=n.axis||"xy",o=n.includeInvisible||!1;return fv(e,r,s,i,o)},nearest(e,t,n,i){const r=Lu(t,e),s=n.axis||"xy",o=n.includeInvisible||!1;return dv(e,r,s,n.intersect,i,o)},x(e,t,n,i){const r=Lu(t,e);return X4(e,r,"x",n.intersect,i)},y(e,t,n,i){const r=Lu(t,e);return X4(e,r,"y",n.intersect,i)}}};const ON=["left","top","right","bottom"];function zf(e,t){return e.filter(n=>n.pos===t)}function Q4(e,t){return e.filter(n=>ON.indexOf(n.pos)===-1&&n.box.axis===t)}function Wf(e,t){return e.sort((n,i)=>{const r=t?i:n,s=t?n:i;return r.weight===s.weight?r.index-s.index:r.weight-s.weight})}function tz(e){const t=[];let n,i,r,s,o,a;for(n=0,i=(e||[]).length;n<i;++n)r=e[n],{position:s,options:{stack:o,stackWeight:a=1}}=r,t.push({index:n,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&s+o,stackWeight:a});return t}function ez(e){const t={};for(const n of e){const{stack:i,pos:r,stackWeight:s}=n;if(!i||!ON.includes(r))continue;const o=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return t}function nz(e,t){const n=ez(e),{vBoxMaxWidth:i,hBoxMaxHeight:r}=t;let s,o,a;for(s=0,o=e.length;s<o;++s){a=e[s];const{fullSize:l}=a.box,u=n[a.stack],c=u&&a.stackWeight/u.weight;a.horizontal?(a.width=c?c*i:l&&t.availableWidth,a.height=r):(a.width=i,a.height=c?c*r:l&&t.availableHeight)}return n}function iz(e){const t=tz(e),n=Wf(t.filter(u=>u.box.fullSize),!0),i=Wf(zf(t,"left"),!0),r=Wf(zf(t,"right")),s=Wf(zf(t,"top"),!0),o=Wf(zf(t,"bottom")),a=Q4(t,"x"),l=Q4(t,"y");return{fullSize:n,leftAndTop:i.concat(s),rightAndBottom:r.concat(l).concat(o).concat(a),chartArea:zf(t,"chartArea"),vertical:i.concat(r).concat(l),horizontal:s.concat(o).concat(a)}}function J4(e,t,n,i){return Math.max(e[n],t[n])+Math.max(e[i],t[i])}function FN(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function rz(e,t,n,i){const{pos:r,box:s}=n,o=e.maxPadding;if(!Qe(r)){n.size&&(e[r]-=n.size);const h=i[n.stack]||{size:0,count:1};h.size=Math.max(h.size,n.horizontal?s.height:s.width),n.size=h.size/h.count,e[r]+=n.size}s.getPadding&&FN(o,s.getPadding());const a=Math.max(0,t.outerWidth-J4(o,e,"left","right")),l=Math.max(0,t.outerHeight-J4(o,e,"top","bottom")),u=a!==e.w,c=l!==e.h;return e.w=a,e.h=l,n.horizontal?{same:u,other:c}:{same:c,other:u}}function sz(e){const t=e.maxPadding;function n(i){const r=Math.max(t[i]-e[i],0);return e[i]+=r,r}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function oz(e,t){const n=t.maxPadding;function i(r){const s={left:0,top:0,right:0,bottom:0};return r.forEach(o=>{s[o]=Math.max(t[o],n[o])}),s}return i(e?["left","right"]:["top","bottom"])}function rd(e,t,n,i){const r=[];let s,o,a,l,u,c;for(s=0,o=e.length,u=0;s<o;++s){a=e[s],l=a.box,l.update(a.width||t.w,a.height||t.h,oz(a.horizontal,t));const{same:h,other:p}=rz(t,n,a,i);u|=h&&r.length,c=c||p,l.fullSize||r.push(a)}return u&&rd(r,t,n,i)||c}function qg(e,t,n,i,r){e.top=n,e.left=t,e.right=t+i,e.bottom=n+r,e.width=i,e.height=r}function Z4(e,t,n,i){const r=n.padding;let{x:s,y:o}=t;for(const a of e){const l=a.box,u=i[a.stack]||{placed:0,weight:1},c=a.stackWeight/u.weight||1;if(a.horizontal){const h=t.w*c,p=u.size||l.height;ap(u.start)&&(o=u.start),l.fullSize?qg(l,r.left,o,n.outerWidth-r.right-r.left,p):qg(l,t.left+u.placed,o,h,p),u.start=o,u.placed+=h,o=l.bottom}else{const h=t.h*c,p=u.size||l.width;ap(u.start)&&(s=u.start),l.fullSize?qg(l,s,r.top,p,n.outerHeight-r.bottom-r.top):qg(l,s,t.top+u.placed,p,h),u.start=s,u.placed+=h,s=l.right}}t.x=s,t.y=o}var js={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,i){if(!e)return;const r=Hs(e.options.layout.padding),s=Math.max(t-r.width,0),o=Math.max(n-r.height,0),a=iz(e.boxes),l=a.vertical,u=a.horizontal;fn(e.boxes,_=>{typeof _.beforeLayout=="function"&&_.beforeLayout()});const c=l.reduce((_,x)=>x.box.options&&x.box.options.display===!1?_:_+1,0)||1,h=Object.freeze({outerWidth:t,outerHeight:n,padding:r,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/c,hBoxMaxHeight:o/2}),p=Object.assign({},r);FN(p,Hs(i));const f=Object.assign({maxPadding:p,w:s,h:o,x:r.left,y:r.top},r),y=nz(l.concat(u),h);rd(a.fullSize,f,h,y),rd(l,f,h,y),rd(u,f,h,y)&&rd(l,f,h,y),sz(f),Z4(a.leftAndTop,f,h,y),f.x+=f.w,f.y+=f.h,Z4(a.rightAndBottom,f,h,y),e.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},fn(a.chartArea,_=>{const x=_.box;Object.assign(x,e.chartArea),x.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}};class jN{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,i){}removeEventListener(t,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,i,r){return n=Math.max(0,n||t.width),i=i||t.height,{width:n,height:Math.max(0,r?Math.floor(n/r):i)}}isAttached(t){return!0}updateConfig(t){}}class az extends jN{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Em="$chartjs",lz={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},tT=e=>e===null||e==="";function uz(e,t){const n=e.style,i=e.getAttribute("height"),r=e.getAttribute("width");if(e[Em]={initial:{height:i,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",tT(r)){const s=F4(e,"width");s!==void 0&&(e.width=s)}if(tT(i))if(e.style.height==="")e.height=e.width/(t||2);else{const s=F4(e,"height");s!==void 0&&(e.height=s)}return e}const VN=lU?{passive:!0}:!1;function cz(e,t,n){e&&e.addEventListener(t,n,VN)}function hz(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,VN)}function fz(e,t){const n=lz[e.type]||e.type,{x:i,y:r}=Lu(e,t);return{type:n,chart:t,native:e,x:i!==void 0?i:null,y:r!==void 0?r:null}}function I0(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function dz(e,t,n){const i=e.canvas,r=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||I0(a.addedNodes,i),o=o&&!I0(a.removedNodes,i);o&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}function pz(e,t,n){const i=e.canvas,r=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||I0(a.removedNodes,i),o=o&&!I0(a.addedNodes,i);o&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}const fp=new Map;let eT=0;function BN(){const e=window.devicePixelRatio;e!==eT&&(eT=e,fp.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function gz(e,t){fp.size||window.addEventListener("resize",BN),fp.set(e,t)}function mz(e){fp.delete(e),fp.size||window.removeEventListener("resize",BN)}function yz(e,t,n){const i=e.canvas,r=i&&tb(i);if(!r)return;const s=bN((a,l)=>{const u=r.clientWidth;n(a,l),u<r.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],u=l.contentRect.width,c=l.contentRect.height;u===0&&c===0||s(u,c)});return o.observe(r),gz(e,s),o}function pv(e,t,n){n&&n.disconnect(),t==="resize"&&mz(e)}function vz(e,t,n){const i=e.canvas,r=bN(s=>{e.ctx!==null&&n(fz(s,e))},e);return cz(i,t,r),r}class _z extends jN{acquireContext(t,n){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(uz(t,n),i):null}releaseContext(t){const n=t.canvas;if(!n[Em])return!1;const i=n[Em].initial;["height","width"].forEach(s=>{const o=i[s];ln(o)?n.removeAttribute(s):n.setAttribute(s,o)});const r=i.style||{};return Object.keys(r).forEach(s=>{n.style[s]=r[s]}),n.width=n.width,delete n[Em],!0}addEventListener(t,n,i){this.removeEventListener(t,n);const r=t.$proxies||(t.$proxies={}),o={attach:dz,detach:pz,resize:yz}[n]||vz;r[n]=o(t,n,i)}removeEventListener(t,n){const i=t.$proxies||(t.$proxies={}),r=i[n];if(!r)return;({attach:pv,detach:pv,resize:pv}[n]||hz)(t,n,r),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,i,r){return aU(t,n,i,r)}isAttached(t){const n=t&&tb(t);return!!(n&&n.isConnected)}}function wz(e){return!Zw()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?az:_z}var um;let qa=(um=class{constructor(){Dt(this,"x");Dt(this,"y");Dt(this,"active",!1);Dt(this,"options");Dt(this,"$animations")}tooltipPosition(t){const{x:n,y:i}=this.getProps(["x","y"],t);return{x:n,y:i}}hasValue(){return lp(this.x)&&lp(this.y)}getProps(t,n){const i=this.$animations;if(!n||!i)return this;const r={};return t.forEach(s=>{r[s]=i[s]&&i[s].active()?i[s]._to:this[s]}),r}},Dt(um,"defaults",{}),Dt(um,"defaultRoutes"),um);function bz(e,t){const n=e.options.ticks,i=xz(e),r=Math.min(n.maxTicksLimit||i,i),s=n.major.enabled?Az(t):[],o=s.length,a=s[0],l=s[o-1],u=[];if(o>r)return Tz(t,u,s,o/r),u;const c=Sz(s,t,r);if(o>0){let h,p;const f=o>1?Math.round((l-a)/(o-1)):null;for(Hg(t,u,c,ln(f)?0:a-f,a),h=0,p=o-1;h<p;h++)Hg(t,u,c,s[h],s[h+1]);return Hg(t,u,c,l,ln(f)?t.length:l+f),u}return Hg(t,u,c),u}function xz(e){const t=e.options.offset,n=e._tickSize(),i=e._length/n+(t?0:1),r=e._maxLength/n;return Math.floor(Math.min(i,r))}function Sz(e,t,n){const i=kz(e),r=t.length/n;if(!i)return Math.max(r,1);const s=oB(i);for(let o=0,a=s.length-1;o<a;o++){const l=s[o];if(l>r)return l}return Math.max(r,1)}function Az(e){const t=[];let n,i;for(n=0,i=e.length;n<i;n++)e[n].major&&t.push(n);return t}function Tz(e,t,n,i){let r=0,s=n[0],o;for(i=Math.ceil(i),o=0;o<e.length;o++)o===s&&(t.push(e[o]),r++,s=n[r*i])}function Hg(e,t,n,i,r){const s=Me(i,0),o=Math.min(Me(r,e.length),e.length);let a=0,l,u,c;for(n=Math.ceil(n),r&&(l=r-i,n=l/Math.floor(l/n)),c=s;c<0;)a++,c=Math.round(s+a*n);for(u=Math.max(s,0);u<o;u++)u===c&&(t.push(e[u]),a++,c=Math.round(s+a*n))}function kz(e){const t=e.length;let n,i;if(t<2)return!1;for(i=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==i)return!1;return i}const Ez=e=>e==="left"?"right":e==="right"?"left":e,nT=(e,t,n)=>t==="top"||t==="left"?e[t]+n:e[t]-n,iT=(e,t)=>Math.min(t||e,e);function rT(e,t){const n=[],i=e.length/t,r=e.length;let s=0;for(;s<r;s+=i)n.push(e[Math.floor(s)]);return n}function Pz(e,t,n){const i=e.ticks.length,r=Math.min(t,i-1),s=e._startPixel,o=e._endPixel,a=1e-6;let l=e.getPixelForTick(r),u;if(!(n&&(i===1?u=Math.max(l-s,o-l):t===0?u=(e.getPixelForTick(1)-l)/2:u=(l-e.getPixelForTick(r-1))/2,l+=r<t?u:-u,l<s-a||l>o+a)))return l}function Iz(e,t){fn(e,n=>{const i=n.gc,r=i.length/2;let s;if(r>t){for(s=0;s<r;++s)delete n.data[i[s]];i.splice(0,r)}})}function qf(e){return e.drawTicks?e.tickLength:0}function sT(e,t){if(!e.display)return 0;const n=_r(e.font,t),i=Hs(e.padding);return(Ei(e.text)?e.text.length:1)*n.lineHeight+i.height}function Cz(e,t){return yc(e,{scale:t,type:"scale"})}function Nz(e,t,n){return yc(e,{tick:n,index:t,type:"tick"})}function Lz(e,t,n){let i=qw(e);return(n&&t!=="right"||!n&&t==="right")&&(i=Ez(i)),i}function Rz(e,t,n,i){const{top:r,left:s,bottom:o,right:a,chart:l}=e,{chartArea:u,scales:c}=l;let h=0,p,f,y;const _=o-r,x=a-s;if(e.isHorizontal()){if(f=fr(i,s,a),Qe(n)){const v=Object.keys(n)[0],A=n[v];y=c[v].getPixelForValue(A)+_-t}else n==="center"?y=(u.bottom+u.top)/2+_-t:y=nT(e,n,t);p=a-s}else{if(Qe(n)){const v=Object.keys(n)[0],A=n[v];f=c[v].getPixelForValue(A)-x+t}else n==="center"?f=(u.left+u.right)/2-x+t:f=nT(e,n,t);y=fr(i,o,r),h=n==="left"?-Ii:Ii}return{titleX:f,titleY:y,maxWidth:p,rotation:h}}class ef extends qa{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:i,_suggestedMax:r}=this;return t=Lo(t,Number.POSITIVE_INFINITY),n=Lo(n,Number.NEGATIVE_INFINITY),i=Lo(i,Number.POSITIVE_INFINITY),r=Lo(r,Number.NEGATIVE_INFINITY),{min:Lo(t,i),max:Lo(n,r),minDefined:qs(t),maxDefined:qs(n)}}getMinMax(t){let{min:n,max:i,minDefined:r,maxDefined:s}=this.getUserBounds(),o;if(r&&s)return{min:n,max:i};const a=this.getMatchingVisibleMetas();for(let l=0,u=a.length;l<u;++l)o=a[l].controller.getMinMax(this,t),r||(n=Math.min(n,o.min)),s||(i=Math.max(i,o.max));return n=s&&n>i?i:n,i=r&&n>i?n:i,{min:Lo(n,Lo(i,n)),max:Lo(i,Lo(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Cn(this.options.beforeUpdate,[this])}update(t,n,i){const{beginAtZero:r,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=VB(this,s,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?rT(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=bz(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,t=!t),this._startPixel=n,this._endPixel=i,this._reversePixels=t,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Cn(this.options.afterUpdate,[this])}beforeSetDimensions(){Cn(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Cn(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Cn(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Cn(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let i,r,s;for(i=0,r=t.length;i<r;i++)s=t[i],s.label=Cn(n.callback,[s.value,i,t],this)}afterTickToLabelConversion(){Cn(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Cn(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,i=iT(this.ticks.length,t.ticks.maxTicksLimit),r=n.minRotation||0,s=n.maxRotation;let o=r,a,l,u;if(!this._isVisible()||!n.display||r>=s||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const c=this._getLabelSizes(),h=c.widest.width,p=c.highest.height,f=vr(this.chart.width-h,0,this.maxWidth);a=t.offset?this.maxWidth/i:f/(i-1),h+6>a&&(a=f/(i-(t.offset?.5:1)),l=this.maxHeight-qf(t.grid)-n.padding-sT(t.title,this.chart.options.font),u=Math.sqrt(h*h+p*p),o=cB(Math.min(Math.asin(vr((c.highest.height+6)/a,-1,1)),Math.asin(vr(l/u,-1,1))-Math.asin(vr(p/u,-1,1)))),o=Math.max(r,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){Cn(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Cn(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:i,title:r,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=sT(r,n.options.font);if(a?(t.width=this.maxWidth,t.height=qf(s)+l):(t.height=this.maxHeight,t.width=qf(s)+l),i.display&&this.ticks.length){const{first:u,last:c,widest:h,highest:p}=this._getLabelSizes(),f=i.padding*2,y=xa(this.labelRotation),_=Math.cos(y),x=Math.sin(y);if(a){const v=i.mirror?0:x*h.width+_*p.height;t.height=Math.min(this.maxHeight,t.height+v+f)}else{const v=i.mirror?0:_*h.width+x*p.height;t.width=Math.min(this.maxWidth,t.width+v+f)}this._calculatePadding(u,c,x,_)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,i,r){const{ticks:{align:s,padding:o},position:a}=this.options,l=this.labelRotation!==0,u=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const c=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let p=0,f=0;l?u?(p=r*t.width,f=i*n.height):(p=i*t.height,f=r*n.width):s==="start"?f=n.width:s==="end"?p=t.width:s!=="inner"&&(p=t.width/2,f=n.width/2),this.paddingLeft=Math.max((p-c+o)*this.width/(this.width-c),0),this.paddingRight=Math.max((f-h+o)*this.width/(this.width-h),0)}else{let c=n.height/2,h=t.height/2;s==="start"?(c=0,h=t.height):s==="end"&&(c=n.height,h=0),this.paddingTop=c+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Cn(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,i;for(n=0,i=t.length;n<i;n++)ln(t[n].label)&&(t.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=rT(i,n)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,n,i){const{ctx:r,_longestTextCache:s}=this,o=[],a=[],l=Math.floor(n/iT(n,i));let u=0,c=0,h,p,f,y,_,x,v,A,I,P,F;for(h=0;h<n;h+=l){if(y=t[h].label,_=this._resolveTickFontOptions(h),r.font=x=_.string,v=s[x]=s[x]||{data:{},gc:[]},A=_.lineHeight,I=P=0,!ln(y)&&!Ei(y))I=L4(r,v.data,v.gc,I,y),P=A;else if(Ei(y))for(p=0,f=y.length;p<f;++p)F=y[p],!ln(F)&&!Ei(F)&&(I=L4(r,v.data,v.gc,I,F),P+=A);o.push(I),a.push(P),u=Math.max(I,u),c=Math.max(P,c)}Iz(s,n);const G=o.indexOf(u),R=a.indexOf(c),T=E=>({width:o[E]||0,height:a[E]||0});return{first:T(0),last:T(n-1),widest:T(G),highest:T(R),widths:o,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return fB(this._alignToPixels?ku(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const i=n[t];return i.$context||(i.$context=Nz(this.getContext(),t,i))}return this.$context||(this.$context=Cz(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=xa(this.labelRotation),i=Math.abs(Math.cos(n)),r=Math.abs(Math.sin(n)),s=this._getLabelSizes(),o=t.autoSkipPadding||0,a=s?s.widest.width+o:0,l=s?s.highest.height+o:0;return this.isHorizontal()?l*i>a*r?a/i:l/r:l*r<a*i?l/i:a/r}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,i=this.chart,r=this.options,{grid:s,position:o,border:a}=r,l=s.offset,u=this.isHorizontal(),h=this.ticks.length+(l?1:0),p=qf(s),f=[],y=a.setContext(this.getContext()),_=y.display?y.width:0,x=_/2,v=function(ut){return ku(i,ut,_)};let A,I,P,F,G,R,T,E,D,k,N,M;if(o==="top")A=v(this.bottom),R=this.bottom-p,E=A-x,k=v(t.top)+x,M=t.bottom;else if(o==="bottom")A=v(this.top),k=t.top,M=v(t.bottom)-x,R=A+x,E=this.top+p;else if(o==="left")A=v(this.right),G=this.right-p,T=A-x,D=v(t.left)+x,N=t.right;else if(o==="right")A=v(this.left),D=t.left,N=v(t.right)-x,G=A+x,T=this.left+p;else if(n==="x"){if(o==="center")A=v((t.top+t.bottom)/2+.5);else if(Qe(o)){const ut=Object.keys(o)[0],ot=o[ut];A=v(this.chart.scales[ut].getPixelForValue(ot))}k=t.top,M=t.bottom,R=A+x,E=R+p}else if(n==="y"){if(o==="center")A=v((t.left+t.right)/2);else if(Qe(o)){const ut=Object.keys(o)[0],ot=o[ut];A=v(this.chart.scales[ut].getPixelForValue(ot))}G=A-x,T=G-p,D=t.left,N=t.right}const H=Me(r.ticks.maxTicksLimit,h),rt=Math.max(1,Math.ceil(h/H));for(I=0;I<h;I+=rt){const ut=this.getContext(I),ot=s.setContext(ut),tt=a.setContext(ut),at=ot.lineWidth,vt=ot.color,_t=tt.dash||[],B=tt.dashOffset,Y=ot.tickWidth,et=ot.tickColor,Z=ot.tickBorderDash||[],nt=ot.tickBorderDashOffset;P=Pz(this,I,l),P!==void 0&&(F=ku(i,P,at),u?G=T=D=N=F:R=E=k=M=F,f.push({tx1:G,ty1:R,tx2:T,ty2:E,x1:D,y1:k,x2:N,y2:M,width:at,color:vt,borderDash:_t,borderDashOffset:B,tickWidth:Y,tickColor:et,tickBorderDash:Z,tickBorderDashOffset:nt}))}return this._ticksLength=h,this._borderValue=A,f}_computeLabelItems(t){const n=this.axis,i=this.options,{position:r,ticks:s}=i,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:u,padding:c,mirror:h}=s,p=qf(i.grid),f=p+c,y=h?-c:f,_=-xa(this.labelRotation),x=[];let v,A,I,P,F,G,R,T,E,D,k,N,M="middle";if(r==="top")G=this.bottom-y,R=this._getXAxisLabelAlignment();else if(r==="bottom")G=this.top+y,R=this._getXAxisLabelAlignment();else if(r==="left"){const rt=this._getYAxisLabelAlignment(p);R=rt.textAlign,F=rt.x}else if(r==="right"){const rt=this._getYAxisLabelAlignment(p);R=rt.textAlign,F=rt.x}else if(n==="x"){if(r==="center")G=(t.top+t.bottom)/2+f;else if(Qe(r)){const rt=Object.keys(r)[0],ut=r[rt];G=this.chart.scales[rt].getPixelForValue(ut)+f}R=this._getXAxisLabelAlignment()}else if(n==="y"){if(r==="center")F=(t.left+t.right)/2-f;else if(Qe(r)){const rt=Object.keys(r)[0],ut=r[rt];F=this.chart.scales[rt].getPixelForValue(ut)}R=this._getYAxisLabelAlignment(p).textAlign}n==="y"&&(l==="start"?M="top":l==="end"&&(M="bottom"));const H=this._getLabelSizes();for(v=0,A=a.length;v<A;++v){I=a[v],P=I.label;const rt=s.setContext(this.getContext(v));T=this.getPixelForTick(v)+s.labelOffset,E=this._resolveTickFontOptions(v),D=E.lineHeight,k=Ei(P)?P.length:1;const ut=k/2,ot=rt.color,tt=rt.textStrokeColor,at=rt.textStrokeWidth;let vt=R;o?(F=T,R==="inner"&&(v===A-1?vt=this.options.reverse?"left":"right":v===0?vt=this.options.reverse?"right":"left":vt="center"),r==="top"?u==="near"||_!==0?N=-k*D+D/2:u==="center"?N=-H.highest.height/2-ut*D+D:N=-H.highest.height+D/2:u==="near"||_!==0?N=D/2:u==="center"?N=H.highest.height/2-ut*D:N=H.highest.height-k*D,h&&(N*=-1),_!==0&&!rt.showLabelBackdrop&&(F+=D/2*Math.sin(_))):(G=T,N=(1-k)*D/2);let _t;if(rt.showLabelBackdrop){const B=Hs(rt.backdropPadding),Y=H.heights[v],et=H.widths[v];let Z=N-B.top,nt=0-B.left;switch(M){case"middle":Z-=Y/2;break;case"bottom":Z-=Y;break}switch(R){case"center":nt-=et/2;break;case"right":nt-=et;break;case"inner":v===A-1?nt-=et:v>0&&(nt-=et/2);break}_t={left:nt,top:Z,width:et+B.width,height:Y+B.height,color:rt.backdropColor}}x.push({label:P,font:E,textOffset:N,options:{rotation:_,color:ot,strokeColor:tt,strokeWidth:at,textAlign:vt,textBaseline:M,translation:[F,G],backdrop:_t}})}return x}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-xa(this.labelRotation))return t==="top"?"left":"right";let r="center";return n.align==="start"?r="left":n.align==="end"?r="right":n.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:i,mirror:r,padding:s}}=this.options,o=this._getLabelSizes(),a=t+s,l=o.widest.width;let u,c;return n==="left"?r?(c=this.right+s,i==="near"?u="left":i==="center"?(u="center",c+=l/2):(u="right",c+=l)):(c=this.right-a,i==="near"?u="right":i==="center"?(u="center",c-=l/2):(u="left",c=this.left)):n==="right"?r?(c=this.left+s,i==="near"?u="right":i==="center"?(u="center",c-=l/2):(u="left",c-=l)):(c=this.left+a,i==="near"?u="left":i==="center"?(u="center",c+=l/2):(u="right",c=this.right)):u="right",{textAlign:u,x:c}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:i,top:r,width:s,height:o}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(i,r,s,o),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const r=this.ticks.findIndex(s=>s.value===t);return r>=0?n.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const n=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let s,o;const a=(l,u,c)=>{!c.width||!c.color||(i.save(),i.lineWidth=c.width,i.strokeStyle=c.color,i.setLineDash(c.borderDash||[]),i.lineDashOffset=c.borderDashOffset,i.beginPath(),i.moveTo(l.x,l.y),i.lineTo(u.x,u.y),i.stroke(),i.restore())};if(n.display)for(s=0,o=r.length;s<o;++s){const l=r[s];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:i,grid:r}}=this,s=i.setContext(this.getContext()),o=i.display?s.width:0;if(!o)return;const a=r.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let u,c,h,p;this.isHorizontal()?(u=ku(t,this.left,o)-o/2,c=ku(t,this.right,a)+a/2,h=p=l):(h=ku(t,this.top,o)-o/2,p=ku(t,this.bottom,a)+a/2,u=c=l),n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.beginPath(),n.moveTo(u,h),n.lineTo(c,p),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&Gw(i,r);const s=this.getLabelItems(t);for(const o of s){const a=o.options,l=o.font,u=o.label,c=o.textOffset;hp(i,u,0,c,l,a)}r&&Kw(i)}drawTitle(){const{ctx:t,options:{position:n,title:i,reverse:r}}=this;if(!i.display)return;const s=_r(i.font),o=Hs(i.padding),a=i.align;let l=s.lineHeight/2;n==="bottom"||n==="center"||Qe(n)?(l+=o.bottom,Ei(i.text)&&(l+=s.lineHeight*(i.text.length-1))):l+=o.top;const{titleX:u,titleY:c,maxWidth:h,rotation:p}=Rz(this,l,n,a);hp(t,i.text,0,0,s,{color:i.color,maxWidth:h,rotation:p,textAlign:Lz(a,n,r),textBaseline:"middle",translation:[u,c]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,i=Me(t.grid&&t.grid.z,-1),r=Me(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==ef.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:i,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let s,o;for(s=0,o=n.length;s<o;++s){const a=n[s];a[i]===this.id&&(!t||a.type===t)&&r.push(a)}return r}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return _r(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class $g{constructor(t,n,i){this.type=t,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let i;Oz(n)&&(i=this.register(n));const r=this.items,s=t.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+t);return s in r||(r[s]=t,Mz(t,o,i),this.override&&gi.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const n=this.items,i=t.id,r=this.scope;i in n&&delete n[i],r&&i in gi[r]&&(delete gi[r][i],this.override&&delete rc[i])}}function Mz(e,t,n){const i=op(Object.create(null),[n?gi.get(n):{},gi.get(t),e.defaults]);gi.set(t,i),e.defaultRoutes&&Dz(t,e.defaultRoutes),e.descriptors&&gi.describe(t,e.descriptors)}function Dz(e,t){Object.keys(t).forEach(n=>{const i=n.split("."),r=i.pop(),s=[e].concat(i).join("."),o=t[n].split("."),a=o.pop(),l=o.join(".");gi.route(s,r,l,a)})}function Oz(e){return"id"in e&&"defaults"in e}class Fz{constructor(){this.controllers=new $g(Ku,"datasets",!0),this.elements=new $g(qa,"elements"),this.plugins=new $g(Object,"plugins"),this.scales=new $g(ef,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,i){[...n].forEach(r=>{const s=i||this._getRegistryForType(r);i||s.isForType(r)||s===this.plugins&&r.id?this._exec(t,s,r):fn(r,o=>{const a=i||this._getRegistryForType(o);this._exec(t,a,o)})})}_exec(t,n,i){const r=zw(t);Cn(i["before"+r],[],i),n[t](i),Cn(i["after"+r],[],i)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(t))return i}return this.plugins}_get(t,n,i){const r=n.get(t);if(r===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return r}}var Fo=new Fz;class jz{constructor(){this._init=void 0}notify(t,n,i,r){if(n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install")),this._init===void 0)return;const s=r?this._descriptors(t).filter(r):this._descriptors(t),o=this._notify(s,t,n,i);return n==="afterDestroy"&&(this._notify(s,t,"stop"),this._notify(this._init,t,"uninstall"),this._init=void 0),o}_notify(t,n,i,r){r=r||{};for(const s of t){const o=s.plugin,a=o[i],l=[n,r,s.options];if(Cn(a,l,o)===!1&&r.cancelable)return!1}return!0}invalidate(){ln(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const i=t&&t.config,r=Me(i.options&&i.options.plugins,{}),s=Vz(i);return r===!1&&!n?[]:Uz(t,s,r,n)}_notifyStateChanges(t){const n=this._oldCache||[],i=this._cache,r=(s,o)=>s.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(r(n,i),t,"stop"),this._notify(r(i,n),t,"start")}}function Vz(e){const t={},n=[],i=Object.keys(Fo.plugins.items);for(let s=0;s<i.length;s++)n.push(Fo.getPlugin(i[s]));const r=e.plugins||[];for(let s=0;s<r.length;s++){const o=r[s];n.indexOf(o)===-1&&(n.push(o),t[o.id]=!0)}return{plugins:n,localIds:t}}function Bz(e,t){return!t&&e===!1?null:e===!0?{}:e}function Uz(e,{plugins:t,localIds:n},i,r){const s=[],o=e.getContext();for(const a of t){const l=a.id,u=Bz(i[l],r);u!==null&&s.push({plugin:a,options:zz(e.config,{plugin:a,local:n[l]},u,o)})}return s}function zz(e,{plugin:t,local:n},i,r){const s=e.pluginScopeKeys(t),o=e.getOptionScopes(i,s);return n&&t.defaults&&o.push(t.defaults),e.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function m5(e,t){const n=gi.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function Wz(e,t){let n=e;return e==="_index_"?n=t:e==="_value_"&&(n=t==="x"?"y":"x"),n}function qz(e,t){return e===t?"_index_":"_value_"}function oT(e){if(e==="x"||e==="y"||e==="r")return e}function Hz(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function y5(e,...t){if(oT(e))return e;for(const n of t){const i=n.axis||Hz(n.position)||e.length>1&&oT(e[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function aT(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function $z(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(i=>i.xAxisID===e||i.yAxisID===e);if(n.length)return aT(e,"x",n[0])||aT(e,"y",n[0])}return{}}function Gz(e,t){const n=rc[e.type]||{scales:{}},i=t.scales||{},r=m5(e.type,t),s=Object.create(null);return Object.keys(i).forEach(o=>{const a=i[o];if(!Qe(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=y5(o,a,$z(o,e),gi.scales[a.type]),u=qz(l,r),c=n.scales||{};s[o]=Sd(Object.create(null),[{axis:l},a,c[l],c[u]])}),e.data.datasets.forEach(o=>{const a=o.type||e.type,l=o.indexAxis||m5(a,t),c=(rc[a]||{}).scales||{};Object.keys(c).forEach(h=>{const p=Wz(h,l),f=o[p+"AxisID"]||p;s[f]=s[f]||Object.create(null),Sd(s[f],[{axis:p},i[f],c[h]])})}),Object.keys(s).forEach(o=>{const a=s[o];Sd(a,[gi.scales[a.type],gi.scale])}),s}function UN(e){const t=e.options||(e.options={});t.plugins=Me(t.plugins,{}),t.scales=Gz(e,t)}function zN(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function Kz(e){return e=e||{},e.data=zN(e.data),UN(e),e}const lT=new Map,WN=new Set;function Gg(e,t){let n=lT.get(e);return n||(n=t(),lT.set(e,n),WN.add(n)),n}const Hf=(e,t,n)=>{const i=ic(t,n);i!==void 0&&e.add(i)};class Yz{constructor(t){this._config=Kz(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=zN(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),UN(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Gg(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return Gg(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return Gg(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,i=this.type;return Gg(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const i=this._scopeCache;let r=i.get(t);return(!r||n)&&(r=new Map,i.set(t,r)),r}getOptionScopes(t,n,i){const{options:r,type:s}=this,o=this._cachedScopes(t,i),a=o.get(n);if(a)return a;const l=new Set;n.forEach(c=>{t&&(l.add(t),c.forEach(h=>Hf(l,t,h))),c.forEach(h=>Hf(l,r,h)),c.forEach(h=>Hf(l,rc[s]||{},h)),c.forEach(h=>Hf(l,gi,h)),c.forEach(h=>Hf(l,d5,h))});const u=Array.from(l);return u.length===0&&u.push(Object.create(null)),WN.has(n)&&o.set(n,u),u}chartOptionScopes(){const{options:t,type:n}=this;return[t,rc[n]||{},gi.datasets[n]||{},{type:n},gi,d5]}resolveNamedOptions(t,n,i,r=[""]){const s={$shared:!0},{resolver:o,subPrefixes:a}=uT(this._resolverCache,t,r);let l=o;if(Qz(o,n)){s.$shared=!1,i=Jl(i)?i():i;const u=this.createResolver(t,i,a);l=Vh(o,i,u)}for(const u of n)s[u]=l[u];return s}createResolver(t,n,i=[""],r){const{resolver:s}=uT(this._resolverCache,t,i);return Qe(n)?Vh(s,n,void 0,r):s}}function uT(e,t,n){let i=e.get(t);i||(i=new Map,e.set(t,i));const r=n.join();let s=i.get(r);return s||(s={resolver:Xw(t,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},i.set(r,s)),s}const Xz=e=>Qe(e)&&Object.getOwnPropertyNames(e).some(t=>Jl(e[t]));function Qz(e,t){const{isScriptable:n,isIndexable:i}=TN(e);for(const r of t){const s=n(r),o=i(r),a=(o||s)&&e[r];if(s&&(Jl(a)||Xz(a))||o&&Ei(a))return!0}return!1}var Jz="4.5.1";const Zz=["top","bottom","left","right","chartArea"];function cT(e,t){return e==="top"||e==="bottom"||Zz.indexOf(e)===-1&&t==="x"}function hT(e,t){return function(n,i){return n[e]===i[e]?n[t]-i[t]:n[e]-i[e]}}function fT(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),Cn(n&&n.onComplete,[e],t)}function tW(e){const t=e.chart,n=t.options.animation;Cn(n&&n.onProgress,[e],t)}function qN(e){return Zw()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const Pm={},dT=e=>{const t=qN(e);return Object.values(Pm).filter(n=>n.canvas===t).pop()};function eW(e,t,n){const i=Object.keys(e);for(const r of i){const s=+r;if(s>=t){const o=e[r];delete e[r],(n>0||s>t)&&(e[s+n]=o)}}}function nW(e,t,n,i){return!n||e.type==="mouseout"?null:i?t:e}var vl;let Dp=(vl=class{static register(...t){Fo.add(...t),pT()}static unregister(...t){Fo.remove(...t),pT()}constructor(t,n){const i=this.config=new Yz(n),r=qN(t),s=dT(r);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||wz(r)),this.platform.updateConfig(i);const a=this.platform.acquireContext(r,o.aspectRatio),l=a&&a.canvas,u=l&&l.height,c=l&&l.width;if(this.id=QV(),this.ctx=a,this.canvas=l,this.width=c,this.height=u,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new jz,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=mB(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],Pm[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}da.listen(this,"complete",fT),da.listen(this,"progress",tW),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:i,height:r,_aspectRatio:s}=this;return ln(t)?n&&s?s:r?i/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Fo}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():O4(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return R4(this.canvas,this.ctx),this}stop(){return da.stop(this),this}resize(t,n){da.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const i=this.options,r=this.canvas,s=i.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(r,t,n,s),a=i.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,O4(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),Cn(i.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};fn(n,(i,r)=>{i.id=r})}buildOrUpdateScales(){const t=this.options,n=t.scales,i=this.scales,r=Object.keys(i).reduce((o,a)=>(o[a]=!1,o),{});let s=[];n&&(s=s.concat(Object.keys(n).map(o=>{const a=n[o],l=y5(o,a),u=l==="r",c=l==="x";return{options:a,dposition:u?"chartArea":c?"bottom":"left",dtype:u?"radialLinear":c?"category":"linear"}}))),fn(s,o=>{const a=o.options,l=a.id,u=y5(l,a),c=Me(a.type,o.dtype);(a.position===void 0||cT(a.position,u)!==cT(o.dposition))&&(a.position=o.dposition),r[l]=!0;let h=null;if(l in i&&i[l].type===c)h=i[l];else{const p=Fo.getScale(c);h=new p({id:l,type:c,ctx:this.ctx,chart:this}),i[h.id]=h}h.init(a,t)}),fn(r,(o,a)=>{o||delete i[a]}),fn(i,o=>{js.configure(this,o,o.options),js.addBox(this,o)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,i=t.length;if(t.sort((r,s)=>r.index-s.index),i>n){for(let r=n;r<i;++r)this._destroyDatasetMeta(r);t.splice(n,i-n)}this._sortedMetasets=t.slice(0).sort(hT("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((i,r)=>{n.filter(s=>s===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=n.length;i<r;i++){const s=n[i];let o=this.getDatasetMeta(i);const a=s.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(i),o=this.getDatasetMeta(i)),o.type=a,o.indexAxis=s.indexAxis||m5(a,this.options),o.order=s.order||0,o.index=i,o.label=""+s.label,o.visible=this.isDatasetVisible(i),o.controller)o.controller.updateIndex(i),o.controller.linkScales();else{const l=Fo.getController(a),{datasetElementType:u,dataElementType:c}=gi.datasets[a];Object.assign(l,{dataElementType:Fo.getElement(c),datasetElementType:u&&Fo.getElement(u)}),o.controller=new l(this,i),t.push(o.controller)}}return this._updateMetasets(),t}_resetElements(){fn(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let u=0,c=this.data.datasets.length;u<c;u++){const{controller:h}=this.getDatasetMeta(u),p=!r&&s.indexOf(h)===-1;h.buildOrUpdateElements(p),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=i.layout.autoPadding?o:0,this._updateLayout(o),r||fn(s,u=>{u.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(hT("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){fn(this.scales,t=>{js.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!S4(n,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:s}of n){const o=i==="_removeElements"?-s:s;eW(t,r,o)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=s=>new Set(t.filter(o=>o[0]===s).map((o,a)=>a+","+o.splice(1).join(","))),r=i(0);for(let s=1;s<n;s++)if(!S4(r,i(s)))return;return Array.from(r).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;js.update(this,this.width,this.height,t);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],fn(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,s)=>{r._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,Jl(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const i=this.getDatasetMeta(t),r={meta:i,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(n),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(da.has(this)?this.attached&&!da.running(this)&&da.start(this):(this.draw(),fT({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,i=[];let r,s;for(r=0,s=n.length;r<s;++r){const o=n[r];(!t||o.visible)&&i.push(o)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,i={meta:t,index:t.index,cancelable:!0},r=xU(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(r&&Gw(n,r),t.controller.draw(),r&&Kw(n),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return cp(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,i,r){const s=ZU.modes[n];return typeof s=="function"?s(this,t,i,r):[]}getDatasetMeta(t){const n=this.data.datasets[t],i=this._metasets;let r=i.filter(s=>s&&s._dataset===n).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=yc(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(t,n){const i=this.getDatasetMeta(t);i.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,i){const r=i?"show":"hide",s=this.getDatasetMeta(t),o=s.controller._resolveAnimations(void 0,r);ap(n)?(s.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),o.update(s,{visible:i}),this.update(a=>a.datasetIndex===t?r:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),da.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),R4(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Pm[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,i=(s,o)=>{n.addEventListener(this,s,o),t[s]=o},r=(s,o,a)=>{s.offsetX=o,s.offsetY=a,this._eventHandler(s)};fn(this.options.events,s=>i(s,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,i=(l,u)=>{n.addEventListener(this,l,u),t[l]=u},r=(l,u)=>{t[l]&&(n.removeEventListener(this,l,u),delete t[l])},s=(l,u)=>{this.canvas&&this.resize(l,u)};let o;const a=()=>{r("attach",a),this.attached=!0,this.resize(),i("resize",s),i("detach",o)};o=()=>{this.attached=!1,r("resize",s),this._stop(),this._resize(0,0),i("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){fn(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},fn(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,i){const r=i?"set":"remove";let s,o,a,l;for(n==="dataset"&&(s=this.getDatasetMeta(t[0].datasetIndex),s.controller["_"+r+"DatasetHoverStyle"]()),a=0,l=t.length;a<l;++a){o=t[a];const u=o&&this.getDatasetMeta(o.datasetIndex).controller;u&&u[r+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],i=t.map(({datasetIndex:s,index:o})=>{const a=this.getDatasetMeta(s);if(!a)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:a.data[o],index:o}});!A0(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(t,n,i){return this._plugins.notify(this,t,n,i)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,i){const r=this.options.hover,s=(l,u)=>l.filter(c=>!u.some(h=>c.datasetIndex===h.datasetIndex&&c.index===h.index)),o=s(n,t),a=i?t:s(t,n);o.length&&this.updateHoverStyle(o,r.mode,!1),a.length&&r.mode&&this.updateHoverStyle(a,r.mode,!0)}_eventHandler(t,n){const i={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},r=o=>(o.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const s=this._handleEvent(t,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(s||i.changed)&&this.render(),this}_handleEvent(t,n,i){const{_active:r=[],options:s}=this,o=n,a=this._getActiveElements(t,r,i,o),l=iB(t),u=nW(t,this._lastEvent,i,l);i&&(this._lastEvent=null,Cn(s.onHover,[t,a,this],this),l&&Cn(s.onClick,[t,a,this],this));const c=!A0(a,r);return(c||n)&&(this._active=a,this._updateHoverStyles(a,r,n)),this._lastEvent=u,c}_getActiveElements(t,n,i,r){if(t.type==="mouseout")return[];if(!i)return n;const s=this.options.hover;return this.getElementsAtEventForMode(t,s.mode,s,r)}},Dt(vl,"defaults",gi),Dt(vl,"instances",Pm),Dt(vl,"overrides",rc),Dt(vl,"registry",Fo),Dt(vl,"version",Jz),Dt(vl,"getChart",dT),vl);function pT(){return fn(Dp.instances,e=>e._plugins.invalidate())}function iW(e,t,n){const{startAngle:i,x:r,y:s,outerRadius:o,innerRadius:a,options:l}=t,{borderWidth:u,borderJoinStyle:c}=l,h=Math.min(u/o,oo(i-n));if(e.beginPath(),e.arc(r,s,o-u/2,i+h/2,n-h/2),a>0){const p=Math.min(u/a,oo(i-n));e.arc(r,s,a+u/2,n-p/2,i+p/2,!0)}else{const p=Math.min(u/2,o*oo(i-n));if(c==="round")e.arc(r,s,p,n-pn/2,i+pn/2,!0);else if(c==="bevel"){const f=2*p*p,y=-f*Math.cos(n+pn/2)+r,_=-f*Math.sin(n+pn/2)+s,x=f*Math.cos(i+pn/2)+r,v=f*Math.sin(i+pn/2)+s;e.lineTo(y,_),e.lineTo(x,v)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}function rW(e,t,n){const{startAngle:i,pixelMargin:r,x:s,y:o,outerRadius:a,innerRadius:l}=t;let u=r/a;e.beginPath(),e.arc(s,o,a,i-u,n+u),l>r?(u=r/l,e.arc(s,o,l,n+u,i-u,!0)):e.arc(s,o,r,n+Ii,i-Ii),e.closePath(),e.clip()}function sW(e){return Yw(e,["outerStart","outerEnd","innerStart","innerEnd"])}function oW(e,t,n,i){const r=sW(e.options.borderRadius),s=(n-t)/2,o=Math.min(s,i*t/2),a=l=>{const u=(n-Math.min(s,l))*i/2;return vr(l,0,Math.min(s,u))};return{outerStart:a(r.outerStart),outerEnd:a(r.outerEnd),innerStart:vr(r.innerStart,0,o),innerEnd:vr(r.innerEnd,0,o)}}function Dc(e,t,n,i){return{x:n+e*Math.cos(t),y:i+e*Math.sin(t)}}function C0(e,t,n,i,r,s){const{x:o,y:a,startAngle:l,pixelMargin:u,innerRadius:c}=t,h=Math.max(t.outerRadius+i+n-u,0),p=c>0?c+i+n+u:0;let f=0;const y=r-l;if(i){const rt=c>0?c-i:0,ut=h>0?h-i:0,ot=(rt+ut)/2,tt=ot!==0?y*ot/(ot+i):y;f=(y-tt)/2}const _=Math.max(.001,y*h-n/pn)/h,x=(y-_)/2,v=l+x+f,A=r-x-f,{outerStart:I,outerEnd:P,innerStart:F,innerEnd:G}=oW(t,p,h,A-v),R=h-I,T=h-P,E=v+I/R,D=A-P/T,k=p+F,N=p+G,M=v+F/k,H=A-G/N;if(e.beginPath(),s){const rt=(E+D)/2;if(e.arc(o,a,h,E,rt),e.arc(o,a,h,rt,D),P>0){const at=Dc(T,D,o,a);e.arc(at.x,at.y,P,D,A+Ii)}const ut=Dc(N,A,o,a);if(e.lineTo(ut.x,ut.y),G>0){const at=Dc(N,H,o,a);e.arc(at.x,at.y,G,A+Ii,H+Math.PI)}const ot=(A-G/p+(v+F/p))/2;if(e.arc(o,a,p,A-G/p,ot,!0),e.arc(o,a,p,ot,v+F/p,!0),F>0){const at=Dc(k,M,o,a);e.arc(at.x,at.y,F,M+Math.PI,v-Ii)}const tt=Dc(R,v,o,a);if(e.lineTo(tt.x,tt.y),I>0){const at=Dc(R,E,o,a);e.arc(at.x,at.y,I,v-Ii,E)}}else{e.moveTo(o,a);const rt=Math.cos(E)*h+o,ut=Math.sin(E)*h+a;e.lineTo(rt,ut);const ot=Math.cos(D)*h+o,tt=Math.sin(D)*h+a;e.lineTo(ot,tt)}e.closePath()}function aW(e,t,n,i,r){const{fullCircles:s,startAngle:o,circumference:a}=t;let l=t.endAngle;if(s){C0(e,t,n,i,l,r);for(let u=0;u<s;++u)e.fill();isNaN(a)||(l=o+(a%ni||ni))}return C0(e,t,n,i,l,r),e.fill(),l}function lW(e,t,n,i,r){const{fullCircles:s,startAngle:o,circumference:a,options:l}=t,{borderWidth:u,borderJoinStyle:c,borderDash:h,borderDashOffset:p,borderRadius:f}=l,y=l.borderAlign==="inner";if(!u)return;e.setLineDash(h||[]),e.lineDashOffset=p,y?(e.lineWidth=u*2,e.lineJoin=c||"round"):(e.lineWidth=u,e.lineJoin=c||"bevel");let _=t.endAngle;if(s){C0(e,t,n,i,_,r);for(let x=0;x<s;++x)e.stroke();isNaN(a)||(_=o+(a%ni||ni))}y&&rW(e,t,_),l.selfJoin&&_-o>=pn&&f===0&&c!=="miter"&&iW(e,t,_),s||(C0(e,t,n,i,_,r),e.stroke())}class lh extends qa{constructor(n){super();Dt(this,"circumference");Dt(this,"endAngle");Dt(this,"fullCircles");Dt(this,"innerRadius");Dt(this,"outerRadius");Dt(this,"pixelMargin");Dt(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,i,r){const s=this.getProps(["x","y"],r),{angle:o,distance:a}=yN(s,{x:n,y:i}),{startAngle:l,endAngle:u,innerRadius:c,outerRadius:h,circumference:p}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),f=(this.options.spacing+this.options.borderWidth)/2,y=Me(p,u-l),_=up(o,l,u)&&l!==u,x=y>=ni||_,v=Cl(a,c+f,h+f);return x&&v}getCenterPoint(n){const{x:i,y:r,startAngle:s,endAngle:o,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:u,spacing:c}=this.options,h=(s+o)/2,p=(a+l+c+u)/2;return{x:i+Math.cos(h)*p,y:r+Math.sin(h)*p}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:i,circumference:r}=this,s=(i.offset||0)/4,o=(i.spacing||0)/2,a=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=r>ni?Math.floor(r/ni):0,r===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const l=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(l)*s,Math.sin(l)*s);const u=1-Math.sin(Math.min(pn,r||0)),c=s*u;n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,aW(n,this,c,o,a),lW(n,this,c,o,a),n.restore()}}Dt(lh,"id","arc"),Dt(lh,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),Dt(lh,"defaultRoutes",{backgroundColor:"backgroundColor"}),Dt(lh,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function HN(e,t,n=t){e.lineCap=Me(n.borderCapStyle,t.borderCapStyle),e.setLineDash(Me(n.borderDash,t.borderDash)),e.lineDashOffset=Me(n.borderDashOffset,t.borderDashOffset),e.lineJoin=Me(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=Me(n.borderWidth,t.borderWidth),e.strokeStyle=Me(n.borderColor,t.borderColor)}function uW(e,t,n){e.lineTo(n.x,n.y)}function cW(e){return e.stepped?CB:e.tension||e.cubicInterpolationMode==="monotone"?NB:uW}function $N(e,t,n={}){const i=e.length,{start:r=0,end:s=i-1}=n,{start:o,end:a}=t,l=Math.max(r,o),u=Math.min(s,a),c=r<o&&s<o||r>a&&s>a;return{count:i,start:l,loop:t.loop,ilen:u<l&&!c?i+u-l:u-l}}function hW(e,t,n,i){const{points:r,options:s}=t,{count:o,start:a,loop:l,ilen:u}=$N(r,n,i),c=cW(s);let{move:h=!0,reverse:p}=i||{},f,y,_;for(f=0;f<=u;++f)y=r[(a+(p?u-f:f))%o],!y.skip&&(h?(e.moveTo(y.x,y.y),h=!1):c(e,_,y,p,s.stepped),_=y);return l&&(y=r[(a+(p?u:0))%o],c(e,_,y,p,s.stepped)),!!l}function fW(e,t,n,i){const r=t.points,{count:s,start:o,ilen:a}=$N(r,n,i),{move:l=!0,reverse:u}=i||{};let c=0,h=0,p,f,y,_,x,v;const A=P=>(o+(u?a-P:P))%s,I=()=>{_!==x&&(e.lineTo(c,x),e.lineTo(c,_),e.lineTo(c,v))};for(l&&(f=r[A(0)],e.moveTo(f.x,f.y)),p=0;p<=a;++p){if(f=r[A(p)],f.skip)continue;const P=f.x,F=f.y,G=P|0;G===y?(F<_?_=F:F>x&&(x=F),c=(h*c+P)/++h):(I(),e.lineTo(P,F),y=G,h=0,_=x=F),v=F}I()}function v5(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!n?fW:hW}function dW(e){return e.stepped?uU:e.tension||e.cubicInterpolationMode==="monotone"?cU:Ru}function pW(e,t,n,i){let r=t._path;r||(r=t._path=new Path2D,t.path(r,n,i)&&r.closePath()),HN(e,t.options),e.stroke(r)}function gW(e,t,n,i){const{segments:r,options:s}=t,o=v5(t);for(const a of r)HN(e,s,a.style),e.beginPath(),o(e,t,a,{start:n,end:n+i-1})&&e.closePath(),e.stroke()}const mW=typeof Path2D=="function";function yW(e,t,n,i){mW&&!t.options.segment?pW(e,t,n,i):gW(e,t,n,i)}class sd extends qa{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,n){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const r=i.spanGaps?this._loop:this._fullLoop;eU(this._points,i,t,r,n),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=vU(this,this.options.segment))}first(){const t=this.segments,n=this.points;return t.length&&n[t[0].start]}last(){const t=this.segments,n=this.points,i=t.length;return i&&n[t[i-1].end]}interpolate(t,n){const i=this.options,r=t[n],s=this.points,o=gU(this,{property:n,start:r,end:r});if(!o.length)return;const a=[],l=dW(i);let u,c;for(u=0,c=o.length;u<c;++u){const{start:h,end:p}=o[u],f=s[h],y=s[p];if(f===y){a.push(f);continue}const _=Math.abs((r-f[n])/(y[n]-f[n])),x=l(f,y,_,i.stepped);x[n]=t[n],a.push(x)}return a.length===1?a[0]:a}pathSegment(t,n,i){return v5(this)(t,this,n,i)}path(t,n,i){const r=this.segments,s=v5(this);let o=this._loop;n=n||0,i=i||this.points.length-n;for(const a of r)o&=s(t,this,a,{start:n,end:n+i-1});return!!o}draw(t,n,i,r){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(t.save(),yW(t,this,i,r),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Dt(sd,"id","line"),Dt(sd,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Dt(sd,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Dt(sd,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function gT(e,t,n,i){const r=e.options,{[n]:s}=e.getProps([n],i);return Math.abs(t-s)<r.radius+r.hitRadius}class Im extends qa{constructor(n){super();Dt(this,"parsed");Dt(this,"skip");Dt(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,i,r){const s=this.options,{x:o,y:a}=this.getProps(["x","y"],r);return Math.pow(n-o,2)+Math.pow(i-a,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(n,i){return gT(this,n,"x",i)}inYRange(n,i){return gT(this,n,"y",i)}getCenterPoint(n){const{x:i,y:r}=this.getProps(["x","y"],n);return{x:i,y:r}}size(n){n=n||this.options||{};let i=n.radius||0;i=Math.max(i,i&&n.hoverRadius||0);const r=i&&n.borderWidth||0;return(i+r)*2}draw(n,i){const r=this.options;this.skip||r.radius<.1||!cp(this,i,this.size(r)/2)||(n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.fillStyle=r.backgroundColor,p5(n,r,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}Dt(Im,"id","point"),Dt(Im,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Dt(Im,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function GN(e,t){const{x:n,y:i,base:r,width:s,height:o}=e.getProps(["x","y","base","width","height"],t);let a,l,u,c,h;return e.horizontal?(h=o/2,a=Math.min(n,r),l=Math.max(n,r),u=i-h,c=i+h):(h=s/2,a=n-h,l=n+h,u=Math.min(i,r),c=Math.max(i,r)),{left:a,top:u,right:l,bottom:c}}function Ll(e,t,n,i){return e?0:vr(t,n,i)}function vW(e,t,n){const i=e.options.borderWidth,r=e.borderSkipped,s=AN(i);return{t:Ll(r.top,s.top,0,n),r:Ll(r.right,s.right,0,t),b:Ll(r.bottom,s.bottom,0,n),l:Ll(r.left,s.left,0,t)}}function _W(e,t,n){const{enableBorderRadius:i}=e.getProps(["enableBorderRadius"]),r=e.options.borderRadius,s=yh(r),o=Math.min(t,n),a=e.borderSkipped,l=i||Qe(r);return{topLeft:Ll(!l||a.top||a.left,s.topLeft,0,o),topRight:Ll(!l||a.top||a.right,s.topRight,0,o),bottomLeft:Ll(!l||a.bottom||a.left,s.bottomLeft,0,o),bottomRight:Ll(!l||a.bottom||a.right,s.bottomRight,0,o)}}function wW(e){const t=GN(e),n=t.right-t.left,i=t.bottom-t.top,r=vW(e,n/2,i/2),s=_W(e,n/2,i/2);return{outer:{x:t.left,y:t.top,w:n,h:i,radius:s},inner:{x:t.left+r.l,y:t.top+r.t,w:n-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,s.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(r.b,r.r))}}}}function gv(e,t,n,i){const r=t===null,s=n===null,a=e&&!(r&&s)&&GN(e,i);return a&&(r||Cl(t,a.left,a.right))&&(s||Cl(n,a.top,a.bottom))}function bW(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function xW(e,t){e.rect(t.x,t.y,t.w,t.h)}function mv(e,t,n={}){const i=e.x!==n.x?-t:0,r=e.y!==n.y?-t:0,s=(e.x+e.w!==n.x+n.w?t:0)-i,o=(e.y+e.h!==n.y+n.h?t:0)-r;return{x:e.x+i,y:e.y+r,w:e.w+s,h:e.h+o,radius:e.radius}}class Cm extends qa{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:n,options:{borderColor:i,backgroundColor:r}}=this,{inner:s,outer:o}=wW(this),a=bW(o.radius)?E0:xW;t.save(),(o.w!==s.w||o.h!==s.h)&&(t.beginPath(),a(t,mv(o,n,s)),t.clip(),a(t,mv(s,-n,o)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),a(t,mv(s,n)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,n,i){return gv(this,t,n,i)}inXRange(t,n){return gv(this,t,null,n)}inYRange(t,n){return gv(this,null,t,n)}getCenterPoint(t){const{x:n,y:i,base:r,horizontal:s}=this.getProps(["x","y","base","horizontal"],t);return{x:s?(n+r)/2:n,y:s?i:(i+r)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}Dt(Cm,"id","bar"),Dt(Cm,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Dt(Cm,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const mT=(e,t)=>{let{boxHeight:n=t,boxWidth:i=t}=e;return e.usePointStyle&&(n=Math.min(n,t),i=e.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(t,n)}},SW=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class yT extends qa{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,i){this.maxWidth=t,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=Cn(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(i=>t.filter(i,this.chart.data))),t.sort&&(n=n.sort((i,r)=>t.sort(i,r,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,r=_r(i.font),s=r.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=mT(i,s);let u,c;n.font=r.string,this.isHorizontal()?(u=this.maxWidth,c=this._fitRows(o,s,a,l)+10):(c=this.maxHeight,u=this._fitCols(o,r,a,l)+10),this.width=Math.min(u,t.maxWidth||this.maxWidth),this.height=Math.min(c,t.maxHeight||this.maxHeight)}_fitRows(t,n,i,r){const{ctx:s,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],u=this.lineWidths=[0],c=r+a;let h=t;s.textAlign="left",s.textBaseline="middle";let p=-1,f=-c;return this.legendItems.forEach((y,_)=>{const x=i+n/2+s.measureText(y.text).width;(_===0||u[u.length-1]+x+2*a>o)&&(h+=c,u[u.length-(_>0?0:1)]=0,f+=c,p++),l[_]={left:0,top:f,row:p,width:x,height:r},u[u.length-1]+=x+a}),h}_fitCols(t,n,i,r){const{ctx:s,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],u=this.columnSizes=[],c=o-t;let h=a,p=0,f=0,y=0,_=0;return this.legendItems.forEach((x,v)=>{const{itemWidth:A,itemHeight:I}=AW(i,n,s,x,r);v>0&&f+I+2*a>c&&(h+=p+a,u.push({width:p,height:f}),y+=p+a,_++,p=f=0),l[v]={left:y,top:f,col:_,width:A,height:I},p=Math.max(p,A),f+=I+a}),h+=p,u.push({width:p,height:f}),h}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:r},rtl:s}}=this,o=vh(s,this.left,this.width);if(this.isHorizontal()){let a=0,l=fr(i,this.left+r,this.right-this.lineWidths[a]);for(const u of n)a!==u.row&&(a=u.row,l=fr(i,this.left+r,this.right-this.lineWidths[a])),u.top+=this.top+t+r,u.left=o.leftForLtr(o.x(l),u.width),l+=u.width+r}else{let a=0,l=fr(i,this.top+t+r,this.bottom-this.columnSizes[a].height);for(const u of n)u.col!==a&&(a=u.col,l=fr(i,this.top+t+r,this.bottom-this.columnSizes[a].height)),u.top=l,u.left+=this.left+r,u.left=o.leftForLtr(o.x(u.left),u.width),l+=u.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Gw(t,this),this._draw(),Kw(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:i,ctx:r}=this,{align:s,labels:o}=t,a=gi.color,l=vh(t.rtl,this.left,this.width),u=_r(o.font),{padding:c}=o,h=u.size,p=h/2;let f;this.drawTitle(),r.textAlign=l.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=u.string;const{boxWidth:y,boxHeight:_,itemHeight:x}=mT(o,h),v=function(G,R,T){if(isNaN(y)||y<=0||isNaN(_)||_<0)return;r.save();const E=Me(T.lineWidth,1);if(r.fillStyle=Me(T.fillStyle,a),r.lineCap=Me(T.lineCap,"butt"),r.lineDashOffset=Me(T.lineDashOffset,0),r.lineJoin=Me(T.lineJoin,"miter"),r.lineWidth=E,r.strokeStyle=Me(T.strokeStyle,a),r.setLineDash(Me(T.lineDash,[])),o.usePointStyle){const D={radius:_*Math.SQRT2/2,pointStyle:T.pointStyle,rotation:T.rotation,borderWidth:E},k=l.xPlus(G,y/2),N=R+p;SN(r,D,k,N,o.pointStyleWidth&&y)}else{const D=R+Math.max((h-_)/2,0),k=l.leftForLtr(G,y),N=yh(T.borderRadius);r.beginPath(),Object.values(N).some(M=>M!==0)?E0(r,{x:k,y:D,w:y,h:_,radius:N}):r.rect(k,D,y,_),r.fill(),E!==0&&r.stroke()}r.restore()},A=function(G,R,T){hp(r,T.text,G,R+x/2,u,{strikethrough:T.hidden,textAlign:l.textAlign(T.textAlign)})},I=this.isHorizontal(),P=this._computeTitleHeight();I?f={x:fr(s,this.left+c,this.right-i[0]),y:this.top+c+P,line:0}:f={x:this.left+c,y:fr(s,this.top+P+c,this.bottom-n[0].height),line:0},CN(this.ctx,t.textDirection);const F=x+c;this.legendItems.forEach((G,R)=>{r.strokeStyle=G.fontColor,r.fillStyle=G.fontColor;const T=r.measureText(G.text).width,E=l.textAlign(G.textAlign||(G.textAlign=o.textAlign)),D=y+p+T;let k=f.x,N=f.y;l.setWidth(this.width),I?R>0&&k+D+c>this.right&&(N=f.y+=F,f.line++,k=f.x=fr(s,this.left+c,this.right-i[f.line])):R>0&&N+F>this.bottom&&(k=f.x=k+n[f.line].width+c,f.line++,N=f.y=fr(s,this.top+P+c,this.bottom-n[f.line].height));const M=l.x(k);if(v(M,N,G),k=yB(E,k+y+p,I?k+D:this.right,t.rtl),A(l.x(k),N,G),I)f.x+=D+c;else if(typeof G.text!="string"){const H=u.lineHeight;f.y+=KN(G,H)+c}else f.y+=F}),NN(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,i=_r(n.font),r=Hs(n.padding);if(!n.display)return;const s=vh(t.rtl,this.left,this.width),o=this.ctx,a=n.position,l=i.size/2,u=r.top+l;let c,h=this.left,p=this.width;if(this.isHorizontal())p=Math.max(...this.lineWidths),c=this.top+u,h=fr(t.align,h,this.right-p);else{const y=this.columnSizes.reduce((_,x)=>Math.max(_,x.height),0);c=u+fr(t.align,this.top,this.bottom-y-t.labels.padding-this._computeTitleHeight())}const f=fr(a,h,h+p);o.textAlign=s.textAlign(qw(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=i.string,hp(o,n.text,f,c,i)}_computeTitleHeight(){const t=this.options.title,n=_r(t.font),i=Hs(t.padding);return t.display?n.lineHeight+i.height:0}_getLegendItemAt(t,n){let i,r,s;if(Cl(t,this.left,this.right)&&Cl(n,this.top,this.bottom)){for(s=this.legendHitBoxes,i=0;i<s.length;++i)if(r=s[i],Cl(t,r.left,r.left+r.width)&&Cl(n,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(t){const n=this.options;if(!EW(t.type,n))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const r=this._hoveredItem,s=SW(r,i);r&&!s&&Cn(n.onLeave,[t,r,this],this),this._hoveredItem=i,i&&!s&&Cn(n.onHover,[t,i,this],this)}else i&&Cn(n.onClick,[t,i,this],this)}}function AW(e,t,n,i,r){const s=TW(i,e,t,n),o=kW(r,i,t.lineHeight);return{itemWidth:s,itemHeight:o}}function TW(e,t,n,i){let r=e.text;return r&&typeof r!="string"&&(r=r.reduce((s,o)=>s.length>o.length?s:o)),t+n.size/2+i.measureText(r).width}function kW(e,t,n){let i=e;return typeof t.text!="string"&&(i=KN(t,n)),i}function KN(e,t){const n=e.text?e.text.length:0;return t*n}function EW(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var YN={id:"legend",_element:yT,start(e,t,n){const i=e.legend=new yT({ctx:e.ctx,options:n,chart:e});js.configure(e,i,n),js.addBox(e,i)},stop(e){js.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const i=e.legend;js.configure(e,i,n),i.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const i=t.datasetIndex,r=n.chart;r.isDatasetVisible(i)?(r.hide(i),t.hidden=!0):(r.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:r,color:s,useBorderRadius:o,borderRadius:a}}=e.legend.options;return e._getSortedDatasetMetas().map(l=>{const u=l.controller.getStyle(n?0:void 0),c=Hs(u.borderWidth);return{text:t[l.index].label,fillStyle:u.backgroundColor,fontColor:s,hidden:!l.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:u.borderColor,pointStyle:i||u.pointStyle,rotation:u.rotation,textAlign:r||u.textAlign,borderRadius:o&&(a||u.borderRadius),datasetIndex:l.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class XN extends qa{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=n;const r=Ei(i.text)?i.text.length:1;this._padding=Hs(i.padding);const s=r*_r(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:n,left:i,bottom:r,right:s,options:o}=this,a=o.align;let l=0,u,c,h;return this.isHorizontal()?(c=fr(a,i,s),h=n+t,u=s-i):(o.position==="left"?(c=i+t,h=fr(a,r,n),l=pn*-.5):(c=s-t,h=fr(a,n,r),l=pn*.5),u=r-n),{titleX:c,titleY:h,maxWidth:u,rotation:l}}draw(){const t=this.ctx,n=this.options;if(!n.display)return;const i=_r(n.font),s=i.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:u}=this._drawArgs(s);hp(t,n.text,0,0,i,{color:n.color,maxWidth:l,rotation:u,textAlign:qw(n.align),textBaseline:"middle",translation:[o,a]})}}function PW(e,t){const n=new XN({ctx:e.ctx,options:t,chart:e});js.configure(e,n,t),js.addBox(e,n),e.titleBlock=n}var IW={id:"title",_element:XN,start(e,t,n){PW(e,n)},stop(e){const t=e.titleBlock;js.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const i=e.titleBlock;js.configure(e,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const od={average(e){if(!e.length)return!1;let t,n,i=new Set,r=0,s=0;for(t=0,n=e.length;t<n;++t){const a=e[t].element;if(a&&a.hasValue()){const l=a.tooltipPosition();i.add(l.x),r+=l.y,++s}}return s===0||i.size===0?!1:{x:[...i].reduce((a,l)=>a+l)/i.size,y:r/s}},nearest(e,t){if(!e.length)return!1;let n=t.x,i=t.y,r=Number.POSITIVE_INFINITY,s,o,a;for(s=0,o=e.length;s<o;++s){const l=e[s].element;if(l&&l.hasValue()){const u=l.getCenterPoint(),c=f5(t,u);c<r&&(r=c,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,i=l.y}return{x:n,y:i}}};function Mo(e,t){return t&&(Ei(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function pa(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function CW(e,t){const{element:n,datasetIndex:i,index:r}=t,s=e.getDatasetMeta(i).controller,{label:o,value:a}=s.getLabelAndValue(r);return{chart:e,label:o,parsed:s.getParsed(r),raw:e.data.datasets[i].data[r],formattedValue:a,dataset:s.getDataset(),dataIndex:r,datasetIndex:i,element:n}}function vT(e,t){const n=e.chart.ctx,{body:i,footer:r,title:s}=e,{boxWidth:o,boxHeight:a}=t,l=_r(t.bodyFont),u=_r(t.titleFont),c=_r(t.footerFont),h=s.length,p=r.length,f=i.length,y=Hs(t.padding);let _=y.height,x=0,v=i.reduce((P,F)=>P+F.before.length+F.lines.length+F.after.length,0);if(v+=e.beforeBody.length+e.afterBody.length,h&&(_+=h*u.lineHeight+(h-1)*t.titleSpacing+t.titleMarginBottom),v){const P=t.displayColors?Math.max(a,l.lineHeight):l.lineHeight;_+=f*P+(v-f)*l.lineHeight+(v-1)*t.bodySpacing}p&&(_+=t.footerMarginTop+p*c.lineHeight+(p-1)*t.footerSpacing);let A=0;const I=function(P){x=Math.max(x,n.measureText(P).width+A)};return n.save(),n.font=u.string,fn(e.title,I),n.font=l.string,fn(e.beforeBody.concat(e.afterBody),I),A=t.displayColors?o+2+t.boxPadding:0,fn(i,P=>{fn(P.before,I),fn(P.lines,I),fn(P.after,I)}),A=0,n.font=c.string,fn(e.footer,I),n.restore(),x+=y.width,{width:x,height:_}}function NW(e,t){const{y:n,height:i}=t;return n<i/2?"top":n>e.height-i/2?"bottom":"center"}function LW(e,t,n,i){const{x:r,width:s}=i,o=n.caretSize+n.caretPadding;if(e==="left"&&r+s+o>t.width||e==="right"&&r-s-o<0)return!0}function RW(e,t,n,i){const{x:r,width:s}=n,{width:o,chartArea:{left:a,right:l}}=e;let u="center";return i==="center"?u=r<=(a+l)/2?"left":"right":r<=s/2?u="left":r>=o-s/2&&(u="right"),LW(u,e,t,n)&&(u="center"),u}function _T(e,t,n){const i=n.yAlign||t.yAlign||NW(e,n);return{xAlign:n.xAlign||t.xAlign||RW(e,t,n,i),yAlign:i}}function MW(e,t){let{x:n,width:i}=e;return t==="right"?n-=i:t==="center"&&(n-=i/2),n}function DW(e,t,n){let{y:i,height:r}=e;return t==="top"?i+=n:t==="bottom"?i-=r+n:i-=r/2,i}function wT(e,t,n,i){const{caretSize:r,caretPadding:s,cornerRadius:o}=e,{xAlign:a,yAlign:l}=n,u=r+s,{topLeft:c,topRight:h,bottomLeft:p,bottomRight:f}=yh(o);let y=MW(t,a);const _=DW(t,l,u);return l==="center"?a==="left"?y+=u:a==="right"&&(y-=u):a==="left"?y-=Math.max(c,p)+r:a==="right"&&(y+=Math.max(h,f)+r),{x:vr(y,0,i.width-t.width),y:vr(_,0,i.height-t.height)}}function Kg(e,t,n){const i=Hs(n.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-i.right:e.x+i.left}function bT(e){return Mo([],pa(e))}function OW(e,t,n){return yc(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}function xT(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const QN={beforeTitle:ca,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return n[t.dataIndex]}return""},afterTitle:ca,beforeBody:ca,beforeLabel:ca,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return ln(n)||(t+=n),t},labelColor(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:ca,afterBody:ca,beforeFooter:ca,footer:ca,afterFooter:ca};function Vr(e,t,n,i){const r=e[t].call(n,i);return typeof r>"u"?QN[t].call(n,i):r}class _5 extends qa{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&n.options.animation&&i.animations,s=new RN(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=OW(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:i}=n,r=Vr(i,"beforeTitle",this,t),s=Vr(i,"title",this,t),o=Vr(i,"afterTitle",this,t);let a=[];return a=Mo(a,pa(r)),a=Mo(a,pa(s)),a=Mo(a,pa(o)),a}getBeforeBody(t,n){return bT(Vr(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:i}=n,r=[];return fn(t,s=>{const o={before:[],lines:[],after:[]},a=xT(i,s);Mo(o.before,pa(Vr(a,"beforeLabel",this,s))),Mo(o.lines,Vr(a,"label",this,s)),Mo(o.after,pa(Vr(a,"afterLabel",this,s))),r.push(o)}),r}getAfterBody(t,n){return bT(Vr(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:i}=n,r=Vr(i,"beforeFooter",this,t),s=Vr(i,"footer",this,t),o=Vr(i,"afterFooter",this,t);let a=[];return a=Mo(a,pa(r)),a=Mo(a,pa(s)),a=Mo(a,pa(o)),a}_createItems(t){const n=this._active,i=this.chart.data,r=[],s=[],o=[];let a=[],l,u;for(l=0,u=n.length;l<u;++l)a.push(CW(this.chart,n[l]));return t.filter&&(a=a.filter((c,h,p)=>t.filter(c,h,p,i))),t.itemSort&&(a=a.sort((c,h)=>t.itemSort(c,h,i))),fn(a,c=>{const h=xT(t.callbacks,c);r.push(Vr(h,"labelColor",this,c)),s.push(Vr(h,"labelPointStyle",this,c)),o.push(Vr(h,"labelTextColor",this,c))}),this.labelColors=r,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=a,a}update(t,n){const i=this.options.setContext(this.getContext()),r=this._active;let s,o=[];if(!r.length)this.opacity!==0&&(s={opacity:0});else{const a=od[i.position].call(this,r,this._eventPosition);o=this._createItems(i),this.title=this.getTitle(o,i),this.beforeBody=this.getBeforeBody(o,i),this.body=this.getBody(o,i),this.afterBody=this.getAfterBody(o,i),this.footer=this.getFooter(o,i);const l=this._size=vT(this,i),u=Object.assign({},a,l),c=_T(this.chart,i,u),h=wT(i,u,c,this.chart);this.xAlign=c.xAlign,this.yAlign=c.yAlign,s={opacity:1,x:h.x,y:h.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,i,r){const s=this.getCaretPosition(t,i,r);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(t,n,i){const{xAlign:r,yAlign:s}=this,{caretSize:o,cornerRadius:a}=i,{topLeft:l,topRight:u,bottomLeft:c,bottomRight:h}=yh(a),{x:p,y:f}=t,{width:y,height:_}=n;let x,v,A,I,P,F;return s==="center"?(P=f+_/2,r==="left"?(x=p,v=x-o,I=P+o,F=P-o):(x=p+y,v=x+o,I=P-o,F=P+o),A=x):(r==="left"?v=p+Math.max(l,c)+o:r==="right"?v=p+y-Math.max(u,h)-o:v=this.caretX,s==="top"?(I=f,P=I-o,x=v-o,A=v+o):(I=f+_,P=I+o,x=v+o,A=v-o),F=I),{x1:x,x2:v,x3:A,y1:I,y2:P,y3:F}}drawTitle(t,n,i){const r=this.title,s=r.length;let o,a,l;if(s){const u=vh(i.rtl,this.x,this.width);for(t.x=Kg(this,i.titleAlign,i),n.textAlign=u.textAlign(i.titleAlign),n.textBaseline="middle",o=_r(i.titleFont),a=i.titleSpacing,n.fillStyle=i.titleColor,n.font=o.string,l=0;l<s;++l)n.fillText(r[l],u.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+a,l+1===s&&(t.y+=i.titleMarginBottom-a)}}_drawColorBox(t,n,i,r,s){const o=this.labelColors[i],a=this.labelPointStyles[i],{boxHeight:l,boxWidth:u}=s,c=_r(s.bodyFont),h=Kg(this,"left",s),p=r.x(h),f=l<c.lineHeight?(c.lineHeight-l)/2:0,y=n.y+f;if(s.usePointStyle){const _={radius:Math.min(u,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},x=r.leftForLtr(p,u)+u/2,v=y+l/2;t.strokeStyle=s.multiKeyBackground,t.fillStyle=s.multiKeyBackground,p5(t,_,x,v),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,p5(t,_,x,v)}else{t.lineWidth=Qe(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;const _=r.leftForLtr(p,u),x=r.leftForLtr(r.xPlus(p,1),u-2),v=yh(o.borderRadius);Object.values(v).some(A=>A!==0)?(t.beginPath(),t.fillStyle=s.multiKeyBackground,E0(t,{x:_,y,w:u,h:l,radius:v}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),E0(t,{x,y:y+1,w:u-2,h:l-2,radius:v}),t.fill()):(t.fillStyle=s.multiKeyBackground,t.fillRect(_,y,u,l),t.strokeRect(_,y,u,l),t.fillStyle=o.backgroundColor,t.fillRect(x,y+1,u-2,l-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,n,i){const{body:r}=this,{bodySpacing:s,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:u,boxPadding:c}=i,h=_r(i.bodyFont);let p=h.lineHeight,f=0;const y=vh(i.rtl,this.x,this.width),_=function(T){n.fillText(T,y.x(t.x+f),t.y+p/2),t.y+=p+s},x=y.textAlign(o);let v,A,I,P,F,G,R;for(n.textAlign=o,n.textBaseline="middle",n.font=h.string,t.x=Kg(this,x,i),n.fillStyle=i.bodyColor,fn(this.beforeBody,_),f=a&&x!=="right"?o==="center"?u/2+c:u+2+c:0,P=0,G=r.length;P<G;++P){for(v=r[P],A=this.labelTextColors[P],n.fillStyle=A,fn(v.before,_),I=v.lines,a&&I.length&&(this._drawColorBox(n,t,P,y,i),p=Math.max(h.lineHeight,l)),F=0,R=I.length;F<R;++F)_(I[F]),p=h.lineHeight;fn(v.after,_)}f=0,p=h.lineHeight,fn(this.afterBody,_),t.y-=s}drawFooter(t,n,i){const r=this.footer,s=r.length;let o,a;if(s){const l=vh(i.rtl,this.x,this.width);for(t.x=Kg(this,i.footerAlign,i),t.y+=i.footerMarginTop,n.textAlign=l.textAlign(i.footerAlign),n.textBaseline="middle",o=_r(i.footerFont),n.fillStyle=i.footerColor,n.font=o.string,a=0;a<s;++a)n.fillText(r[a],l.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+i.footerSpacing}}drawBackground(t,n,i,r){const{xAlign:s,yAlign:o}=this,{x:a,y:l}=t,{width:u,height:c}=i,{topLeft:h,topRight:p,bottomLeft:f,bottomRight:y}=yh(r.cornerRadius);n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.beginPath(),n.moveTo(a+h,l),o==="top"&&this.drawCaret(t,n,i,r),n.lineTo(a+u-p,l),n.quadraticCurveTo(a+u,l,a+u,l+p),o==="center"&&s==="right"&&this.drawCaret(t,n,i,r),n.lineTo(a+u,l+c-y),n.quadraticCurveTo(a+u,l+c,a+u-y,l+c),o==="bottom"&&this.drawCaret(t,n,i,r),n.lineTo(a+f,l+c),n.quadraticCurveTo(a,l+c,a,l+c-f),o==="center"&&s==="left"&&this.drawCaret(t,n,i,r),n.lineTo(a,l+h),n.quadraticCurveTo(a,l,a+h,l),n.closePath(),n.fill(),r.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,i=this.$animations,r=i&&i.x,s=i&&i.y;if(r||s){const o=od[t.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=vT(this,t),l=Object.assign({},o,this._size),u=_T(n,t,l),c=wT(t,l,u,n);(r._to!==c.x||s._to!==c.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,c))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const r={width:this.width,height:this.height},s={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const o=Hs(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(t.save(),t.globalAlpha=i,this.drawBackground(s,t,r,n),CN(t,n.textDirection),s.y+=o.top,this.drawTitle(s,t,n),this.drawBody(s,t,n),this.drawFooter(s,t,n),NN(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const i=this._active,r=t.map(({datasetIndex:a,index:l})=>{const u=this.chart.getDatasetMeta(a);if(!u)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:u.data[l],index:l}}),s=!A0(i,r),o=this._positionChanged(r,n);(s||o)&&(this._active=r,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,s=this._active||[],o=this._getActiveElements(t,s,n,i),a=this._positionChanged(o,t),l=n||!A0(o,s)||a;return l&&(this._active=o,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),l}_getActiveElements(t,n,i,r){const s=this.options;if(t.type==="mouseout")return[];if(!r)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(t,s.mode,s,i);return s.reverse&&o.reverse(),o}_positionChanged(t,n){const{caretX:i,caretY:r,options:s}=this,o=od[s.position].call(this,t,n);return o!==!1&&(i!==o.x||r!==o.y)}}Dt(_5,"positioners",od);var JN={id:"tooltip",_element:_5,positioners:od,afterInit(e,t,n){n&&(e.tooltip=new _5({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:QN},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const FW=(e,t,n,i)=>(typeof t=="string"?(n=e.push(t)-1,i.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function jW(e,t,n,i){const r=e.indexOf(t);if(r===-1)return FW(e,t,n,i);const s=e.lastIndexOf(t);return r!==s?n:r}const VW=(e,t)=>e===null?null:vr(Math.round(e),0,t);function ST(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class w5 extends ef{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:r,label:s}of n)i[r]===s&&i.splice(r,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(ln(t))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===t?n:jW(i,t,Me(n,t),this._addedLabels),VW(n,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),n||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const t=this.min,n=this.max,i=this.options.offset,r=[];let s=this.getLabels();s=t===0&&n===s.length-1?s:s.slice(t,n+1),this._valueRange=Math.max(s.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let o=t;o<=n;o++)r.push({value:o});return r}getLabelForValue(t){return ST.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}Dt(w5,"id","category"),Dt(w5,"defaults",{ticks:{callback:ST}});function BW(e,t){const n=[],{bounds:r,step:s,min:o,max:a,precision:l,count:u,maxTicks:c,maxDigits:h,includeBounds:p}=e,f=s||1,y=c-1,{min:_,max:x}=t,v=!ln(o),A=!ln(a),I=!ln(u),P=(x-_)/(h+1);let F=T4((x-_)/y/f)*f,G,R,T,E;if(F<1e-14&&!v&&!A)return[{value:_},{value:x}];E=Math.ceil(x/F)-Math.floor(_/F),E>y&&(F=T4(E*F/y/f)*f),ln(l)||(G=Math.pow(10,l),F=Math.ceil(F*G)/G),r==="ticks"?(R=Math.floor(_/F)*F,T=Math.ceil(x/F)*F):(R=_,T=x),v&&A&&s&&lB((a-o)/s,F/1e3)?(E=Math.round(Math.min((a-o)/F,c)),F=(a-o)/E,R=o,T=a):I?(R=v?o:R,T=A?a:T,E=u-1,F=(T-R)/E):(E=(T-R)/F,Ad(E,Math.round(E),F/1e3)?E=Math.round(E):E=Math.ceil(E));const D=Math.max(k4(F),k4(R));G=Math.pow(10,ln(l)?D:l),R=Math.round(R*G)/G,T=Math.round(T*G)/G;let k=0;for(v&&(p&&R!==o?(n.push({value:o}),R<o&&k++,Ad(Math.round((R+k*F)*G)/G,o,AT(o,P,e))&&k++):R<o&&k++);k<E;++k){const N=Math.round((R+k*F)*G)/G;if(A&&N>a)break;n.push({value:N})}return A&&p&&T!==a?n.length&&Ad(n[n.length-1].value,a,AT(a,P,e))?n[n.length-1].value=a:n.push({value:a}):(!A||T===a)&&n.push({value:T}),n}function AT(e,t,{horizontal:n,minRotation:i}){const r=xa(i),s=(n?Math.sin(r):Math.cos(r))||.001,o=.75*t*(""+e).length;return Math.min(t/s,o)}class UW extends ef{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return ln(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:r,max:s}=this;const o=l=>r=n?r:l,a=l=>s=i?s:l;if(t){const l=qo(r),u=qo(s);l<0&&u<0?a(0):l>0&&u>0&&o(0)}if(r===s){let l=s===0?1:Math.abs(s*.05);a(s+l),t||o(r-l)}this.min=r,this.max=s}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=t,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),n=n||11),n&&(r=Math.min(n,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},s=this._range||this,o=BW(r,s);return t.bounds==="ticks"&&uB(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const t=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const r=(i-n)/Math.max(t.length-1,1)/2;n-=r,i+=r}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(t){return $w(t,this.chart.options.locale,this.options.ticks.format)}}class b5 extends UW{determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=qs(t)?t:0,this.max=qs(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,i=xa(this.options.ticks.minRotation),r=(t?Math.sin(i):Math.cos(i))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/r))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}Dt(b5,"id","linear"),Dt(b5,"defaults",{ticks:{callback:xN.formatters.numeric}});const N1={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ur=Object.keys(N1);function TT(e,t){return e-t}function kT(e,t){if(ln(t))return null;const n=e._adapter,{parser:i,round:r,isoWeekday:s}=e._parseOpts;let o=t;return typeof i=="function"&&(o=i(o)),qs(o)||(o=typeof i=="string"?n.parse(o,i):n.parse(o)),o===null?null:(r&&(o=r==="week"&&(lp(s)||s===!0)?n.startOf(o,"isoWeek",s):n.startOf(o,r)),+o)}function ET(e,t,n,i){const r=Ur.length;for(let s=Ur.indexOf(e);s<r-1;++s){const o=N1[Ur[s]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-t)/(a*o.size))<=i)return Ur[s]}return Ur[r-1]}function zW(e,t,n,i,r){for(let s=Ur.length-1;s>=Ur.indexOf(n);s--){const o=Ur[s];if(N1[o].common&&e._adapter.diff(r,i,o)>=t-1)return o}return Ur[n?Ur.indexOf(n):0]}function WW(e){for(let t=Ur.indexOf(e)+1,n=Ur.length;t<n;++t)if(N1[Ur[t]].common)return Ur[t]}function PT(e,t,n){if(!n)e[t]=!0;else if(n.length){const{lo:i,hi:r}=Ww(n,t),s=n[i]>=t?n[i]:n[r];e[s]=!0}}function qW(e,t,n,i){const r=e._adapter,s=+r.startOf(t[0].value,i),o=t[t.length-1].value;let a,l;for(a=s;a<=o;a=+r.add(a,1,i))l=n[a],l>=0&&(t[l].major=!0);return t}function IT(e,t,n){const i=[],r={},s=t.length;let o,a;for(o=0;o<s;++o)a=t[o],r[a]=o,i.push({value:a,major:!1});return s===0||!n?i:qW(e,i,r,n)}class N0 extends ef{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const i=t.time||(t.time={}),r=this._adapter=new KU._date(t.adapters.date);r.init(n),Sd(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:kT(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,i=t.time.unit||"day";let{min:r,max:s,minDefined:o,maxDefined:a}=this.getUserBounds();function l(u){!o&&!isNaN(u.min)&&(r=Math.min(r,u.min)),!a&&!isNaN(u.max)&&(s=Math.max(s,u.max))}(!o||!a)&&(l(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&l(this.getMinMax(!1))),r=qs(r)&&!isNaN(r)?r:+n.startOf(Date.now(),i),s=qs(s)&&!isNaN(s)?s:+n.endOf(Date.now(),i)+1,this.min=Math.min(r,s-1),this.max=Math.max(r+1,s)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],i=t[t.length-1]),{min:n,max:i}}buildTicks(){const t=this.options,n=t.time,i=t.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const s=this.min,o=this.max,a=pB(r,s,o);return this._unit=n.unit||(i.autoSkip?ET(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):zW(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:WW(this._unit),this.initOffsets(r),t.reverse&&a.reverse(),IT(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,i=0,r,s;this.options.offset&&t.length&&(r=this.getDecimalForValue(t[0]),t.length===1?n=1-r:n=(this.getDecimalForValue(t[1])-r)/2,s=this.getDecimalForValue(t[t.length-1]),t.length===1?i=s:i=(s-this.getDecimalForValue(t[t.length-2]))/2);const o=t.length<3?.5:.25;n=vr(n,0,o),i=vr(i,0,o),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const t=this._adapter,n=this.min,i=this.max,r=this.options,s=r.time,o=s.unit||ET(s.minUnit,n,i,this._getLabelCapacity(n)),a=Me(r.ticks.stepSize,1),l=o==="week"?s.isoWeekday:!1,u=lp(l)||l===!0,c={};let h=n,p,f;if(u&&(h=+t.startOf(h,"isoWeek",l)),h=+t.startOf(h,u?"day":o),t.diff(i,n,o)>1e5*a)throw new Error(n+" and "+i+" are too far apart with stepSize of "+a+" "+o);const y=r.ticks.source==="data"&&this.getDataTimestamps();for(p=h,f=0;p<i;p=+t.add(p,a,o),f++)PT(c,p,y);return(p===i||r.bounds==="ticks"||f===1)&&PT(c,p,y),Object.keys(c).sort(TT).map(_=>+_)}getLabelForValue(t){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(t,i.tooltipFormat):n.format(t,i.displayFormats.datetime)}format(t,n){const r=this.options.time.displayFormats,s=this._unit,o=n||r[s];return this._adapter.format(t,o)}_tickFormatFunction(t,n,i,r){const s=this.options,o=s.ticks.callback;if(o)return Cn(o,[t,n,i],this);const a=s.time.displayFormats,l=this._unit,u=this._majorUnit,c=l&&a[l],h=u&&a[u],p=i[n],f=u&&h&&p&&p.major;return this._adapter.format(t,r||(f?h:c))}generateTickLabels(t){let n,i,r;for(n=0,i=t.length;n<i;++n)r=t[n],r.label=this._tickFormatFunction(r.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(t){const n=this._offsets,i=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,i=this.ctx.measureText(t).width,r=xa(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(r),o=Math.sin(r),a=this._resolveTickFontOptions(0).size;return{w:i*s+a*o,h:i*o+a*s}}_getLabelCapacity(t){const n=this.options.time,i=n.displayFormats,r=i[n.unit]||i.millisecond,s=this._tickFormatFunction(t,0,IT(this,[t],this._majorUnit),r),o=this._getLabelSize(s),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let t=this._cache.data||[],n,i;if(t.length)return t;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(n=0,i=r.length;n<i;++n)t=t.concat(r[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,i;if(t.length)return t;const r=this.getLabels();for(n=0,i=r.length;n<i;++n)t.push(kT(this,r[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return _N(t.sort(TT))}}Dt(N0,"id","time"),Dt(N0,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Yg(e,t,n){let i=0,r=e.length-1,s,o,a,l;n?(t>=e[i].pos&&t<=e[r].pos&&({lo:i,hi:r}=Uu(e,"pos",t)),{pos:s,time:a}=e[i],{pos:o,time:l}=e[r]):(t>=e[i].time&&t<=e[r].time&&({lo:i,hi:r}=Uu(e,"time",t)),{time:s,pos:a}=e[i],{time:o,pos:l}=e[r]);const u=o-s;return u?a+(l-a)*(t-s)/u:a}class CT extends N0{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=Yg(n,this.min),this._tableRange=Yg(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:i}=this,r=[],s=[];let o,a,l,u,c;for(o=0,a=t.length;o<a;++o)u=t[o],u>=n&&u<=i&&r.push(u);if(r.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(o=0,a=r.length;o<a;++o)c=r[o+1],l=r[o-1],u=r[o],Math.round((c+l)/2)!==u&&s.push({time:u,pos:o/(a-1)});return s}_generate(){const t=this.min,n=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((r,s)=>r-s)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?t=this.normalize(n.concat(i)):t=n.length?n:i,t=this._cache.all=t,t}getDecimalForValue(t){return(Yg(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,i=this.getDecimalForPixel(t)/n.factor-n.end;return Yg(this._table,i*this._tableRange+this._minPos,!0)}}Dt(CT,"id","timeseries"),Dt(CT,"defaults",N0.defaults);const ZN="label";function NT(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function HW(e,t){const n=e.options;n&&t&&Object.assign(n,t)}function t6(e,t){e.labels=t}function e6(e,t,n=ZN){const i=[];e.datasets=t.map(r=>{const s=e.datasets.find(o=>o[n]===r[n]);return!s||!r.data||i.includes(s)?{...r}:(i.push(s),Object.assign(s,r),s)})}function $W(e,t=ZN){const n={labels:[],datasets:[]};return t6(n,e.labels),e6(n,e.datasets,t),n}function GW(e,t){const{height:n=150,width:i=300,redraw:r=!1,datasetIdKey:s,type:o,data:a,options:l,plugins:u=[],fallbackContent:c,updateMode:h,...p}=e,f=kt.useRef(null),y=kt.useRef(null),_=()=>{f.current&&(y.current=new Dp(f.current,{type:o,data:$W(a,s),options:l&&{...l},plugins:u}),NT(t,y.current))},x=()=>{NT(t,null),y.current&&(y.current.destroy(),y.current=null)};return kt.useEffect(()=>{!r&&y.current&&l&&HW(y.current,l)},[r,l]),kt.useEffect(()=>{!r&&y.current&&t6(y.current.config.data,a.labels)},[r,a.labels]),kt.useEffect(()=>{!r&&y.current&&a.datasets&&e6(y.current.config.data,a.datasets,s)},[r,a.datasets]),kt.useEffect(()=>{y.current&&(r?(x(),setTimeout(_)):y.current.update(h))},[r,l,a.labels,a.datasets,h]),kt.useEffect(()=>{y.current&&(x(),setTimeout(_))},[o]),kt.useEffect(()=>(_(),()=>x()),[]),V.jsx("canvas",{ref:f,role:"img",height:n,width:i,...p,children:c})}const KW=kt.forwardRef(GW);function L1(e,t){return Dp.register(t),kt.forwardRef((n,i)=>V.jsx(KW,{...n,ref:i,type:e}))}const YW=L1("line",km),XW=L1("bar",Tm),QW=L1("doughnut",ah),JW=L1("pie",g5),ZW={Utensils:V.jsx(MI,{}),ShoppingBag:V.jsx(NI,{}),Plane:V.jsx(CI,{}),Zap:V.jsx(DI,{}),Car:V.jsx(kI,{}),Coffee:V.jsx(PI,{}),Home:V.jsx(rw,{}),Smartphone:V.jsx(LI,{}),Activity:V.jsx(v1,{}),MoreHorizontal:V.jsx(b1,{}),TrendingUp:V.jsx(K2,{}),CreditCard:V.jsx(w1,{}),PiggyBank:V.jsx(x1,{}),Briefcase:V.jsx(_1,{}),Wallet:V.jsx(Dh,{})},nb=(e,t=18)=>{const n=ZW[e]||V.jsx(b1,{});return f_.cloneElement(n,{size:t})},ib=(e,t,n="MoreHorizontal")=>{const i=e.find(r=>{var s;return((s=r.category)==null?void 0:s.toLowerCase())===(t==null?void 0:t.toLowerCase())});return nb((i==null?void 0:i.iconName)||n)};Dp.register(w5,b5,Cm,Im,sd,lh,IW,JN,YN);const tq=({wallets:e=[],transactions:t=[],budgets:n=[],onSeeAllTransactions:i,onIsiSaldo:r,onTransfer:s,setActiveTab:o})=>{const[a,l]=kt.useState(0),[u,c]=kt.useState("month"),[h,p]=kt.useState("bar"),f=e.reduce((P,F)=>P+(Number(F.balance)||0),0),y=P=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(P),_=kt.useMemo(()=>{const P=new Date;let F=[],G=[],R=[];if(u==="week"?(F=["Sen","Sel","Rab","Kam","Jum","Sab","Min"],G=Array(7).fill(0),R=Array(7).fill(0),t.forEach(T=>{const E=new Date(T.date);if((P-E)/(1e3*60*60*24)<7){const k=(E.getDay()+6)%7;T.type==="income"&&(G[k]+=Number(T.amount)),T.type==="expense"&&(R[k]+=Number(T.amount))}})):u==="month"?(F=["Mgg 1","Mgg 2","Mgg 3","Mgg 4"],G=Array(4).fill(0),R=Array(4).fill(0),t.forEach(T=>{const E=new Date(T.date);if(E.getMonth()===P.getMonth()&&E.getFullYear()===P.getFullYear()){const D=Math.min(Math.floor((E.getDate()-1)/7),3);T.type==="income"&&(G[D]+=Number(T.amount)),T.type==="expense"&&(R[D]+=Number(T.amount))}})):(F=["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Agu","Sep","Okt","Nov","Des"],G=Array(12).fill(0),R=Array(12).fill(0),t.forEach(T=>{const E=new Date(T.date);if(E.getFullYear()===P.getFullYear()){const D=E.getMonth();T.type==="income"&&(G[D]+=Number(T.amount)),T.type==="expense"&&(R[D]+=Number(T.amount))}})),h==="pie"){const T=G.reduce((D,k)=>D+k,0),E=R.reduce((D,k)=>D+k,0);return{labels:["Pemasukan","Pengeluaran"],datasets:[{data:[T,E],backgroundColor:["#13ec5b","#fbbf24"],borderWidth:0,hoverOffset:10}]}}return{labels:F,datasets:[{label:"Pemasukan",data:G,backgroundColor:"#13ec5b",borderColor:"#13ec5b",tension:.4,fill:h==="line",pointBackgroundColor:"#13ec5b",borderRadius:8,barThickness:12},{label:"Pengeluaran",data:R,backgroundColor:h==="line"?"#fbbf2488":"#fbbf24",borderColor:"#fbbf24",tension:.4,fill:h==="line",pointBackgroundColor:"#fbbf24",borderRadius:8,barThickness:12}]}},[t,u,h]),x={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:h==="pie",position:"bottom",labels:{color:"#94a3b8",font:{size:10,weight:"bold"}}},tooltip:{backgroundColor:"rgba(15, 23, 42, 0.9)",titleFont:{size:10,weight:"bold"},bodyFont:{size:12,weight:"black"},padding:12,cornerRadius:12,displayColors:!1,callbacks:{label:P=>y(P.raw)}}},scales:h==="pie"?{}:{x:{grid:{display:!1},ticks:{color:"#94a3b8",font:{size:10,weight:"bold"}}},y:{display:!1,grid:{display:!1}}}},v=kt.useMemo(()=>{if(!t.length)return{percent:0,label:"No Data",isUp:!0};const P=new Date,F=new Date(P.getFullYear(),P.getMonth(),P.getDate()),G=new Date(Math.min(...t.map(H=>new Date(H.date)))),R=Math.ceil((P-G)/(1e3*60*60*24)),T=(H,rt)=>t.filter(ut=>{const ot=new Date(ut.date);return ot>=H&&ot<rt}).reduce((ut,ot)=>ot.type==="income"?ut+Number(ot.amount):ot.type==="expense"?ut-Number(ot.amount):ut,0);if(R<7){const H=new Date(F);H.setDate(H.getDate()-1);const rt=T(F,new Date(P.getTime()+1)),ut=T(H,F);if(ut===0)return{percent:rt>0?100:0,label:"vs Kemarin",isUp:rt>=0};const ot=(rt-ut)/Math.abs(ut)*100;return{percent:Math.abs(Math.round(ot)),label:"vs Kemarin",isUp:ot>=0}}if(R<30){const H=new Date(F);H.setDate(H.getDate()-7);const rt=new Date(H);rt.setDate(rt.getDate()-7);const ut=T(H,new Date(P.getTime()+1)),ot=T(rt,H);if(ot===0)return{percent:ut>0?100:0,label:"vs Minggu Lalu",isUp:ut>=0};const tt=(ut-ot)/Math.abs(ot)*100;return{percent:Math.abs(Math.round(tt)),label:"vs Minggu Lalu",isUp:tt>=0}}const E=new Date(P.getFullYear(),P.getMonth(),1),D=new Date(P.getFullYear(),P.getMonth()-1,1),k=T(E,new Date(P.getTime()+1)),N=T(D,E);if(N===0)return{percent:k>0?100:0,label:"vs Bulan Lalu",isUp:k>=0};const M=(k-N)/Math.abs(N)*100;return{percent:Math.abs(Math.round(M)),label:"vs Bulan Lalu",isUp:M>=0}},[t]),A=P=>{const F=(a+P+(e.length+1))%(e.length+1);l(F)},I=P=>{switch(P==null?void 0:P.toLowerCase()){case"bank":return V.jsx(w1,{size:20});case"saving":return V.jsx(x1,{size:20});case"business":return V.jsx(_1,{size:20});default:return V.jsx(Dh,{size:20})}};return V.jsxs("div",{className:"px-6 space-y-8 animate-in fade-in duration-500 overflow-x-hidden pt-4",children:[V.jsxs("section",{className:"relative group",children:[V.jsxs("div",{className:"relative h-[240px] w-full flex items-center justify-center",children:[V.jsx(s7,{initial:!1,mode:"wait",children:V.jsx(PV.div,{initial:{x:100,opacity:0,scale:.9},animate:{x:0,opacity:1,scale:1},exit:{x:-100,opacity:0,scale:.9},transition:{type:"spring",stiffness:300,damping:30},className:"absolute inset-0",children:a===0?V.jsxs("div",{className:"h-full glass-card rounded-[2.5rem] p-8 relative overflow-hidden flex flex-col justify-between shadow-2xl shadow-primary/10 border-white/5",children:[V.jsx("div",{className:"absolute -top-24 -right-24 size-64 bg-primary/20 blur-[80px] rounded-full"}),V.jsx("div",{className:"absolute -bottom-24 -left-24 size-64 bg-amber-accent/10 blur-[80px] rounded-full"}),V.jsxs("div",{className:"relative z-10",children:[V.jsxs("div",{className:"flex justify-between items-start mb-6",children:[V.jsxs("div",{children:[V.jsx("p",{className:"text-slate-400 text-[10px] font-bold tracking-[0.2em] uppercase",children:"TOTAL SALDO"}),V.jsx("div",{className:"h-1 w-8 bg-primary mt-1 rounded-full"})]}),V.jsx("div",{className:"size-10 glass-card rounded-xl flex items-center justify-center text-primary border-primary/20",children:V.jsx(Dh,{size:20})})]}),V.jsx("h2",{className:"text-4xl font-black tracking-tighter mb-2",children:y(f)}),V.jsxs("div",{className:`flex w-fit items-center gap-2 font-bold px-3 py-1 rounded-full border transition-all ${v.isUp?"bg-primary/10 text-primary border-primary/20":"bg-red-500/10 text-red-400 border-red-500/20"}`,children:[v.isUp?V.jsx(K2,{size:12,strokeWidth:3}):V.jsx(G2,{size:12,strokeWidth:3}),V.jsxs("p",{className:"text-[10px] uppercase truncate",children:[v.percent,"% ",v.isUp?"Grow up":"Down"," ",v.label]})]})]}),V.jsxs("div",{className:"relative z-10 flex gap-4 mt-3",children:[V.jsxs("button",{onClick:r,className:"flex-1 bg-primary text-background-dark font-black py-4 rounded-[1.25rem] flex items-center justify-center gap-2 hover:opacity-90 active:scale-95 transition-all shadow-lg shadow-primary/20 text-[10px] uppercase tracking-wider",children:[V.jsx(Zd,{size:16,strokeWidth:4})," ISI SALDO"]}),V.jsxs("button",{onClick:s,className:"flex-1 glass-card border-white/10 text-white font-black py-4 rounded-[1.25rem] flex items-center justify-center gap-2 hover:bg-white/5 active:scale-95 transition-all text-[10px] uppercase tracking-wider",children:[V.jsx(K2,{size:16,strokeWidth:4})," TRANSFER"]})]})]}):V.jsx(eq,{wallet:e[a-1],formatIDR:y,getWalletIcon:I,onIsiSaldo:r,onTransfer:s})},a)}),V.jsx("button",{onClick:()=>A(-1),className:"absolute left-[-15px] z-20 size-10 glass-card rounded-full flex items-center justify-center text-white/50 hover:text-white hover:bg-white/5 sm:flex hidden",children:V.jsx(YO,{size:20})}),V.jsx("button",{onClick:()=>A(1),className:"absolute right-[-15px] z-20 size-10 glass-card rounded-full flex items-center justify-center text-white/50 hover:text-white hover:bg-white/5 sm:flex hidden",children:V.jsx(XO,{size:20})})]}),V.jsx("div",{className:"flex justify-center gap-2 mt-6",children:Array.from({length:e.length+1}).map((P,F)=>V.jsx("div",{className:`h-1.5 rounded-full transition-all duration-300 ${a===F?"w-8 bg-primary shadow-[0_0_8px_rgba(19,236,91,0.5)]":"w-2 bg-white/10"}`},F))})]}),V.jsxs("section",{className:"space-y-4",children:[V.jsxs("div",{className:"flex flex-col gap-4 px-1",children:[V.jsxs("div",{className:"flex items-center justify-between",children:[V.jsx("h3",{className:"text-lg font-bold",children:"Analisis Keuangan"}),V.jsx("div",{className:"flex bg-white/5 p-1 rounded-xl",children:["week","month","year"].map(P=>V.jsx("button",{onClick:()=>c(P),className:`px-3 py-1.5 text-[10px] font-black uppercase tracking-widest rounded-lg transition-all ${u===P?"bg-primary text-background-dark":"text-slate-400"}`,children:P==="week"?"Minggu":P==="month"?"Bulan":"Tahun"},P))})]}),V.jsx("div",{className:"flex items-center gap-2",children:[{id:"bar",icon:V.jsx(EI,{size:14}),label:"Bar"},{id:"line",icon:V.jsx(GO,{size:14}),label:"Line"},{id:"pie",icon:V.jsx(KO,{size:14}),label:"Pie"}].map(P=>V.jsxs("button",{onClick:()=>p(P.id),className:`flex items-center gap-2 px-4 py-2 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${h===P.id?"bg-white/10 text-white border border-white/20":"text-slate-500 grayscale opacity-50"}`,children:[P.icon," ",P.label]},P.id))})]}),V.jsxs("div",{className:"glass-card p-6 rounded-[2rem] border-white/5 h-[260px] relative overflow-hidden",children:[h==="bar"&&V.jsx(XW,{data:_,options:x}),h==="line"&&V.jsx(YW,{data:_,options:x}),h==="pie"&&V.jsx("div",{className:"h-full flex items-center justify-center",children:V.jsx("div",{className:"size-48",children:V.jsx(JW,{data:_,options:x})})})]})]}),V.jsxs("section",{className:"space-y-4",children:[V.jsxs("div",{className:"flex items-center justify-between px-1",children:[V.jsx("h3",{className:"text-lg font-bold",children:"Progres Anggaran"}),V.jsx("button",{onClick:()=>o("stats"),className:"text-primary text-[10px] font-black uppercase tracking-widest",children:"Lihat Semua"})]}),V.jsx("div",{className:"flex gap-4 overflow-x-auto no-scrollbar pb-2",children:n.length>0?n.slice(0,3).map(P=>V.jsx(nq,{icon:nb(P.iconName||"ShoppingBag",20),label:P.category,spent:y(P.current_spent||0),percent:Math.min(Math.round((P.current_spent||0)/P.limit*100),100),color:iq(P.category)},P.id)):V.jsx("div",{className:"w-full py-8 glass-card rounded-2xl text-center text-slate-500 text-[10px] font-bold uppercase tracking-widest border-white/5 border-dashed border-2",children:"No active budgets"})})]}),V.jsxs("section",{className:"space-y-4 pb-28",children:[V.jsxs("div",{className:"flex items-center justify-between px-1",children:[V.jsx("h3",{className:"text-lg font-bold",children:"Transaksi Terakhir"}),V.jsx("button",{onClick:i,className:"text-primary text-[10px] font-black uppercase tracking-widest",children:"Lihat Semua"})]}),V.jsxs("div",{className:"space-y-3",children:[t.slice(0,5).map(P=>V.jsxs("div",{className:"glass-card p-4 rounded-2xl flex items-center justify-between border-white/5 hover:bg-white/5 transition-all",children:[V.jsxs("div",{className:"flex items-center gap-4",children:[V.jsx("div",{className:`size-12 rounded-xl flex items-center justify-center ${P.type==="income"?"bg-primary/10 text-primary":P.type==="transfer"?"bg-blue-500/10 text-blue-400":"bg-amber-accent/10 text-amber-accent"}`,children:ib(n,P.category,P.type==="income"?"TrendingUp":P.type==="transfer"?"Activity":"ShoppingBag")}),V.jsxs("div",{children:[V.jsx("p",{className:"font-bold text-sm text-slate-100",children:P.note||P.category}),V.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-wider",children:new Date(P.date).toLocaleDateString("id-ID",{day:"numeric",month:"short"})})]})]}),V.jsx("div",{className:"text-right",children:V.jsxs("p",{className:`font-black text-sm flex items-center justify-end gap-1 ${P.type==="income"?"text-primary":P.type==="transfer"?"text-blue-400":"text-amber-accent"}`,children:[P.type==="income"?V.jsx(TI,{size:14,strokeWidth:3}):P.type==="transfer"?V.jsx(v1,{size:12}):V.jsx(G2,{size:14,strokeWidth:3}),y(P.amount)]})})]},P.id)),t.length===0&&V.jsx("div",{className:"text-center py-10 glass-card rounded-2xl text-slate-500 text-[10px] font-bold uppercase tracking-widest border-white/5 border-dashed border-2",children:"No recent transactions"})]})]})]})},eq=({wallet:e,formatIDR:t,getWalletIcon:n,onIsiSaldo:i,onTransfer:r})=>{var a,l;const s=["from-blue-600/40 to-indigo-600/10","from-purple-600/40 to-pink-600/10","from-emerald-600/40 to-teal-600/10"],o=(((a=e.id)==null?void 0:a.length)||0)%s.length;return V.jsxs("div",{className:`h-full glass-card rounded-[2.5rem] p-8 relative overflow-hidden flex flex-col justify-between border-2 border-white/5 bg-gradient-to-br ${s[o]}`,children:[V.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-5",children:n(e.type)}),V.jsxs("div",{className:"relative z-10",children:[V.jsxs("div",{className:"flex justify-between items-start mb-6",children:[V.jsxs("div",{children:[V.jsx("p",{className:"text-slate-200 text-[10px] font-bold tracking-[0.2em] uppercase",children:e.name}),V.jsxs("p",{className:"text-[8px] text-slate-400 font-mono mt-1 opacity-50 tracking-widest",children:["**** ",(l=e.id)==null?void 0:l.slice(-4)]})]}),V.jsx("div",{className:"size-10 bg-white/10 rounded-xl flex items-center justify-center text-white border border-white/10 backdrop-blur-md",children:n(e.type)})]}),V.jsx("h2",{className:"text-4xl font-black tracking-tighter mb-2 text-white",children:t(e.balance)}),V.jsxs("div",{className:"text-[10px] text-slate-300 font-bold uppercase tracking-widest opacity-80",children:[e.type||"Personal"," Wallet"]})]}),V.jsxs("div",{className:"relative z-10 flex gap-4 mt-3",children:[V.jsx("button",{onClick:i,className:"flex-1 bg-white/10 border border-white/10 text-white font-black py-4 rounded-[1.25rem] flex items-center justify-center gap-2 hover:bg-white/20 active:scale-95 transition-all text-[10px] backdrop-blur-md uppercase tracking-wider",children:"ISI SALDO"}),V.jsx("button",{onClick:r,className:"flex-1 bg-white/10 border border-white/10 text-white font-black py-4 rounded-[1.25rem] flex items-center justify-center gap-2 hover:bg-white/20 active:scale-95 transition-all text-[10px] backdrop-blur-md uppercase tracking-wider",children:"TRANSFER"})]})]})},nq=({icon:e,label:t,spent:n,percent:i,color:r})=>V.jsxs("div",{className:"flex-shrink-0 w-48 glass-card rounded-2xl p-5 border-white/5 shadow-lg",children:[V.jsx("div",{className:"size-12 rounded-xl flex items-center justify-center mb-4 transition-transform hover:scale-110",style:{backgroundColor:`${r}1a`,color:r},children:e}),V.jsx("p",{className:"font-bold text-sm mb-1 truncate",children:t}),V.jsxs("div",{className:"flex justify-between text-[10px] text-slate-400 mb-3 font-bold uppercase tracking-wider",children:[V.jsx("span",{children:n}),V.jsxs("span",{children:[i,"%"]})]}),V.jsx("div",{className:"h-1.5 w-full bg-white/5 rounded-full overflow-hidden",children:V.jsx("div",{className:"h-full transition-all duration-1000",style:{width:`${i}%`,backgroundColor:r,boxShadow:`0 0 10px ${r}80`}})})]}),iq=e=>{const t=e==null?void 0:e.toLowerCase();return t!=null&&t.includes("makan")?"#13ec5b":t!=null&&t.includes("belanja")?"#fbbf24":t!=null&&t.includes("travel")||t!=null&&t.includes("jalan")?"#60a5fa":t!=null&&t.includes("bensin")||t!=null&&t.includes("motor")?"#f87171":"#94a3b8"},rq=({transactions:e=[],budgets:t=[],onEditTransaction:n,onBack:i})=>{const r=s=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(s);return V.jsxs("div",{className:"px-6 space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[V.jsxs("header",{className:"flex justify-between items-center",children:[V.jsxs("div",{className:"flex items-center gap-3",children:[V.jsx("button",{onClick:i,className:"size-10 flex items-center justify-center rounded-xl glass-card hover:bg-white/5 transition-all active:scale-90",children:V.jsx(qO,{size:20})}),V.jsx("h2",{className:"text-2xl font-bold",children:"Riwayat"})]}),V.jsxs("span",{className:"text-xs text-slate-400 bg-white/5 px-3 py-1 rounded-full border border-white/5 font-bold uppercase tracking-widest",children:[e.length," Transaksi"]})]}),V.jsx("div",{className:"space-y-3 pb-24",children:e.length===0?V.jsx("div",{className:"text-center py-20 text-slate-500 glass-card rounded-3xl",children:V.jsx("p",{className:"text-sm font-bold uppercase tracking-widest",children:"Belum ada transaksi"})}):e.map(s=>V.jsxs("div",{onClick:()=>n&&n(s),className:"glass-card p-4 rounded-2xl flex items-center justify-between hover:bg-white/5 active:scale-[0.98] transition-all cursor-pointer group border-white/5",children:[V.jsxs("div",{className:"flex items-center gap-4",children:[V.jsx("div",{className:`size-12 rounded-xl flex items-center justify-center transition-transform group-hover:scale-110 shadow-lg ${s.type==="income"?"bg-primary/10 text-primary":s.type==="transfer"?"bg-blue-500/10 text-blue-400":"bg-amber-accent/10 text-amber-accent"}`,children:ib(t,s.category,s.type==="income"?"TrendingUp":s.type==="transfer"?"Activity":"ShoppingBag")}),V.jsxs("div",{children:[V.jsx("p",{className:"font-bold text-sm text-slate-100",children:s.note||s.category}),V.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-wider",children:new Date(s.date).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"})})]})]}),V.jsxs("div",{className:"text-right",children:[V.jsxs("p",{className:`font-black flex items-center justify-end gap-1 ${s.type==="income"?"text-primary":s.type==="transfer"?"text-blue-400":"text-amber-accent"}`,children:[s.type==="income"?V.jsx(TI,{size:14,strokeWidth:3}):s.type==="transfer"?V.jsx(v1,{size:12}):V.jsx(G2,{size:14,strokeWidth:3}),r(s.amount)]}),V.jsx("p",{className:"text-[10px] text-slate-500 font-bold uppercase tracking-[0.1em]",children:s.walletName||"Dompet"})]})]},s.id))})]})},sq=({wallets:e=[],onAddWallet:t,onEditWallet:n,onDeleteWallet:i})=>{const r=l=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(l),s=l=>{switch(l==null?void 0:l.toLowerCase()){case"bank":return V.jsx(w1,{size:24});case"saving":return V.jsx(x1,{size:24});case"business":return V.jsx(_1,{size:24});default:return V.jsx(Dh,{size:24})}},o=l=>{const u=["from-primary/80 to-green-600/40","from-amber-accent/80 to-orange-600/40","from-blue-500/80 to-indigo-600/40"];return u[l%u.length]},a=(l,u)=>{l.stopPropagation(),window.confirm(`Hapus dompet "${u.name}"?`)&&i(u.id)};return V.jsxs("div",{className:"px-6 space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[V.jsxs("header",{className:"flex justify-between items-center",children:[V.jsx("h2",{className:"text-2xl font-bold",children:"Dompet Saya"}),V.jsx("button",{onClick:t,className:"size-10 glass-card rounded-full flex items-center justify-center text-primary border-primary/20 hover:bg-primary/10 transition-all",children:V.jsx(Zd,{size:20})})]}),V.jsxs("div",{className:"space-y-4 pb-24",children:[e.map((l,u)=>V.jsxs("div",{className:`relative overflow-hidden glass-card rounded-3xl p-6 border-white/5 bg-gradient-to-br ${o(u)}`,children:[V.jsxs("div",{className:"absolute top-4 right-4 z-20 flex gap-2",children:[V.jsx("button",{onClick:c=>{c.stopPropagation(),n(l)},className:"size-8 glass-card border-white/10 rounded-full flex items-center justify-center text-white/80 hover:bg-white/10",children:V.jsx(II,{size:14})}),V.jsx("button",{onClick:c=>a(c,l),className:"size-8 glass-card border-white/10 rounded-full flex items-center justify-center text-red-300 hover:bg-red-500/20",children:V.jsx(RI,{size:14})})]}),V.jsx("div",{className:"absolute top-0 left-0 p-8 opacity-10 pointer-events-none",children:s(l.type)}),V.jsxs("div",{className:"relative z-10 flex flex-col justify-between h-32",children:[V.jsxs("div",{className:"flex justify-between items-start pt-2",children:[V.jsxs("div",{children:[V.jsx("p",{className:"text-white/60 text-xs font-bold uppercase tracking-widest mb-1",children:l.name}),V.jsx("h3",{className:"text-2xl font-black text-white",children:r(l.balance)})]}),V.jsx("div",{className:"size-10 bg-white/10 rounded-xl flex items-center justify-center backdrop-blur-md",children:s(l.type)})]}),V.jsxs("div",{className:"flex justify-between items-end",children:[V.jsxs("p",{className:"text-white/50 text-[10px] font-mono tracking-widest",children:["**** **** **** ",l.id.slice(-4)]}),V.jsx("div",{className:"text-white/80 font-bold text-[10px] uppercase",children:l.type||"General"})]})]})]},l.id)),V.jsxs("button",{onClick:t,className:"w-full h-24 border-2 border-dashed border-white/10 rounded-3xl flex flex-col items-center justify-center gap-2 text-slate-500 hover:border-primary/40 hover:text-primary transition-all group",children:[V.jsx(Zd,{className:"group-hover:scale-110 transition-transform"}),V.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"Tambah Dompet Baru"})]})]})]})};Dp.register(lh,JN,YN);const oq=({transactions:e=[],budgets:t=[],onAddBudget:n,onEditBudget:i})=>{const r=u=>{const c=u==null?void 0:u.toLowerCase();return c!=null&&c.includes("makan")?"#13ec5b":c!=null&&c.includes("belanja")?"#fbbf24":c!=null&&c.includes("travel")||c!=null&&c.includes("jalan")?"#60a5fa":c!=null&&c.includes("bensin")||c!=null&&c.includes("motor")?"#f87171":"#94a3b8"},s=u=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(u),o=t.reduce((u,c)=>u+(c.current_spent||0),0),a={labels:t.map(u=>u.category),datasets:[{data:t.map(u=>u.current_spent||0),backgroundColor:t.map(u=>r(u.category)+"44"),borderColor:t.map(u=>r(u.category)),borderWidth:2}]},l={plugins:{legend:{display:!1}},cutout:"70%"};return V.jsxs("div",{className:"px-6 space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[V.jsxs("header",{className:"flex justify-between items-center",children:[V.jsx("h2",{className:"text-2xl font-bold",children:"Anggaran"}),V.jsx("button",{className:"text-xs font-bold text-primary uppercase tracking-widest bg-primary/10 px-4 py-2 rounded-full border border-primary/20",children:"Bulan Ini"})]}),V.jsxs("div",{className:"glass-card p-6 rounded-3xl flex items-center justify-center relative shadow-xl shadow-black/20",children:[V.jsx("div",{className:"size-48",children:t.length>0?V.jsx(QW,{data:a,options:l}):V.jsx("div",{className:"size-full rounded-full border-4 border-dashed border-white/10 flex items-center justify-center text-center p-4",children:V.jsx("p",{className:"text-[10px] text-slate-500 font-bold uppercase",children:"Atur Anggaran Pertama Anda"})})}),V.jsxs("div",{className:"absolute flex flex-col items-center",children:[V.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase",children:"Total Pakai"}),V.jsx("p",{className:"text-lg font-black text-slate-100",children:s(o)})]})]}),V.jsxs("div",{className:"space-y-4 pb-24",children:[t.map(u=>{const c=u.current_spent||0,h=Math.min(Math.round(c/u.limit*100),100),p=h>85,f=r(u.category),y=nb(u.iconName||"ShoppingBag",20);return V.jsxs("div",{className:"glass-card p-5 rounded-3xl border-white/5 relative group",children:[V.jsxs("div",{className:"flex justify-between items-start mb-4",children:[V.jsxs("div",{className:"flex gap-4",children:[V.jsx("div",{className:"size-12 rounded-2xl flex items-center justify-center",style:{backgroundColor:`${f}1a`,color:f},children:y}),V.jsxs("div",{children:[V.jsx("h4",{className:"font-bold text-slate-100 capitalize",children:u.category}),V.jsxs("p",{className:"text-[10px] text-slate-500 font-bold uppercase tracking-wider",children:["Batas: ",s(u.limit)]})]})]}),V.jsxs("div",{className:"flex items-center gap-3",children:[V.jsx("div",{className:"text-right",children:V.jsxs("p",{className:`font-black text-lg ${p?"text-red-400":"text-slate-100"}`,children:[h,"%"]})}),V.jsx("button",{onClick:()=>i&&i(u),className:"size-8 glass-card border-white/10 rounded-full flex items-center justify-center text-white/50 hover:text-white hover:bg-white/5 transition-all opacity-0 group-hover:opacity-100",children:V.jsx(II,{size:14})})]})]}),V.jsxs("div",{className:"space-y-2",children:[V.jsxs("div",{className:"flex justify-between text-xs font-bold",children:[V.jsx("span",{className:"text-slate-400",children:"Terpakai"}),V.jsx("span",{className:p?"text-red-400":"text-slate-200",children:s(c)})]}),V.jsx("div",{className:"h-2 w-full bg-white/5 rounded-full overflow-hidden",children:V.jsx("div",{className:`h-full transition-all duration-1000 rounded-full ${p?"bg-red-400":""}`,style:{width:`${h}%`,backgroundColor:p?void 0:f,boxShadow:`0 0 10px ${p?"rgba(248,113,113,0.3)":`${f}4d`}`}})}),p&&V.jsx("p",{className:"text-[10px] text-red-400 font-bold animate-pulse",children:"Hampir melewati batas!"})]})]},u.id)}),V.jsxs("button",{onClick:n,className:"w-full glass-card border-dashed border-white/10 p-5 rounded-3xl flex items-center justify-center gap-2 text-slate-500 hover:text-primary transition-all group",children:[V.jsx(Zd,{size:20,className:"group-hover:scale-110 transition-transform"}),V.jsx("span",{className:"text-xs font-black uppercase tracking-widest",children:"Atur Anggaran Baru"})]})]})]})},aq=({isOpen:e,onClose:t,onSave:n,onDelete:i,wallets:r=[],budgets:s=[],initialData:o=null,defaultType:a="expense"})=>{const[l,u]=kt.useState(a),[c,h]=kt.useState(""),[p,f]=kt.useState(""),[y,_]=kt.useState(""),[x,v]=kt.useState(""),[A,I]=kt.useState(""),[P,F]=kt.useState(""),[G,R]=kt.useState(""),T=H=>{if(!H)return"";const rt=String(H).replace(/[^0-9]/g,"");return new Intl.NumberFormat("id-ID").format(rt)};kt.useEffect(()=>{var H,rt;if(e)if(R(""),o){u(o.type||"expense");const ut=String(o.amount||"");h(ut),f(T(ut)),_(o.category||""),v(o.walletId||""),I(o.targetWalletId||""),F(o.note||"")}else{u(a),h(""),f(""),_("");const ut=((H=r[0])==null?void 0:H.id)||"";v(ut);const ot=((rt=r.find(tt=>tt.id!==ut))==null?void 0:rt.id)||"";I(ot),F("")}},[e,o,a,r]);const E=H=>{const rt=H.target.value.replace(/[^0-9]/g,"");h(rt),f(T(rt)),G&&R("")},D=H=>{var rt;if(v(H),l==="transfer"&&H===A){const ut=((rt=r.find(ot=>ot.id!==H))==null?void 0:rt.id)||"";I(ut)}G&&R("")},k=H=>{I(H),G&&R("")},N=s.map(H=>({id:H.id,label:H.category,isExhausted:H.current_spent>=H.limit,limit:H.limit,spent:H.current_spent,iconName:H.iconName}));(l==="transfer"||l==="income")&&N.unshift({id:"none",label:"Tanpa Kategori",isExhausted:!1});const M=async()=>{const H=Number(c);if(!H){R("Masukkan nominal transaksi");return}if(!x){R("Pilih dompet asal");return}if(l==="transfer"){if(!A){R("Pilih dompet tujuan");return}if(A===x){R("Dompet asal dan tujuan tidak boleh sama");return}}const rt=s.find(ut=>ut.category===y);try{await n({...o?{id:o.id}:{},type:l,amount:H,category:y||"General",walletId:x,targetWalletId:l==="transfer"?A:null,budgetId:(rt==null?void 0:rt.id)||null,note:P,date:(o==null?void 0:o.date)||new Date().toISOString()}),t()}catch(ut){R(ut.message||"Gagal menyimpan transaksi")}};return e?V.jsx("div",{className:"fixed inset-0 z-[100] bg-background-dark/80 backdrop-blur-md flex items-end sm:items-center justify-center p-0 sm:p-6 animate-in slide-in-from-bottom duration-300",children:V.jsxs("div",{className:"w-full max-w-lg glass-card rounded-t-[2.5rem] sm:rounded-[2.5rem] p-8 space-y-6 relative overflow-y-auto max-h-[90vh]",children:[V.jsx("button",{onClick:t,className:"absolute top-6 left-6 size-10 flex items-center justify-center rounded-full glass-card hover:bg-white/5",children:V.jsx(m0,{className:"size-6"})}),V.jsx("div",{className:"text-center",children:V.jsx("h2",{className:"text-xl font-bold",children:o?"Edit Transaksi":"Tambah Transaksi"})}),V.jsx("div",{className:"flex bg-white/5 p-1 rounded-2xl",children:[{id:"income",label:"Pemasukan"},{id:"expense",label:"Pengeluaran"},{id:"transfer",label:"Transfer"}].map(H=>V.jsx("button",{onClick:()=>{u(H.id),_(""),R("")},className:`flex-1 py-3 text-sm font-bold rounded-xl transition-all ${l===H.id?"bg-primary text-background-dark shadow-lg shadow-primary/20":"text-slate-400"}`,children:H.label},H.id))}),V.jsxs("div",{className:"space-y-2 text-center",children:[V.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest",children:"NOMINAL"}),V.jsxs("div",{className:"flex items-center justify-center gap-2",children:[V.jsx("span",{className:"text-2xl font-bold text-primary",children:"Rp"}),V.jsx("input",{type:"text",placeholder:"0",value:p,onChange:E,className:"bg-transparent border-none text-4xl font-bold text-white focus:ring-0 p-0 w-full text-center"})]}),G&&V.jsx("p",{className:"text-xs text-red-500 font-bold",children:G})]}),V.jsx("div",{className:"space-y-4",children:V.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[V.jsxs("div",{className:"space-y-2",children:[V.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest text-center",children:l==="transfer"?"DARI":l==="income"?"KE":"DARI"}),V.jsx("select",{value:x,onChange:H=>D(H.target.value),className:"w-full bg-white/5 border-white/10 rounded-xl text-xs font-bold p-3 text-white focus:ring-primary focus:border-primary",children:r.map(H=>V.jsx("option",{value:H.id,className:"bg-background-dark",children:H.name},H.id))})]}),l==="transfer"?V.jsxs("div",{className:"space-y-2",children:[V.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest text-center",children:"KE"}),V.jsxs("select",{value:A,onChange:H=>k(H.target.value),className:"w-full bg-white/5 border-white/10 rounded-xl text-xs font-bold p-3 text-white focus:ring-primary focus:border-primary",children:[V.jsx("option",{value:"",className:"bg-background-dark",children:"Pilih Tujuan"}),r.filter(H=>H.id!==x).map(H=>V.jsx("option",{value:H.id,className:"bg-background-dark",children:H.name},H.id))]})]}):V.jsxs("div",{className:"space-y-2",children:[V.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest text-center",children:"CATATAN"}),V.jsx("input",{type:"text",placeholder:"Opsional...",value:P,onChange:H=>F(H.target.value),className:"w-full bg-white/5 border-white/10 rounded-xl text-xs font-bold p-3 text-white focus:ring-primary focus:border-primary"})]})]})}),N.length>0&&V.jsxs("div",{className:"space-y-4",children:[V.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest",children:"KATEGORI (ANGGARAN)"}),V.jsx("div",{className:"grid grid-cols-4 gap-4 pb-2",children:N.map(H=>V.jsx(lq,{label:H.label,active:y===H.label,disabled:H.isExhausted&&l==="expense",onClick:()=>{_(H.label==="Tanpa Kategori"?"":H.label),R("")},spent:H.spent,limit:H.limit,budgets:s,type:l},H.id))})]}),V.jsxs("div",{className:"flex gap-3",children:[o&&i&&V.jsx("button",{onClick:()=>{window.confirm("Hapus transaksi ini?")&&i(o)},className:"bg-red-500/10 text-red-500 font-bold py-5 px-6 rounded-2xl hover:bg-red-500/20 transition-all",children:V.jsx(m0,{size:24})}),V.jsxs("button",{onClick:M,className:"flex-1 bg-primary text-background-dark font-bold py-5 rounded-2xl flex items-center justify-center gap-3 shadow-xl shadow-primary/20 hover:scale-[1.02] active:scale-[0.98] transition-all",children:[V.jsx(iw,{size:24,strokeWidth:3}),o?"Simpan Perubahan":"Simpan Transaksi"]})]})]})}):null},lq=({label:e,active:t,onClick:n,disabled:i,spent:r,limit:s,budgets:o,type:a})=>V.jsxs("button",{type:"button",onClick:n,disabled:i,className:`flex flex-col items-center gap-1 transition-all ${i?"opacity-30 cursor-not-allowed":""}`,children:[V.jsxs("div",{className:`size-12 rounded-full flex flex-col items-center justify-center transition-all border ${t?"ring-2 ring-primary ring-offset-2 ring-offset-background-dark border-primary bg-primary text-background-dark":"border-white/10 bg-white/5 text-slate-400"}`,children:[e==="Tanpa Kategori"?V.jsx(b1,{size:18}):ib(o,e,a==="income"?"TrendingUp":"ShoppingBag"),s>0&&V.jsxs("span",{className:`text-[7px] font-bold mt-0.5 ${t?"text-background-dark":"text-slate-500"}`,children:[Math.round(r/s*100),"%"]})]}),V.jsx("span",{className:`text-[9px] font-bold break-words w-full text-center ${t?"text-primary":"text-slate-500"}`,children:e})]}),uq=({isOpen:e,onClose:t,onSave:n,initialData:i=null})=>{const[r,s]=kt.useState(""),[o,a]=kt.useState(""),[l,u]=kt.useState("cash");if(kt.useEffect(()=>{e&&(i?(s(i.name||""),a(String(i.balance||"")),u(i.type||"cash")):(s(""),a(""),u("cash")))},[e,i]),!e)return null;const c=()=>{const p=Number(String(o).replace(/[^0-9]/g,""));!r||isNaN(p)||(n({...i?{id:i.id}:{},name:r,balance:p,type:l}),s(""),a(""))},h=[{id:"cash",label:"Tunai",icon:V.jsx(Dh,{})},{id:"bank",label:"Bank",icon:V.jsx(w1,{})},{id:"saving",label:"Tabungan",icon:V.jsx(x1,{})},{id:"business",label:"Bisnis",icon:V.jsx(_1,{})}];return V.jsx("div",{className:"fixed inset-0 z-[100] bg-background-dark/80 backdrop-blur-md flex items-end sm:items-center justify-center p-0 sm:p-6 animate-in slide-in-from-bottom duration-300",children:V.jsxs("div",{className:"w-full max-w-lg glass-card rounded-t-[2.5rem] sm:rounded-[2.5rem] p-8 space-y-6 relative",children:[V.jsx("button",{onClick:t,className:"absolute top-6 left-6 size-10 flex items-center justify-center rounded-full glass-card hover:bg-white/5",children:V.jsx(m0,{className:"size-6"})}),V.jsx("div",{className:"text-center",children:V.jsx("h2",{className:"text-xl font-bold",children:i?"Edit Dompet":"Tambah Dompet Baru"})}),V.jsxs("div",{className:"space-y-4",children:[V.jsxs("div",{className:"space-y-2",children:[V.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest",children:"NAMA DOMPET"}),V.jsx("input",{type:"text",placeholder:"Contoh: BCA Utama",value:r,onChange:p=>s(p.target.value),className:"w-full bg-white/5 border-white/10 rounded-xl font-bold p-4 text-white focus:ring-primary focus:border-primary"})]}),V.jsxs("div",{className:"space-y-2",children:[V.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest",children:"SALDO AWAL"}),V.jsxs("div",{className:"flex items-center gap-2 bg-white/5 border-white/10 rounded-xl p-4",children:[V.jsx("span",{className:"text-primary font-bold",children:"Rp"}),V.jsx("input",{type:"number",placeholder:"0",value:o,onChange:p=>a(p.target.value),className:"bg-transparent border-none text-xl font-bold text-white focus:ring-0 p-0 w-full"})]})]}),V.jsxs("div",{className:"space-y-2",children:[V.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest",children:"TIPE DOMPET"}),V.jsx("div",{className:"grid grid-cols-4 gap-2",children:h.map(p=>V.jsxs("button",{onClick:()=>u(p.id),className:`flex flex-col items-center gap-2 p-3 rounded-2xl transition-all ${l===p.id?"bg-primary/20 text-primary border border-primary/30":"bg-white/5 text-slate-500 border border-transparent"}`,children:[f_.cloneElement(p.icon,{size:20}),V.jsx("span",{className:"text-[10px] font-bold",children:p.label})]},p.id))})]})]}),V.jsxs("button",{onClick:c,className:"w-full bg-primary text-background-dark font-bold py-5 rounded-2xl flex items-center justify-center gap-3 shadow-xl shadow-primary/20 hover:scale-[1.02] active:scale-[0.98] transition-all",children:[V.jsx(iw,{size:24,strokeWidth:3}),i?"Simpan Perubahan":"Buat Dompet"]})]})})},cq=({isOpen:e,onClose:t,onSave:n,onDelete:i,initialData:r=null})=>{const[s,o]=kt.useState(""),[a,l]=kt.useState(""),[u,c]=kt.useState(""),[h,p]=kt.useState("Utensils"),[f,y]=kt.useState(""),_=[{name:"Utensils",icon:V.jsx(MI,{size:18})},{name:"ShoppingBag",icon:V.jsx(NI,{size:18})},{name:"Plane",icon:V.jsx(CI,{size:18})},{name:"Zap",icon:V.jsx(DI,{size:18})},{name:"Car",icon:V.jsx(kI,{size:18})},{name:"Coffee",icon:V.jsx(PI,{size:18})},{name:"Home",icon:V.jsx(rw,{size:18})},{name:"Smartphone",icon:V.jsx(LI,{size:18})},{name:"Activity",icon:V.jsx(v1,{size:18})},{name:"MoreHorizontal",icon:V.jsx(b1,{size:18})}],x=P=>{if(!P)return"";const F=String(P).replace(/[^0-9]/g,"");return new Intl.NumberFormat("id-ID").format(F)};if(kt.useEffect(()=>{if(e)if(y(""),r){o(r.category||"");const P=String(r.limit||"");l(P),c(x(P)),p(r.iconName||"Utensils")}else o(""),l(""),c(""),p("Utensils")},[e,r]),!e)return null;const v=P=>{const F=P.target.value.replace(/[^0-9]/g,"");l(F),c(x(F)),f&&y("")},A=async()=>{const P=Number(a);if(!s.trim()){y("Nama kategori tidak boleh kosong");return}if(!P){y("Masukkan limit anggaran");return}try{await n({...r?{id:r.id}:{},category:s.trim(),limit:P,iconName:h}),t()}catch(F){y(F.message||"Gagal menyimpan anggaran")}},I=async()=>{if(!(!r||!i)&&window.confirm(`Hapus anggaran "${r.category}"?`))try{await i(r.id),t()}catch(P){y(P.message||"Gagal menghapus anggaran")}};return V.jsx("div",{className:"fixed inset-0 z-[100] bg-background-dark/80 backdrop-blur-md flex items-end sm:items-center justify-center p-0 sm:p-6 animate-in slide-in-from-bottom duration-300",children:V.jsxs("div",{className:"w-full max-w-lg glass-card rounded-t-[2.5rem] sm:rounded-[2.5rem] p-8 space-y-6 relative overflow-y-auto max-h-[90vh]",children:[V.jsx("button",{onClick:t,className:"absolute top-6 left-6 size-10 flex items-center justify-center rounded-full glass-card hover:bg-white/5",children:V.jsx(m0,{className:"size-6"})}),V.jsxs("div",{className:"text-center",children:[V.jsx("h2",{className:"text-xl font-bold",children:r?"Edit Anggaran":"Atur Anggaran"}),V.jsx("p",{className:"text-slate-400 text-xs mt-1",children:"Tentukan batas pengeluaran bulanan"})]}),V.jsxs("div",{className:"space-y-6",children:[V.jsxs("div",{className:"space-y-2",children:[V.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest text-center",children:"LIMIT ANGGARAN"}),V.jsxs("div",{className:"flex items-center justify-center gap-2",children:[V.jsx("span",{className:"text-2xl font-bold text-primary",children:"Rp"}),V.jsx("input",{type:"text",placeholder:"0",value:u,onChange:v,className:"bg-transparent border-none text-4xl font-bold text-white focus:ring-0 p-0 w-full text-center"})]})]}),V.jsxs("div",{className:"space-y-2",children:[V.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest",children:"NAMA KATEGORI"}),V.jsx("input",{type:"text",placeholder:"Contoh: Makan, Belanja, Jajan...",value:s,onChange:P=>{o(P.target.value),f&&y("")},className:"w-full bg-white/5 border-white/10 rounded-xl text-sm font-bold p-4 text-white focus:ring-primary focus:border-primary"})]}),V.jsxs("div",{className:"space-y-3",children:[V.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest",children:"PILIH ICON"}),V.jsx("div",{className:"grid grid-cols-5 gap-3",children:_.map(P=>V.jsx("button",{onClick:()=>p(P.name),className:`size-12 rounded-xl flex items-center justify-center transition-all ${h===P.name?"bg-primary text-background-dark shadow-lg shadow-primary/20 scale-110":"bg-white/5 text-slate-400 border border-white/5 hover:bg-white/10"}`,children:P.icon},P.name))})]}),f&&V.jsx("p",{className:"text-xs text-red-500 font-bold text-center",children:f})]}),V.jsxs("div",{className:"flex gap-3",children:[r&&V.jsx("button",{onClick:I,className:"bg-red-500/10 text-red-500 font-bold py-5 px-6 rounded-2xl hover:bg-red-500/20 transition-all",children:V.jsx(RI,{size:24})}),V.jsxs("button",{onClick:A,className:"flex-1 bg-primary text-background-dark font-bold py-5 rounded-2xl flex items-center justify-center gap-3 shadow-xl shadow-primary/20 hover:scale-[1.02] active:scale-[0.98] transition-all",children:[V.jsx(iw,{size:24,strokeWidth:3}),r?"Simpan Perubahan":"Simpan Anggaran"]})]})]})})};var LT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n6=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let r=e.charCodeAt(i);r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=r&63|128):(r&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=r&63|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=r&63|128)}return t},hq=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const r=e[n++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=e[n++];t[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=e[n++],o=e[n++],a=e[n++],l=((r&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;t[i++]=String.fromCharCode(55296+(l>>10)),t[i++]=String.fromCharCode(56320+(l&1023))}else{const s=e[n++],o=e[n++];t[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return t.join("")},i6={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<e.length;r+=3){const s=e[r],o=r+1<e.length,a=o?e[r+1]:0,l=r+2<e.length,u=l?e[r+2]:0,c=s>>2,h=(s&3)<<4|a>>4;let p=(a&15)<<2|u>>6,f=u&63;l||(f=64,o||(p=64)),i.push(n[c],n[h],n[p],n[f])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(n6(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):hq(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<e.length;){const s=n[e.charAt(r++)],a=r<e.length?n[e.charAt(r)]:0;++r;const u=r<e.length?n[e.charAt(r)]:64;++r;const h=r<e.length?n[e.charAt(r)]:64;if(++r,s==null||a==null||u==null||h==null)throw new fq;const p=s<<2|a>>4;if(i.push(p),u!==64){const f=a<<4&240|u>>2;if(i.push(f),h!==64){const y=u<<6&192|h;i.push(y)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class fq extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const dq=function(e){const t=n6(e);return i6.encodeByteArray(t,!0)},L0=function(e){return dq(e).replace(/\./g,"")},r6=function(e){try{return i6.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pq(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gq=()=>pq().__FIREBASE_DEFAULTS__,mq=()=>{if(typeof process>"u"||typeof LT>"u")return;const e=LT.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},yq=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&r6(e[1]);return t&&JSON.parse(t)},R1=()=>{try{return gq()||mq()||yq()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},s6=e=>{var t,n;return(n=(t=R1())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},vq=e=>{const t=s6(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},o6=()=>{var e;return(e=R1())===null||e===void 0?void 0:e.config},a6=e=>{var t;return(t=R1())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _q{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wq(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=t||"demo-project",r=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e);return[L0(JSON.stringify(n)),L0(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function br(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function bq(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(br())}function xq(){var e;const t=(e=R1())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Sq(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Aq(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function Tq(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function kq(){const e=br();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Eq(){return!xq()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Pq(){try{return typeof indexedDB=="object"}catch{return!1}}function Iq(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;t(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cq="FirebaseError";class Ha extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=Cq,Object.setPrototypeOf(this,Ha.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Op.prototype.create)}}class Op{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},r=`${this.service}/${t}`,s=this.errors[t],o=s?Nq(s,i):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new Ha(r,a,i)}}function Nq(e,t){return e.replace(Lq,(n,i)=>{const r=t[i];return r!=null?String(r):`<${i}?>`})}const Lq=/\{\$([^}]+)}/g;function Rq(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function R0(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const r of n){if(!i.includes(r))return!1;const s=e[r],o=t[r];if(RT(s)&&RT(o)){if(!R0(s,o))return!1}else if(s!==o)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function RT(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fp(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function Mq(e,t){const n=new Dq(e,t);return n.subscribe.bind(n)}class Dq{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,i){let r;if(t===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");Oq(t,["next","error","complete"])?r=t:r={next:t,error:n,complete:i},r.next===void 0&&(r.next=yv),r.error===void 0&&(r.error=yv),r.complete===void 0&&(r.complete=yv);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Oq(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function yv(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wi(e){return e&&e._delegate?e._delegate:e}class sc{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mu="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fq{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new _q;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),r=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Vq(t))try{this.getOrInitializeService({instanceIdentifier:Mu})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(t=Mu){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Mu){return this.instances.has(t)}getOptions(t=Mu){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);i===a&&o.resolve(r)}return r}onInit(t,n){var i;const r=this.normalizeInstanceIdentifier(n),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(t),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&t(o,r),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:jq(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=Mu){return this.component?this.component.multipleInstances?t:Mu:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function jq(e){return e===Mu?void 0:e}function Vq(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bq{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new Fq(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qe;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(qe||(qe={}));const Uq={debug:qe.DEBUG,verbose:qe.VERBOSE,info:qe.INFO,warn:qe.WARN,error:qe.ERROR,silent:qe.SILENT},zq=qe.INFO,Wq={[qe.DEBUG]:"log",[qe.VERBOSE]:"log",[qe.INFO]:"info",[qe.WARN]:"warn",[qe.ERROR]:"error"},qq=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),r=Wq[t];if(r)console[r](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class rb{constructor(t){this.name=t,this._logLevel=zq,this._logHandler=qq,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in qe))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Uq[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,qe.DEBUG,...t),this._logHandler(this,qe.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,qe.VERBOSE,...t),this._logHandler(this,qe.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,qe.INFO,...t),this._logHandler(this,qe.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,qe.WARN,...t),this._logHandler(this,qe.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,qe.ERROR,...t),this._logHandler(this,qe.ERROR,...t)}}const Hq=(e,t)=>t.some(n=>e instanceof n);let MT,DT;function $q(){return MT||(MT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Gq(){return DT||(DT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const l6=new WeakMap,x5=new WeakMap,u6=new WeakMap,vv=new WeakMap,sb=new WeakMap;function Kq(e){const t=new Promise((n,i)=>{const r=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(ql(e.result)),r()},o=()=>{i(e.error),r()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&l6.set(n,e)}).catch(()=>{}),sb.set(t,e),t}function Yq(e){if(x5.has(e))return;const t=new Promise((n,i)=>{const r=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),r()},o=()=>{i(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});x5.set(e,t)}let S5={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return x5.get(e);if(t==="objectStoreNames")return e.objectStoreNames||u6.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ql(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function Xq(e){S5=e(S5)}function Qq(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(_v(this),t,...n);return u6.set(i,t.sort?t.sort():[t]),ql(i)}:Gq().includes(e)?function(...t){return e.apply(_v(this),t),ql(l6.get(this))}:function(...t){return ql(e.apply(_v(this),t))}}function Jq(e){return typeof e=="function"?Qq(e):(e instanceof IDBTransaction&&Yq(e),Hq(e,$q())?new Proxy(e,S5):e)}function ql(e){if(e instanceof IDBRequest)return Kq(e);if(vv.has(e))return vv.get(e);const t=Jq(e);return t!==e&&(vv.set(e,t),sb.set(t,e)),t}const _v=e=>sb.get(e);function Zq(e,t,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const o=indexedDB.open(e,t),a=ql(o);return i&&o.addEventListener("upgradeneeded",l=>{i(ql(o.result),l.oldVersion,l.newVersion,ql(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),r&&l.addEventListener("versionchange",u=>r(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const tH=["get","getKey","getAll","getAllKeys","count"],eH=["put","add","delete","clear"],wv=new Map;function OT(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(wv.get(t))return wv.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,r=eH.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||tH.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,r?"readwrite":"readonly");let u=l.store;return i&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),r&&l.done]))[0]};return wv.set(t,s),s}Xq(e=>({...e,get:(t,n,i)=>OT(t,n)||e.get(t,n,i),has:(t,n)=>!!OT(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nH{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(iH(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function iH(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const A5="@firebase/app",FT="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fa=new rb("@firebase/app"),rH="@firebase/app-compat",sH="@firebase/analytics-compat",oH="@firebase/analytics",aH="@firebase/app-check-compat",lH="@firebase/app-check",uH="@firebase/auth",cH="@firebase/auth-compat",hH="@firebase/database",fH="@firebase/data-connect",dH="@firebase/database-compat",pH="@firebase/functions",gH="@firebase/functions-compat",mH="@firebase/installations",yH="@firebase/installations-compat",vH="@firebase/messaging",_H="@firebase/messaging-compat",wH="@firebase/performance",bH="@firebase/performance-compat",xH="@firebase/remote-config",SH="@firebase/remote-config-compat",AH="@firebase/storage",TH="@firebase/storage-compat",kH="@firebase/firestore",EH="@firebase/vertexai-preview",PH="@firebase/firestore-compat",IH="firebase",CH="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T5="[DEFAULT]",NH={[A5]:"fire-core",[rH]:"fire-core-compat",[oH]:"fire-analytics",[sH]:"fire-analytics-compat",[lH]:"fire-app-check",[aH]:"fire-app-check-compat",[uH]:"fire-auth",[cH]:"fire-auth-compat",[hH]:"fire-rtdb",[fH]:"fire-data-connect",[dH]:"fire-rtdb-compat",[pH]:"fire-fn",[gH]:"fire-fn-compat",[mH]:"fire-iid",[yH]:"fire-iid-compat",[vH]:"fire-fcm",[_H]:"fire-fcm-compat",[wH]:"fire-perf",[bH]:"fire-perf-compat",[xH]:"fire-rc",[SH]:"fire-rc-compat",[AH]:"fire-gcs",[TH]:"fire-gcs-compat",[kH]:"fire-fst",[PH]:"fire-fst-compat",[EH]:"fire-vertex","fire-js":"fire-js",[IH]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0=new Map,LH=new Map,k5=new Map;function jT(e,t){try{e.container.addComponent(t)}catch(n){Fa.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Uh(e){const t=e.name;if(k5.has(t))return Fa.debug(`There were multiple attempts to register component ${t}.`),!1;k5.set(t,e);for(const n of M0.values())jT(n,e);for(const n of LH.values())jT(n,e);return!0}function ob(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Sa(e){return e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RH={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hl=new Op("app","Firebase",RH);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MH{constructor(t,n,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new sc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Hl.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nf=CH;function c6(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const i=Object.assign({name:T5,automaticDataCollectionEnabled:!1},t),r=i.name;if(typeof r!="string"||!r)throw Hl.create("bad-app-name",{appName:String(r)});if(n||(n=o6()),!n)throw Hl.create("no-options");const s=M0.get(r);if(s){if(R0(n,s.options)&&R0(i,s.config))return s;throw Hl.create("duplicate-app",{appName:r})}const o=new Bq(r);for(const l of k5.values())o.addComponent(l);const a=new MH(n,i,o);return M0.set(r,a),a}function h6(e=T5){const t=M0.get(e);if(!t&&e===T5&&o6())return c6();if(!t)throw Hl.create("no-app",{appName:e});return t}function $l(e,t,n){var i;let r=(i=NH[e])!==null&&i!==void 0?i:e;n&&(r+=`-${n}`);const s=r.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const a=[`Unable to register library "${r}" with version "${t}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Fa.warn(a.join(" "));return}Uh(new sc(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DH="firebase-heartbeat-database",OH=1,dp="firebase-heartbeat-store";let bv=null;function f6(){return bv||(bv=Zq(DH,OH,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(dp)}catch(n){console.warn(n)}}}}).catch(e=>{throw Hl.create("idb-open",{originalErrorMessage:e.message})})),bv}async function FH(e){try{const n=(await f6()).transaction(dp),i=await n.objectStore(dp).get(d6(e));return await n.done,i}catch(t){if(t instanceof Ha)Fa.warn(t.message);else{const n=Hl.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Fa.warn(n.message)}}}async function VT(e,t){try{const i=(await f6()).transaction(dp,"readwrite");await i.objectStore(dp).put(t,d6(e)),await i.done}catch(n){if(n instanceof Ha)Fa.warn(n.message);else{const i=Hl.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Fa.warn(i.message)}}}function d6(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jH=1024,VH=30*24*60*60*1e3;class BH{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new zH(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=BT();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=VH}),this._storage.overwrite(this._heartbeatsCache))}catch(i){Fa.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=BT(),{heartbeatsToSend:i,unsentEntries:r}=UH(this._heartbeatsCache.heartbeats),s=L0(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Fa.warn(n),""}}}function BT(){return new Date().toISOString().substring(0,10)}function UH(e,t=jH){const n=[];let i=e.slice();for(const r of e){const s=n.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),UT(n)>t){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),UT(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class zH{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Pq()?Iq().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await FH(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return VT(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return VT(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function UT(e){return L0(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WH(e){Uh(new sc("platform-logger",t=>new nH(t),"PRIVATE")),Uh(new sc("heartbeat",t=>new BH(t),"PRIVATE")),$l(A5,FT,e),$l(A5,FT,"esm2017"),$l("fire-js","")}WH("");function ab(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n}function p6(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const qH=p6,g6=new Op("auth","Firebase",p6());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D0=new rb("@firebase/auth");function HH(e,...t){D0.logLevel<=qe.WARN&&D0.warn(`Auth (${nf}): ${e}`,...t)}function Nm(e,...t){D0.logLevel<=qe.ERROR&&D0.error(`Auth (${nf}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Go(e,...t){throw ub(e,...t)}function co(e,...t){return ub(e,...t)}function lb(e,t,n){const i=Object.assign(Object.assign({},qH()),{[t]:n});return new Op("auth","Firebase",i).create(t,{appName:e.name})}function Yu(e){return lb(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function $H(e,t,n){const i=n;if(!(t instanceof i))throw i.name!==t.constructor.name&&Go(e,"argument-error"),lb(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ub(e,...t){if(typeof e!="string"){const n=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(n,...i)}return g6.create(e,...t)}function we(e,t,...n){if(!e)throw ub(t,...n)}function Aa(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Nm(t),new Error(t)}function ja(e,t){e||Aa(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E5(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function GH(){return zT()==="http:"||zT()==="https:"}function zT(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KH(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(GH()||Aq()||"connection"in navigator)?navigator.onLine:!0}function YH(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(t,n){this.shortDelay=t,this.longDelay=n,ja(n>t,"Short delay should be less than long delay!"),this.isMobile=bq()||Tq()}get(){return KH()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cb(e,t){ja(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m6{static initialize(t,n,i){this.fetchImpl=t,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Aa("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Aa("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Aa("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XH={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QH=new jp(3e4,6e4);function hb(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function rf(e,t,n,i,r={}){return y6(e,r,async()=>{let s={},o={};i&&(t==="GET"?o=i:s={body:JSON.stringify(i)});const a=Fp(Object.assign({key:e.config.apiKey},o)).slice(1),l=await e._getAdditionalHeaders();l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode);const u=Object.assign({method:t,headers:l},s);return Sq()||(u.referrerPolicy="no-referrer"),m6.fetch()(v6(e,e.config.apiHost,n,a),u)})}async function y6(e,t,n){e._canInitEmulator=!1;const i=Object.assign(Object.assign({},XH),t);try{const r=new ZH(e),s=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Xg(e,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Xg(e,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Xg(e,"email-already-in-use",o);if(l==="USER_DISABLED")throw Xg(e,"user-disabled",o);const c=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw lb(e,c,u);Go(e,c)}}catch(r){if(r instanceof Ha)throw r;Go(e,"network-request-failed",{message:String(r)})}}async function JH(e,t,n,i,r={}){const s=await rf(e,t,n,i,r);return"mfaPendingCredential"in s&&Go(e,"multi-factor-auth-required",{_serverResponse:s}),s}function v6(e,t,n,i){const r=`${t}${n}?${i}`;return e.config.emulator?cb(e.config,r):`${e.config.apiScheme}://${r}`}class ZH{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(co(this.auth,"network-request-failed")),QH.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Xg(e,t,n){const i={appName:e.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=co(e,t,i);return r.customData._tokenResponse=n,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t$(e,t){return rf(e,"POST","/v1/accounts:delete",t)}async function _6(e,t){return rf(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ed(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function e$(e,t=!1){const n=wi(e),i=await n.getIdToken(t),r=fb(i);we(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:Ed(xv(r.auth_time)),issuedAtTime:Ed(xv(r.iat)),expirationTime:Ed(xv(r.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function xv(e){return Number(e)*1e3}function fb(e){const[t,n,i]=e.split(".");if(t===void 0||n===void 0||i===void 0)return Nm("JWT malformed, contained fewer than 3 sections"),null;try{const r=r6(n);return r?JSON.parse(r):(Nm("Failed to decode base64 JWT payload"),null)}catch(r){return Nm("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function WT(e){const t=fb(e);return we(t,"internal-error"),we(typeof t.exp<"u","internal-error"),we(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pp(e,t,n=!1){if(n)return t;try{return await t}catch(i){throw i instanceof Ha&&n$(i)&&e.auth.currentUser===e&&await e.auth.signOut(),i}}function n$({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i${constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P5{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ed(this.lastLoginAt),this.creationTime=Ed(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O0(e){var t;const n=e.auth,i=await e.getIdToken(),r=await pp(e,_6(n,{idToken:i}));we(r==null?void 0:r.users.length,n,"internal-error");const s=r.users[0];e._notifyReloadListener(s);const o=!((t=s.providerUserInfo)===null||t===void 0)&&t.length?w6(s.providerUserInfo):[],a=s$(e.providerData,o),l=e.isAnonymous,u=!(e.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new P5(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(e,h)}async function r$(e){const t=wi(e);await O0(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function s$(e,t){return[...e.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}function w6(e){return e.map(t=>{var{providerId:n}=t,i=ab(t,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o$(e,t){const n=await y6(e,{},async()=>{const i=Fp({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:s}=e.config,o=v6(e,r,"/v1/token",`key=${s}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",m6.fetch()(o,{method:"POST",headers:a,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function a$(e,t){return rf(e,"POST","/v2/accounts:revokeToken",hb(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){we(t.idToken,"internal-error"),we(typeof t.idToken<"u","internal-error"),we(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):WT(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){we(t.length!==0,"internal-error");const n=WT(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:i,refreshToken:r,expiresIn:s}=await o$(t,n);this.updateTokensAndExpiration(i,r,Number(s))}updateTokensAndExpiration(t,n,i){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,n){const{refreshToken:i,accessToken:r,expirationTime:s}=n,o=new _h;return i&&(we(typeof i=="string","internal-error",{appName:t}),o.refreshToken=i),r&&(we(typeof r=="string","internal-error",{appName:t}),o.accessToken=r),s&&(we(typeof s=="number","internal-error",{appName:t}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new _h,this.toJSON())}_performRefresh(){return Aa("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gl(e,t){we(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class Ta{constructor(t){var{uid:n,auth:i,stsTokenManager:r}=t,s=ab(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new i$(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new P5(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const n=await pp(this,this.stsTokenManager.getToken(this.auth,t));return we(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return e$(this,t)}reload(){return r$(this)}_assign(t){this!==t&&(we(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Ta(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),n&&await O0(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Sa(this.auth.app))return Promise.reject(Yu(this.auth));const t=await this.getIdToken();return await pp(this,t$(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var i,r,s,o,a,l,u,c;const h=(i=n.displayName)!==null&&i!==void 0?i:void 0,p=(r=n.email)!==null&&r!==void 0?r:void 0,f=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,y=(o=n.photoURL)!==null&&o!==void 0?o:void 0,_=(a=n.tenantId)!==null&&a!==void 0?a:void 0,x=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,v=(u=n.createdAt)!==null&&u!==void 0?u:void 0,A=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:I,emailVerified:P,isAnonymous:F,providerData:G,stsTokenManager:R}=n;we(I&&R,t,"internal-error");const T=_h.fromJSON(this.name,R);we(typeof I=="string",t,"internal-error"),gl(h,t.name),gl(p,t.name),we(typeof P=="boolean",t,"internal-error"),we(typeof F=="boolean",t,"internal-error"),gl(f,t.name),gl(y,t.name),gl(_,t.name),gl(x,t.name),gl(v,t.name),gl(A,t.name);const E=new Ta({uid:I,auth:t,email:p,emailVerified:P,displayName:h,isAnonymous:F,photoURL:y,phoneNumber:f,tenantId:_,stsTokenManager:T,createdAt:v,lastLoginAt:A});return G&&Array.isArray(G)&&(E.providerData=G.map(D=>Object.assign({},D))),x&&(E._redirectEventId=x),E}static async _fromIdTokenResponse(t,n,i=!1){const r=new _h;r.updateFromServerResponse(n);const s=new Ta({uid:n.localId,auth:t,stsTokenManager:r,isAnonymous:i});return await O0(s),s}static async _fromGetAccountInfoResponse(t,n,i){const r=n.users[0];we(r.localId!==void 0,"internal-error");const s=r.providerUserInfo!==void 0?w6(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(s!=null&&s.length),a=new _h;a.updateFromIdToken(i);const l=new Ta({uid:r.localId,auth:t,stsTokenManager:a,isAnonymous:o}),u={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new P5(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT=new Map;function ka(e){ja(e instanceof Function,"Expected a class definition");let t=qT.get(e);return t?(ja(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,qT.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b6{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}b6.type="NONE";const HT=b6;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lm(e,t,n){return`firebase:${e}:${t}:${n}`}class wh{constructor(t,n,i){this.persistence=t,this.auth=n,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=Lm(this.userKey,r.apiKey,s),this.fullPersistenceKey=Lm("persistence",r.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?Ta._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,i="authUser"){if(!n.length)return new wh(ka(HT),t,i);const r=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=r[0]||ka(HT);const o=Lm(i,t.config.apiKey,t.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const h=Ta._fromJSON(t,c);u!==s&&(a=h),s=u;break}}catch{}const l=r.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new wh(s,t,i):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new wh(s,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $T(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(T6(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(x6(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(E6(t))return"Blackberry";if(P6(t))return"Webos";if(S6(t))return"Safari";if((t.includes("chrome/")||A6(t))&&!t.includes("edge/"))return"Chrome";if(k6(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=e.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function x6(e=br()){return/firefox\//i.test(e)}function S6(e=br()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function A6(e=br()){return/crios\//i.test(e)}function T6(e=br()){return/iemobile/i.test(e)}function k6(e=br()){return/android/i.test(e)}function E6(e=br()){return/blackberry/i.test(e)}function P6(e=br()){return/webos/i.test(e)}function db(e=br()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function l$(e=br()){var t;return db(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function u$(){return kq()&&document.documentMode===10}function I6(e=br()){return db(e)||k6(e)||P6(e)||E6(e)||/windows phone/i.test(e)||T6(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C6(e,t=[]){let n;switch(e){case"Browser":n=$T(br());break;case"Worker":n=`${$T(br())}-${e}`;break;default:n=e}const i=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${nf}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c${constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const i=s=>new Promise((o,a)=>{try{const l=t(s);o(l)}catch(l){a(l)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const i of this.queue)await i(t),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h$(e,t={}){return rf(e,"GET","/v2/passwordPolicy",hb(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f$=6;class d${constructor(t){var n,i,r,s;const o=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:f$,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=t.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=t.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,i,r,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,l),this.validatePasswordCharacterOptions(t,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(i=l.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(r=l.containsLowercaseLetter)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(t,n){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=t.length>=i),r&&(n.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<t.length;r++)i=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,n,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p${constructor(t,n,i,r){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new GT(this),this.idTokenSubscription=new GT(this),this.beforeStateQueue=new c$(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=g6,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=ka(n)),this._initializationPromise=this.queue(async()=>{var i,r;if(!this._deleted&&(this.persistenceManager=await wh.create(this,t),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await _6(this,{idToken:t}),i=await Ta._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(Sa(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(t);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await O0(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=YH()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Sa(this.app))return Promise.reject(Yu(this));const n=t?wi(t):null;return n&&we(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&we(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Sa(this.app)?Promise.reject(Yu(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Sa(this.app)?Promise.reject(Yu(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ka(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await h$(this),n=new d$(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Op("auth","Firebase",t())}onAuthStateChanged(t,n,i){return this.registerStateListener(this.authStateSubscription,t,n,i)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,i){return this.registerStateListener(this.idTokenSubscription,t,n,i)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await a$(this,i)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const i=await this.getOrInitRedirectPersistenceManager(n);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&ka(t)||this._popupRedirectResolver;we(n,this,"argument-error"),this.redirectPersistenceManager=await wh.create(this,[ka(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,i,r){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=t.addObserver(n,i,r);return()=>{o=!0,l()}}else{const l=t.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=C6(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n}async _getAppCheckToken(){var t;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&HH(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function M1(e){return wi(e)}class GT{constructor(t){this.auth=t,this.observer=null,this.addObserver=Mq(n=>this.observer=n)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pb={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function g$(e){pb=e}function m$(e){return pb.loadJS(e)}function y$(){return pb.gapiScript}function v$(e){return`__${e}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _$(e,t){const n=ob(e,"auth");if(n.isInitialized()){const r=n.getImmediate(),s=n.getOptions();if(R0(s,t??{}))return r;Go(r,"already-initialized")}return n.initialize({options:t})}function w$(e,t){const n=(t==null?void 0:t.persistence)||[],i=(Array.isArray(n)?n:[n]).map(ka);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(i,t==null?void 0:t.popupRedirectResolver)}function b$(e,t,n){const i=M1(e);we(i._canInitEmulator,i,"emulator-config-failed"),we(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!1,s=N6(t),{host:o,port:a}=x$(t),l=a===null?"":`:${a}`;i.config.emulator={url:`${s}//${o}${l}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})}),S$()}function N6(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function x$(e){const t=N6(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:KT(i.substr(s.length+1))}}else{const[s,o]=i.split(":");return{host:s,port:KT(o)}}}function KT(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function S$(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L6{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Aa("not implemented")}_getIdTokenResponse(t){return Aa("not implemented")}_linkToIdToken(t,n){return Aa("not implemented")}_getReauthenticationResolver(t){return Aa("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bh(e,t){return JH(e,"POST","/v1/accounts:signInWithIdp",hb(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A$="http://localhost";class oc extends L6{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new oc(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Go("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:r}=n,s=ab(n,["providerId","signInMethod"]);if(!i||!r)return null;const o=new oc(i,r);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(t){const n=this.buildRequest();return bh(t,n)}_linkToIdToken(t,n){const i=this.buildRequest();return i.idToken=n,bh(t,i)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,bh(t,n)}buildRequest(){const t={requestUri:A$,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Fp(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp extends gb{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al extends Vp{constructor(){super("facebook.com")}static credential(t){return oc._fromParams({providerId:Al.PROVIDER_ID,signInMethod:Al.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Al.credentialFromTaggedObject(t)}static credentialFromError(t){return Al.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Al.credential(t.oauthAccessToken)}catch{return null}}}Al.FACEBOOK_SIGN_IN_METHOD="facebook.com";Al.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a extends Vp{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return oc._fromParams({providerId:_a.PROVIDER_ID,signInMethod:_a.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return _a.credentialFromTaggedObject(t)}static credentialFromError(t){return _a.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:i}=t;if(!n&&!i)return null;try{return _a.credential(n,i)}catch{return null}}}_a.GOOGLE_SIGN_IN_METHOD="google.com";_a.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl extends Vp{constructor(){super("github.com")}static credential(t){return oc._fromParams({providerId:Tl.PROVIDER_ID,signInMethod:Tl.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Tl.credentialFromTaggedObject(t)}static credentialFromError(t){return Tl.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Tl.credential(t.oauthAccessToken)}catch{return null}}}Tl.GITHUB_SIGN_IN_METHOD="github.com";Tl.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl extends Vp{constructor(){super("twitter.com")}static credential(t,n){return oc._fromParams({providerId:kl.PROVIDER_ID,signInMethod:kl.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return kl.credentialFromTaggedObject(t)}static credentialFromError(t){return kl.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=t;if(!n||!i)return null;try{return kl.credential(n,i)}catch{return null}}}kl.TWITTER_SIGN_IN_METHOD="twitter.com";kl.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,i,r=!1){const s=await Ta._fromIdTokenResponse(t,i,r),o=YT(i);return new zh({user:s,providerId:o,_tokenResponse:i,operationType:n})}static async _forOperation(t,n,i){await t._updateTokensIfNecessary(i,!0);const r=YT(i);return new zh({user:t,providerId:r,_tokenResponse:i,operationType:n})}}function YT(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0 extends Ha{constructor(t,n,i,r){var s;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,F0.prototype),this.customData={appName:t.name,tenantId:(s=t.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,n,i,r){return new F0(t,n,i,r)}}function R6(e,t,n,i){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?F0._fromErrorAndOperation(e,s,t,i):s})}async function T$(e,t,n=!1){const i=await pp(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return zh._forOperation(e,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k$(e,t,n=!1){const{auth:i}=e;if(Sa(i.app))return Promise.reject(Yu(i));const r="reauthenticate";try{const s=await pp(e,R6(i,r,t,e),n);we(s.idToken,i,"internal-error");const o=fb(s.idToken);we(o,i,"internal-error");const{sub:a}=o;return we(e.uid===a,i,"user-mismatch"),zh._forOperation(e,r,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Go(i,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E$(e,t,n=!1){if(Sa(e.app))return Promise.reject(Yu(e));const i="signIn",r=await R6(e,i,t),s=await zh._fromIdTokenResponse(e,i,r);return n||await e._updateCurrentUser(s.user),s}function P$(e,t,n,i){return wi(e).onIdTokenChanged(t,n,i)}function I$(e,t,n){return wi(e).beforeAuthStateChanged(t,n)}function C$(e,t,n,i){return wi(e).onAuthStateChanged(t,n,i)}function N$(e){return wi(e).signOut()}const j0="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M6{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(j0,"1"),this.storage.removeItem(j0),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L$=1e3,R$=10;class D6 extends M6{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=I6(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&t(n,r,i)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const i=t.key;n?this.detachListener():this.stopPolling();const r=()=>{const o=this.storage.getItem(i);!n&&this.localCache[i]===o||this.notifyListeners(i,o)},s=this.storage.getItem(i);u$()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(r,R$):r()}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:i}),!0)})},L$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}D6.type="LOCAL";const M$=D6;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O6 extends M6{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}O6.type="SESSION";const F6=O6;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D$(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(r=>r.isListeningto(t));if(n)return n;const i=new D1(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:i,eventType:r,data:s}=n.data,o=this.handlersMap[r];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await D$(a);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:l})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}D1.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mb(e="",t=10){let n="";for(let i=0;i<t;i++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O${constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=mb("",20);r.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},i);o={messageChannel:r,onMessage(h){const p=h;if(p.data.eventId===u)switch(p.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(p.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:u,data:n},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ho(){return window}function F$(e){Ho().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j6(){return typeof Ho().WorkerGlobalScope<"u"&&typeof Ho().importScripts=="function"}async function j$(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function V$(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function B$(){return j6()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V6="firebaseLocalStorageDb",U$=1,V0="firebaseLocalStorage",B6="fbase_key";class Bp{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function O1(e,t){return e.transaction([V0],t?"readwrite":"readonly").objectStore(V0)}function z$(){const e=indexedDB.deleteDatabase(V6);return new Bp(e).toPromise()}function I5(){const e=indexedDB.open(V6,U$);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const i=e.result;try{i.createObjectStore(V0,{keyPath:B6})}catch(r){n(r)}}),e.addEventListener("success",async()=>{const i=e.result;i.objectStoreNames.contains(V0)?t(i):(i.close(),await z$(),t(await I5()))})})}async function XT(e,t,n){const i=O1(e,!0).put({[B6]:t,value:n});return new Bp(i).toPromise()}async function W$(e,t){const n=O1(e,!1).get(t),i=await new Bp(n).toPromise();return i===void 0?null:i.value}function QT(e,t){const n=O1(e,!0).delete(t);return new Bp(n).toPromise()}const q$=800,H$=3;class U6{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await I5(),this.db)}async _withRetries(t){let n=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(n++>H$)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return j6()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=D1._getInstance(B$()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await j$(),!this.activeServiceWorker)return;this.sender=new O$(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||V$()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await I5();return await XT(t,j0,"1"),await QT(t,j0),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>XT(i,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(i=>W$(i,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>QT(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(r=>{const s=O1(r,!1).getAll();return new Bp(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(t.length!==0)for(const{fbase_key:r,value:s}of t)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),q$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}U6.type="LOCAL";const $$=U6;new jp(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z6(e,t){return t?ka(t):(we(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb extends L6{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return bh(t,this._buildIdpRequest())}_linkToIdToken(t,n){return bh(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return bh(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function G$(e){return E$(e.auth,new yb(e),e.bypassAuthState)}function K$(e){const{auth:t,user:n}=e;return we(n,t,"internal-error"),k$(n,new yb(e),e.bypassAuthState)}async function Y$(e){const{auth:t,user:n}=e;return we(n,t,"internal-error"),T$(n,new yb(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W6{constructor(t,n,i,r,s=!1){this.auth=t,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:i,postBody:r,tenantId:s,error:o,type:a}=t;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return G$;case"linkViaPopup":case"linkViaRedirect":return Y$;case"reauthViaPopup":case"reauthViaRedirect":return K$;default:Go(this.auth,"internal-error")}}resolve(t){ja(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ja(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X$=new jp(2e3,1e4);async function Q$(e,t,n){if(Sa(e.app))return Promise.reject(co(e,"operation-not-supported-in-this-environment"));const i=M1(e);$H(e,t,gb);const r=z6(i,n);return new zu(i,"signInViaPopup",t,r).executeNotNull()}class zu extends W6{constructor(t,n,i,r,s){super(t,n,r,s),this.provider=i,this.authWindow=null,this.pollId=null,zu.currentPopupAction&&zu.currentPopupAction.cancel(),zu.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return we(t,this.auth,"internal-error"),t}async onExecution(){ja(this.filter.length===1,"Popup operations only handle one event");const t=mb();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(co(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(co(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,zu.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(co(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,X$.get())};t()}}zu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J$="pendingRedirect",Rm=new Map;class Z$ extends W6{constructor(t,n,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let t=Rm.get(this.auth._key());if(!t){try{const i=await tG(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(n){t=()=>Promise.reject(n)}Rm.set(this.auth._key(),t)}return this.bypassAuthState||Rm.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function tG(e,t){const n=iG(t),i=nG(e);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}function eG(e,t){Rm.set(e._key(),t)}function nG(e){return ka(e._redirectPersistence)}function iG(e){return Lm(J$,e.config.apiKey,e.name)}async function rG(e,t,n=!1){if(Sa(e.app))return Promise.reject(Yu(e));const i=M1(e),r=z6(i,t),o=await new Z$(i,r,n).execute();return o&&!n&&(delete o.user._redirectEventId,await i._persistUserIfCurrent(o.user),await i._setRedirectUser(null,t)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sG=10*60*1e3;class oG{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(n=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!aG(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var i;if(t.error&&!q6(t)){const r=((i=t.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(co(this.auth,r))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const i=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=sG&&this.cachedEventUids.clear(),this.cachedEventUids.has(JT(t))}saveEventToCache(t){this.cachedEventUids.add(JT(t)),this.lastProcessedEventTime=Date.now()}}function JT(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function q6({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function aG(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return q6(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lG(e,t={}){return rf(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uG=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cG=/^https?/;async function hG(e){if(e.config.emulator)return;const{authorizedDomains:t}=await lG(e);for(const n of t)try{if(fG(n))return}catch{}Go(e,"unauthorized-domain")}function fG(e){const t=E5(),{protocol:n,hostname:i}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return o.hostname===""&&i===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===i}if(!cG.test(n))return!1;if(uG.test(e))return i===e;const r=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dG=new jp(3e4,6e4);function ZT(){const e=Ho().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function pG(e){return new Promise((t,n)=>{var i,r,s;function o(){ZT(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{ZT(),n(co(e,"network-request-failed"))},timeout:dG.get()})}if(!((r=(i=Ho().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)t(gapi.iframes.getContext());else if(!((s=Ho().gapi)===null||s===void 0)&&s.load)o();else{const a=v$("iframefcb");return Ho()[a]=()=>{gapi.load?o():n(co(e,"network-request-failed"))},m$(`${y$()}?onload=${a}`).catch(l=>n(l))}}).catch(t=>{throw Mm=null,t})}let Mm=null;function gG(e){return Mm=Mm||pG(e),Mm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mG=new jp(5e3,15e3),yG="__/auth/iframe",vG="emulator/auth/iframe",_G={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},wG=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bG(e){const t=e.config;we(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?cb(t,vG):`https://${e.config.authDomain}/${yG}`,i={apiKey:t.apiKey,appName:e.name,v:nf},r=wG.get(e.config.apiHost);r&&(i.eid=r);const s=e._getFrameworks();return s.length&&(i.fw=s.join(",")),`${n}?${Fp(i).slice(1)}`}async function xG(e){const t=await gG(e),n=Ho().gapi;return we(n,e,"internal-error"),t.open({where:document.body,url:bG(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_G,dontclear:!0},i=>new Promise(async(r,s)=>{await i.restyle({setHideOnLeave:!1});const o=co(e,"network-request-failed"),a=Ho().setTimeout(()=>{s(o)},mG.get());function l(){Ho().clearTimeout(a),r(i)}i.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SG={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},AG=500,TG=600,kG="_blank",EG="http://localhost";class tk{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function PG(e,t,n,i=AG,r=TG){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString();let a="";const l=Object.assign(Object.assign({},SG),{width:i.toString(),height:r.toString(),top:s,left:o}),u=br().toLowerCase();n&&(a=A6(u)?kG:n),x6(u)&&(t=t||EG,l.scrollbars="yes");const c=Object.entries(l).reduce((p,[f,y])=>`${p}${f}=${y},`,"");if(l$(u)&&a!=="_self")return IG(t||"",a),new tk(null);const h=window.open(t||"",a,c);we(h,e,"popup-blocked");try{h.focus()}catch{}return new tk(h)}function IG(e,t){const n=document.createElement("a");n.href=e,n.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CG="__/auth/handler",NG="emulator/auth/handler",LG=encodeURIComponent("fac");async function ek(e,t,n,i,r,s){we(e.config.authDomain,e,"auth-domain-config-required"),we(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:i,v:nf,eventId:r};if(t instanceof gb){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",Rq(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[c,h]of Object.entries({}))o[c]=h}if(t instanceof Vp){const c=t.getScopes().filter(h=>h!=="");c.length>0&&(o.scopes=c.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await e._getAppCheckToken(),u=l?`#${LG}=${encodeURIComponent(l)}`:"";return`${RG(e)}?${Fp(a).slice(1)}${u}`}function RG({config:e}){return e.emulator?cb(e,NG):`https://${e.authDomain}/${CG}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv="webStorageSupport";class MG{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=F6,this._completeRedirectFn=rG,this._overrideRedirectResult=eG}async _openPopup(t,n,i,r){var s;ja((s=this.eventManagers[t._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await ek(t,n,i,E5(),r);return PG(t,o,mb())}async _openRedirect(t,n,i,r){await this._originValidation(t);const s=await ek(t,n,i,E5(),r);return F$(s),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:r,promise:s}=this.eventManagers[n];return r?Promise.resolve(r):(ja(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(t);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(t){const n=await xG(t),i=new oG(t);return n.register("authEvent",r=>(we(r==null?void 0:r.authEvent,t,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=n,i}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Sv,{type:Sv},r=>{var s;const o=(s=r==null?void 0:r[0])===null||s===void 0?void 0:s[Sv];o!==void 0&&n(!!o),Go(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=hG(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return I6()||S6()||db()}}const DG=MG;var nk="@firebase/auth",ik="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OG{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(i=>{t((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FG(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function jG(e){Uh(new sc("auth",(t,{options:n})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=i.options;we(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});const l={apiKey:o,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:C6(e)},u=new p$(i,r,s,l);return w$(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,i)=>{t.getProvider("auth-internal").initialize()})),Uh(new sc("auth-internal",t=>{const n=M1(t.getProvider("auth").getImmediate());return(i=>new OG(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),$l(nk,ik,FG(e)),$l(nk,ik,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VG=5*60,BG=a6("authIdTokenMaxAge")||VG;let rk=null;const UG=e=>async t=>{const n=t&&await t.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>BG)return;const r=n==null?void 0:n.token;rk!==r&&(rk=r,await fetch(e,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function zG(e=h6()){const t=ob(e,"auth");if(t.isInitialized())return t.getImmediate();const n=_$(e,{popupRedirectResolver:DG,persistence:[$$,M$,F6]}),i=a6("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(i,location.origin);if(location.origin===s.origin){const o=UG(s.toString());I$(n,o,()=>o(n.currentUser)),P$(n,a=>o(a))}}const r=s6("auth");return r&&b$(n,`http://${r}`),n}function WG(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}g$({loadJS(e){return new Promise((t,n)=>{const i=document.createElement("script");i.setAttribute("src",e),i.onload=t,i.onerror=r=>{const s=co("internal-error");s.customData=r,n(s)},i.type="text/javascript",i.charset="UTF-8",WG().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});jG("Browser");var qG="firebase",HG="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$l(qG,HG,"app");var sk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Xu,H6;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(R,T){function E(){}E.prototype=T.prototype,R.D=T.prototype,R.prototype=new E,R.prototype.constructor=R,R.C=function(D,k,N){for(var M=Array(arguments.length-2),H=2;H<arguments.length;H++)M[H-2]=arguments[H];return T.prototype[k].apply(D,M)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(R,T,E){E||(E=0);var D=Array(16);if(typeof T=="string")for(var k=0;16>k;++k)D[k]=T.charCodeAt(E++)|T.charCodeAt(E++)<<8|T.charCodeAt(E++)<<16|T.charCodeAt(E++)<<24;else for(k=0;16>k;++k)D[k]=T[E++]|T[E++]<<8|T[E++]<<16|T[E++]<<24;T=R.g[0],E=R.g[1],k=R.g[2];var N=R.g[3],M=T+(N^E&(k^N))+D[0]+3614090360&4294967295;T=E+(M<<7&4294967295|M>>>25),M=N+(k^T&(E^k))+D[1]+3905402710&4294967295,N=T+(M<<12&4294967295|M>>>20),M=k+(E^N&(T^E))+D[2]+606105819&4294967295,k=N+(M<<17&4294967295|M>>>15),M=E+(T^k&(N^T))+D[3]+3250441966&4294967295,E=k+(M<<22&4294967295|M>>>10),M=T+(N^E&(k^N))+D[4]+4118548399&4294967295,T=E+(M<<7&4294967295|M>>>25),M=N+(k^T&(E^k))+D[5]+1200080426&4294967295,N=T+(M<<12&4294967295|M>>>20),M=k+(E^N&(T^E))+D[6]+2821735955&4294967295,k=N+(M<<17&4294967295|M>>>15),M=E+(T^k&(N^T))+D[7]+4249261313&4294967295,E=k+(M<<22&4294967295|M>>>10),M=T+(N^E&(k^N))+D[8]+1770035416&4294967295,T=E+(M<<7&4294967295|M>>>25),M=N+(k^T&(E^k))+D[9]+2336552879&4294967295,N=T+(M<<12&4294967295|M>>>20),M=k+(E^N&(T^E))+D[10]+4294925233&4294967295,k=N+(M<<17&4294967295|M>>>15),M=E+(T^k&(N^T))+D[11]+2304563134&4294967295,E=k+(M<<22&4294967295|M>>>10),M=T+(N^E&(k^N))+D[12]+1804603682&4294967295,T=E+(M<<7&4294967295|M>>>25),M=N+(k^T&(E^k))+D[13]+4254626195&4294967295,N=T+(M<<12&4294967295|M>>>20),M=k+(E^N&(T^E))+D[14]+2792965006&4294967295,k=N+(M<<17&4294967295|M>>>15),M=E+(T^k&(N^T))+D[15]+1236535329&4294967295,E=k+(M<<22&4294967295|M>>>10),M=T+(k^N&(E^k))+D[1]+4129170786&4294967295,T=E+(M<<5&4294967295|M>>>27),M=N+(E^k&(T^E))+D[6]+3225465664&4294967295,N=T+(M<<9&4294967295|M>>>23),M=k+(T^E&(N^T))+D[11]+643717713&4294967295,k=N+(M<<14&4294967295|M>>>18),M=E+(N^T&(k^N))+D[0]+3921069994&4294967295,E=k+(M<<20&4294967295|M>>>12),M=T+(k^N&(E^k))+D[5]+3593408605&4294967295,T=E+(M<<5&4294967295|M>>>27),M=N+(E^k&(T^E))+D[10]+38016083&4294967295,N=T+(M<<9&4294967295|M>>>23),M=k+(T^E&(N^T))+D[15]+3634488961&4294967295,k=N+(M<<14&4294967295|M>>>18),M=E+(N^T&(k^N))+D[4]+3889429448&4294967295,E=k+(M<<20&4294967295|M>>>12),M=T+(k^N&(E^k))+D[9]+568446438&4294967295,T=E+(M<<5&4294967295|M>>>27),M=N+(E^k&(T^E))+D[14]+3275163606&4294967295,N=T+(M<<9&4294967295|M>>>23),M=k+(T^E&(N^T))+D[3]+4107603335&4294967295,k=N+(M<<14&4294967295|M>>>18),M=E+(N^T&(k^N))+D[8]+1163531501&4294967295,E=k+(M<<20&4294967295|M>>>12),M=T+(k^N&(E^k))+D[13]+2850285829&4294967295,T=E+(M<<5&4294967295|M>>>27),M=N+(E^k&(T^E))+D[2]+4243563512&4294967295,N=T+(M<<9&4294967295|M>>>23),M=k+(T^E&(N^T))+D[7]+1735328473&4294967295,k=N+(M<<14&4294967295|M>>>18),M=E+(N^T&(k^N))+D[12]+2368359562&4294967295,E=k+(M<<20&4294967295|M>>>12),M=T+(E^k^N)+D[5]+4294588738&4294967295,T=E+(M<<4&4294967295|M>>>28),M=N+(T^E^k)+D[8]+2272392833&4294967295,N=T+(M<<11&4294967295|M>>>21),M=k+(N^T^E)+D[11]+1839030562&4294967295,k=N+(M<<16&4294967295|M>>>16),M=E+(k^N^T)+D[14]+4259657740&4294967295,E=k+(M<<23&4294967295|M>>>9),M=T+(E^k^N)+D[1]+2763975236&4294967295,T=E+(M<<4&4294967295|M>>>28),M=N+(T^E^k)+D[4]+1272893353&4294967295,N=T+(M<<11&4294967295|M>>>21),M=k+(N^T^E)+D[7]+4139469664&4294967295,k=N+(M<<16&4294967295|M>>>16),M=E+(k^N^T)+D[10]+3200236656&4294967295,E=k+(M<<23&4294967295|M>>>9),M=T+(E^k^N)+D[13]+681279174&4294967295,T=E+(M<<4&4294967295|M>>>28),M=N+(T^E^k)+D[0]+3936430074&4294967295,N=T+(M<<11&4294967295|M>>>21),M=k+(N^T^E)+D[3]+3572445317&4294967295,k=N+(M<<16&4294967295|M>>>16),M=E+(k^N^T)+D[6]+76029189&4294967295,E=k+(M<<23&4294967295|M>>>9),M=T+(E^k^N)+D[9]+3654602809&4294967295,T=E+(M<<4&4294967295|M>>>28),M=N+(T^E^k)+D[12]+3873151461&4294967295,N=T+(M<<11&4294967295|M>>>21),M=k+(N^T^E)+D[15]+530742520&4294967295,k=N+(M<<16&4294967295|M>>>16),M=E+(k^N^T)+D[2]+3299628645&4294967295,E=k+(M<<23&4294967295|M>>>9),M=T+(k^(E|~N))+D[0]+4096336452&4294967295,T=E+(M<<6&4294967295|M>>>26),M=N+(E^(T|~k))+D[7]+1126891415&4294967295,N=T+(M<<10&4294967295|M>>>22),M=k+(T^(N|~E))+D[14]+2878612391&4294967295,k=N+(M<<15&4294967295|M>>>17),M=E+(N^(k|~T))+D[5]+4237533241&4294967295,E=k+(M<<21&4294967295|M>>>11),M=T+(k^(E|~N))+D[12]+1700485571&4294967295,T=E+(M<<6&4294967295|M>>>26),M=N+(E^(T|~k))+D[3]+2399980690&4294967295,N=T+(M<<10&4294967295|M>>>22),M=k+(T^(N|~E))+D[10]+4293915773&4294967295,k=N+(M<<15&4294967295|M>>>17),M=E+(N^(k|~T))+D[1]+2240044497&4294967295,E=k+(M<<21&4294967295|M>>>11),M=T+(k^(E|~N))+D[8]+1873313359&4294967295,T=E+(M<<6&4294967295|M>>>26),M=N+(E^(T|~k))+D[15]+4264355552&4294967295,N=T+(M<<10&4294967295|M>>>22),M=k+(T^(N|~E))+D[6]+2734768916&4294967295,k=N+(M<<15&4294967295|M>>>17),M=E+(N^(k|~T))+D[13]+1309151649&4294967295,E=k+(M<<21&4294967295|M>>>11),M=T+(k^(E|~N))+D[4]+4149444226&4294967295,T=E+(M<<6&4294967295|M>>>26),M=N+(E^(T|~k))+D[11]+3174756917&4294967295,N=T+(M<<10&4294967295|M>>>22),M=k+(T^(N|~E))+D[2]+718787259&4294967295,k=N+(M<<15&4294967295|M>>>17),M=E+(N^(k|~T))+D[9]+3951481745&4294967295,R.g[0]=R.g[0]+T&4294967295,R.g[1]=R.g[1]+(k+(M<<21&4294967295|M>>>11))&4294967295,R.g[2]=R.g[2]+k&4294967295,R.g[3]=R.g[3]+N&4294967295}i.prototype.u=function(R,T){T===void 0&&(T=R.length);for(var E=T-this.blockSize,D=this.B,k=this.h,N=0;N<T;){if(k==0)for(;N<=E;)r(this,R,N),N+=this.blockSize;if(typeof R=="string"){for(;N<T;)if(D[k++]=R.charCodeAt(N++),k==this.blockSize){r(this,D),k=0;break}}else for(;N<T;)if(D[k++]=R[N++],k==this.blockSize){r(this,D),k=0;break}}this.h=k,this.o+=T},i.prototype.v=function(){var R=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);R[0]=128;for(var T=1;T<R.length-8;++T)R[T]=0;var E=8*this.o;for(T=R.length-8;T<R.length;++T)R[T]=E&255,E/=256;for(this.u(R),R=Array(16),T=E=0;4>T;++T)for(var D=0;32>D;D+=8)R[E++]=this.g[T]>>>D&255;return R};function s(R,T){var E=a;return Object.prototype.hasOwnProperty.call(E,R)?E[R]:E[R]=T(R)}function o(R,T){this.h=T;for(var E=[],D=!0,k=R.length-1;0<=k;k--){var N=R[k]|0;D&&N==T||(E[k]=N,D=!1)}this.g=E}var a={};function l(R){return-128<=R&&128>R?s(R,function(T){return new o([T|0],0>T?-1:0)}):new o([R|0],0>R?-1:0)}function u(R){if(isNaN(R)||!isFinite(R))return h;if(0>R)return x(u(-R));for(var T=[],E=1,D=0;R>=E;D++)T[D]=R/E|0,E*=4294967296;return new o(T,0)}function c(R,T){if(R.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(R.charAt(0)=="-")return x(c(R.substring(1),T));if(0<=R.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=u(Math.pow(T,8)),D=h,k=0;k<R.length;k+=8){var N=Math.min(8,R.length-k),M=parseInt(R.substring(k,k+N),T);8>N?(N=u(Math.pow(T,N)),D=D.j(N).add(u(M))):(D=D.j(E),D=D.add(u(M)))}return D}var h=l(0),p=l(1),f=l(16777216);e=o.prototype,e.m=function(){if(_(this))return-x(this).m();for(var R=0,T=1,E=0;E<this.g.length;E++){var D=this.i(E);R+=(0<=D?D:4294967296+D)*T,T*=4294967296}return R},e.toString=function(R){if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(y(this))return"0";if(_(this))return"-"+x(this).toString(R);for(var T=u(Math.pow(R,6)),E=this,D="";;){var k=P(E,T).g;E=v(E,k.j(T));var N=((0<E.g.length?E.g[0]:E.h)>>>0).toString(R);if(E=k,y(E))return N+D;for(;6>N.length;)N="0"+N;D=N+D}},e.i=function(R){return 0>R?0:R<this.g.length?this.g[R]:this.h};function y(R){if(R.h!=0)return!1;for(var T=0;T<R.g.length;T++)if(R.g[T]!=0)return!1;return!0}function _(R){return R.h==-1}e.l=function(R){return R=v(this,R),_(R)?-1:y(R)?0:1};function x(R){for(var T=R.g.length,E=[],D=0;D<T;D++)E[D]=~R.g[D];return new o(E,~R.h).add(p)}e.abs=function(){return _(this)?x(this):this},e.add=function(R){for(var T=Math.max(this.g.length,R.g.length),E=[],D=0,k=0;k<=T;k++){var N=D+(this.i(k)&65535)+(R.i(k)&65535),M=(N>>>16)+(this.i(k)>>>16)+(R.i(k)>>>16);D=M>>>16,N&=65535,M&=65535,E[k]=M<<16|N}return new o(E,E[E.length-1]&-2147483648?-1:0)};function v(R,T){return R.add(x(T))}e.j=function(R){if(y(this)||y(R))return h;if(_(this))return _(R)?x(this).j(x(R)):x(x(this).j(R));if(_(R))return x(this.j(x(R)));if(0>this.l(f)&&0>R.l(f))return u(this.m()*R.m());for(var T=this.g.length+R.g.length,E=[],D=0;D<2*T;D++)E[D]=0;for(D=0;D<this.g.length;D++)for(var k=0;k<R.g.length;k++){var N=this.i(D)>>>16,M=this.i(D)&65535,H=R.i(k)>>>16,rt=R.i(k)&65535;E[2*D+2*k]+=M*rt,A(E,2*D+2*k),E[2*D+2*k+1]+=N*rt,A(E,2*D+2*k+1),E[2*D+2*k+1]+=M*H,A(E,2*D+2*k+1),E[2*D+2*k+2]+=N*H,A(E,2*D+2*k+2)}for(D=0;D<T;D++)E[D]=E[2*D+1]<<16|E[2*D];for(D=T;D<2*T;D++)E[D]=0;return new o(E,0)};function A(R,T){for(;(R[T]&65535)!=R[T];)R[T+1]+=R[T]>>>16,R[T]&=65535,T++}function I(R,T){this.g=R,this.h=T}function P(R,T){if(y(T))throw Error("division by zero");if(y(R))return new I(h,h);if(_(R))return T=P(x(R),T),new I(x(T.g),x(T.h));if(_(T))return T=P(R,x(T)),new I(x(T.g),T.h);if(30<R.g.length){if(_(R)||_(T))throw Error("slowDivide_ only works with positive integers.");for(var E=p,D=T;0>=D.l(R);)E=F(E),D=F(D);var k=G(E,1),N=G(D,1);for(D=G(D,2),E=G(E,2);!y(D);){var M=N.add(D);0>=M.l(R)&&(k=k.add(E),N=M),D=G(D,1),E=G(E,1)}return T=v(R,k.j(T)),new I(k,T)}for(k=h;0<=R.l(T);){for(E=Math.max(1,Math.floor(R.m()/T.m())),D=Math.ceil(Math.log(E)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),N=u(E),M=N.j(T);_(M)||0<M.l(R);)E-=D,N=u(E),M=N.j(T);y(N)&&(N=p),k=k.add(N),R=v(R,M)}return new I(k,R)}e.A=function(R){return P(this,R).h},e.and=function(R){for(var T=Math.max(this.g.length,R.g.length),E=[],D=0;D<T;D++)E[D]=this.i(D)&R.i(D);return new o(E,this.h&R.h)},e.or=function(R){for(var T=Math.max(this.g.length,R.g.length),E=[],D=0;D<T;D++)E[D]=this.i(D)|R.i(D);return new o(E,this.h|R.h)},e.xor=function(R){for(var T=Math.max(this.g.length,R.g.length),E=[],D=0;D<T;D++)E[D]=this.i(D)^R.i(D);return new o(E,this.h^R.h)};function F(R){for(var T=R.g.length+1,E=[],D=0;D<T;D++)E[D]=R.i(D)<<1|R.i(D-1)>>>31;return new o(E,R.h)}function G(R,T){var E=T>>5;T%=32;for(var D=R.g.length-E,k=[],N=0;N<D;N++)k[N]=0<T?R.i(N+E)>>>T|R.i(N+E+1)<<32-T:R.i(N+E);return new o(k,R.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,H6=i,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=c,Xu=o}).apply(typeof sk<"u"?sk:typeof self<"u"?self:typeof window<"u"?window:{});var Qg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $6,ad,G6,Dm,C5,K6,Y6,X6;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(g,S,L){return g==Array.prototype||g==Object.prototype||(g[S]=L.value),g};function n(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof Qg=="object"&&Qg];for(var S=0;S<g.length;++S){var L=g[S];if(L&&L.Math==Math)return L}throw Error("Cannot find global object")}var i=n(this);function r(g,S){if(S)t:{var L=i;g=g.split(".");for(var q=0;q<g.length-1;q++){var ht=g[q];if(!(ht in L))break t;L=L[ht]}g=g[g.length-1],q=L[g],S=S(q),S!=q&&S!=null&&t(L,g,{configurable:!0,writable:!0,value:S})}}function s(g,S){g instanceof String&&(g+="");var L=0,q=!1,ht={next:function(){if(!q&&L<g.length){var mt=L++;return{value:S(mt,g[mt]),done:!1}}return q=!0,{done:!0,value:void 0}}};return ht[Symbol.iterator]=function(){return ht},ht}r("Array.prototype.values",function(g){return g||function(){return s(this,function(S,L){return L})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(g){var S=typeof g;return S=S!="object"?S:g?Array.isArray(g)?"array":S:"null",S=="array"||S=="object"&&typeof g.length=="number"}function u(g){var S=typeof g;return S=="object"&&g!=null||S=="function"}function c(g,S,L){return g.call.apply(g.bind,arguments)}function h(g,S,L){if(!g)throw Error();if(2<arguments.length){var q=Array.prototype.slice.call(arguments,2);return function(){var ht=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ht,q),g.apply(S,ht)}}return function(){return g.apply(S,arguments)}}function p(g,S,L){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:h,p.apply(null,arguments)}function f(g,S){var L=Array.prototype.slice.call(arguments,1);return function(){var q=L.slice();return q.push.apply(q,arguments),g.apply(this,q)}}function y(g,S){function L(){}L.prototype=S.prototype,g.aa=S.prototype,g.prototype=new L,g.prototype.constructor=g,g.Qb=function(q,ht,mt){for(var Ot=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)Ot[ze-2]=arguments[ze];return S.prototype[ht].apply(q,Ot)}}function _(g){const S=g.length;if(0<S){const L=Array(S);for(let q=0;q<S;q++)L[q]=g[q];return L}return[]}function x(g,S){for(let L=1;L<arguments.length;L++){const q=arguments[L];if(l(q)){const ht=g.length||0,mt=q.length||0;g.length=ht+mt;for(let Ot=0;Ot<mt;Ot++)g[ht+Ot]=q[Ot]}else g.push(q)}}class v{constructor(S,L){this.i=S,this.j=L,this.h=0,this.g=null}get(){let S;return 0<this.h?(this.h--,S=this.g,this.g=S.next,S.next=null):S=this.i(),S}}function A(g){return/^[\s\xa0]*$/.test(g)}function I(){var g=a.navigator;return g&&(g=g.userAgent)?g:""}function P(g){return P[" "](g),g}P[" "]=function(){};var F=I().indexOf("Gecko")!=-1&&!(I().toLowerCase().indexOf("webkit")!=-1&&I().indexOf("Edge")==-1)&&!(I().indexOf("Trident")!=-1||I().indexOf("MSIE")!=-1)&&I().indexOf("Edge")==-1;function G(g,S,L){for(const q in g)S.call(L,g[q],q,g)}function R(g,S){for(const L in g)S.call(void 0,g[L],L,g)}function T(g){const S={};for(const L in g)S[L]=g[L];return S}const E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(g,S){let L,q;for(let ht=1;ht<arguments.length;ht++){q=arguments[ht];for(L in q)g[L]=q[L];for(let mt=0;mt<E.length;mt++)L=E[mt],Object.prototype.hasOwnProperty.call(q,L)&&(g[L]=q[L])}}function k(g){var S=1;g=g.split(":");const L=[];for(;0<S&&g.length;)L.push(g.shift()),S--;return g.length&&L.push(g.join(":")),L}function N(g){a.setTimeout(()=>{throw g},0)}function M(){var g=at;let S=null;return g.g&&(S=g.g,g.g=g.g.next,g.g||(g.h=null),S.next=null),S}class H{constructor(){this.h=this.g=null}add(S,L){const q=rt.get();q.set(S,L),this.h?this.h.next=q:this.g=q,this.h=q}}var rt=new v(()=>new ut,g=>g.reset());class ut{constructor(){this.next=this.g=this.h=null}set(S,L){this.h=S,this.g=L,this.next=null}reset(){this.next=this.g=this.h=null}}let ot,tt=!1,at=new H,vt=()=>{const g=a.Promise.resolve(void 0);ot=()=>{g.then(_t)}};var _t=()=>{for(var g;g=M();){try{g.h.call(g.g)}catch(L){N(L)}var S=rt;S.j(g),100>S.h&&(S.h++,g.next=S.g,S.g=g)}tt=!1};function B(){this.s=this.s,this.C=this.C}B.prototype.s=!1,B.prototype.ma=function(){this.s||(this.s=!0,this.N())},B.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Y(g,S){this.type=g,this.g=this.target=S,this.defaultPrevented=!1}Y.prototype.h=function(){this.defaultPrevented=!0};var et=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var g=!1,S=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const L=()=>{};a.addEventListener("test",L,S),a.removeEventListener("test",L,S)}catch{}return g}();function Z(g,S){if(Y.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g){var L=this.type=g.type,q=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;if(this.target=g.target||g.srcElement,this.g=S,S=g.relatedTarget){if(F){t:{try{P(S.nodeName);var ht=!0;break t}catch{}ht=!1}ht||(S=null)}}else L=="mouseover"?S=g.fromElement:L=="mouseout"&&(S=g.toElement);this.relatedTarget=S,q?(this.clientX=q.clientX!==void 0?q.clientX:q.pageX,this.clientY=q.clientY!==void 0?q.clientY:q.pageY,this.screenX=q.screenX||0,this.screenY=q.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=typeof g.pointerType=="string"?g.pointerType:nt[g.pointerType]||"",this.state=g.state,this.i=g,g.defaultPrevented&&Z.aa.h.call(this)}}y(Z,Y);var nt={2:"touch",3:"pen",4:"mouse"};Z.prototype.h=function(){Z.aa.h.call(this);var g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var ft="closure_listenable_"+(1e6*Math.random()|0),yt=0;function wt(g,S,L,q,ht){this.listener=g,this.proxy=null,this.src=S,this.type=L,this.capture=!!q,this.ha=ht,this.key=++yt,this.da=this.fa=!1}function At(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function Lt(g){this.src=g,this.g={},this.h=0}Lt.prototype.add=function(g,S,L,q,ht){var mt=g.toString();g=this.g[mt],g||(g=this.g[mt]=[],this.h++);var Ot=Vt(g,S,q,ht);return-1<Ot?(S=g[Ot],L||(S.fa=!1)):(S=new wt(S,this.src,mt,!!q,ht),S.fa=L,g.push(S)),S};function Bt(g,S){var L=S.type;if(L in g.g){var q=g.g[L],ht=Array.prototype.indexOf.call(q,S,void 0),mt;(mt=0<=ht)&&Array.prototype.splice.call(q,ht,1),mt&&(At(S),g.g[L].length==0&&(delete g.g[L],g.h--))}}function Vt(g,S,L,q){for(var ht=0;ht<g.length;++ht){var mt=g[ht];if(!mt.da&&mt.listener==S&&mt.capture==!!L&&mt.ha==q)return ht}return-1}var Zt="closure_lm_"+(1e6*Math.random()|0),K={};function jt(g,S,L,q,ht){if(Array.isArray(S)){for(var mt=0;mt<S.length;mt++)jt(g,S[mt],L,q,ht);return null}return L=Re(L),g&&g[ft]?g.K(S,L,u(q)?!!q.capture:!1,ht):Ee(g,S,L,!1,q,ht)}function Ee(g,S,L,q,ht,mt){if(!S)throw Error("Invalid event type");var Ot=u(ht)?!!ht.capture:!!ht,ze=ne(g);if(ze||(g[Zt]=ze=new Lt(g)),L=ze.add(S,L,q,Ot,mt),L.proxy)return L;if(q=ue(),L.proxy=q,q.src=g,q.listener=L,g.addEventListener)et||(ht=Ot),ht===void 0&&(ht=!1),g.addEventListener(S.toString(),q,ht);else if(g.attachEvent)g.attachEvent(zt(S.toString()),q);else if(g.addListener&&g.removeListener)g.addListener(q);else throw Error("addEventListener and attachEvent are unavailable.");return L}function ue(){function g(L){return S.call(g.src,g.listener,L)}const S=ae;return g}function Ct(g,S,L,q,ht){if(Array.isArray(S))for(var mt=0;mt<S.length;mt++)Ct(g,S[mt],L,q,ht);else q=u(q)?!!q.capture:!!q,L=Re(L),g&&g[ft]?(g=g.i,S=String(S).toString(),S in g.g&&(mt=g.g[S],L=Vt(mt,L,q,ht),-1<L&&(At(mt[L]),Array.prototype.splice.call(mt,L,1),mt.length==0&&(delete g.g[S],g.h--)))):g&&(g=ne(g))&&(S=g.g[S.toString()],g=-1,S&&(g=Vt(S,L,q,ht)),(L=-1<g?S[g]:null)&&re(L))}function re(g){if(typeof g!="number"&&g&&!g.da){var S=g.src;if(S&&S[ft])Bt(S.i,g);else{var L=g.type,q=g.proxy;S.removeEventListener?S.removeEventListener(L,q,g.capture):S.detachEvent?S.detachEvent(zt(L),q):S.addListener&&S.removeListener&&S.removeListener(q),(L=ne(S))?(Bt(L,g),L.h==0&&(L.src=null,S[Zt]=null)):At(g)}}}function zt(g){return g in K?K[g]:K[g]="on"+g}function ae(g,S){if(g.da)g=!0;else{S=new Z(S,this);var L=g.listener,q=g.ha||g.src;g.fa&&re(g),g=L.call(q,S)}return g}function ne(g){return g=g[Zt],g instanceof Lt?g:null}var He="__closure_events_fn_"+(1e9*Math.random()>>>0);function Re(g){return typeof g=="function"?g:(g[He]||(g[He]=function(S){return g.handleEvent(S)}),g[He])}function Jt(){B.call(this),this.i=new Lt(this),this.M=this,this.F=null}y(Jt,B),Jt.prototype[ft]=!0,Jt.prototype.removeEventListener=function(g,S,L,q){Ct(this,g,S,L,q)};function de(g,S){var L,q=g.F;if(q)for(L=[];q;q=q.F)L.push(q);if(g=g.M,q=S.type||S,typeof S=="string")S=new Y(S,g);else if(S instanceof Y)S.target=S.target||g;else{var ht=S;S=new Y(q,g),D(S,ht)}if(ht=!0,L)for(var mt=L.length-1;0<=mt;mt--){var Ot=S.g=L[mt];ht=Ce(Ot,q,!0,S)&&ht}if(Ot=S.g=g,ht=Ce(Ot,q,!0,S)&&ht,ht=Ce(Ot,q,!1,S)&&ht,L)for(mt=0;mt<L.length;mt++)Ot=S.g=L[mt],ht=Ce(Ot,q,!1,S)&&ht}Jt.prototype.N=function(){if(Jt.aa.N.call(this),this.i){var g=this.i,S;for(S in g.g){for(var L=g.g[S],q=0;q<L.length;q++)At(L[q]);delete g.g[S],g.h--}}this.F=null},Jt.prototype.K=function(g,S,L,q){return this.i.add(String(g),S,!1,L,q)},Jt.prototype.L=function(g,S,L,q){return this.i.add(String(g),S,!0,L,q)};function Ce(g,S,L,q){if(S=g.i.g[String(S)],!S)return!0;S=S.concat();for(var ht=!0,mt=0;mt<S.length;++mt){var Ot=S[mt];if(Ot&&!Ot.da&&Ot.capture==L){var ze=Ot.listener,Wn=Ot.ha||Ot.src;Ot.fa&&Bt(g.i,Ot),ht=ze.call(Wn,q)!==!1&&ht}}return ht&&!q.defaultPrevented}function Gt(g,S,L){if(typeof g=="function")L&&(g=p(g,L));else if(g&&typeof g.handleEvent=="function")g=p(g.handleEvent,g);else throw Error("Invalid listener argument");return 2147483647<Number(S)?-1:a.setTimeout(g,S||0)}function xe(g){g.g=Gt(()=>{g.g=null,g.i&&(g.i=!1,xe(g))},g.l);const S=g.h;g.h=null,g.m.apply(null,S)}class te extends B{constructor(S,L){super(),this.m=S,this.l=L,this.h=null,this.i=!1,this.g=null}j(S){this.h=arguments,this.g?this.i=!0:xe(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function yn(g){B.call(this),this.h=g,this.g={}}y(yn,B);var je=[];function Pe(g){G(g.g,function(S,L){this.g.hasOwnProperty(L)&&re(S)},g),g.g={}}yn.prototype.N=function(){yn.aa.N.call(this),Pe(this)},yn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Te=a.JSON.stringify,Sn=a.JSON.parse,se=class{stringify(g){return a.JSON.stringify(g,void 0)}parse(g){return a.JSON.parse(g,void 0)}};function sn(){}sn.prototype.h=null;function he(g){return g.h||(g.h=g.i())}function _e(){}var on={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ie(){Y.call(this,"d")}y(Ie,Y);function le(){Y.call(this,"c")}y(le,Y);var De={},vo=null;function ii(){return vo=vo||new Jt}De.La="serverreachability";function vs(g){Y.call(this,De.La,g)}y(vs,Y);function tr(g){const S=ii();de(S,new vs(S))}De.STAT_EVENT="statevent";function ce(g,S){Y.call(this,De.STAT_EVENT,g),this.stat=S}y(ce,Y);function En(g){const S=ii();de(S,new ce(S,g))}De.Ma="timingevent";function _s(g,S){Y.call(this,De.Ma,g),this.size=S}y(_s,Y);function Ni(g,S){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){g()},S)}function Li(){this.g=!0}Li.prototype.xa=function(){this.g=!1};function Mn(g,S,L,q,ht,mt){g.info(function(){if(g.g)if(mt)for(var Ot="",ze=mt.split("&"),Wn=0;Wn<ze.length;Wn++){var Oe=ze[Wn].split("=");if(1<Oe.length){var tn=Oe[0];Oe=Oe[1];var An=tn.split("_");Ot=2<=An.length&&An[1]=="type"?Ot+(tn+"="+Oe+"&"):Ot+(tn+"=redacted&")}}else Ot=null;else Ot=mt;return"XMLHTTP REQ ("+q+") [attempt "+ht+"]: "+S+`
`+L+`
`+Ot})}function mi(g,S,L,q,ht,mt,Ot){g.info(function(){return"XMLHTTP RESP ("+q+") [ attempt "+ht+"]: "+S+`
`+L+`
`+mt+" "+Ot})}function Dn(g,S,L,q){g.info(function(){return"XMLHTTP TEXT ("+S+"): "+_o(g,L)+(q?" "+q:"")})}function Xo(g,S){g.info(function(){return"TIMEOUT: "+S})}Li.prototype.info=function(){};function _o(g,S){if(!g.g)return S;if(!S)return null;try{var L=JSON.parse(S);if(L){for(g=0;g<L.length;g++)if(Array.isArray(L[g])){var q=L[g];if(!(2>q.length)){var ht=q[1];if(Array.isArray(ht)&&!(1>ht.length)){var mt=ht[0];if(mt!="noop"&&mt!="stop"&&mt!="close")for(var Ot=1;Ot<ht.length;Ot++)ht[Ot]=""}}}}return Te(L)}catch{return S}}var er={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Gr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},xr;function nr(){}y(nr,sn),nr.prototype.g=function(){return new XMLHttpRequest},nr.prototype.i=function(){return{}},xr=new nr;function ri(g,S,L,q){this.j=g,this.i=S,this.l=L,this.R=q||1,this.U=new yn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new wo}function wo(){this.i=null,this.g="",this.h=!1}var Kr={},Ks={};function bo(g,S,L){g.L=1,g.v=ea(bi(S)),g.m=L,g.P=!0,Qo(g,null)}function Qo(g,S){g.F=Date.now(),xo(g),g.A=bi(g.v);var L=g.A,q=g.R;Array.isArray(q)||(q=[String(q)]),Ec(L.i,"t",q),g.C=0,L=g.j.J,g.h=new wo,g.g=Yn(g.j,L?S:null,!g.m),0<g.O&&(g.M=new te(p(g.Y,g,g.g),g.O)),S=g.U,L=g.g,q=g.ca;var ht="readystatechange";Array.isArray(ht)||(ht&&(je[0]=ht.toString()),ht=je);for(var mt=0;mt<ht.length;mt++){var Ot=jt(L,ht[mt],q||S.handleEvent,!1,S.h||S);if(!Ot)break;S.g[Ot.key]=Ot}S=g.H?T(g.H):{},g.m?(g.u||(g.u="POST"),S["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.A,g.u,g.m,S)):(g.u="GET",g.g.ea(g.A,g.u,null,S)),tr(),Mn(g.i,g.u,g.A,g.l,g.R,g.m)}ri.prototype.ca=function(g){g=g.target;const S=this.M;S&&Sr(g)==3?S.j():this.Y(g)},ri.prototype.Y=function(g){try{if(g==this.g)t:{const An=Sr(this.g);var S=this.g.Ba();const Qr=this.g.Z();if(!(3>An)&&(An!=3||this.g&&(this.h.h||this.g.oa()||vu(this.g)))){this.J||An!=4||S==7||(S==8||0>=Qr?tr(3):tr(2)),Ga(this);var L=this.g.Z();this.X=L;e:if(Jo(this)){var q=vu(this.g);g="";var ht=q.length,mt=Sr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Yr(this),Ri(this);var Ot="";break e}this.h.i=new a.TextDecoder}for(S=0;S<ht;S++)this.h.h=!0,g+=this.h.i.decode(q[S],{stream:!(mt&&S==ht-1)});q.length=0,this.h.g+=g,this.C=0,Ot=this.h.g}else Ot=this.g.oa();if(this.o=L==200,mi(this.i,this.u,this.A,this.l,this.R,An,L),this.o){if(this.T&&!this.K){e:{if(this.g){var ze,Wn=this.g;if((ze=Wn.g?Wn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(ze)){var Oe=ze;break e}}Oe=null}if(L=Oe)Dn(this.i,this.l,L,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ka(this,L);else{this.o=!1,this.s=3,En(12),Yr(this),Ri(this);break t}}if(this.P){L=!0;let ir;for(;!this.J&&this.C<Ot.length;)if(ir=hf(this,Ot),ir==Ks){An==4&&(this.s=4,En(14),L=!1),Dn(this.i,this.l,null,"[Incomplete Response]");break}else if(ir==Kr){this.s=4,En(15),Dn(this.i,this.l,Ot,"[Invalid Chunk]"),L=!1;break}else Dn(this.i,this.l,ir,null),Ka(this,ir);if(Jo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),An!=4||Ot.length!=0||this.h.h||(this.s=1,En(16),L=!1),this.o=this.o&&L,!L)Dn(this.i,this.l,Ot,"[Invalid Chunked Response]"),Yr(this),Ri(this);else if(0<Ot.length&&!this.W){this.W=!0;var tn=this.j;tn.g==this&&tn.ba&&!tn.M&&(tn.j.info("Great, no buffering proxy detected. Bytes received: "+Ot.length),Wt(tn),tn.M=!0,En(11))}}else Dn(this.i,this.l,Ot,null),Ka(this,Ot);An==4&&Yr(this),this.o&&!this.J&&(An==4?Se(this.j,this):(this.o=!1,xo(this)))}else Ic(this.g),L==400&&0<Ot.indexOf("Unknown SID")?(this.s=3,En(12)):(this.s=0,En(13)),Yr(this),Ri(this)}}}catch{}finally{}};function Jo(g){return g.g?g.u=="GET"&&g.L!=2&&g.j.Ca:!1}function hf(g,S){var L=g.C,q=S.indexOf(`
`,L);return q==-1?Ks:(L=Number(S.substring(L,q)),isNaN(L)?Kr:(q+=1,q+L>S.length?Ks:(S=S.slice(q,q+L),g.C=q+L,S)))}ri.prototype.cancel=function(){this.J=!0,Yr(this)};function xo(g){g.S=Date.now()+g.I,uu(g,g.I)}function uu(g,S){if(g.B!=null)throw Error("WatchDog timer not null");g.B=Ni(p(g.ba,g),S)}function Ga(g){g.B&&(a.clearTimeout(g.B),g.B=null)}ri.prototype.ba=function(){this.B=null;const g=Date.now();0<=g-this.S?(Xo(this.i,this.A),this.L!=2&&(tr(),En(17)),Yr(this),this.s=2,Ri(this)):uu(this,this.S-g)};function Ri(g){g.j.G==0||g.J||Se(g.j,g)}function Yr(g){Ga(g);var S=g.M;S&&typeof S.ma=="function"&&S.ma(),g.M=null,Pe(g.U),g.g&&(S=g.g,g.g=null,S.abort(),S.ma())}function Ka(g,S){try{var L=g.j;if(L.G!=0&&(L.g==g||Mr(L.h,g))){if(!g.K&&Mr(L.h,g)&&L.G==3){try{var q=L.Da.g.parse(S)}catch{q=null}if(Array.isArray(q)&&q.length==3){var ht=q;if(ht[0]==0){t:if(!L.u){if(L.g)if(L.g.F+3e3<g.F)pe(L),ks(L);else break t;Pt(L),En(18)}}else L.za=ht[1],0<L.za-L.T&&37500>ht[2]&&L.F&&L.v==0&&!L.C&&(L.C=Ni(p(L.Za,L),6e3));if(1>=du(L.h)&&L.ca){try{L.ca()}catch{}L.ca=void 0}}else rn(L,11)}else if((g.K||L.g==g)&&pe(L),!A(S))for(ht=L.Da.g.parse(S),S=0;S<ht.length;S++){let Oe=ht[S];if(L.T=Oe[0],Oe=Oe[1],L.G==2)if(Oe[0]=="c"){L.K=Oe[1],L.ia=Oe[2];const tn=Oe[3];tn!=null&&(L.la=tn,L.j.info("VER="+L.la));const An=Oe[4];An!=null&&(L.Aa=An,L.j.info("SVER="+L.Aa));const Qr=Oe[5];Qr!=null&&typeof Qr=="number"&&0<Qr&&(q=1.5*Qr,L.L=q,L.j.info("backChannelRequestTimeoutMs_="+q)),q=L;const ir=g.g;if(ir){const Ui=ir.g?ir.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ui){var mt=q.h;mt.g||Ui.indexOf("spdy")==-1&&Ui.indexOf("quic")==-1&&Ui.indexOf("h2")==-1||(mt.j=mt.l,mt.g=new Set,mt.h&&(So(mt,mt.h),mt.h=null))}if(q.D){const Qs=ir.g?ir.g.getResponseHeader("X-HTTP-Session-Id"):null;Qs&&(q.ya=Qs,Ve(q.I,q.D,Qs))}}L.G=3,L.l&&L.l.ua(),L.ba&&(L.R=Date.now()-g.F,L.j.info("Handshake RTT: "+L.R+"ms")),q=L;var Ot=g;if(q.qa=un(q,q.J?q.ia:null,q.W),Ot.K){xc(q.h,Ot);var ze=Ot,Wn=q.L;Wn&&(ze.I=Wn),ze.B&&(Ga(ze),xo(ze)),q.g=Ot}else xt(q);0<L.i.length&&w(L)}else Oe[0]!="stop"&&Oe[0]!="close"||rn(L,7);else L.G==3&&(Oe[0]=="stop"||Oe[0]=="close"?Oe[0]=="stop"?rn(L,7):tl(L):Oe[0]!="noop"&&L.l&&L.l.ta(Oe),L.v=0)}}tr(4)}catch{}}var cu=class{constructor(g,S){this.g=g,this.map=S}};function hu(g){this.l=g||10,a.PerformanceNavigationTiming?(g=a.performance.getEntriesByType("navigation"),g=0<g.length&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function fu(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function du(g){return g.h?1:g.g?g.g.size:0}function Mr(g,S){return g.h?g.h==S:g.g?g.g.has(S):!1}function So(g,S){g.g?g.g.add(S):g.h=S}function xc(g,S){g.h&&g.h==S?g.h=null:g.g&&g.g.has(S)&&g.g.delete(S)}hu.prototype.cancel=function(){if(this.i=Vn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function Vn(g){if(g.h!=null)return g.i.concat(g.h.D);if(g.g!=null&&g.g.size!==0){let S=g.i;for(const L of g.g.values())S=S.concat(L.D);return S}return _(g.i)}function Sc(g){if(g.V&&typeof g.V=="function")return g.V();if(typeof Map<"u"&&g instanceof Map||typeof Set<"u"&&g instanceof Set)return Array.from(g.values());if(typeof g=="string")return g.split("");if(l(g)){for(var S=[],L=g.length,q=0;q<L;q++)S.push(g[q]);return S}S=[],L=0;for(q in g)S[L++]=g[q];return S}function ws(g){if(g.na&&typeof g.na=="function")return g.na();if(!g.V||typeof g.V!="function"){if(typeof Map<"u"&&g instanceof Map)return Array.from(g.keys());if(!(typeof Set<"u"&&g instanceof Set)){if(l(g)||typeof g=="string"){var S=[];g=g.length;for(var L=0;L<g;L++)S.push(L);return S}S=[],L=0;for(const q in g)S[L++]=q;return S}}}function Zo(g,S){if(g.forEach&&typeof g.forEach=="function")g.forEach(S,void 0);else if(l(g)||typeof g=="string")Array.prototype.forEach.call(g,S,void 0);else for(var L=ws(g),q=Sc(g),ht=q.length,mt=0;mt<ht;mt++)S.call(void 0,q[mt],L&&L[mt],g)}var pu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Dr(g,S){if(g){g=g.split("&");for(var L=0;L<g.length;L++){var q=g[L].indexOf("="),ht=null;if(0<=q){var mt=g[L].substring(0,q);ht=g[L].substring(q+1)}else mt=g[L];S(mt,ht?decodeURIComponent(ht.replace(/\+/g," ")):"")}}}function vn(g){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,g instanceof vn){this.h=g.h,ta(this,g.j),this.o=g.o,this.g=g.g,Ya(this,g.s),this.l=g.l;var S=g.i,L=new Bi;L.i=S.i,S.g&&(L.g=new Map(S.g),L.h=S.h),Ac(this,L),this.m=g.m}else g&&(S=String(g).match(pu))?(this.h=!1,ta(this,S[1]||"",!0),this.o=Ao(S[2]||""),this.g=Ao(S[3]||"",!0),Ya(this,S[4]),this.l=Ao(S[5]||"",!0),Ac(this,S[6]||"",!0),this.m=Ao(S[7]||"")):(this.h=!1,this.i=new Bi(null,this.h))}vn.prototype.toString=function(){var g=[],S=this.j;S&&g.push(bs(S,Tc,!0),":");var L=this.g;return(L||S=="file")&&(g.push("//"),(S=this.o)&&g.push(bs(S,Tc,!0),"@"),g.push(encodeURIComponent(String(L)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),L=this.s,L!=null&&g.push(":",String(L))),(L=this.l)&&(this.g&&L.charAt(0)!="/"&&g.push("/"),g.push(bs(L,L.charAt(0)=="/"?df:ff,!0))),(L=this.i.toString())&&g.push("?",L),(L=this.m)&&g.push("#",bs(L,kc)),g.join("")};function bi(g){return new vn(g)}function ta(g,S,L){g.j=L?Ao(S,!0):S,g.j&&(g.j=g.j.replace(/:$/,""))}function Ya(g,S){if(S){if(S=Number(S),isNaN(S)||0>S)throw Error("Bad port number "+S);g.s=S}else g.s=null}function Ac(g,S,L){S instanceof Bi?(g.i=S,pf(g.i,g.h)):(L||(S=bs(S,gu)),g.i=new Bi(S,g.h))}function Ve(g,S,L){g.i.set(S,L)}function ea(g){return Ve(g,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),g}function Ao(g,S){return g?S?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function bs(g,S,L){return typeof g=="string"?(g=encodeURI(g).replace(S,na),L&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function na(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var Tc=/[#\/\?@]/g,ff=/[#\?:]/g,df=/[#\?]/g,gu=/[#\?@]/g,kc=/#/g;function Bi(g,S){this.h=this.g=null,this.i=g||null,this.j=!!S}function xs(g){g.g||(g.g=new Map,g.h=0,g.i&&Dr(g.i,function(S,L){g.add(decodeURIComponent(S.replace(/\+/g," ")),L)}))}e=Bi.prototype,e.add=function(g,S){xs(this),this.i=null,g=fe(this,g);var L=this.g.get(g);return L||this.g.set(g,L=[]),L.push(S),this.h+=1,this};function To(g,S){xs(g),S=fe(g,S),g.g.has(S)&&(g.i=null,g.h-=g.g.get(S).length,g.g.delete(S))}function Xa(g,S){return xs(g),S=fe(g,S),g.g.has(S)}e.forEach=function(g,S){xs(this),this.g.forEach(function(L,q){L.forEach(function(ht){g.call(S,ht,q,this)},this)},this)},e.na=function(){xs(this);const g=Array.from(this.g.values()),S=Array.from(this.g.keys()),L=[];for(let q=0;q<S.length;q++){const ht=g[q];for(let mt=0;mt<ht.length;mt++)L.push(S[q])}return L},e.V=function(g){xs(this);let S=[];if(typeof g=="string")Xa(this,g)&&(S=S.concat(this.g.get(fe(this,g))));else{g=Array.from(this.g.values());for(let L=0;L<g.length;L++)S=S.concat(g[L])}return S},e.set=function(g,S){return xs(this),this.i=null,g=fe(this,g),Xa(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[S]),this.h+=1,this},e.get=function(g,S){return g?(g=this.V(g),0<g.length?String(g[0]):S):S};function Ec(g,S,L){To(g,S),0<L.length&&(g.i=null,g.g.set(fe(g,S),_(L)),g.h+=L.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],S=Array.from(this.g.keys());for(var L=0;L<S.length;L++){var q=S[L];const mt=encodeURIComponent(String(q)),Ot=this.V(q);for(q=0;q<Ot.length;q++){var ht=mt;Ot[q]!==""&&(ht+="="+encodeURIComponent(String(Ot[q]))),g.push(ht)}}return this.i=g.join("&")};function fe(g,S){return S=String(S),g.j&&(S=S.toLowerCase()),S}function pf(g,S){S&&!g.j&&(xs(g),g.i=null,g.g.forEach(function(L,q){var ht=q.toLowerCase();q!=ht&&(To(this,q),Ec(this,ht,L))},g)),g.j=S}function gf(g,S){const L=new Li;if(a.Image){const q=new Image;q.onload=f(Mi,L,"TestLoadImage: loaded",!0,S,q),q.onerror=f(Mi,L,"TestLoadImage: error",!1,S,q),q.onabort=f(Mi,L,"TestLoadImage: abort",!1,S,q),q.ontimeout=f(Mi,L,"TestLoadImage: timeout",!1,S,q),a.setTimeout(function(){q.ontimeout&&q.ontimeout()},1e4),q.src=g}else S(!1)}function mf(g,S){const L=new Li,q=new AbortController,ht=setTimeout(()=>{q.abort(),Mi(L,"TestPingServer: timeout",!1,S)},1e4);fetch(g,{signal:q.signal}).then(mt=>{clearTimeout(ht),mt.ok?Mi(L,"TestPingServer: ok",!0,S):Mi(L,"TestPingServer: server error",!1,S)}).catch(()=>{clearTimeout(ht),Mi(L,"TestPingServer: error",!1,S)})}function Mi(g,S,L,q,ht){try{ht&&(ht.onload=null,ht.onerror=null,ht.onabort=null,ht.ontimeout=null),q(L)}catch{}}function Ys(){this.g=new se}function yf(g,S,L){const q=L||"";try{Zo(g,function(ht,mt){let Ot=ht;u(ht)&&(Ot=Te(ht)),S.push(q+mt+"="+encodeURIComponent(Ot))})}catch(ht){throw S.push(q+"type="+encodeURIComponent("_badmap")),ht}}function Qa(g){this.l=g.Ub||null,this.j=g.eb||!1}y(Qa,sn),Qa.prototype.g=function(){return new Xs(this.l,this.j)},Qa.prototype.i=function(g){return function(){return g}}({});function Xs(g,S){Jt.call(this),this.D=g,this.o=S,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}y(Xs,Jt),e=Xs.prototype,e.open=function(g,S){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=g,this.A=S,this.readyState=1,ia(this)},e.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const S={headers:this.u,method:this.B,credentials:this.m,cache:void 0};g&&(S.body=g),(this.D||a).fetch(new Request(this.A,S)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Xr(this)),this.readyState=0},e.Sa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,ia(this)),this.g&&(this.readyState=3,ia(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ja(this)}else g.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ja(g){g.j.read().then(g.Pa.bind(g)).catch(g.ga.bind(g))}e.Pa=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var S=g.value?g.value:new Uint8Array(0);(S=this.v.decode(S,{stream:!g.done}))&&(this.response=this.responseText+=S)}g.done?Xr(this):ia(this),this.readyState==3&&Ja(this)}},e.Ra=function(g){this.g&&(this.response=this.responseText=g,Xr(this))},e.Qa=function(g){this.g&&(this.response=g,Xr(this))},e.ga=function(){this.g&&Xr(this)};function Xr(g){g.readyState=4,g.l=null,g.j=null,g.v=null,ia(g)}e.setRequestHeader=function(g,S){this.u.append(g,S)},e.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],S=this.h.entries();for(var L=S.next();!L.done;)L=L.value,g.push(L[0]+": "+L[1]),L=S.next();return g.join(`\r
`)};function ia(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(Xs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function Ss(g){let S="";return G(g,function(L,q){S+=q,S+=":",S+=L,S+=`\r
`}),S}function mu(g,S,L){t:{for(q in L){var q=!1;break t}q=!0}q||(L=Ss(L),typeof g=="string"?L!=null&&encodeURIComponent(String(L)):Ve(g,S,L))}function mn(g){Jt.call(this),this.headers=new Map,this.o=g||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}y(mn,Jt);var yu=/^https?$/i,Pc=["POST","PUT"];e=mn.prototype,e.Ha=function(g){this.J=g},e.ea=function(g,S,L,q){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);S=S?S.toUpperCase():"GET",this.D=g,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():xr.g(),this.v=this.o?he(this.o):he(xr),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(S,String(g),!0),this.B=!1}catch(mt){As(this,mt);return}if(g=L||"",L=new Map(this.headers),q)if(Object.getPrototypeOf(q)===Object.prototype)for(var ht in q)L.set(ht,q[ht]);else if(typeof q.keys=="function"&&typeof q.get=="function")for(const mt of q.keys())L.set(mt,q.get(mt));else throw Error("Unknown input type for opt_headers: "+String(q));q=Array.from(L.keys()).find(mt=>mt.toLowerCase()=="content-type"),ht=a.FormData&&g instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Pc,S,void 0))||q||ht||L.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[mt,Ot]of L)this.g.setRequestHeader(mt,Ot);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Eo(this),this.u=!0,this.g.send(g),this.u=!1}catch(mt){As(this,mt)}};function As(g,S){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=S,g.m=5,Za(g),ko(g)}function Za(g){g.A||(g.A=!0,de(g,"complete"),de(g,"error"))}e.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=g||7,de(this,"complete"),de(this,"abort"),ko(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ko(this,!0)),mn.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?ra(this):this.bb())},e.bb=function(){ra(this)};function ra(g){if(g.h&&typeof o<"u"&&(!g.v[1]||Sr(g)!=4||g.Z()!=2)){if(g.u&&Sr(g)==4)Gt(g.Ea,0,g);else if(de(g,"readystatechange"),Sr(g)==4){g.h=!1;try{const Ot=g.Z();t:switch(Ot){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var S=!0;break t;default:S=!1}var L;if(!(L=S)){var q;if(q=Ot===0){var ht=String(g.D).match(pu)[1]||null;!ht&&a.self&&a.self.location&&(ht=a.self.location.protocol.slice(0,-1)),q=!yu.test(ht?ht.toLowerCase():"")}L=q}if(L)de(g,"complete"),de(g,"success");else{g.m=6;try{var mt=2<Sr(g)?g.g.statusText:""}catch{mt=""}g.l=mt+" ["+g.Z()+"]",Za(g)}}finally{ko(g)}}}}function ko(g,S){if(g.g){Eo(g);const L=g.g,q=g.v[0]?()=>{}:null;g.g=null,g.v=null,S||de(g,"ready");try{L.onreadystatechange=q}catch{}}}function Eo(g){g.I&&(a.clearTimeout(g.I),g.I=null)}e.isActive=function(){return!!this.g};function Sr(g){return g.g?g.g.readyState:0}e.Z=function(){try{return 2<Sr(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(g){if(this.g){var S=this.g.responseText;return g&&S.indexOf(g)==0&&(S=S.substring(g.length)),Sn(S)}};function vu(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.H){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function Ic(g){const S={};g=(g.g&&2<=Sr(g)&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let q=0;q<g.length;q++){if(A(g[q]))continue;var L=k(g[q]);const ht=L[0];if(L=L[1],typeof L!="string")continue;L=L.trim();const mt=S[ht]||[];S[ht]=mt,mt.push(L)}R(S,function(q){return q.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ar(g,S,L){return L&&L.internalChannelParams&&L.internalChannelParams[g]||S}function Ts(g){this.Aa=0,this.i=[],this.j=new Li,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ar("failFast",!1,g),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ar("baseRetryDelayMs",5e3,g),this.cb=Ar("retryDelaySeedMs",1e4,g),this.Wa=Ar("forwardChannelMaxRetries",2,g),this.wa=Ar("forwardChannelRequestTimeoutMs",2e4,g),this.pa=g&&g.xmlHttpFactory||void 0,this.Xa=g&&g.Tb||void 0,this.Ca=g&&g.useFetchStreams||!1,this.L=void 0,this.J=g&&g.supportsCrossDomainXhr||!1,this.K="",this.h=new hu(g&&g.concurrentRequestLimit),this.Da=new Ys,this.P=g&&g.fastHandshake||!1,this.O=g&&g.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=g&&g.Rb||!1,g&&g.xa&&this.j.xa(),g&&g.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&g&&g.detectBufferingProxy||!1,this.ja=void 0,g&&g.longPollingTimeout&&0<g.longPollingTimeout&&(this.ja=g.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=Ts.prototype,e.la=8,e.G=1,e.connect=function(g,S,L,q){En(0),this.W=g,this.H=S||{},L&&q!==void 0&&(this.H.OSID=L,this.H.OAID=q),this.F=this.X,this.I=un(this,null,this.W),w(this)};function tl(g){if(_u(g),g.G==3){var S=g.U++,L=bi(g.I);if(Ve(L,"SID",g.K),Ve(L,"RID",S),Ve(L,"TYPE","terminate"),it(g,L),S=new ri(g,g.j,S),S.L=2,S.v=ea(bi(L)),L=!1,a.navigator&&a.navigator.sendBeacon)try{L=a.navigator.sendBeacon(S.v.toString(),"")}catch{}!L&&a.Image&&(new Image().src=S.v,L=!0),L||(S.g=Yn(S.j,null),S.g.ea(S.v)),S.F=Date.now(),xo(S)}Bn(g)}function ks(g){g.g&&(Wt(g),g.g.cancel(),g.g=null)}function _u(g){ks(g),g.u&&(a.clearTimeout(g.u),g.u=null),pe(g),g.h.cancel(),g.s&&(typeof g.s=="number"&&a.clearTimeout(g.s),g.s=null)}function w(g){if(!fu(g.h)&&!g.s){g.s=!0;var S=g.Ga;ot||vt(),tt||(ot(),tt=!0),at.add(S,g),g.B=0}}function O(g,S){return du(g.h)>=g.h.j-(g.s?1:0)?!1:g.s?(g.i=S.D.concat(g.i),!0):g.G==1||g.G==2||g.B>=(g.Va?0:g.Wa)?!1:(g.s=Ni(p(g.Ga,g,S),Be(g,g.B)),g.B++,!0)}e.Ga=function(g){if(this.s)if(this.s=null,this.G==1){if(!g){this.U=Math.floor(1e5*Math.random()),g=this.U++;const ht=new ri(this,this.j,g);let mt=this.o;if(this.S&&(mt?(mt=T(mt),D(mt,this.S)):mt=this.S),this.m!==null||this.O||(ht.H=mt,mt=null),this.P)t:{for(var S=0,L=0;L<this.i.length;L++){e:{var q=this.i[L];if("__data__"in q.map&&(q=q.map.__data__,typeof q=="string")){q=q.length;break e}q=void 0}if(q===void 0)break;if(S+=q,4096<S){S=L;break t}if(S===4096||L===this.i.length-1){S=L+1;break t}}S=1e3}else S=1e3;S=ct(this,ht,S),L=bi(this.I),Ve(L,"RID",g),Ve(L,"CVER",22),this.D&&Ve(L,"X-HTTP-Session-Id",this.D),it(this,L),mt&&(this.O?S="headers="+encodeURIComponent(String(Ss(mt)))+"&"+S:this.m&&mu(L,this.m,mt)),So(this.h,ht),this.Ua&&Ve(L,"TYPE","init"),this.P?(Ve(L,"$req",S),Ve(L,"SID","null"),ht.T=!0,bo(ht,L,null)):bo(ht,L,S),this.G=2}}else this.G==3&&(g?X(this,g):this.i.length==0||fu(this.h)||X(this))};function X(g,S){var L;S?L=S.l:L=g.U++;const q=bi(g.I);Ve(q,"SID",g.K),Ve(q,"RID",L),Ve(q,"AID",g.T),it(g,q),g.m&&g.o&&mu(q,g.m,g.o),L=new ri(g,g.j,L,g.B+1),g.m===null&&(L.H=g.o),S&&(g.i=S.D.concat(g.i)),S=ct(g,L,1e3),L.I=Math.round(.5*g.wa)+Math.round(.5*g.wa*Math.random()),So(g.h,L),bo(L,q,S)}function it(g,S){g.H&&G(g.H,function(L,q){Ve(S,q,L)}),g.l&&Zo({},function(L,q){Ve(S,q,L)})}function ct(g,S,L){L=Math.min(g.i.length,L);var q=g.l?p(g.l.Na,g.l,g):null;t:{var ht=g.i;let mt=-1;for(;;){const Ot=["count="+L];mt==-1?0<L?(mt=ht[0].g,Ot.push("ofs="+mt)):mt=0:Ot.push("ofs="+mt);let ze=!0;for(let Wn=0;Wn<L;Wn++){let Oe=ht[Wn].g;const tn=ht[Wn].map;if(Oe-=mt,0>Oe)mt=Math.max(0,ht[Wn].g-100),ze=!1;else try{yf(tn,Ot,"req"+Oe+"_")}catch{q&&q(tn)}}if(ze){q=Ot.join("&");break t}}}return g=g.i.splice(0,L),S.D=g,q}function xt(g){if(!g.g&&!g.u){g.Y=1;var S=g.Fa;ot||vt(),tt||(ot(),tt=!0),at.add(S,g),g.v=0}}function Pt(g){return g.g||g.u||3<=g.v?!1:(g.Y++,g.u=Ni(p(g.Fa,g),Be(g,g.v)),g.v++,!0)}e.Fa=function(){if(this.u=null,Kt(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var g=2*this.R;this.j.info("BP detection timer enabled: "+g),this.A=Ni(p(this.ab,this),g)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,En(10),ks(this),Kt(this))};function Wt(g){g.A!=null&&(a.clearTimeout(g.A),g.A=null)}function Kt(g){g.g=new ri(g,g.j,"rpc",g.Y),g.m===null&&(g.g.H=g.o),g.g.O=0;var S=bi(g.qa);Ve(S,"RID","rpc"),Ve(S,"SID",g.K),Ve(S,"AID",g.T),Ve(S,"CI",g.F?"0":"1"),!g.F&&g.ja&&Ve(S,"TO",g.ja),Ve(S,"TYPE","xmlhttp"),it(g,S),g.m&&g.o&&mu(S,g.m,g.o),g.L&&(g.g.I=g.L);var L=g.g;g=g.ia,L.L=1,L.v=ea(bi(S)),L.m=null,L.P=!0,Qo(L,g)}e.Za=function(){this.C!=null&&(this.C=null,ks(this),Pt(this),En(19))};function pe(g){g.C!=null&&(a.clearTimeout(g.C),g.C=null)}function Se(g,S){var L=null;if(g.g==S){pe(g),Wt(g),g.g=null;var q=2}else if(Mr(g.h,S))L=S.D,xc(g.h,S),q=1;else return;if(g.G!=0){if(S.o)if(q==1){L=S.m?S.m.length:0,S=Date.now()-S.F;var ht=g.B;q=ii(),de(q,new _s(q,L)),w(g)}else xt(g);else if(ht=S.s,ht==3||ht==0&&0<S.X||!(q==1&&O(g,S)||q==2&&Pt(g)))switch(L&&0<L.length&&(S=g.h,S.i=S.i.concat(L)),ht){case 1:rn(g,5);break;case 4:rn(g,10);break;case 3:rn(g,6);break;default:rn(g,2)}}}function Be(g,S){let L=g.Ta+Math.floor(Math.random()*g.cb);return g.isActive()||(L*=2),L*S}function rn(g,S){if(g.j.info("Error code "+S),S==2){var L=p(g.fb,g),q=g.Xa;const ht=!q;q=new vn(q||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||ta(q,"https"),ea(q),ht?gf(q.toString(),L):mf(q.toString(),L)}else En(2);g.G=0,g.l&&g.l.sa(S),Bn(g),_u(g)}e.fb=function(g){g?(this.j.info("Successfully pinged google.com"),En(2)):(this.j.info("Failed to ping google.com"),En(1))};function Bn(g){if(g.G=0,g.ka=[],g.l){const S=Vn(g.h);(S.length!=0||g.i.length!=0)&&(x(g.ka,S),x(g.ka,g.i),g.h.i.length=0,_(g.i),g.i.length=0),g.l.ra()}}function un(g,S,L){var q=L instanceof vn?bi(L):new vn(L);if(q.g!="")S&&(q.g=S+"."+q.g),Ya(q,q.s);else{var ht=a.location;q=ht.protocol,S=S?S+"."+ht.hostname:ht.hostname,ht=+ht.port;var mt=new vn(null);q&&ta(mt,q),S&&(mt.g=S),ht&&Ya(mt,ht),L&&(mt.l=L),q=mt}return L=g.D,S=g.ya,L&&S&&Ve(q,L,S),Ve(q,"VER",g.la),it(g,q),q}function Yn(g,S,L){if(S&&!g.J)throw Error("Can't create secondary domain capable XhrIo object.");return S=g.Ca&&!g.pa?new mn(new Qa({eb:L})):new mn(g.pa),S.Ha(g.J),S}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Un(){}e=Un.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function Xn(){}Xn.prototype.g=function(g,S){return new zn(g,S)};function zn(g,S){Jt.call(this),this.g=new Ts(S),this.l=g,this.h=S&&S.messageUrlParams||null,g=S&&S.messageHeaders||null,S&&S.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=S&&S.initMessageHeaders||null,S&&S.messageContentType&&(g?g["X-WebChannel-Content-Type"]=S.messageContentType:g={"X-WebChannel-Content-Type":S.messageContentType}),S&&S.va&&(g?g["X-WebChannel-Client-Profile"]=S.va:g={"X-WebChannel-Client-Profile":S.va}),this.g.S=g,(g=S&&S.Sb)&&!A(g)&&(this.g.m=g),this.v=S&&S.supportsCrossDomainXhr||!1,this.u=S&&S.sendRawJson||!1,(S=S&&S.httpSessionIdParam)&&!A(S)&&(this.g.D=S,g=this.h,g!==null&&S in g&&(g=this.h,S in g&&delete g[S])),this.j=new Ps(this)}y(zn,Jt),zn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},zn.prototype.close=function(){tl(this.g)},zn.prototype.o=function(g){var S=this.g;if(typeof g=="string"){var L={};L.__data__=g,g=L}else this.u&&(L={},L.__data__=Te(g),g=L);S.i.push(new cu(S.Ya++,g)),S.G==3&&w(S)},zn.prototype.N=function(){this.g.l=null,delete this.j,tl(this.g),delete this.g,zn.aa.N.call(this)};function Or(g){Ie.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var S=g.__sm__;if(S){t:{for(const L in S){g=L;break t}g=void 0}(this.i=g)&&(g=this.i,S=S!==null&&g in S?S[g]:void 0),this.data=S}else this.data=g}y(Or,Ie);function Es(){le.call(this),this.status=1}y(Es,le);function Ps(g){this.g=g}y(Ps,Un),Ps.prototype.ua=function(){de(this.g,"a")},Ps.prototype.ta=function(g){de(this.g,new Or(g))},Ps.prototype.sa=function(g){de(this.g,new Es)},Ps.prototype.ra=function(){de(this.g,"b")},Xn.prototype.createWebChannel=Xn.prototype.g,zn.prototype.send=zn.prototype.o,zn.prototype.open=zn.prototype.m,zn.prototype.close=zn.prototype.close,X6=function(){return new Xn},Y6=function(){return ii()},K6=De,C5={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},er.NO_ERROR=0,er.TIMEOUT=8,er.HTTP_ERROR=6,Dm=er,Gr.COMPLETE="complete",G6=Gr,_e.EventType=on,on.OPEN="a",on.CLOSE="b",on.ERROR="c",on.MESSAGE="d",Jt.prototype.listen=Jt.prototype.K,ad=_e,mn.prototype.listenOnce=mn.prototype.L,mn.prototype.getLastError=mn.prototype.Ka,mn.prototype.getLastErrorCode=mn.prototype.Ba,mn.prototype.getStatus=mn.prototype.Z,mn.prototype.getResponseJson=mn.prototype.Oa,mn.prototype.getResponseText=mn.prototype.oa,mn.prototype.send=mn.prototype.ea,mn.prototype.setWithCredentials=mn.prototype.Ha,$6=mn}).apply(typeof Qg<"u"?Qg:typeof self<"u"?self:typeof window<"u"?window:{});const ok="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}pr.UNAUTHENTICATED=new pr(null),pr.GOOGLE_CREDENTIALS=new pr("google-credentials-uid"),pr.FIRST_PARTY=new pr("first-party-uid"),pr.MOCK_USER=new pr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sf="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ac=new rb("@firebase/firestore");function $f(){return ac.logLevel}function Yt(e,...t){if(ac.logLevel<=qe.DEBUG){const n=t.map(vb);ac.debug(`Firestore (${sf}): ${e}`,...n)}}function Va(e,...t){if(ac.logLevel<=qe.ERROR){const n=t.map(vb);ac.error(`Firestore (${sf}): ${e}`,...n)}}function Wh(e,...t){if(ac.logLevel<=qe.WARN){const n=t.map(vb);ac.warn(`Firestore (${sf}): ${e}`,...n)}}function vb(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function me(e="Unexpected state"){const t=`FIRESTORE (${sf}) INTERNAL ASSERTION FAILED: `+e;throw Va(t),new Error(t)}function Je(e,t){e||me()}function be(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Et={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ut extends Ha{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q6{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class $G{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(pr.UNAUTHENTICATED))}shutdown(){}}class GG{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class KG{constructor(t){this.t=t,this.currentUser=pr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Je(this.o===void 0);let i=this.i;const r=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let s=new Na;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Na,t.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const l=s;t.enqueueRetryable(async()=>{await l.promise,await r(this.currentUser)})},a=l=>{Yt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Yt("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Na)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==t?(Yt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Je(typeof i.accessToken=="string"),new Q6(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Je(t===null||typeof t=="string"),new pr(t)}}class YG{constructor(t,n,i){this.l=t,this.h=n,this.P=i,this.type="FirstParty",this.user=pr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class XG{constructor(t,n,i){this.l=t,this.h=n,this.P=i}getToken(){return Promise.resolve(new YG(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(pr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class QG{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class JG{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){Je(this.o===void 0);const i=s=>{s.error!=null&&Yt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Yt("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>i(s))};const r=s=>{Yt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?r(s):Yt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Je(typeof n.token=="string"),this.R=n.token,new QG(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZG(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J6{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const r=ZG(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<n&&(i+=t.charAt(r[s]%t.length))}return i}}function en(e,t){return e<t?-1:e>t?1:0}function qh(e,t,n){return e.length===t.length&&e.every((i,r)=>n(i,t[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new Ut(Et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ut(Et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Ut(Et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ut(Et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Ci.fromMillis(Date.now())}static fromDate(t){return Ci.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*n));return new Ci(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?en(this.nanoseconds,t.nanoseconds):en(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(t){this.timestamp=t}static fromTimestamp(t){return new ye(t)}static min(){return new ye(new Ci(0,0))}static max(){return new ye(new Ci(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(t,n,i){n===void 0?n=0:n>t.length&&me(),i===void 0?i=t.length-n:i>t.length-n&&me(),this.segments=t,this.offset=n,this.len=i}get length(){return this.len}isEqual(t){return gp.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof gp?t.forEach(i=>{n.push(i)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const i=Math.min(t.length,n.length);for(let r=0;r<i;r++){const s=t.get(r),o=n.get(r);if(s<o)return-1;if(s>o)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class xn extends gp{construct(t,n,i){return new xn(t,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const i of t){if(i.indexOf("//")>=0)throw new Ut(Et.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new xn(n)}static emptyPath(){return new xn([])}}const tK=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ki extends gp{construct(t,n,i){return new Ki(t,n,i)}static isValidIdentifier(t){return tK.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ki.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ki(["__name__"])}static fromServerFormat(t){const n=[];let i="",r=0;const s=()=>{if(i.length===0)throw new Ut(Et.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let o=!1;for(;r<t.length;){const a=t[r];if(a==="\\"){if(r+1===t.length)throw new Ut(Et.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[r+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Ut(Et.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=l,r+=2}else a==="`"?(o=!o,r++):a!=="."||o?(i+=a,r++):(s(),r++)}if(s(),o)throw new Ut(Et.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ki(n)}static emptyPath(){return new Ki([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(t){this.path=t}static fromPath(t){return new oe(xn.fromString(t))}static fromName(t){return new oe(xn.fromString(t).popFirst(5))}static empty(){return new oe(xn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&xn.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return xn.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new oe(new xn(t.slice()))}}function eK(e,t){const n=e.toTimestamp().seconds,i=e.toTimestamp().nanoseconds+1,r=ye.fromTimestamp(i===1e9?new Ci(n+1,0):new Ci(n,i));return new Zl(r,oe.empty(),t)}function nK(e){return new Zl(e.readTime,e.key,-1)}class Zl{constructor(t,n,i){this.readTime=t,this.documentKey=n,this.largestBatchId=i}static min(){return new Zl(ye.min(),oe.empty(),-1)}static max(){return new Zl(ye.max(),oe.empty(),-1)}}function iK(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=oe.comparator(e.documentKey,t.documentKey),n!==0?n:en(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rK="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class sK{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Up(e){if(e.code!==Et.FAILED_PRECONDITION||e.message!==rK)throw e;Yt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&me(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new Nt((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(n,s).next(i,r)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof Nt?n:Nt.resolve(n)}catch(n){return Nt.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):Nt.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):Nt.reject(n)}static resolve(t){return new Nt((n,i)=>{n(t)})}static reject(t){return new Nt((n,i)=>{i(t)})}static waitFor(t){return new Nt((n,i)=>{let r=0,s=0,o=!1;t.forEach(a=>{++r,a.next(()=>{++s,o&&s===r&&n()},l=>i(l))}),o=!0,s===r&&n()})}static or(t){let n=Nt.resolve(!1);for(const i of t)n=n.next(r=>r?Nt.resolve(r):i());return n}static forEach(t,n){const i=[];return t.forEach((r,s)=>{i.push(n.call(this,r,s))}),this.waitFor(i)}static mapArray(t,n){return new Nt((i,r)=>{const s=t.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(t[u]).next(c=>{o[u]=c,++a,a===s&&i(o)},c=>r(c))}})}static doWhile(t,n){return new Nt((i,r)=>{const s=()=>{t()===!0?n().next(()=>{s()},r):i()};s()})}}function oK(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function zp(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=i=>this.ie(i),this.se=i=>n.writeSequenceNumber(i))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}_b.oe=-1;function Wp(e){return e==null}function B0(e){return e===0&&1/e==-1/0}function aK(e){return typeof e=="number"&&Number.isInteger(e)&&!B0(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ak(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function vc(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Z6(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(t,n){this.comparator=t,this.root=n||Gi.EMPTY}insert(t,n){return new Kn(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Gi.BLACK,null,null))}remove(t){return new Kn(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Gi.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(t){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,i)=>(t(n,i),!1))}toString(){const t=[];return this.inorderTraversal((n,i)=>(t.push(`${n}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Jg(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Jg(this.root,t,this.comparator,!1)}getReverseIterator(){return new Jg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Jg(this.root,t,this.comparator,!0)}}class Jg{constructor(t,n,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=n?i(t.key,n):1,n&&r&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Gi{constructor(t,n,i,r,s){this.key=t,this.value=n,this.color=i??Gi.RED,this.left=r??Gi.EMPTY,this.right=s??Gi.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,i,r,s){return new Gi(t??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let r=this;const s=i(t,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(t,n,i),null):s===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(t,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Gi.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let i,r=this;if(n(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(t,r.key)===0){if(r.right.isEmpty())return Gi.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Gi.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Gi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw me();const t=this.left.check();if(t!==this.right.check())throw me();return t+(this.isRed()?0:1)}}Gi.EMPTY=null,Gi.RED=!0,Gi.BLACK=!1;Gi.EMPTY=new class{constructor(){this.size=0}get key(){throw me()}get value(){throw me()}get color(){throw me()}get left(){throw me()}get right(){throw me()}copy(t,n,i,r,s){return this}insert(t,n,i){return new Gi(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(t){this.comparator=t,this.data=new Kn(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,i)=>(t(n),!1))}forEachInRange(t,n){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;n(r.key)}}forEachWhile(t,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new lk(this.data.getIterator())}getIteratorFrom(t){return new lk(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(i=>{n=n.add(i)}),n}isEqual(t){if(!(t instanceof Xi)||this.size!==t.size)return!1;const n=this.data.getIterator(),i=t.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Xi(this.comparator);return n.data=t,n}}class lk{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(t){this.fields=t,t.sort(Ki.comparator)}static empty(){return new us([])}unionWith(t){let n=new Xi(Ki.comparator);for(const i of this.fields)n=n.add(i);for(const i of t)n=n.add(i);return new us(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return qh(this.fields,t.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tL extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new tL("Invalid base64 string: "+s):s}}(t);return new Zi(n)}static fromUint8Array(t){const n=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(t);return new Zi(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return en(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Zi.EMPTY_BYTE_STRING=new Zi("");const lK=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function tu(e){if(Je(!!e),typeof e=="string"){let t=0;const n=lK.exec(e);if(Je(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:ci(e.seconds),nanos:ci(e.nanos)}}function ci(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function lc(e){return typeof e=="string"?Zi.fromBase64String(e):Zi.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wb(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function bb(e){const t=e.mapValue.fields.__previous_value__;return wb(t)?bb(t):t}function mp(e){const t=tu(e.mapValue.fields.__local_write_time__.timestampValue);return new Ci(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uK{constructor(t,n,i,r,s,o,a,l,u){this.databaseId=t,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class yp{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new yp("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof yp&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zg={mapValue:{}};function uc(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?wb(e)?4:hK(e)?9007199254740991:cK(e)?10:11:me()}function Ko(e,t){if(e===t)return!0;const n=uc(e);if(n!==uc(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return mp(e).isEqual(mp(t));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const o=tu(r.timestampValue),a=tu(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,s){return lc(r.bytesValue).isEqual(lc(s.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,s){return ci(r.geoPointValue.latitude)===ci(s.geoPointValue.latitude)&&ci(r.geoPointValue.longitude)===ci(s.geoPointValue.longitude)}(e,t);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return ci(r.integerValue)===ci(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const o=ci(r.doubleValue),a=ci(s.doubleValue);return o===a?B0(o)===B0(a):isNaN(o)&&isNaN(a)}return!1}(e,t);case 9:return qh(e.arrayValue.values||[],t.arrayValue.values||[],Ko);case 10:case 11:return function(r,s){const o=r.mapValue.fields||{},a=s.mapValue.fields||{};if(ak(o)!==ak(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Ko(o[l],a[l])))return!1;return!0}(e,t);default:return me()}}function vp(e,t){return(e.values||[]).find(n=>Ko(n,t))!==void 0}function Hh(e,t){if(e===t)return 0;const n=uc(e),i=uc(t);if(n!==i)return en(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return en(e.booleanValue,t.booleanValue);case 2:return function(s,o){const a=ci(s.integerValue||s.doubleValue),l=ci(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(e,t);case 3:return uk(e.timestampValue,t.timestampValue);case 4:return uk(mp(e),mp(t));case 5:return en(e.stringValue,t.stringValue);case 6:return function(s,o){const a=lc(s),l=lc(o);return a.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=en(a[u],l[u]);if(c!==0)return c}return en(a.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(s,o){const a=en(ci(s.latitude),ci(o.latitude));return a!==0?a:en(ci(s.longitude),ci(o.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return ck(e.arrayValue,t.arrayValue);case 10:return function(s,o){var a,l,u,c;const h=s.fields||{},p=o.fields||{},f=(a=h.value)===null||a===void 0?void 0:a.arrayValue,y=(l=p.value)===null||l===void 0?void 0:l.arrayValue,_=en(((u=f==null?void 0:f.values)===null||u===void 0?void 0:u.length)||0,((c=y==null?void 0:y.values)===null||c===void 0?void 0:c.length)||0);return _!==0?_:ck(f,y)}(e.mapValue,t.mapValue);case 11:return function(s,o){if(s===Zg.mapValue&&o===Zg.mapValue)return 0;if(s===Zg.mapValue)return 1;if(o===Zg.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let h=0;h<l.length&&h<c.length;++h){const p=en(l[h],c[h]);if(p!==0)return p;const f=Hh(a[l[h]],u[c[h]]);if(f!==0)return f}return en(l.length,c.length)}(e.mapValue,t.mapValue);default:throw me()}}function uk(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return en(e,t);const n=tu(e),i=tu(t),r=en(n.seconds,i.seconds);return r!==0?r:en(n.nanos,i.nanos)}function ck(e,t){const n=e.values||[],i=t.values||[];for(let r=0;r<n.length&&r<i.length;++r){const s=Hh(n[r],i[r]);if(s)return s}return en(n.length,i.length)}function $h(e){return N5(e)}function N5(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const i=tu(n);return`time(${i.seconds},${i.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return lc(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return oe.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let i="[",r=!0;for(const s of n.values||[])r?r=!1:i+=",",i+=N5(s);return i+"]"}(e.arrayValue):"mapValue"in e?function(n){const i=Object.keys(n.fields||{}).sort();let r="{",s=!0;for(const o of i)s?s=!1:r+=",",r+=`${o}:${N5(n.fields[o])}`;return r+"}"}(e.mapValue):me()}function hk(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function L5(e){return!!e&&"integerValue"in e}function xb(e){return!!e&&"arrayValue"in e}function fk(e){return!!e&&"nullValue"in e}function dk(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Om(e){return!!e&&"mapValue"in e}function cK(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Pd(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return vc(e.mapValue.fields,(n,i)=>t.mapValue.fields[n]=Pd(i)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Pd(e.arrayValue.values[n]);return t}return Object.assign({},e)}function hK(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(t){this.value=t}static empty(){return new Ir({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let i=0;i<t.length-1;++i)if(n=(n.mapValue.fields||{})[t.get(i)],!Om(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Pd(n)}setAll(t){let n=Ki.emptyPath(),i={},r=[];t.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,i,r),i={},r=[],n=a.popLast()}o?i[a.lastSegment()]=Pd(o):r.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,i,r)}delete(t){const n=this.field(t.popLast());Om(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Ko(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=n.mapValue.fields[t.get(i)];Om(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(t,n,i){vc(n,(r,s)=>t[r]=s);for(const r of i)delete t[r]}clone(){return new Ir(Pd(this.value))}}function eL(e){const t=[];return vc(e.fields,(n,i)=>{const r=new Ki([n]);if(Om(i)){const s=eL(i.mapValue).fields;if(s.length===0)t.push(r);else for(const o of s)t.push(r.child(o))}else t.push(r)}),new us(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(t,n,i,r,s,o,a){this.key=t,this.documentType=n,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(t){return new ji(t,0,ye.min(),ye.min(),ye.min(),Ir.empty(),0)}static newFoundDocument(t,n,i,r){return new ji(t,1,n,ye.min(),i,r,0)}static newNoDocument(t,n){return new ji(t,2,n,ye.min(),ye.min(),Ir.empty(),0)}static newUnknownDocument(t,n){return new ji(t,3,n,ye.min(),ye.min(),Ir.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(ye.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Ir.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Ir.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ye.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ji&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ji(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(t,n){this.position=t,this.inclusive=n}}function pk(e,t,n){let i=0;for(let r=0;r<e.position.length;r++){const s=t[r],o=e.position[r];if(s.field.isKeyField()?i=oe.comparator(oe.fromName(o.referenceValue),n.key):i=Hh(o,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function gk(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Ko(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(t,n="asc"){this.field=t,this.dir=n}}function fK(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nL{}class _i extends nL{constructor(t,n,i){super(),this.field=t,this.op=n,this.value=i}static create(t,n,i){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,i):new pK(t,n,i):n==="array-contains"?new yK(t,i):n==="in"?new vK(t,i):n==="not-in"?new _K(t,i):n==="array-contains-any"?new wK(t,i):new _i(t,n,i)}static createKeyFieldInFilter(t,n,i){return n==="in"?new gK(t,i):new mK(t,i)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Hh(n,this.value)):n!==null&&uc(this.value)===uc(n)&&this.matchesComparison(Hh(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return me()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class po extends nL{constructor(t,n){super(),this.filters=t,this.op=n,this.ae=null}static create(t,n){return new po(t,n)}matches(t){return iL(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function iL(e){return e.op==="and"}function rL(e){return dK(e)&&iL(e)}function dK(e){for(const t of e.filters)if(t instanceof po)return!1;return!0}function R5(e){if(e instanceof _i)return e.field.canonicalString()+e.op.toString()+$h(e.value);if(rL(e))return e.filters.map(t=>R5(t)).join(",");{const t=e.filters.map(n=>R5(n)).join(",");return`${e.op}(${t})`}}function sL(e,t){return e instanceof _i?function(i,r){return r instanceof _i&&i.op===r.op&&i.field.isEqual(r.field)&&Ko(i.value,r.value)}(e,t):e instanceof po?function(i,r){return r instanceof po&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,o,a)=>s&&sL(o,r.filters[a]),!0):!1}(e,t):void me()}function oL(e){return e instanceof _i?function(n){return`${n.field.canonicalString()} ${n.op} ${$h(n.value)}`}(e):e instanceof po?function(n){return n.op.toString()+" {"+n.getFilters().map(oL).join(" ,")+"}"}(e):"Filter"}class pK extends _i{constructor(t,n,i){super(t,n,i),this.key=oe.fromName(i.referenceValue)}matches(t){const n=oe.comparator(t.key,this.key);return this.matchesComparison(n)}}class gK extends _i{constructor(t,n){super(t,"in",n),this.keys=aL("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class mK extends _i{constructor(t,n){super(t,"not-in",n),this.keys=aL("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function aL(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>oe.fromName(i.referenceValue))}class yK extends _i{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return xb(n)&&vp(n.arrayValue,this.value)}}class vK extends _i{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&vp(this.value.arrayValue,n)}}class _K extends _i{constructor(t,n){super(t,"not-in",n)}matches(t){if(vp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!vp(this.value.arrayValue,n)}}class wK extends _i{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!xb(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>vp(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bK{constructor(t,n=null,i=[],r=[],s=null,o=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function mk(e,t=null,n=[],i=[],r=null,s=null,o=null){return new bK(e,t,n,i,r,s,o)}function Sb(e){const t=be(e);if(t.ue===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(i=>R5(i)).join(","),n+="|ob:",n+=t.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),Wp(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>$h(i)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>$h(i)).join(",")),t.ue=n}return t.ue}function Ab(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!fK(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!sL(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!gk(e.startAt,t.startAt)&&gk(e.endAt,t.endAt)}function M5(e){return oe.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(t,n=null,i=[],r=[],s=null,o="F",a=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function xK(e,t,n,i,r,s,o,a){return new of(e,t,n,i,r,s,o,a)}function Tb(e){return new of(e)}function yk(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function lL(e){return e.collectionGroup!==null}function Id(e){const t=be(e);if(t.ce===null){t.ce=[];const n=new Set;for(const s of t.explicitOrderBy)t.ce.push(s),n.add(s.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Xi(Ki.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(t).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||t.ce.push(new _p(s,i))}),n.has(Ki.keyField().canonicalString())||t.ce.push(new _p(Ki.keyField(),i))}return t.ce}function $o(e){const t=be(e);return t.le||(t.le=SK(t,Id(e))),t.le}function SK(e,t){if(e.limitType==="F")return mk(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(r=>{const s=r.dir==="desc"?"asc":"desc";return new _p(r.field,s)});const n=e.endAt?new U0(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new U0(e.startAt.position,e.startAt.inclusive):null;return mk(e.path,e.collectionGroup,t,e.filters,e.limit,n,i)}}function D5(e,t){const n=e.filters.concat([t]);return new of(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function z0(e,t,n){return new of(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function F1(e,t){return Ab($o(e),$o(t))&&e.limitType===t.limitType}function uL(e){return`${Sb($o(e))}|lt:${e.limitType}`}function Vc(e){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>oL(r)).join(", ")}]`),Wp(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>$h(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>$h(r)).join(",")),`Target(${i})`}($o(e))}; limitType=${e.limitType})`}function j1(e,t){return t.isFoundDocument()&&function(i,r){const s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):oe.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(e,t)&&function(i,r){for(const s of Id(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(e,t)&&function(i,r){for(const s of i.filters)if(!s.matches(r))return!1;return!0}(e,t)&&function(i,r){return!(i.startAt&&!function(o,a,l){const u=pk(o,a,l);return o.inclusive?u<=0:u<0}(i.startAt,Id(i),r)||i.endAt&&!function(o,a,l){const u=pk(o,a,l);return o.inclusive?u>=0:u>0}(i.endAt,Id(i),r))}(e,t)}function AK(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function cL(e){return(t,n)=>{let i=!1;for(const r of Id(e)){const s=TK(r,t,n);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function TK(e,t,n){const i=e.field.isKeyField()?oe.comparator(t.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?Hh(l,u):me()}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return me()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0){for(const[r,s]of i)if(this.equalsFn(r,t))return s}}has(t){return this.get(t)!==void 0}set(t,n){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return this.inner[i]=[[t,n]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return void(r[s]=[t,n]);r.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){vc(this.inner,(n,i)=>{for(const[r,s]of i)t(r,s)})}isEmpty(){return Z6(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kK=new Kn(oe.comparator);function Ba(){return kK}const hL=new Kn(oe.comparator);function ld(...e){let t=hL;for(const n of e)t=t.insert(n.key,n);return t}function fL(e){let t=hL;return e.forEach((n,i)=>t=t.insert(n,i.overlayedDocument)),t}function Wu(){return Cd()}function dL(){return Cd()}function Cd(){return new af(e=>e.toString(),(e,t)=>e.isEqual(t))}const EK=new Kn(oe.comparator),PK=new Xi(oe.comparator);function Ue(...e){let t=PK;for(const n of e)t=t.add(n);return t}const IK=new Xi(en);function CK(){return IK}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kb(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:B0(t)?"-0":t}}function pL(e){return{integerValue:""+e}}function NK(e,t){return aK(t)?pL(t):kb(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(){this._=void 0}}function LK(e,t,n){return e instanceof wp?function(r,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&wb(s)&&(s=bb(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,t):e instanceof bp?mL(e,t):e instanceof xp?yL(e,t):function(r,s){const o=gL(r,s),a=vk(o)+vk(r.Pe);return L5(o)&&L5(r.Pe)?pL(a):kb(r.serializer,a)}(e,t)}function RK(e,t,n){return e instanceof bp?mL(e,t):e instanceof xp?yL(e,t):n}function gL(e,t){return e instanceof W0?function(i){return L5(i)||function(s){return!!s&&"doubleValue"in s}(i)}(t)?t:{integerValue:0}:null}class wp extends V1{}class bp extends V1{constructor(t){super(),this.elements=t}}function mL(e,t){const n=vL(t);for(const i of e.elements)n.some(r=>Ko(r,i))||n.push(i);return{arrayValue:{values:n}}}class xp extends V1{constructor(t){super(),this.elements=t}}function yL(e,t){let n=vL(t);for(const i of e.elements)n=n.filter(r=>!Ko(r,i));return{arrayValue:{values:n}}}class W0 extends V1{constructor(t,n){super(),this.serializer=t,this.Pe=n}}function vk(e){return ci(e.integerValue||e.doubleValue)}function vL(e){return xb(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MK{constructor(t,n){this.field=t,this.transform=n}}function DK(e,t){return e.field.isEqual(t.field)&&function(i,r){return i instanceof bp&&r instanceof bp||i instanceof xp&&r instanceof xp?qh(i.elements,r.elements,Ko):i instanceof W0&&r instanceof W0?Ko(i.Pe,r.Pe):i instanceof wp&&r instanceof wp}(e.transform,t.transform)}class OK{constructor(t,n){this.version=t,this.transformResults=n}}class mr{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new mr}static exists(t){return new mr(void 0,t)}static updateTime(t){return new mr(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Fm(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class B1{}function _L(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new U1(e.key,mr.none()):new qp(e.key,e.data,mr.none());{const n=e.data,i=Ir.empty();let r=new Xi(Ki.comparator);for(let s of t.fields)if(!r.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?i.delete(s):i.set(s,o),r=r.add(s)}return new lu(e.key,i,new us(r.toArray()),mr.none())}}function FK(e,t,n){e instanceof qp?function(r,s,o){const a=r.value.clone(),l=wk(r.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(e,t,n):e instanceof lu?function(r,s,o){if(!Fm(r.precondition,s))return void s.convertToUnknownDocument(o.version);const a=wk(r.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(wL(r)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(e,t,n):function(r,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,n)}function Nd(e,t,n,i){return e instanceof qp?function(s,o,a,l){if(!Fm(s.precondition,o))return a;const u=s.value.clone(),c=bk(s.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(e,t,n,i):e instanceof lu?function(s,o,a,l){if(!Fm(s.precondition,o))return a;const u=bk(s.fieldTransforms,l,o),c=o.data;return c.setAll(wL(s)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(e,t,n,i):function(s,o,a){return Fm(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(e,t,n)}function jK(e,t){let n=null;for(const i of e.fieldTransforms){const r=t.data.field(i.field),s=gL(i.transform,r||null);s!=null&&(n===null&&(n=Ir.empty()),n.set(i.field,s))}return n||null}function _k(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&qh(i,r,(s,o)=>DK(s,o))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class qp extends B1{constructor(t,n,i,r=[]){super(),this.key=t,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class lu extends B1{constructor(t,n,i,r,s=[]){super(),this.key=t,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function wL(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}}),t}function wk(e,t,n){const i=new Map;Je(e.length===n.length);for(let r=0;r<n.length;r++){const s=e[r],o=s.transform,a=t.data.field(s.field);i.set(s.field,RK(o,a,n[r]))}return i}function bk(e,t,n){const i=new Map;for(const r of e){const s=r.transform,o=n.data.field(r.field);i.set(r.field,LK(s,o,t))}return i}class U1 extends B1{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class bL extends B1{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VK{constructor(t,n,i,r){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(t.key)&&FK(s,t,i[r])}}applyToLocalView(t,n){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(n=Nd(i,t,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(n=Nd(i,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const i=dL();return this.mutations.forEach(r=>{const s=t.get(r.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(r.key)?null:a;const l=_L(o,a);l!==null&&i.set(r.key,l),o.isValidDocument()||o.convertToNoDocument(ye.min())}),i}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Ue())}isEqual(t){return this.batchId===t.batchId&&qh(this.mutations,t.mutations,(n,i)=>_k(n,i))&&qh(this.baseMutations,t.baseMutations,(n,i)=>_k(n,i))}}class Eb{constructor(t,n,i,r){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(t,n,i){Je(t.mutations.length===i.length);let r=function(){return EK}();const s=t.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new Eb(t,n,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BK{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UK{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yi,Ge;function xL(e){switch(e){default:return me();case Et.CANCELLED:case Et.UNKNOWN:case Et.DEADLINE_EXCEEDED:case Et.RESOURCE_EXHAUSTED:case Et.INTERNAL:case Et.UNAVAILABLE:case Et.UNAUTHENTICATED:return!1;case Et.INVALID_ARGUMENT:case Et.NOT_FOUND:case Et.ALREADY_EXISTS:case Et.PERMISSION_DENIED:case Et.FAILED_PRECONDITION:case Et.ABORTED:case Et.OUT_OF_RANGE:case Et.UNIMPLEMENTED:case Et.DATA_LOSS:return!0}}function SL(e){if(e===void 0)return Va("GRPC error has no .code"),Et.UNKNOWN;switch(e){case yi.OK:return Et.OK;case yi.CANCELLED:return Et.CANCELLED;case yi.UNKNOWN:return Et.UNKNOWN;case yi.DEADLINE_EXCEEDED:return Et.DEADLINE_EXCEEDED;case yi.RESOURCE_EXHAUSTED:return Et.RESOURCE_EXHAUSTED;case yi.INTERNAL:return Et.INTERNAL;case yi.UNAVAILABLE:return Et.UNAVAILABLE;case yi.UNAUTHENTICATED:return Et.UNAUTHENTICATED;case yi.INVALID_ARGUMENT:return Et.INVALID_ARGUMENT;case yi.NOT_FOUND:return Et.NOT_FOUND;case yi.ALREADY_EXISTS:return Et.ALREADY_EXISTS;case yi.PERMISSION_DENIED:return Et.PERMISSION_DENIED;case yi.FAILED_PRECONDITION:return Et.FAILED_PRECONDITION;case yi.ABORTED:return Et.ABORTED;case yi.OUT_OF_RANGE:return Et.OUT_OF_RANGE;case yi.UNIMPLEMENTED:return Et.UNIMPLEMENTED;case yi.DATA_LOSS:return Et.DATA_LOSS;default:return me()}}(Ge=yi||(yi={}))[Ge.OK=0]="OK",Ge[Ge.CANCELLED=1]="CANCELLED",Ge[Ge.UNKNOWN=2]="UNKNOWN",Ge[Ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ge[Ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ge[Ge.NOT_FOUND=5]="NOT_FOUND",Ge[Ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ge[Ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ge[Ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ge[Ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ge[Ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ge[Ge.ABORTED=10]="ABORTED",Ge[Ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ge[Ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ge[Ge.INTERNAL=13]="INTERNAL",Ge[Ge.UNAVAILABLE=14]="UNAVAILABLE",Ge[Ge.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zK(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WK=new Xu([4294967295,4294967295],0);function xk(e){const t=zK().encode(e),n=new H6;return n.update(t),new Uint8Array(n.digest())}function Sk(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Xu([n,i],0),new Xu([r,s],0)]}class Pb{constructor(t,n,i){if(this.bitmap=t,this.padding=n,this.hashCount=i,n<0||n>=8)throw new ud(`Invalid padding: ${n}`);if(i<0)throw new ud(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new ud(`Invalid hash count: ${i}`);if(t.length===0&&n!==0)throw new ud(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*t.length-n,this.Te=Xu.fromNumber(this.Ie)}Ee(t,n,i){let r=t.add(n.multiply(Xu.fromNumber(i)));return r.compare(WK)===1&&(r=new Xu([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Ie===0)return!1;const n=xk(t),[i,r]=Sk(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(i,r,s);if(!this.de(o))return!1}return!0}static create(t,n,i){const r=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),o=new Pb(s,r,n);return i.forEach(a=>o.insert(a)),o}insert(t){if(this.Ie===0)return;const n=xk(t),[i,r]=Sk(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(i,r,s);this.Ae(o)}}Ae(t){const n=Math.floor(t/8),i=t%8;this.bitmap[n]|=1<<i}}class ud extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(t,n,i,r,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,n,i){const r=new Map;return r.set(t,Hp.createSynthesizedTargetChangeForCurrentChange(t,n,i)),new z1(ye.min(),r,new Kn(en),Ba(),Ue())}}class Hp{constructor(t,n,i,r,s){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,n,i){return new Hp(i,n,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(t,n,i,r){this.Re=t,this.removedTargetIds=n,this.key=i,this.Ve=r}}class AL{constructor(t,n){this.targetId=t,this.me=n}}class TL{constructor(t,n,i=Zi.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=n,this.resumeToken=i,this.cause=r}}class Ak{constructor(){this.fe=0,this.ge=kk(),this.pe=Zi.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}ve(){let t=Ue(),n=Ue(),i=Ue();return this.ge.forEach((r,s)=>{switch(s){case 0:t=t.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:me()}}),new Hp(this.pe,this.ye,t,n,i)}Ce(){this.we=!1,this.ge=kk()}Fe(t,n){this.we=!0,this.ge=this.ge.insert(t,n)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,Je(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class qK{constructor(t){this.Le=t,this.Be=new Map,this.ke=Ba(),this.qe=Tk(),this.Qe=new Kn(en)}Ke(t){for(const n of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(n,t.Ve):this.Ue(n,t.key,t.Ve);for(const n of t.removedTargetIds)this.Ue(n,t.key,t.Ve)}We(t){this.forEachTarget(t,n=>{const i=this.Ge(n);switch(t.state){case 0:this.ze(n)&&i.De(t.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(t.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(i.Ne(),i.De(t.resumeToken));break;case 4:this.ze(n)&&(this.je(n),i.De(t.resumeToken));break;default:me()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.Be.forEach((i,r)=>{this.ze(r)&&n(r)})}He(t){const n=t.targetId,i=t.me.count,r=this.Je(n);if(r){const s=r.target;if(M5(s))if(i===0){const o=new oe(s.path);this.Ue(n,o,ji.newNoDocument(o,ye.min()))}else Je(i===1);else{const o=this.Ye(n);if(o!==i){const a=this.Ze(t),l=a?this.Xe(a,t,o):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(t){const n=t.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=n;let o,a;try{o=lc(i).toUint8Array()}catch(l){if(l instanceof tL)return Wh("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Pb(o,r,s)}catch(l){return Wh(l instanceof ud?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(t,n,i){return n.me.count===i-this.nt(t,n.targetId)?0:2}nt(t,n){const i=this.Le.getRemoteKeysForTarget(n);let r=0;return i.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.mightContain(a)||(this.Ue(n,s,null),r++)}),r}rt(t){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&M5(a.target)){const l=new oe(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,ji.newNoDocument(l,t))}s.be&&(n.set(o,s.ve()),s.Ce())}});let i=Ue();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(i=i.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(t));const r=new z1(t,n,this.Qe,this.ke,i);return this.ke=Ba(),this.qe=Tk(),this.Qe=new Kn(en),r}$e(t,n){if(!this.ze(t))return;const i=this.it(t,n.key)?2:0;this.Ge(t).Fe(n.key,i),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(t))}Ue(t,n,i){if(!this.ze(t))return;const r=this.Ge(t);this.it(t,n)?r.Fe(n,1):r.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(t)),i&&(this.ke=this.ke.insert(n,i))}removeTarget(t){this.Be.delete(t)}Ye(t){const n=this.Ge(t).ve();return this.Le.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let n=this.Be.get(t);return n||(n=new Ak,this.Be.set(t,n)),n}st(t){let n=this.qe.get(t);return n||(n=new Xi(en),this.qe=this.qe.insert(t,n)),n}ze(t){const n=this.Je(t)!==null;return n||Yt("WatchChangeAggregator","Detected inactive target",t),n}Je(t){const n=this.Be.get(t);return n&&n.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new Ak),this.Le.getRemoteKeysForTarget(t).forEach(n=>{this.Ue(t,n,null)})}it(t,n){return this.Le.getRemoteKeysForTarget(t).has(n)}}function Tk(){return new Kn(oe.comparator)}function kk(){return new Kn(oe.comparator)}const HK={asc:"ASCENDING",desc:"DESCENDING"},$K={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},GK={and:"AND",or:"OR"};class KK{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function O5(e,t){return e.useProto3Json||Wp(t)?t:{value:t}}function q0(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function kL(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function YK(e,t){return q0(e,t.toTimestamp())}function ds(e){return Je(!!e),ye.fromTimestamp(function(n){const i=tu(n);return new Ci(i.seconds,i.nanos)}(e))}function Ib(e,t){return F5(e,t).canonicalString()}function F5(e,t){const n=function(r){return new xn(["projects",r.projectId,"databases",r.database])}(e).child("documents");return t===void 0?n:n.child(t)}function EL(e){const t=xn.fromString(e);return Je(RL(t)),t}function H0(e,t){return Ib(e.databaseId,t.path)}function Ld(e,t){const n=EL(t);if(n.get(1)!==e.databaseId.projectId)throw new Ut(Et.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Ut(Et.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new oe(IL(n))}function PL(e,t){return Ib(e.databaseId,t)}function XK(e){const t=EL(e);return t.length===4?xn.emptyPath():IL(t)}function j5(e){return new xn(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function IL(e){return Je(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function Ek(e,t,n){return{name:H0(e,t),fields:n.value.mapValue.fields}}function QK(e,t){return"found"in t?function(i,r){Je(!!r.found),r.found.name,r.found.updateTime;const s=Ld(i,r.found.name),o=ds(r.found.updateTime),a=r.found.createTime?ds(r.found.createTime):ye.min(),l=new Ir({mapValue:{fields:r.found.fields}});return ji.newFoundDocument(s,o,a,l)}(e,t):"missing"in t?function(i,r){Je(!!r.missing),Je(!!r.readTime);const s=Ld(i,r.missing),o=ds(r.readTime);return ji.newNoDocument(s,o)}(e,t):me()}function JK(e,t){let n;if("targetChange"in t){t.targetChange;const i=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:me()}(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(Je(c===void 0||typeof c=="string"),Zi.fromBase64String(c||"")):(Je(c===void 0||c instanceof Buffer||c instanceof Uint8Array),Zi.fromUint8Array(c||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(u){const c=u.code===void 0?Et.UNKNOWN:SL(u.code);return new Ut(c,u.message||"")}(o);n=new TL(i,r,s,a||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const r=Ld(e,i.document.name),s=ds(i.document.updateTime),o=i.document.createTime?ds(i.document.createTime):ye.min(),a=new Ir({mapValue:{fields:i.document.fields}}),l=ji.newFoundDocument(r,s,o,a),u=i.targetIds||[],c=i.removedTargetIds||[];n=new jm(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const r=Ld(e,i.document),s=i.readTime?ds(i.readTime):ye.min(),o=ji.newNoDocument(r,s),a=i.removedTargetIds||[];n=new jm([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const r=Ld(e,i.document),s=i.removedTargetIds||[];n=new jm([],s,r,null)}else{if(!("filter"in t))return me();{t.filter;const i=t.filter;i.targetId;const{count:r=0,unchangedNames:s}=i,o=new UK(r,s),a=i.targetId;n=new AL(a,o)}}return n}function CL(e,t){let n;if(t instanceof qp)n={update:Ek(e,t.key,t.value)};else if(t instanceof U1)n={delete:H0(e,t.key)};else if(t instanceof lu)n={update:Ek(e,t.key,t.data),updateMask:aY(t.fieldMask)};else{if(!(t instanceof bL))return me();n={verify:H0(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(i=>function(s,o){const a=o.transform;if(a instanceof wp)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof bp)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof xp)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof W0)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw me()}(0,i))),t.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:YK(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:me()}(e,t.precondition)),n}function ZK(e,t){return e&&e.length>0?(Je(t!==void 0),e.map(n=>function(r,s){let o=r.updateTime?ds(r.updateTime):ds(s);return o.isEqual(ye.min())&&(o=ds(s)),new OK(o,r.transformResults||[])}(n,t))):[]}function tY(e,t){return{documents:[PL(e,t.path)]}}function eY(e,t){const n={structuredQuery:{}},i=t.path;let r;t.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=PL(e,r);const s=function(u){if(u.length!==0)return LL(po.create(u,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(c=>function(p){return{field:Bc(p.field),direction:rY(p.dir)}}(c))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const a=O5(e,t.limit);return a!==null&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(t.endAt)),{_t:n,parent:r}}function nY(e){let t=XK(e.parent);const n=e.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){Je(i===1);const c=n.from[0];c.allDescendants?r=c.collectionId:t=t.child(c.collectionId)}let s=[];n.where&&(s=function(h){const p=NL(h);return p instanceof po&&rL(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(p=>function(y){return new _p(Uc(y.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(h){let p;return p=typeof h=="object"?h.value:h,Wp(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(h){const p=!!h.before,f=h.values||[];return new U0(f,p)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const p=!h.before,f=h.values||[];return new U0(f,p)}(n.endAt)),xK(t,r,o,s,a,"F",l,u)}function iY(e,t){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return me()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function NL(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Uc(n.unaryFilter.field);return _i.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Uc(n.unaryFilter.field);return _i.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Uc(n.unaryFilter.field);return _i.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Uc(n.unaryFilter.field);return _i.create(o,"!=",{nullValue:"NULL_VALUE"});default:return me()}}(e):e.fieldFilter!==void 0?function(n){return _i.create(Uc(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return me()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return po.create(n.compositeFilter.filters.map(i=>NL(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return me()}}(n.compositeFilter.op))}(e):me()}function rY(e){return HK[e]}function sY(e){return $K[e]}function oY(e){return GK[e]}function Bc(e){return{fieldPath:e.canonicalString()}}function Uc(e){return Ki.fromServerFormat(e.fieldPath)}function LL(e){return e instanceof _i?function(n){if(n.op==="=="){if(dk(n.value))return{unaryFilter:{field:Bc(n.field),op:"IS_NAN"}};if(fk(n.value))return{unaryFilter:{field:Bc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(dk(n.value))return{unaryFilter:{field:Bc(n.field),op:"IS_NOT_NAN"}};if(fk(n.value))return{unaryFilter:{field:Bc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bc(n.field),op:sY(n.op),value:n.value}}}(e):e instanceof po?function(n){const i=n.getFilters().map(r=>LL(r));return i.length===1?i[0]:{compositeFilter:{op:oY(n.op),filters:i}}}(e):me()}function aY(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function RL(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(t,n,i,r,s=ye.min(),o=ye.min(),a=Zi.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(t){return new Rl(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Rl(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Rl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Rl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lY{constructor(t){this.ct=t}}function uY(e){const t=nY({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?z0(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cY{constructor(){this.un=new hY}addToCollectionParentIndex(t,n){return this.un.add(n),Nt.resolve()}getCollectionParents(t,n){return Nt.resolve(this.un.getEntries(n))}addFieldIndex(t,n){return Nt.resolve()}deleteFieldIndex(t,n){return Nt.resolve()}deleteAllFieldIndexes(t){return Nt.resolve()}createTargetIndexes(t,n){return Nt.resolve()}getDocumentsMatchingTarget(t,n){return Nt.resolve(null)}getIndexType(t,n){return Nt.resolve(0)}getFieldIndexes(t,n){return Nt.resolve([])}getNextCollectionGroupToUpdate(t){return Nt.resolve(null)}getMinOffset(t,n){return Nt.resolve(Zl.min())}getMinOffsetFromCollectionGroup(t,n){return Nt.resolve(Zl.min())}updateCollectionGroup(t,n,i){return Nt.resolve()}updateIndexEntries(t,n){return Nt.resolve()}}class hY{constructor(){this.index={}}add(t){const n=t.lastSegment(),i=t.popLast(),r=this.index[n]||new Xi(xn.comparator),s=!r.has(i);return this.index[n]=r.add(i),s}has(t){const n=t.lastSegment(),i=t.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(t){return(this.index[t]||new Xi(xn.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(t){this.Ln=t}next(){return this.Ln+=2,this.Ln}static Bn(){return new Gh(0)}static kn(){return new Gh(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fY{constructor(){this.changes=new af(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,ji.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?Nt.resolve(i):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dY{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pY{constructor(t,n,i,r){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,n){let i=null;return this.documentOverlayCache.getOverlay(t,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,n))).next(r=>(i!==null&&Nd(i.mutation,r,us.empty(),Ci.now()),r))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.getLocalViewOfDocuments(t,i,Ue()).next(()=>i))}getLocalViewOfDocuments(t,n,i=Ue()){const r=Wu();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,i).next(s=>{let o=ld();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(t,n){const i=Wu();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,Ue()))}populateOverlays(t,n,i){const r=[];return i.forEach(s=>{n.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(t,r).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(t,n,i,r){let s=Ba();const o=Cd(),a=function(){return Cd()}();return n.forEach((l,u)=>{const c=i.get(u.key);r.has(u.key)&&(c===void 0||c.mutation instanceof lu)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),Nd(c.mutation,u,c.mutation.getFieldMask(),Ci.now())):o.set(u.key,us.empty())}),this.recalculateAndSaveOverlays(t,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var h;return a.set(u,new dY(c,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(t,n){const i=Cd();let r=new Kn((o,a)=>o-a),s=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=i.get(l)||us.empty();c=a.applyToLocalView(u,c),i.set(l,c);const h=(r.get(a.batchId)||Ue()).add(l);r=r.insert(a.batchId,h)})}).next(()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,h=dL();c.forEach(p=>{if(!s.has(p)){const f=_L(n.get(p),i.get(p));f!==null&&h.set(p,f),s=s.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(t,u,h))}return Nt.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,n,i,r){return function(o){return oe.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):lL(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,i,r):this.getDocumentsMatchingCollectionQuery(t,n,i,r)}getNextDocuments(t,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,i,r).next(s=>{const o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,i.largestBatchId,r-s.size):Nt.resolve(Wu());let a=-1,l=s;return o.next(u=>Nt.forEach(u,(c,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(c)?Nt.resolve():this.remoteDocumentCache.getEntry(t,c).next(p=>{l=l.insert(c,p)}))).next(()=>this.populateOverlays(t,u,s)).next(()=>this.computeViews(t,l,u,Ue())).next(c=>({batchId:a,changes:fL(c)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new oe(n)).next(i=>{let r=ld();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,n,i,r){const s=n.collectionGroup;let o=ld();return this.indexManager.getCollectionParents(t,s).next(a=>Nt.forEach(a,l=>{const u=function(h,p){return new of(p,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(t,u,i,r).next(c=>{c.forEach((h,p)=>{o=o.insert(h,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,n,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,i.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,i,s,r))).next(o=>{s.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,ji.newInvalidDocument(c)))});let a=ld();return o.forEach((l,u)=>{const c=s.get(l);c!==void 0&&Nd(c.mutation,u,us.empty(),Ci.now()),j1(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gY{constructor(t){this.serializer=t,this.hr=new Map,this.Pr=new Map}getBundleMetadata(t,n){return Nt.resolve(this.hr.get(n))}saveBundleMetadata(t,n){return this.hr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:ds(r.createTime)}}(n)),Nt.resolve()}getNamedQuery(t,n){return Nt.resolve(this.Pr.get(n))}saveNamedQuery(t,n){return this.Pr.set(n.name,function(r){return{name:r.name,query:uY(r.bundledQuery),readTime:ds(r.readTime)}}(n)),Nt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mY{constructor(){this.overlays=new Kn(oe.comparator),this.Ir=new Map}getOverlay(t,n){return Nt.resolve(this.overlays.get(n))}getOverlays(t,n){const i=Wu();return Nt.forEach(n,r=>this.getOverlay(t,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(t,n,i){return i.forEach((r,s)=>{this.ht(t,n,s)}),Nt.resolve()}removeOverlaysForBatchId(t,n,i){const r=this.Ir.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(i)),Nt.resolve()}getOverlaysForCollection(t,n,i){const r=Wu(),s=n.length+1,o=new oe(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>i&&r.set(l.getKey(),l)}return Nt.resolve(r)}getOverlaysForCollectionGroup(t,n,i,r){let s=new Kn((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>i){let c=s.get(u.largestBatchId);c===null&&(c=Wu(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Wu(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=r)););return Nt.resolve(a)}ht(t,n,i){const r=this.overlays.get(i.key);if(r!==null){const o=this.Ir.get(r.largestBatchId).delete(i.key);this.Ir.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new BK(n,i));let s=this.Ir.get(n);s===void 0&&(s=Ue(),this.Ir.set(n,s)),this.Ir.set(n,s.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yY{constructor(){this.sessionToken=Zi.EMPTY_BYTE_STRING}getSessionToken(t){return Nt.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,Nt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(){this.Tr=new Xi(Di.Er),this.dr=new Xi(Di.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(t,n){const i=new Di(t,n);this.Tr=this.Tr.add(i),this.dr=this.dr.add(i)}Rr(t,n){t.forEach(i=>this.addReference(i,n))}removeReference(t,n){this.Vr(new Di(t,n))}mr(t,n){t.forEach(i=>this.removeReference(i,n))}gr(t){const n=new oe(new xn([])),i=new Di(n,t),r=new Di(n,t+1),s=[];return this.dr.forEachInRange([i,r],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(t=>this.Vr(t))}Vr(t){this.Tr=this.Tr.delete(t),this.dr=this.dr.delete(t)}yr(t){const n=new oe(new xn([])),i=new Di(n,t),r=new Di(n,t+1);let s=Ue();return this.dr.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(t){const n=new Di(t,0),i=this.Tr.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)}}class Di{constructor(t,n){this.key=t,this.wr=n}static Er(t,n){return oe.comparator(t.key,n.key)||en(t.wr,n.wr)}static Ar(t,n){return en(t.wr,n.wr)||oe.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vY{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Xi(Di.Er)}checkEmpty(t){return Nt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,i,r){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new VK(s,n,i,r);this.mutationQueue.push(o);for(const a of r)this.br=this.br.add(new Di(a.key,s)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return Nt.resolve(o)}lookupMutationBatch(t,n){return Nt.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(t,n){const i=n+1,r=this.vr(i),s=r<0?0:r;return Nt.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Nt.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(t){return Nt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const i=new Di(n,0),r=new Di(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([i,r],o=>{const a=this.Dr(o.wr);s.push(a)}),Nt.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,n){let i=new Xi(en);return n.forEach(r=>{const s=new Di(r,0),o=new Di(r,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{i=i.add(a.wr)})}),Nt.resolve(this.Cr(i))}getAllMutationBatchesAffectingQuery(t,n){const i=n.path,r=i.length+1;let s=i;oe.isDocumentKey(s)||(s=s.child(""));const o=new Di(new oe(s),0);let a=new Xi(en);return this.br.forEachWhile(l=>{const u=l.key.path;return!!i.isPrefixOf(u)&&(u.length===r&&(a=a.add(l.wr)),!0)},o),Nt.resolve(this.Cr(a))}Cr(t){const n=[];return t.forEach(i=>{const r=this.Dr(i);r!==null&&n.push(r)}),n}removeMutationBatch(t,n){Je(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.br;return Nt.forEach(n.mutations,r=>{const s=new Di(r.key,n.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.br=i})}On(t){}containsKey(t,n){const i=new Di(n,0),r=this.br.firstAfterOrEqual(i);return Nt.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,Nt.resolve()}Fr(t,n){return this.vr(t)}vr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Dr(t){const n=this.vr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _Y{constructor(t){this.Mr=t,this.docs=function(){return new Kn(oe.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const i=n.key,r=this.docs.get(i),s=r?r.size:0,o=this.Mr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const i=this.docs.get(n);return Nt.resolve(i?i.document.mutableCopy():ji.newInvalidDocument(n))}getEntries(t,n){let i=Ba();return n.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():ji.newInvalidDocument(r))}),Nt.resolve(i)}getDocumentsMatchingQuery(t,n,i,r){let s=Ba();const o=n.path,a=new oe(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||iK(nK(c),i)<=0||(r.has(c.key)||j1(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return Nt.resolve(s)}getAllFromCollectionGroup(t,n,i,r){me()}Or(t,n){return Nt.forEach(this.docs,i=>n(i))}newChangeBuffer(t){return new wY(this)}getSize(t){return Nt.resolve(this.size)}}class wY extends fY{constructor(t){super(),this.cr=t}applyChanges(t){const n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.cr.addEntry(t,r)):this.cr.removeEntry(i)}),Nt.waitFor(n)}getFromCache(t,n){return this.cr.getEntry(t,n)}getAllFromCache(t,n){return this.cr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bY{constructor(t){this.persistence=t,this.Nr=new af(n=>Sb(n),Ab),this.lastRemoteSnapshotVersion=ye.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Cb,this.targetCount=0,this.kr=Gh.Bn()}forEachTarget(t,n){return this.Nr.forEach((i,r)=>n(r)),Nt.resolve()}getLastRemoteSnapshotVersion(t){return Nt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Nt.resolve(this.Lr)}allocateTargetId(t){return this.highestTargetId=this.kr.next(),Nt.resolve(this.highestTargetId)}setTargetsMetadata(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Lr&&(this.Lr=n),Nt.resolve()}Kn(t){this.Nr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.kr=new Gh(n),this.highestTargetId=n),t.sequenceNumber>this.Lr&&(this.Lr=t.sequenceNumber)}addTargetData(t,n){return this.Kn(n),this.targetCount+=1,Nt.resolve()}updateTargetData(t,n){return this.Kn(n),Nt.resolve()}removeTargetData(t,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,Nt.resolve()}removeTargets(t,n,i){let r=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&i.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(t,a.targetId)),r++)}),Nt.waitFor(s).next(()=>r)}getTargetCount(t){return Nt.resolve(this.targetCount)}getTargetData(t,n){const i=this.Nr.get(n)||null;return Nt.resolve(i)}addMatchingKeys(t,n,i){return this.Br.Rr(n,i),Nt.resolve()}removeMatchingKeys(t,n,i){this.Br.mr(n,i);const r=this.persistence.referenceDelegate,s=[];return r&&n.forEach(o=>{s.push(r.markPotentiallyOrphaned(t,o))}),Nt.waitFor(s)}removeMatchingKeysForTargetId(t,n){return this.Br.gr(n),Nt.resolve()}getMatchingKeysForTargetId(t,n){const i=this.Br.yr(n);return Nt.resolve(i)}containsKey(t,n){return Nt.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xY{constructor(t,n){this.qr={},this.overlays={},this.Qr=new _b(0),this.Kr=!1,this.Kr=!0,this.$r=new yY,this.referenceDelegate=t(this),this.Ur=new bY(this),this.indexManager=new cY,this.remoteDocumentCache=function(r){return new _Y(r)}(i=>this.referenceDelegate.Wr(i)),this.serializer=new lY(n),this.Gr=new gY(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new mY,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let i=this.qr[t.toKey()];return i||(i=new vY(n,this.referenceDelegate),this.qr[t.toKey()]=i),i}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(t,n,i){Yt("MemoryPersistence","Starting transaction:",t);const r=new SY(this.Qr.next());return this.referenceDelegate.zr(),i(r).next(s=>this.referenceDelegate.jr(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Hr(t,n){return Nt.or(Object.values(this.qr).map(i=>()=>i.containsKey(t,n)))}}class SY extends sK{constructor(t){super(),this.currentSequenceNumber=t}}class Nb{constructor(t){this.persistence=t,this.Jr=new Cb,this.Yr=null}static Zr(t){return new Nb(t)}get Xr(){if(this.Yr)return this.Yr;throw me()}addReference(t,n,i){return this.Jr.addReference(i,n),this.Xr.delete(i.toString()),Nt.resolve()}removeReference(t,n,i){return this.Jr.removeReference(i,n),this.Xr.add(i.toString()),Nt.resolve()}markPotentiallyOrphaned(t,n){return this.Xr.add(n.toString()),Nt.resolve()}removeTarget(t,n){this.Jr.gr(n.targetId).forEach(r=>this.Xr.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(r=>{r.forEach(s=>this.Xr.add(s.toString()))}).next(()=>i.removeTargetData(t,n))}zr(){this.Yr=new Set}jr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Nt.forEach(this.Xr,i=>{const r=oe.fromPath(i);return this.ei(t,r).next(s=>{s||n.removeEntry(r,ye.min())})}).next(()=>(this.Yr=null,n.apply(t)))}updateLimboDocument(t,n){return this.ei(t,n).next(i=>{i?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(t){return 0}ei(t,n){return Nt.or([()=>Nt.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Hr(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(t,n,i,r){this.targetId=t,this.fromCache=n,this.$i=i,this.Ui=r}static Wi(t,n){let i=Ue(),r=Ue();for(const s of n.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new Lb(t,n.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AY{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TY{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return Eq()?8:oK(br())>0?6:4}()}initialize(t,n){this.Ji=t,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(t,n,i,r){const s={result:null};return this.Yi(t,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(t,n,r,i).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new AY;return this.Xi(t,n,o).next(a=>{if(s.result=a,this.zi)return this.es(t,n,o,a.size)})}).next(()=>s.result)}es(t,n,i,r){return i.documentReadCount<this.ji?($f()<=qe.DEBUG&&Yt("QueryEngine","SDK will not create cache indexes for query:",Vc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Nt.resolve()):($f()<=qe.DEBUG&&Yt("QueryEngine","Query:",Vc(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Hi*r?($f()<=qe.DEBUG&&Yt("QueryEngine","The SDK decides to create cache indexes for query:",Vc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,$o(n))):Nt.resolve())}Yi(t,n){if(yk(n))return Nt.resolve(null);let i=$o(n);return this.indexManager.getIndexType(t,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=z0(n,null,"F"),i=$o(n)),this.indexManager.getDocumentsMatchingTarget(t,i).next(s=>{const o=Ue(...s);return this.Ji.getDocuments(t,o).next(a=>this.indexManager.getMinOffset(t,i).next(l=>{const u=this.ts(n,a);return this.ns(n,u,o,l.readTime)?this.Yi(t,z0(n,null,"F")):this.rs(t,u,n,l)}))})))}Zi(t,n,i,r){return yk(n)||r.isEqual(ye.min())?Nt.resolve(null):this.Ji.getDocuments(t,i).next(s=>{const o=this.ts(n,s);return this.ns(n,o,i,r)?Nt.resolve(null):($f()<=qe.DEBUG&&Yt("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Vc(n)),this.rs(t,o,n,eK(r,-1)).next(a=>a))})}ts(t,n){let i=new Xi(cL(t));return n.forEach((r,s)=>{j1(t,s)&&(i=i.add(s))}),i}ns(t,n,i,r){if(t.limit===null)return!1;if(i.size!==n.size)return!0;const s=t.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Xi(t,n,i){return $f()<=qe.DEBUG&&Yt("QueryEngine","Using full collection scan to execute query:",Vc(n)),this.Ji.getDocumentsMatchingQuery(t,n,Zl.min(),i)}rs(t,n,i,r){return this.Ji.getDocumentsMatchingQuery(t,i,r).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kY{constructor(t,n,i,r){this.persistence=t,this.ss=n,this.serializer=r,this.os=new Kn(en),this._s=new af(s=>Sb(s),Ab),this.us=new Map,this.cs=t.getRemoteDocumentCache(),this.Ur=t.getTargetCache(),this.Gr=t.getBundleCache(),this.ls(i)}ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new pY(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.os))}}function EY(e,t,n,i){return new kY(e,t,n,i)}async function ML(e,t){const n=be(e);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,n.ls(t),n.mutationQueue.getAllMutationBatches(i))).next(s=>{const o=[],a=[];let l=Ue();for(const u of r){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(i,l).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:a}))})})}function PY(e,t){const n=be(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const h=u.batch,p=h.keys();let f=Nt.resolve();return p.forEach(y=>{f=f.next(()=>c.getEntry(l,y)).next(_=>{const x=u.docVersions.get(y);Je(x!==null),_.version.compareTo(x)<0&&(h.applyToRemoteDocument(_,u),_.isValidDocument()&&(_.setReadTime(u.commitVersion),c.addEntry(_)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,i,t,s).next(()=>s.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let l=Ue();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(t))).next(()=>n.localDocuments.getDocuments(i,r))})}function DL(e){const t=be(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Ur.getLastRemoteSnapshotVersion(n))}function IY(e,t){const n=be(e),i=t.snapshotVersion;let r=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});r=n.os;const a=[];t.targetChanges.forEach((c,h)=>{const p=r.get(h);if(!p)return;a.push(n.Ur.removeMatchingKeys(s,c.removedDocuments,h).next(()=>n.Ur.addMatchingKeys(s,c.addedDocuments,h)));let f=p.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(h)!==null?f=f.withResumeToken(Zi.EMPTY_BYTE_STRING,ye.min()).withLastLimboFreeSnapshotVersion(ye.min()):c.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(c.resumeToken,i)),r=r.insert(h,f),function(_,x,v){return _.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(p,f,c)&&a.push(n.Ur.updateTargetData(s,f))});let l=Ba(),u=Ue();if(t.documentUpdates.forEach(c=>{t.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(CY(s,o,t.documentUpdates).next(c=>{l=c.Ps,u=c.Is})),!i.isEqual(ye.min())){const c=n.Ur.getLastRemoteSnapshotVersion(s).next(h=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,i));a.push(c)}return Nt.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.os=r,s))}function CY(e,t,n){let i=Ue(),r=Ue();return n.forEach(s=>i=i.add(s)),t.getEntries(e,i).next(s=>{let o=Ba();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(r=r.add(a)),l.isNoDocument()&&l.version.isEqual(ye.min())?(t.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(t.addEntry(l),o=o.insert(a,l)):Yt("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:o,Is:r}})}function NY(e,t){const n=be(e);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function LY(e,t){const n=be(e);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.Ur.getTargetData(i,t).next(s=>s?(r=s,Nt.resolve(r)):n.Ur.allocateTargetId(i).next(o=>(r=new Rl(t,o,"TargetPurposeListen",i.currentSequenceNumber),n.Ur.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=n.os.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.os=n.os.insert(i.targetId,i),n._s.set(t,i.targetId)),i})}async function V5(e,t,n){const i=be(e),r=i.os.get(t),s=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",s,o=>i.persistence.referenceDelegate.removeTarget(o,r))}catch(o){if(!zp(o))throw o;Yt("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}i.os=i.os.remove(t),i._s.delete(r.target)}function Pk(e,t,n){const i=be(e);let r=ye.min(),s=Ue();return i.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const h=be(l),p=h._s.get(c);return p!==void 0?Nt.resolve(h.os.get(p)):h.Ur.getTargetData(u,c)}(i,o,$o(t)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>i.ss.getDocumentsMatchingQuery(o,t,n?r:ye.min(),n?s:Ue())).next(a=>(RY(i,AK(t),a),{documents:a,Ts:s})))}function RY(e,t,n){let i=e.us.get(t)||ye.min();n.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),e.us.set(t,i)}class Ik{constructor(){this.activeTargetIds=CK()}fs(t){this.activeTargetIds=this.activeTargetIds.add(t)}gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Vs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class MY{constructor(){this.so=new Ik,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,i){}addLocalQueryTarget(t,n=!0){return n&&this.so.fs(t),this.oo[t]||"not-current"}updateQueryState(t,n,i){this.oo[t]=n}removeLocalQueryTarget(t){this.so.gs(t)}isLocalQueryTarget(t){return this.so.activeTargetIds.has(t)}clearQueryState(t){delete this.oo[t]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(t){return this.so.activeTargetIds.has(t)}start(){return this.so=new Ik,Promise.resolve()}handleUserChange(t,n,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DY{_o(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(t){this.ho.push(t)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Yt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ho)t(0)}lo(){Yt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ho)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tm=null;function Av(){return tm===null?tm=function(){return 268435456+Math.round(2147483648*Math.random())}():tm++,"0x"+tm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OY={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FY{constructor(t){this.Io=t.Io,this.To=t.To}Eo(t){this.Ao=t}Ro(t){this.Vo=t}mo(t){this.fo=t}onMessage(t){this.po=t}close(){this.To()}send(t){this.Io(t)}yo(){this.Ao()}wo(){this.Vo()}So(t){this.fo(t)}bo(t){this.po(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ar="WebChannelConnection";class jY extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const i=n.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=i+"://"+n.host,this.vo=`projects/${r}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${s}`}get Fo(){return!1}Mo(n,i,r,s,o){const a=Av(),l=this.xo(n,i.toUriEncodedString());Yt("RestConnection",`Sending RPC '${n}' ${a}:`,l,r);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,s,o),this.No(n,l,u,r).then(c=>(Yt("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw Wh("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",r),c})}Lo(n,i,r,s,o,a){return this.Mo(n,i,r,s,o)}Oo(n,i,r){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+sf}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((s,o)=>n[o]=s),r&&r.headers.forEach((s,o)=>n[o]=s)}xo(n,i){const r=OY[n];return`${this.Do}/v1/${i}:${r}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}No(t,n,i,r){const s=Av();return new Promise((o,a)=>{const l=new $6;l.setWithCredentials(!0),l.listenOnce(G6.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Dm.NO_ERROR:const c=l.getResponseJson();Yt(ar,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(c)),o(c);break;case Dm.TIMEOUT:Yt(ar,`RPC '${t}' ${s} timed out`),a(new Ut(Et.DEADLINE_EXCEEDED,"Request time out"));break;case Dm.HTTP_ERROR:const h=l.getStatus();if(Yt(ar,`RPC '${t}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);const f=p==null?void 0:p.error;if(f&&f.status&&f.message){const y=function(x){const v=x.toLowerCase().replace(/_/g,"-");return Object.values(Et).indexOf(v)>=0?v:Et.UNKNOWN}(f.status);a(new Ut(y,f.message))}else a(new Ut(Et.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Ut(Et.UNAVAILABLE,"Connection failed."));break;default:me()}}finally{Yt(ar,`RPC '${t}' ${s} completed.`)}});const u=JSON.stringify(r);Yt(ar,`RPC '${t}' ${s} sending request:`,r),l.send(n,"POST",u,i,15)})}Bo(t,n,i){const r=Av(),s=[this.Do,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=X6(),a=Y6(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,i),l.encodeInitMessageHeaders=!0;const c=s.join("");Yt(ar,`Creating RPC '${t}' stream ${r}: ${c}`,l);const h=o.createWebChannel(c,l);let p=!1,f=!1;const y=new FY({Io:x=>{f?Yt(ar,`Not sending because RPC '${t}' stream ${r} is closed:`,x):(p||(Yt(ar,`Opening RPC '${t}' stream ${r} transport.`),h.open(),p=!0),Yt(ar,`RPC '${t}' stream ${r} sending:`,x),h.send(x))},To:()=>h.close()}),_=(x,v,A)=>{x.listen(v,I=>{try{A(I)}catch(P){setTimeout(()=>{throw P},0)}})};return _(h,ad.EventType.OPEN,()=>{f||(Yt(ar,`RPC '${t}' stream ${r} transport opened.`),y.yo())}),_(h,ad.EventType.CLOSE,()=>{f||(f=!0,Yt(ar,`RPC '${t}' stream ${r} transport closed`),y.So())}),_(h,ad.EventType.ERROR,x=>{f||(f=!0,Wh(ar,`RPC '${t}' stream ${r} transport errored:`,x),y.So(new Ut(Et.UNAVAILABLE,"The operation could not be completed")))}),_(h,ad.EventType.MESSAGE,x=>{var v;if(!f){const A=x.data[0];Je(!!A);const I=A,P=I.error||((v=I[0])===null||v===void 0?void 0:v.error);if(P){Yt(ar,`RPC '${t}' stream ${r} received error:`,P);const F=P.status;let G=function(E){const D=yi[E];if(D!==void 0)return SL(D)}(F),R=P.message;G===void 0&&(G=Et.INTERNAL,R="Unknown error status: "+F+" with message "+P.message),f=!0,y.So(new Ut(G,R)),h.close()}else Yt(ar,`RPC '${t}' stream ${r} received:`,A),y.bo(A)}}),_(a,K6.STAT_EVENT,x=>{x.stat===C5.PROXY?Yt(ar,`RPC '${t}' stream ${r} detected buffering proxy`):x.stat===C5.NOPROXY&&Yt(ar,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{y.wo()},0),y}}function Tv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W1(e){return new KK(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(t,n,i=1e3,r=1.5,s=6e4){this.ui=t,this.timerId=n,this.ko=i,this.qo=r,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(t){this.cancel();const n=Math.floor(this.Ko+this.zo()),i=Math.max(0,Date.now()-this.Uo),r=Math.max(0,n-i);r>0&&Yt("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,()=>(this.Uo=Date.now(),t())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OL{constructor(t,n,i,r,s,o,a,l){this.ui=t,this.Ho=i,this.Jo=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Rb(t,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(t){this.u_(),this.stream.send(t)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(t,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,t!==4?this.t_.reset():n&&n.code===Et.RESOURCE_EXHAUSTED?(Va(n.toString()),Va("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===Et.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.mo(n)}l_(){}auth(){this.state=1;const t=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Yo===n&&this.P_(i,r)},i=>{t(()=>{const r=new Ut(Et.UNKNOWN,"Fetching auth token failed: "+i.message);return this.I_(r)})})}P_(t,n){const i=this.h_(this.Yo);this.stream=this.T_(t,n),this.stream.Eo(()=>{i(()=>this.listener.Eo())}),this.stream.Ro(()=>{i(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(r=>{i(()=>this.I_(r))}),this.stream.onMessage(r=>{i(()=>++this.e_==1?this.E_(r):this.onNext(r))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(t){return Yt("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}h_(t){return n=>{this.ui.enqueueAndForget(()=>this.Yo===t?n():(Yt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class VY extends OL{constructor(t,n,i,r,s,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,o),this.serializer=s}T_(t,n){return this.connection.Bo("Listen",t,n)}E_(t){return this.onNext(t)}onNext(t){this.t_.reset();const n=JK(this.serializer,t),i=function(s){if(!("targetChange"in s))return ye.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ye.min():o.readTime?ds(o.readTime):ye.min()}(t);return this.listener.d_(n,i)}A_(t){const n={};n.database=j5(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=M5(l)?{documents:tY(s,l)}:{query:eY(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=kL(s,o.resumeToken);const u=O5(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(ye.min())>0){a.readTime=q0(s,o.snapshotVersion.toTimestamp());const u=O5(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,t);const i=iY(this.serializer,t);i&&(n.labels=i),this.a_(n)}R_(t){const n={};n.database=j5(this.serializer),n.removeTarget=t,this.a_(n)}}class BY extends OL{constructor(t,n,i,r,s,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(t,n){return this.connection.Bo("Write",t,n)}E_(t){return Je(!!t.streamToken),this.lastStreamToken=t.streamToken,Je(!t.writeResults||t.writeResults.length===0),this.listener.f_()}onNext(t){Je(!!t.streamToken),this.lastStreamToken=t.streamToken,this.t_.reset();const n=ZK(t.writeResults,t.commitTime),i=ds(t.commitTime);return this.listener.g_(i,n)}p_(){const t={};t.database=j5(this.serializer),this.a_(t)}m_(t){const n={streamToken:this.lastStreamToken,writes:t.map(i=>CL(this.serializer,i))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UY extends class{}{constructor(t,n,i,r){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.y_=!1}w_(){if(this.y_)throw new Ut(Et.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(t,n,i,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(t,F5(n,i),r,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ut(Et.UNKNOWN,s.toString())})}Lo(t,n,i,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(t,F5(n,i),r,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ut(Et.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class zY{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(t){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.C_("Offline")))}set(t){this.x_(),this.S_=0,t==="Online"&&(this.D_=!1),this.C_(t)}C_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}F_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Va(n),this.D_=!1):Yt("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WY{constructor(t,n,i,r,s){this.localStore=t,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{i.enqueueAndForget(async()=>{_c(this)&&(Yt("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=be(l);u.L_.add(4),await $p(u),u.q_.set("Unknown"),u.L_.delete(4),await q1(u)}(this))})}),this.q_=new zY(i,r)}}async function q1(e){if(_c(e))for(const t of e.B_)await t(!0)}async function $p(e){for(const t of e.B_)await t(!1)}function FL(e,t){const n=be(e);n.N_.has(t.targetId)||(n.N_.set(t.targetId,t),Fb(n)?Ob(n):lf(n).r_()&&Db(n,t))}function Mb(e,t){const n=be(e),i=lf(n);n.N_.delete(t),i.r_()&&jL(n,t),n.N_.size===0&&(i.r_()?i.o_():_c(n)&&n.q_.set("Unknown"))}function Db(e,t){if(e.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ye.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}lf(e).A_(t)}function jL(e,t){e.Q_.xe(t),lf(e).R_(t)}function Ob(e){e.Q_=new qK({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.N_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),lf(e).start(),e.q_.v_()}function Fb(e){return _c(e)&&!lf(e).n_()&&e.N_.size>0}function _c(e){return be(e).L_.size===0}function VL(e){e.Q_=void 0}async function qY(e){e.q_.set("Online")}async function HY(e){e.N_.forEach((t,n)=>{Db(e,t)})}async function $Y(e,t){VL(e),Fb(e)?(e.q_.M_(t),Ob(e)):e.q_.set("Unknown")}async function GY(e,t,n){if(e.q_.set("Online"),t instanceof TL&&t.state===2&&t.cause)try{await async function(r,s){const o=s.cause;for(const a of s.targetIds)r.N_.has(a)&&(await r.remoteSyncer.rejectListen(a,o),r.N_.delete(a),r.Q_.removeTarget(a))}(e,t)}catch(i){Yt("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),await $0(e,i)}else if(t instanceof jm?e.Q_.Ke(t):t instanceof AL?e.Q_.He(t):e.Q_.We(t),!n.isEqual(ye.min()))try{const i=await DL(e.localStore);n.compareTo(i)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=s.N_.get(u);c&&s.N_.set(u,c.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const c=s.N_.get(l);if(!c)return;s.N_.set(l,c.withResumeToken(Zi.EMPTY_BYTE_STRING,c.snapshotVersion)),jL(s,l);const h=new Rl(c.target,l,u,c.sequenceNumber);Db(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(e,n)}catch(i){Yt("RemoteStore","Failed to raise snapshot:",i),await $0(e,i)}}async function $0(e,t,n){if(!zp(t))throw t;e.L_.add(1),await $p(e),e.q_.set("Offline"),n||(n=()=>DL(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Yt("RemoteStore","Retrying IndexedDB access"),await n(),e.L_.delete(1),await q1(e)})}function BL(e,t){return t().catch(n=>$0(e,n,t))}async function H1(e){const t=be(e),n=eu(t);let i=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;KY(t);)try{const r=await NY(t.localStore,i);if(r===null){t.O_.length===0&&n.o_();break}i=r.batchId,YY(t,r)}catch(r){await $0(t,r)}UL(t)&&zL(t)}function KY(e){return _c(e)&&e.O_.length<10}function YY(e,t){e.O_.push(t);const n=eu(e);n.r_()&&n.V_&&n.m_(t.mutations)}function UL(e){return _c(e)&&!eu(e).n_()&&e.O_.length>0}function zL(e){eu(e).start()}async function XY(e){eu(e).p_()}async function QY(e){const t=eu(e);for(const n of e.O_)t.m_(n.mutations)}async function JY(e,t,n){const i=e.O_.shift(),r=Eb.from(i,t,n);await BL(e,()=>e.remoteSyncer.applySuccessfulWrite(r)),await H1(e)}async function ZY(e,t){t&&eu(e).V_&&await async function(i,r){if(function(o){return xL(o)&&o!==Et.ABORTED}(r.code)){const s=i.O_.shift();eu(i).s_(),await BL(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),await H1(i)}}(e,t),UL(e)&&zL(e)}async function Nk(e,t){const n=be(e);n.asyncQueue.verifyOperationInProgress(),Yt("RemoteStore","RemoteStore received new credentials");const i=_c(n);n.L_.add(3),await $p(n),i&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.L_.delete(3),await q1(n)}async function tX(e,t){const n=be(e);t?(n.L_.delete(2),await q1(n)):t||(n.L_.add(2),await $p(n),n.q_.set("Unknown"))}function lf(e){return e.K_||(e.K_=function(n,i,r){const s=be(n);return s.w_(),new VY(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(e.datastore,e.asyncQueue,{Eo:qY.bind(null,e),Ro:HY.bind(null,e),mo:$Y.bind(null,e),d_:GY.bind(null,e)}),e.B_.push(async t=>{t?(e.K_.s_(),Fb(e)?Ob(e):e.q_.set("Unknown")):(await e.K_.stop(),VL(e))})),e.K_}function eu(e){return e.U_||(e.U_=function(n,i,r){const s=be(n);return s.w_(),new BY(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(e.datastore,e.asyncQueue,{Eo:()=>Promise.resolve(),Ro:XY.bind(null,e),mo:ZY.bind(null,e),f_:QY.bind(null,e),g_:JY.bind(null,e)}),e.B_.push(async t=>{t?(e.U_.s_(),await H1(e)):(await e.U_.stop(),e.O_.length>0&&(Yt("RemoteStore",`Stopping write stream with ${e.O_.length} pending writes`),e.O_=[]))})),e.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(t,n,i,r,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Na,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,i,r,s){const o=Date.now()+i,a=new jb(t,n,o,r,s);return a.start(i),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ut(Et.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vb(e,t){if(Va("AsyncQueue",`${t}: ${e}`),zp(e))return new Ut(Et.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(t){this.comparator=t?(n,i)=>t(n,i)||oe.comparator(n.key,i.key):(n,i)=>oe.comparator(n.key,i.key),this.keyedMap=ld(),this.sortedSet=new Kn(this.comparator)}static emptySet(t){return new xh(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,i)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof xh)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const i=new xh;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(){this.W_=new Kn(oe.comparator)}track(t){const n=t.doc.key,i=this.W_.get(n);i?t.type!==0&&i.type===3?this.W_=this.W_.insert(n,t):t.type===3&&i.type!==1?this.W_=this.W_.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.W_=this.W_.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.W_=this.W_.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.W_=this.W_.remove(n):t.type===1&&i.type===2?this.W_=this.W_.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.W_=this.W_.insert(n,{type:2,doc:t.doc}):me():this.W_=this.W_.insert(n,t)}G_(){const t=[];return this.W_.inorderTraversal((n,i)=>{t.push(i)}),t}}class Kh{constructor(t,n,i,r,s,o,a,l,u){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(t,n,i,r,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Kh(t,n,xh.emptySet(n),o,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&F1(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eX{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(t=>t.J_())}}class nX{constructor(){this.queries=Rk(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,i){const r=be(n),s=r.queries;r.queries=Rk(),s.forEach((o,a)=>{for(const l of a.j_)l.onError(i)})})(this,new Ut(Et.ABORTED,"Firestore shutting down"))}}function Rk(){return new af(e=>uL(e),F1)}async function WL(e,t){const n=be(e);let i=3;const r=t.query;let s=n.queries.get(r);s?!s.H_()&&t.J_()&&(i=2):(s=new eX,i=t.J_()?0:1);try{switch(i){case 0:s.z_=await n.onListen(r,!0);break;case 1:s.z_=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(o){const a=Vb(o,`Initialization of query '${Vc(t.query)}' failed`);return void t.onError(a)}n.queries.set(r,s),s.j_.push(t),t.Z_(n.onlineState),s.z_&&t.X_(s.z_)&&Bb(n)}async function qL(e,t){const n=be(e),i=t.query;let r=3;const s=n.queries.get(i);if(s){const o=s.j_.indexOf(t);o>=0&&(s.j_.splice(o,1),s.j_.length===0?r=t.J_()?0:1:!s.H_()&&t.J_()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function iX(e,t){const n=be(e);let i=!1;for(const r of t){const s=r.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(r)&&(i=!0);o.z_=r}}i&&Bb(n)}function rX(e,t,n){const i=be(e),r=i.queries.get(t);if(r)for(const s of r.j_)s.onError(n);i.queries.delete(t)}function Bb(e){e.Y_.forEach(t=>{t.next()})}var B5,Mk;(Mk=B5||(B5={})).ea="default",Mk.Cache="cache";class HL{constructor(t,n,i){this.query=t,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=i||{}}X_(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)r.type!==3&&i.push(r);t=new Kh(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.na?this.ia(t)&&(this.ta.next(t),n=!0):this.sa(t,this.onlineState)&&(this.oa(t),n=!0),this.ra=t,n}onError(t){this.ta.error(t)}Z_(t){this.onlineState=t;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,t)&&(this.oa(this.ra),n=!0),n}sa(t,n){if(!t.fromCache||!this.J_())return!0;const i=n!=="Offline";return(!this.options._a||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}ia(t){if(t.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(t){t=Kh.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.na=!0,this.ta.next(t)}J_(){return this.options.source!==B5.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $L{constructor(t){this.key=t}}class GL{constructor(t){this.key=t}}class sX{constructor(t,n){this.query=t,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ue(),this.mutatedKeys=Ue(),this.Aa=cL(t),this.Ra=new xh(this.Aa)}get Va(){return this.Ta}ma(t,n){const i=n?n.fa:new Lk,r=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=r,a=!1;const l=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,u=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((c,h)=>{const p=r.get(c),f=j1(this.query,h)?h:null,y=!!p&&this.mutatedKeys.has(p.key),_=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let x=!1;p&&f?p.data.isEqual(f.data)?y!==_&&(i.track({type:3,doc:f}),x=!0):this.ga(p,f)||(i.track({type:2,doc:f}),x=!0,(l&&this.Aa(f,l)>0||u&&this.Aa(f,u)<0)&&(a=!0)):!p&&f?(i.track({type:0,doc:f}),x=!0):p&&!f&&(i.track({type:1,doc:p}),x=!0,(l||u)&&(a=!0)),x&&(f?(o=o.add(f),s=_?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),i.track({type:1,doc:c})}return{Ra:o,fa:i,ns:a,mutatedKeys:s}}ga(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,i,r){const s=this.Ra;this.Ra=t.Ra,this.mutatedKeys=t.mutatedKeys;const o=t.fa.G_();o.sort((c,h)=>function(f,y){const _=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return me()}};return _(f)-_(y)}(c.type,h.type)||this.Aa(c.doc,h.doc)),this.pa(i),r=r!=null&&r;const a=n&&!r?this.ya():[],l=this.da.size===0&&this.current&&!r?1:0,u=l!==this.Ea;return this.Ea=l,o.length!==0||u?{snapshot:new Kh(this.query,t.Ra,s,o,t.mutatedKeys,l===0,u,!1,!!i&&i.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Lk,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(t){return!this.Ta.has(t)&&!!this.Ra.has(t)&&!this.Ra.get(t).hasLocalMutations}pa(t){t&&(t.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=t.current)}ya(){if(!this.current)return[];const t=this.da;this.da=Ue(),this.Ra.forEach(i=>{this.Sa(i.key)&&(this.da=this.da.add(i.key))});const n=[];return t.forEach(i=>{this.da.has(i)||n.push(new GL(i))}),this.da.forEach(i=>{t.has(i)||n.push(new $L(i))}),n}ba(t){this.Ta=t.Ts,this.da=Ue();const n=this.ma(t.documents);return this.applyChanges(n,!0)}Da(){return Kh.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class oX{constructor(t,n,i){this.query=t,this.targetId=n,this.view=i}}class aX{constructor(t){this.key=t,this.va=!1}}class lX{constructor(t,n,i,r,s,o){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new af(a=>uL(a),F1),this.Ma=new Map,this.xa=new Set,this.Oa=new Kn(oe.comparator),this.Na=new Map,this.La=new Cb,this.Ba={},this.ka=new Map,this.qa=Gh.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function uX(e,t,n=!0){const i=ZL(e);let r;const s=i.Fa.get(t);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.Da()):r=await KL(i,t,n,!0),r}async function cX(e,t){const n=ZL(e);await KL(n,t,!0,!1)}async function KL(e,t,n,i){const r=await LY(e.localStore,$o(t)),s=r.targetId,o=e.sharedClientState.addLocalQueryTarget(s,n);let a;return i&&(a=await hX(e,t,s,o==="current",r.resumeToken)),e.isPrimaryClient&&n&&FL(e.remoteStore,r),a}async function hX(e,t,n,i,r){e.Ka=(h,p,f)=>async function(_,x,v,A){let I=x.view.ma(v);I.ns&&(I=await Pk(_.localStore,x.query,!1).then(({documents:R})=>x.view.ma(R,I)));const P=A&&A.targetChanges.get(x.targetId),F=A&&A.targetMismatches.get(x.targetId)!=null,G=x.view.applyChanges(I,_.isPrimaryClient,P,F);return Ok(_,x.targetId,G.wa),G.snapshot}(e,h,p,f);const s=await Pk(e.localStore,t,!0),o=new sX(t,s.Ts),a=o.ma(s.documents),l=Hp.createSynthesizedTargetChangeForCurrentChange(n,i&&e.onlineState!=="Offline",r),u=o.applyChanges(a,e.isPrimaryClient,l);Ok(e,n,u.wa);const c=new oX(t,n,o);return e.Fa.set(t,c),e.Ma.has(n)?e.Ma.get(n).push(t):e.Ma.set(n,[t]),u.snapshot}async function fX(e,t,n){const i=be(e),r=i.Fa.get(t),s=i.Ma.get(r.targetId);if(s.length>1)return i.Ma.set(r.targetId,s.filter(o=>!F1(o,t))),void i.Fa.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await V5(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),n&&Mb(i.remoteStore,r.targetId),U5(i,r.targetId)}).catch(Up)):(U5(i,r.targetId),await V5(i.localStore,r.targetId,!0))}async function dX(e,t){const n=be(e),i=n.Fa.get(t),r=n.Ma.get(i.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Mb(n.remoteStore,i.targetId))}async function pX(e,t,n){const i=bX(e);try{const r=await function(o,a){const l=be(o),u=Ci.now(),c=a.reduce((f,y)=>f.add(y.key),Ue());let h,p;return l.persistence.runTransaction("Locally write mutations","readwrite",f=>{let y=Ba(),_=Ue();return l.cs.getEntries(f,c).next(x=>{y=x,y.forEach((v,A)=>{A.isValidDocument()||(_=_.add(v))})}).next(()=>l.localDocuments.getOverlayedDocuments(f,y)).next(x=>{h=x;const v=[];for(const A of a){const I=jK(A,h.get(A.key).overlayedDocument);I!=null&&v.push(new lu(A.key,I,eL(I.value.mapValue),mr.exists(!0)))}return l.mutationQueue.addMutationBatch(f,u,v,a)}).next(x=>{p=x;const v=x.applyToLocalDocumentSet(h,_);return l.documentOverlayCache.saveOverlays(f,x.batchId,v)})}).then(()=>({batchId:p.batchId,changes:fL(h)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(o,a,l){let u=o.Ba[o.currentUser.toKey()];u||(u=new Kn(en)),u=u.insert(a,l),o.Ba[o.currentUser.toKey()]=u}(i,r.batchId,n),await Gp(i,r.changes),await H1(i.remoteStore)}catch(r){const s=Vb(r,"Failed to persist write");n.reject(s)}}async function YL(e,t){const n=be(e);try{const i=await IY(n.localStore,t);t.targetChanges.forEach((r,s)=>{const o=n.Na.get(s);o&&(Je(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.va=!0:r.modifiedDocuments.size>0?Je(o.va):r.removedDocuments.size>0&&(Je(o.va),o.va=!1))}),await Gp(n,i,t)}catch(i){await Up(i)}}function Dk(e,t,n){const i=be(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const r=[];i.Fa.forEach((s,o)=>{const a=o.view.Z_(t);a.snapshot&&r.push(a.snapshot)}),function(o,a){const l=be(o);l.onlineState=a;let u=!1;l.queries.forEach((c,h)=>{for(const p of h.j_)p.Z_(a)&&(u=!0)}),u&&Bb(l)}(i.eventManager,t),r.length&&i.Ca.d_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function gX(e,t,n){const i=be(e);i.sharedClientState.updateQueryState(t,"rejected",n);const r=i.Na.get(t),s=r&&r.key;if(s){let o=new Kn(oe.comparator);o=o.insert(s,ji.newNoDocument(s,ye.min()));const a=Ue().add(s),l=new z1(ye.min(),new Map,new Kn(en),o,a);await YL(i,l),i.Oa=i.Oa.remove(s),i.Na.delete(t),Ub(i)}else await V5(i.localStore,t,!1).then(()=>U5(i,t,n)).catch(Up)}async function mX(e,t){const n=be(e),i=t.batch.batchId;try{const r=await PY(n.localStore,t);QL(n,i,null),XL(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Gp(n,r)}catch(r){await Up(r)}}async function yX(e,t,n){const i=be(e);try{const r=await function(o,a){const l=be(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(Je(h!==null),c=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(i.localStore,t);QL(i,t,n),XL(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),await Gp(i,r)}catch(r){await Up(r)}}function XL(e,t){(e.ka.get(t)||[]).forEach(n=>{n.resolve()}),e.ka.delete(t)}function QL(e,t,n){const i=be(e);let r=i.Ba[i.currentUser.toKey()];if(r){const s=r.get(t);s&&(n?s.reject(n):s.resolve(),r=r.remove(t)),i.Ba[i.currentUser.toKey()]=r}}function U5(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const i of e.Ma.get(t))e.Fa.delete(i),n&&e.Ca.$a(i,n);e.Ma.delete(t),e.isPrimaryClient&&e.La.gr(t).forEach(i=>{e.La.containsKey(i)||JL(e,i)})}function JL(e,t){e.xa.delete(t.path.canonicalString());const n=e.Oa.get(t);n!==null&&(Mb(e.remoteStore,n),e.Oa=e.Oa.remove(t),e.Na.delete(n),Ub(e))}function Ok(e,t,n){for(const i of n)i instanceof $L?(e.La.addReference(i.key,t),vX(e,i)):i instanceof GL?(Yt("SyncEngine","Document no longer in limbo: "+i.key),e.La.removeReference(i.key,t),e.La.containsKey(i.key)||JL(e,i.key)):me()}function vX(e,t){const n=t.key,i=n.path.canonicalString();e.Oa.get(n)||e.xa.has(i)||(Yt("SyncEngine","New document in limbo: "+n),e.xa.add(i),Ub(e))}function Ub(e){for(;e.xa.size>0&&e.Oa.size<e.maxConcurrentLimboResolutions;){const t=e.xa.values().next().value;e.xa.delete(t);const n=new oe(xn.fromString(t)),i=e.qa.next();e.Na.set(i,new aX(n)),e.Oa=e.Oa.insert(n,i),FL(e.remoteStore,new Rl($o(Tb(n.path)),i,"TargetPurposeLimboResolution",_b.oe))}}async function Gp(e,t,n){const i=be(e),r=[],s=[],o=[];i.Fa.isEmpty()||(i.Fa.forEach((a,l)=>{o.push(i.Ka(l,t,n).then(u=>{var c;if((u||n)&&i.isPrimaryClient){const h=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))===null||c===void 0?void 0:c.current;i.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(u){r.push(u);const h=Lb.Wi(l.targetId,u);s.push(h)}}))}),await Promise.all(o),i.Ca.d_(r),await async function(l,u){const c=be(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>Nt.forEach(u,p=>Nt.forEach(p.$i,f=>c.persistence.referenceDelegate.addReference(h,p.targetId,f)).next(()=>Nt.forEach(p.Ui,f=>c.persistence.referenceDelegate.removeReference(h,p.targetId,f)))))}catch(h){if(!zp(h))throw h;Yt("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const p=h.targetId;if(!h.fromCache){const f=c.os.get(p),y=f.snapshotVersion,_=f.withLastLimboFreeSnapshotVersion(y);c.os=c.os.insert(p,_)}}}(i.localStore,s))}async function _X(e,t){const n=be(e);if(!n.currentUser.isEqual(t)){Yt("SyncEngine","User change. New user:",t.toKey());const i=await ML(n.localStore,t);n.currentUser=t,function(s,o){s.ka.forEach(a=>{a.forEach(l=>{l.reject(new Ut(Et.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await Gp(n,i.hs)}}function wX(e,t){const n=be(e),i=n.Na.get(t);if(i&&i.va)return Ue().add(i.key);{let r=Ue();const s=n.Ma.get(t);if(!s)return r;for(const o of s){const a=n.Fa.get(o);r=r.unionWith(a.view.Va)}return r}}function ZL(e){const t=be(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=YL.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=wX.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=gX.bind(null,t),t.Ca.d_=iX.bind(null,t.eventManager),t.Ca.$a=rX.bind(null,t.eventManager),t}function bX(e){const t=be(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=mX.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=yX.bind(null,t),t}class G0{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=W1(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),await this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)}ja(t,n){return null}Ha(t,n){return null}za(t){return EY(this.persistence,new TY,t.initialUser,this.serializer)}Ga(t){return new xY(Nb.Zr,this.serializer)}Wa(t){return new MY}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}G0.provider={build:()=>new G0};class z5{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Dk(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=_X.bind(null,this.syncEngine),await tX(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new nX}()}createDatastore(t){const n=W1(t.databaseInfo.databaseId),i=function(s){return new jY(s)}(t.databaseInfo);return function(s,o,a,l){return new UY(s,o,a,l)}(t.authCredentials,t.appCheckCredentials,i,n)}createRemoteStore(t){return function(i,r,s,o,a){return new WY(i,r,s,o,a)}(this.localStore,this.datastore,t.asyncQueue,n=>Dk(this.syncEngine,n,0),function(){return Ck.D()?new Ck:new DY}())}createSyncEngine(t,n){return function(r,s,o,a,l,u,c){const h=new lX(r,s,o,a,l,u);return c&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(r){const s=be(r);Yt("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await $p(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}z5.provider={build:()=>new z5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ya(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ya(this.observer.error,t):Va("Uncaught Error in snapshot listener:",t.toString()))}Za(){this.muted=!0}Ya(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xX{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(t){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new Ut(Et.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await async function(r,s){const o=be(r),a={documents:s.map(h=>H0(o.serializer,h))},l=await o.Lo("BatchGetDocuments",o.serializer.databaseId,xn.emptyPath(),a,s.length),u=new Map;l.forEach(h=>{const p=QK(o.serializer,h);u.set(p.key.toString(),p)});const c=[];return s.forEach(h=>{const p=u.get(h.toString());Je(!!p),c.push(p)}),c}(this.datastore,t);return n.forEach(i=>this.recordVersion(i)),n}set(t,n){this.write(n.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,n){try{this.write(n.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastTransactionError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new U1(t,this.precondition(t))),this.writtenDocs.add(t.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const t=this.readVersions;this.mutations.forEach(n=>{t.delete(n.key.toString())}),t.forEach((n,i)=>{const r=oe.fromPath(i);this.mutations.push(new bL(r,this.precondition(r)))}),await async function(i,r){const s=be(i),o={writes:r.map(a=>CL(s.serializer,a))};await s.Mo("Commit",s.serializer.databaseId,xn.emptyPath(),o)}(this.datastore,this.mutations),this.committed=!0}recordVersion(t){let n;if(t.isFoundDocument())n=t.version;else{if(!t.isNoDocument())throw me();n=ye.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!n.isEqual(i))throw new Ut(Et.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),n)}precondition(t){const n=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&n?n.isEqual(ye.min())?mr.exists(!1):mr.updateTime(n):mr.none()}preconditionForUpdate(t){const n=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&n){if(n.isEqual(ye.min()))throw new Ut(Et.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return mr.updateTime(n)}return mr.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SX{constructor(t,n,i,r,s){this.asyncQueue=t,this.datastore=n,this.options=i,this.updateFunction=r,this.deferred=s,this._u=i.maxAttempts,this.t_=new Rb(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){this.t_.Go(async()=>{const t=new xX(this.datastore),n=this.cu(t);n&&n.then(i=>{this.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{this.deferred.resolve(i)}).catch(r=>{this.lu(r)}))}).catch(i=>{this.lu(i)})})}cu(t){try{const n=this.updateFunction(t);return!Wp(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}lu(t){this._u>0&&this.hu(t)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(t)}hu(t){if(t.name==="FirebaseError"){const n=t.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!xL(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AX{constructor(t,n,i,r,s){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=pr.UNAUTHENTICATED,this.clientId=J6.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(i,async o=>{Yt("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(i,o=>(Yt("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Na;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const i=Vb(n,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function kv(e,t){e.asyncQueue.verifyOperationInProgress(),Yt("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let i=n.initialUser;e.setCredentialChangeListener(async r=>{i.isEqual(r)||(await ML(t.localStore,r),i=r)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function Fk(e,t){e.asyncQueue.verifyOperationInProgress();const n=await TX(e);Yt("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(i=>Nk(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,r)=>Nk(t.remoteStore,r)),e._onlineComponents=t}async function TX(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Yt("FirestoreClient","Using user provided OfflineComponentProvider");try{await kv(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(r){return r.name==="FirebaseError"?r.code===Et.FAILED_PRECONDITION||r.code===Et.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(n))throw n;Wh("Error using user provided cache. Falling back to memory cache: "+n),await kv(e,new G0)}}else Yt("FirestoreClient","Using default OfflineComponentProvider"),await kv(e,new G0);return e._offlineComponents}async function zb(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Yt("FirestoreClient","Using user provided OnlineComponentProvider"),await Fk(e,e._uninitializedComponentsProvider._online)):(Yt("FirestoreClient","Using default OnlineComponentProvider"),await Fk(e,new z5))),e._onlineComponents}function kX(e){return zb(e).then(t=>t.syncEngine)}function EX(e){return zb(e).then(t=>t.datastore)}async function W5(e){const t=await zb(e),n=t.eventManager;return n.onListen=uX.bind(null,t.syncEngine),n.onUnlisten=fX.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=cX.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=dX.bind(null,t.syncEngine),n}function PX(e,t,n={}){const i=new Na;return e.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new tR({next:p=>{c.Za(),o.enqueueAndForget(()=>qL(s,h)),p.fromCache&&l.source==="server"?u.reject(new Ut(Et.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(p)},error:p=>u.reject(p)}),h=new HL(a,c,{includeMetadataChanges:!0,_a:!0});return WL(s,h)}(await W5(e),e.asyncQueue,t,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eR(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jk=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nR(e,t,n){if(!n)throw new Ut(Et.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function IX(e,t,n,i){if(t===!0&&i===!0)throw new Ut(Et.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function Vk(e){if(!oe.isDocumentKey(e))throw new Ut(Et.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Bk(e){if(oe.isDocumentKey(e))throw new Ut(Et.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function $1(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":me()}function ho(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Ut(Et.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=$1(e);throw new Ut(Et.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(t){var n,i;if(t.host===void 0){if(t.ssl!==void 0)throw new Ut(Et.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new Ut(Et.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}IX("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=eR((i=t.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Ut(Et.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Ut(Et.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Ut(Et.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class G1{constructor(t,n,i,r){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Uk({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ut(Et.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Ut(Et.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Uk(t),t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new $G;switch(i.type){case"firstParty":return new XG(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Ut(Et.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=jk.get(n);i&&(Yt("ComponentProvider","Removing Datastore"),jk.delete(n),i.terminate())}(this),Promise.resolve()}}function CX(e,t,n,i={}){var r;const s=(e=ho(e,G1))._getSettings(),o=`${t}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Wh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),i.mockUserToken){let a,l;if(typeof i.mockUserToken=="string")a=i.mockUserToken,l=pr.MOCK_USER;else{a=wq(i.mockUserToken,(r=e._app)===null||r===void 0?void 0:r.options.projectId);const u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new Ut(Et.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new pr(u)}e._authCredentials=new GG(new Q6(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new $a(this.firestore,t,this._query)}}class Nr{constructor(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gl(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Nr(this.firestore,t,this._key)}}class Gl extends $a{constructor(t,n,i){super(t,n,Tb(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Nr(this.firestore,null,new oe(t))}withConverter(t){return new Gl(this.firestore,t,this._path)}}function Ua(e,t,...n){if(e=wi(e),nR("collection","path",t),e instanceof G1){const i=xn.fromString(t,...n);return Bk(i),new Gl(e,null,i)}{if(!(e instanceof Nr||e instanceof Gl))throw new Ut(Et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(xn.fromString(t,...n));return Bk(i),new Gl(e.firestore,null,i)}}function Fn(e,t,...n){if(e=wi(e),arguments.length===1&&(t=J6.newId()),nR("doc","path",t),e instanceof G1){const i=xn.fromString(t,...n);return Vk(i),new Nr(e,null,new oe(i))}{if(!(e instanceof Nr||e instanceof Gl))throw new Ut(Et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(xn.fromString(t,...n));return Vk(i),new Nr(e.firestore,e instanceof Gl?e.converter:null,new oe(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(t=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Rb(this,"async_queue_retry"),this.Vu=()=>{const i=Tv();i&&Yt("AsyncQueue","Visibility state changed to "+i.visibilityState),this.t_.jo()},this.mu=t;const n=Tv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.fu(),this.gu(t)}enterRestrictedMode(t){if(!this.Iu){this.Iu=!0,this.Au=t||!1;const n=Tv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(t){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Na;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Pu.push(t),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(t){if(!zp(t))throw t;Yt("AsyncQueue","Operation failed with retryable error: "+t)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(t){const n=this.mu.then(()=>(this.du=!0,t().catch(i=>{this.Eu=i,this.du=!1;const r=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(i);throw Va("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.du=!1,i))));return this.mu=n,n}enqueueAfterDelay(t,n,i){this.fu(),this.Ru.indexOf(t)>-1&&(n=0);const r=jb.createAndSchedule(this,t,n,i,s=>this.yu(s));return this.Tu.push(r),r}fu(){this.Eu&&me()}verifyOperationInProgress(){}async wu(){let t;do t=this.mu,await t;while(t!==this.mu)}Su(t){for(const n of this.Tu)if(n.timerId===t)return!0;return!1}bu(t){return this.wu().then(()=>{this.Tu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.wu()})}Du(t){this.Ru.push(t)}yu(t){const n=this.Tu.indexOf(t);this.Tu.splice(n,1)}}function Wk(e){return function(n,i){if(typeof n!="object"||n===null)return!1;const r=n;for(const s of i)if(s in r&&typeof r[s]=="function")return!0;return!1}(e,["next","error","complete"])}class nu extends G1{constructor(t,n,i,r){super(t,n,i,r),this.type="firestore",this._queue=new zk,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new zk(t),this._firestoreClient=void 0,await t}}}function NX(e,t){const n=typeof e=="object"?e:h6(),i=typeof e=="string"?e:"(default)",r=ob(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=vq("firestore");s&&CX(r,...s)}return r}function K1(e){if(e._terminated)throw new Ut(Et.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||LX(e),e._firestoreClient}function LX(e){var t,n,i;const r=e._freezeSettings(),s=function(a,l,u,c){return new uK(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,eR(c.experimentalLongPollingOptions),c.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,r);e._componentsProvider||!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(e._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),e._firestoreClient=new AX(e._authCredentials,e._appCheckCredentials,e._queue,s,e._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(t){this._byteString=t}static fromBase64String(t){try{return new cc(Zi.fromBase64String(t))}catch(n){throw new Ut(Et.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new cc(Zi.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new Ut(Et.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ki(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new Ut(Et.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Ut(Et.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return en(this._lat,t._lat)||en(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,r){if(i.length!==r.length)return!1;for(let s=0;s<i.length;++s)if(i[s]!==r[s])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RX=/^__.*__$/;class MX{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return this.fieldMask!==null?new lu(t,this.data,this.fieldMask,n,this.fieldTransforms):new qp(t,this.data,n,this.fieldTransforms)}}class iR{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return new lu(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function rR(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw me()}}class Hb{constructor(t,n,i,r,s,o){this.settings=t,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(t){return new Hb(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),r=this.Fu({path:i,xu:!1});return r.Ou(t),r}Nu(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),r=this.Fu({path:i,xu:!1});return r.vu(),r}Lu(t){return this.Fu({path:void 0,xu:!0})}Bu(t){return K0(t,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Ou(this.path.get(t))}Ou(t){if(t.length===0)throw this.Bu("Document fields must not be empty");if(rR(this.Cu)&&RX.test(t))throw this.Bu('Document fields cannot begin and end with "__"')}}class DX{constructor(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=i||W1(t)}Qu(t,n,i,r=!1){return new Hb({Cu:t,methodName:n,qu:i,path:Ki.emptyPath(),xu:!1,ku:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function X1(e){const t=e._freezeSettings(),n=W1(e._databaseId);return new DX(e._databaseId,!!t.ignoreUndefinedProperties,n)}function sR(e,t,n,i,r,s={}){const o=e.Qu(s.merge||s.mergeFields?2:0,t,n,r);Gb("Data must be an object, but it was:",o,i);const a=lR(i,o);let l,u;if(s.merge)l=new us(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const h of s.mergeFields){const p=q5(t,h,n);if(!o.contains(p))throw new Ut(Et.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);cR(c,p)||c.push(p)}l=new us(c),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new MX(new Ir(a),l,u)}class Q1 extends Y1{_toFieldTransform(t){if(t.Cu!==2)throw t.Cu===1?t.Bu(`${this._methodName}() can only appear at the top level of your update data`):t.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Q1}}class $b extends Y1{_toFieldTransform(t){return new MK(t.path,new wp)}isEqual(t){return t instanceof $b}}function oR(e,t,n,i){const r=e.Qu(1,t,n);Gb("Data must be an object, but it was:",r,i);const s=[],o=Ir.empty();vc(i,(l,u)=>{const c=Kb(t,l,n);u=wi(u);const h=r.Nu(c);if(u instanceof Q1)s.push(c);else{const p=Yp(u,h);p!=null&&(s.push(c),o.set(c,p))}});const a=new us(s);return new iR(o,a,r.fieldTransforms)}function aR(e,t,n,i,r,s){const o=e.Qu(1,t,n),a=[q5(t,i,n)],l=[r];if(s.length%2!=0)throw new Ut(Et.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<s.length;p+=2)a.push(q5(t,s[p])),l.push(s[p+1]);const u=[],c=Ir.empty();for(let p=a.length-1;p>=0;--p)if(!cR(u,a[p])){const f=a[p];let y=l[p];y=wi(y);const _=o.Nu(f);if(y instanceof Q1)u.push(f);else{const x=Yp(y,_);x!=null&&(u.push(f),c.set(f,x))}}const h=new us(u);return new iR(c,h,o.fieldTransforms)}function OX(e,t,n,i=!1){return Yp(n,e.Qu(i?4:3,t))}function Yp(e,t){if(uR(e=wi(e)))return Gb("Unsupported field value:",t,e),lR(e,t);if(e instanceof Y1)return function(i,r){if(!rR(r.Cu))throw r.Bu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Bu(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xu&&t.Cu!==4)throw t.Bu("Nested arrays are not supported");return function(i,r){const s=[];let o=0;for(const a of i){let l=Yp(a,r.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(e,t)}return function(i,r){if((i=wi(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return NK(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const s=Ci.fromDate(i);return{timestampValue:q0(r.serializer,s)}}if(i instanceof Ci){const s=new Ci(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:q0(r.serializer,s)}}if(i instanceof Wb)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof cc)return{bytesValue:kL(r.serializer,i._byteString)};if(i instanceof Nr){const s=r.databaseId,o=i.firestore._databaseId;if(!o.isEqual(s))throw r.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Ib(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof qb)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return kb(a.serializer,l)})}}}}}}(i,r);throw r.Bu(`Unsupported field value: ${$1(i)}`)}(e,t)}function lR(e,t){const n={};return Z6(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):vc(e,(i,r)=>{const s=Yp(r,t.Mu(i));s!=null&&(n[i]=s)}),{mapValue:{fields:n}}}function uR(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Ci||e instanceof Wb||e instanceof cc||e instanceof Nr||e instanceof Y1||e instanceof qb)}function Gb(e,t,n){if(!uR(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const i=$1(n);throw i==="an object"?t.Bu(e+" a custom object"):t.Bu(e+" "+i)}}function q5(e,t,n){if((t=wi(t))instanceof Kp)return t._internalPath;if(typeof t=="string")return Kb(e,t);throw K0("Field path arguments must be of type string or ",e,!1,void 0,n)}const FX=new RegExp("[~\\*/\\[\\]]");function Kb(e,t,n){if(t.search(FX)>=0)throw K0(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Kp(...t.split("."))._internalPath}catch{throw K0(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function K0(e,t,n,i,r){const s=i&&!i.isEmpty(),o=r!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${i}`),o&&(l+=` in document ${r}`),l+=")"),new Ut(Et.INVALID_ARGUMENT,a+e+l)}function cR(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(t,n,i,r,s){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Nr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new jX(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(J1("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class jX extends Y0{data(){return super.data()}}function J1(e,t){return typeof t=="string"?Kb(e,t):t instanceof Kp?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hR(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new Ut(Et.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Yb{}class Xb extends Yb{}function Yh(e,t,...n){let i=[];t instanceof Yb&&i.push(t),i=i.concat(n),function(s){const o=s.filter(l=>l instanceof Qb).length,a=s.filter(l=>l instanceof Z1).length;if(o>1||o>0&&a>0)throw new Ut(Et.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)e=r._apply(e);return e}class Z1 extends Xb{constructor(t,n,i){super(),this._field=t,this._op=n,this._value=i,this.type="where"}static _create(t,n,i){return new Z1(t,n,i)}_apply(t){const n=this._parse(t);return fR(t._query,n),new $a(t.firestore,t.converter,D5(t._query,n))}_parse(t){const n=X1(t.firestore);return function(s,o,a,l,u,c,h){let p;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new Ut(Et.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){Hk(h,c);const f=[];for(const y of h)f.push(qk(l,s,y));p={arrayValue:{values:f}}}else p=qk(l,s,h)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||Hk(h,c),p=OX(a,o,h,c==="in"||c==="not-in");return _i.create(u,c,p)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function H5(e,t,n){const i=t,r=J1("where",e);return Z1._create(r,i,n)}class Qb extends Yb{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Qb(t,n)}_parse(t){const n=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:po.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(r,s){let o=r;const a=s.getFlattenedFilters();for(const l of a)fR(o,l),o=D5(o,l)}(t._query,n),new $a(t.firestore,t.converter,D5(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Jb extends Xb{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new Jb(t,n)}_apply(t){const n=function(r,s,o){if(r.startAt!==null)throw new Ut(Et.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new Ut(Et.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new _p(s,o)}(t._query,this._field,this._direction);return new $a(t.firestore,t.converter,function(r,s){const o=r.explicitOrderBy.concat([s]);return new of(r.path,r.collectionGroup,o,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(t._query,n))}}function Zb(e,t="asc"){const n=t,i=J1("orderBy",e);return Jb._create(i,n)}class tx extends Xb{constructor(t,n,i){super(),this.type=t,this._limit=n,this._limitType=i}static _create(t,n,i){return new tx(t,n,i)}_apply(t){return new $a(t.firestore,t.converter,z0(t._query,this._limit,this._limitType))}}function $5(e){return tx._create("limit",e,"F")}function qk(e,t,n){if(typeof(n=wi(n))=="string"){if(n==="")throw new Ut(Et.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!lL(t)&&n.indexOf("/")!==-1)throw new Ut(Et.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=t.path.child(xn.fromString(n));if(!oe.isDocumentKey(i))throw new Ut(Et.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return hk(e,new oe(i))}if(n instanceof Nr)return hk(e,n._key);throw new Ut(Et.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${$1(n)}.`)}function Hk(e,t){if(!Array.isArray(e)||e.length===0)throw new Ut(Et.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function fR(e,t){const n=function(r,s){for(const o of r)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(e.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new Ut(Et.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Ut(Et.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class dR{convertValue(t,n="none"){switch(uc(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ci(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(lc(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw me()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const i={};return vc(t,(r,s)=>{i[r]=this.convertValue(s,n)}),i}convertVectorValue(t){var n,i,r;const s=(r=(i=(n=t.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(o=>ci(o.doubleValue));return new qb(s)}convertGeoPoint(t){return new Wb(ci(t.latitude),ci(t.longitude))}convertArray(t,n){return(t.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(t,n){switch(n){case"previous":const i=bb(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(mp(t));default:return null}}convertTimestamp(t){const n=tu(t);return new Ci(n.seconds,n.nanos)}convertDocumentKey(t,n){const i=xn.fromString(t);Je(RL(i));const r=new yp(i.get(1),i.get(3)),s=new oe(i.popFirst(5));return r.isEqual(n)||Va(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pR(e,t,n){let i;return i=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,i}class VX extends dR{constructor(t){super(),this.firestore=t}convertBytes(t){return new cc(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Nr(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ex extends Y0{constructor(t,n,i,r,s,o){super(t,n,i,r,o),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Vm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const i=this._document.data.field(J1("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class Vm extends ex{data(t={}){return super.data(t)}}class gR{constructor(t,n,i,r){this._firestore=t,this._userDataWriter=n,this._snapshot=r,this.metadata=new uh(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(i=>{t.call(n,new Vm(this._firestore,this._userDataWriter,i.key,i,new uh(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ut(Et.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(a=>{const l=new Vm(r._firestore,r._userDataWriter,a.doc.key,a.doc,new uh(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Vm(r._firestore,r._userDataWriter,a.doc.key,a.doc,new uh(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,c=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:BX(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function BX(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return me()}}class ty extends dR{constructor(t){super(),this.firestore=t}convertBytes(t){return new cc(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Nr(this.firestore,null,n)}}function G5(e){e=ho(e,$a);const t=ho(e.firestore,nu),n=K1(t),i=new ty(t);return hR(e._query),PX(n,e._query).then(r=>new gR(t,i,e,r))}function mR(e,t,n,...i){e=ho(e,Nr);const r=ho(e.firestore,nu),s=X1(r);let o;return o=typeof(t=wi(t))=="string"||t instanceof Kp?aR(s,"updateDoc",e._key,t,n,i):oR(s,"updateDoc",e._key,t),ix(r,[o.toMutation(e._key,mr.exists(!0))])}function yR(e){return ix(ho(e.firestore,nu),[new U1(e._key,mr.none())])}function vR(e,t){const n=ho(e.firestore,nu),i=Fn(e),r=pR(e.converter,t);return ix(n,[sR(X1(e.firestore),"addDoc",i._key,r,e.converter!==null,{}).toMutation(i._key,mr.exists(!1))]).then(()=>i)}function nx(e,...t){var n,i,r;e=wi(e);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof t[o]!="object"||Wk(t[o])||(s=t[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(Wk(t[o])){const h=t[o];t[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),t[o+1]=(i=h.error)===null||i===void 0?void 0:i.bind(h),t[o+2]=(r=h.complete)===null||r===void 0?void 0:r.bind(h)}let l,u,c;if(e instanceof Nr)u=ho(e.firestore,nu),c=Tb(e._key.path),l={next:h=>{t[o]&&t[o](UX(u,e,h))},error:t[o+1],complete:t[o+2]};else{const h=ho(e,$a);u=ho(h.firestore,nu),c=h._query;const p=new ty(u);l={next:f=>{t[o]&&t[o](new gR(u,p,h,f))},error:t[o+1],complete:t[o+2]},hR(e._query)}return function(p,f,y,_){const x=new tR(_),v=new HL(f,x,y);return p.asyncQueue.enqueueAndForget(async()=>WL(await W5(p),v)),()=>{x.Za(),p.asyncQueue.enqueueAndForget(async()=>qL(await W5(p),v))}}(K1(u),c,a,l)}function ix(e,t){return function(i,r){const s=new Na;return i.asyncQueue.enqueueAndForget(async()=>pX(await kX(i),r,s)),s.promise}(K1(e),t)}function UX(e,t,n){const i=n.docs.get(t._key),r=new ty(e);return new ex(e,r,t._key,i,new uh(n.hasPendingWrites,n.fromCache),t.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zX={maxAttempts:5};function Gf(e,t){if((e=wi(e)).firestore!==t)throw new Ut(Et.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WX extends class{constructor(n,i){this._firestore=n,this._transaction=i,this._dataReader=X1(n)}get(n){const i=Gf(n,this._firestore),r=new VX(this._firestore);return this._transaction.lookup([i._key]).then(s=>{if(!s||s.length!==1)return me();const o=s[0];if(o.isFoundDocument())return new Y0(this._firestore,r,o.key,o,i.converter);if(o.isNoDocument())return new Y0(this._firestore,r,i._key,null,i.converter);throw me()})}set(n,i,r){const s=Gf(n,this._firestore),o=pR(s.converter,i,r),a=sR(this._dataReader,"Transaction.set",s._key,o,s.converter!==null,r);return this._transaction.set(s._key,a),this}update(n,i,r,...s){const o=Gf(n,this._firestore);let a;return a=typeof(i=wi(i))=="string"||i instanceof Kp?aR(this._dataReader,"Transaction.update",o._key,i,r,s):oR(this._dataReader,"Transaction.update",o._key,i),this._transaction.update(o._key,a),this}delete(n){const i=Gf(n,this._firestore);return this._transaction.delete(i._key),this}}{constructor(t,n){super(t,n),this._firestore=t}get(t){const n=Gf(t,this._firestore),i=new ty(this._firestore);return super.get(t).then(r=>new ex(this._firestore,i,n._key,r._document,new uh(!1,!1),n.converter))}}function rx(e,t,n){e=ho(e,nu);const i=Object.assign(Object.assign({},zX),n);return function(s){if(s.maxAttempts<1)throw new Ut(Et.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(s,o,a){const l=new Na;return s.asyncQueue.enqueueAndForget(async()=>{const u=await EX(s);new SX(s.asyncQueue,u,a,o,l).au()}),l.promise}(K1(e),r=>t(new WX(e,r)),i)}function uf(){return new $b("serverTimestamp")}(function(t,n=!0){(function(r){sf=r})(nf),Uh(new sc("firestore",(i,{instanceIdentifier:r,options:s})=>{const o=i.getProvider("app").getImmediate(),a=new nu(new KG(i.getProvider("auth-internal")),new JG(i.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Ut(Et.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yp(u.options.projectId,c)}(o,r),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),$l(ok,"4.7.3",t),$l(ok,"4.7.3","esm2017")})();const qX={apiKey:"AIzaSyBMWYoIPTXeKLQcz28ItyJYOYgjFTCJul4",authDomain:"myfinancial-e6def.firebaseapp.com",projectId:"myfinancial-e6def",storageBucket:"myfinancial-e6def.firebasestorage.app",messagingSenderId:"535002062491",appId:"1:535002062491:web:66fbed1e603b779bb8303e",measurementId:"G-BGF6SH7X3D"},_R=c6(qX),sx=zG(_R),HX=new _a,Ke=NX(_R),$X=(e,t)=>C$(sx,i=>{if(i)e(i);else{const r=localStorage.getItem("myfinancial_guest");e(r?JSON.parse(r):null)}t(!1)}),GX=async()=>{try{return(await Q$(sx,HX)).user}catch(e){throw console.error("Error signing in with Google:",e),e}},KX=()=>{const e={uid:"guest_user_123",displayName:"Pengguna Demo",email:"demo@myfinancial.app",photoURL:"https://ui-avatars.com/api/?name=Pengguna+Demo&background=13ec5b&color=080f0a"};return localStorage.setItem("myfinancial_guest",JSON.stringify(e)),e},YX=async()=>{try{localStorage.removeItem("myfinancial_guest"),await N$(sx)}catch(e){throw console.error("Error signing out:",e),e}},Gs=e=>e&&e.startsWith("guest_"),nn={WALLETS:"myfinancial_wallets",TRANSACTIONS:"myfinancial_transactions",BUDGETS:"myfinancial_budgets"},Qi=e=>JSON.parse(localStorage.getItem(e))||[],Bs=(e,t)=>{localStorage.setItem(e,JSON.stringify(t)),window.dispatchEvent(new CustomEvent("myfinancial_data_changed",{detail:{key:e,data:t}}))},Us={wallets:[],transactions:[],budgets:[]};typeof window<"u"&&window.addEventListener("myfinancial_data_changed",e=>{const{key:t,data:n}=e.detail;t===nn.WALLETS&&Us.wallets.forEach(i=>i(n)),t===nn.TRANSACTIONS&&Us.transactions.forEach(i=>i(n)),t===nn.BUDGETS&&Us.budgets.forEach(i=>i(n))});const XX=(e,t)=>{if(Gs(e))return t(Qi(nn.WALLETS)),Us.wallets.push(t),()=>{Us.wallets=Us.wallets.filter(i=>i!==t)};const n=Yh(Ua(Ke,`users/${e}/wallets`),Zb("createdAt","desc"));return nx(n,i=>{const r=i.docs.map(s=>({id:s.id,...s.data()}));t(r)},i=>{console.error("Wallets snapshot error:",i)})},Ev=async(e,t)=>{if(Gs(e)){const n=Qi(nn.WALLETS),i={id:Date.now().toString(),...t,balance:Number(t.balance)||0,createdAt:new Date};return Bs(nn.WALLETS,[...n,i]),i}return await vR(Ua(Ke,`users/${e}/wallets`),{...t,balance:Number(t.balance)||0,createdAt:uf()})},QX=async(e,t,n)=>{if(Gs(e)){const r=Qi(nn.WALLETS),s=r.findIndex(o=>o.id===t);s!==-1&&(r[s]={...r[s],...n,balance:Number(n.balance)??r[s].balance,updatedAt:new Date},Bs(nn.WALLETS,r));return}const i=Fn(Ke,`users/${e}/wallets`,t);return await mR(i,{...n,balance:Number(n.balance)??void 0,updatedAt:uf()})},JX=async(e,t)=>{if(Gs(e)){if(Qi(nn.TRANSACTIONS).some(c=>c.walletId===t||c.targetWalletId===t))throw new Error("Tidak dapat menghapus dompet yang memiliki riwayat transaksi.");const u=Qi(nn.WALLETS).filter(c=>c.id!==t);Bs(nn.WALLETS,u);return}const n=Yh(Ua(Ke,`users/${e}/transactions`),H5("walletId","==",t),$5(1));if(!(await G5(n)).empty)throw new Error("Tidak dapat menghapus dompet yang memiliki riwayat transaksi.");const r=Yh(Ua(Ke,`users/${e}/transactions`),H5("targetWalletId","==",t),$5(1));if(!(await G5(r)).empty)throw new Error("Tidak dapat menghapus dompet yang memiliki riwayat transaksi.");return await yR(Fn(Ke,`users/${e}/wallets`,t))},ZX=(e,t)=>{if(Gs(e))return t(Qi(nn.BUDGETS)),Us.budgets.push(t),()=>{Us.budgets=Us.budgets.filter(i=>i!==t)};const n=Yh(Ua(Ke,`users/${e}/budgets`),Zb("createdAt","desc"));return nx(n,i=>{const r=i.docs.map(s=>({id:s.id,...s.data()}));t(r)},i=>{console.error("Budgets snapshot error:",i)})},tQ=async(e,t)=>{if(Gs(e)){const n=Qi(nn.BUDGETS),i={id:Date.now().toString(),...t,current_spent:0,createdAt:new Date};return Bs(nn.BUDGETS,[...n,i]),i}return await vR(Ua(Ke,`users/${e}/budgets`),{...t,current_spent:0,createdAt:uf()})},eQ=async(e,t,n)=>{if(Gs(e)){const r=Qi(nn.BUDGETS),s=r.findIndex(o=>o.id===t);s!==-1&&(r[s]={...r[s],...n,updatedAt:new Date},Bs(nn.BUDGETS,r));return}const i=Fn(Ke,`users/${e}/budgets`,t);return await mR(i,{...n,updatedAt:uf()})},nQ=async(e,t)=>{if(Gs(e)){const i=Qi(nn.BUDGETS).find(s=>s.id===t);if(i&&i.current_spent>0)throw new Error("Tidak dapat menghapus anggaran yang sudah memiliki transaksi.");const r=Qi(nn.BUDGETS).filter(s=>s.id!==t);Bs(nn.BUDGETS,r);return}if(!(await G5(Yh(Ua(Ke,`users/${e}/transactions`),H5("budgetId","==",t),$5(1)))).empty)throw new Error("Tidak dapat menghapus anggaran yang sudah memiliki transaksi.");return await yR(Fn(Ke,`users/${e}/budgets`,t))},iQ=(e,t)=>{if(Gs(e))return t(Qi(nn.TRANSACTIONS)),Us.transactions.push(t),()=>{Us.transactions=Us.transactions.filter(i=>i!==t)};const n=Yh(Ua(Ke,`users/${e}/transactions`),Zb("date","desc"));return nx(n,i=>{const r=i.docs.map(s=>({id:s.id,...s.data()}));t(r)},i=>{console.error("Transactions snapshot error:",i)})},wR=async(e,t)=>{const{type:n,amount:i,walletId:r,targetWalletId:s,budgetId:o,category:a}=t,l=Number(i);if(Gs(e)){const u=Qi(nn.WALLETS),c=Qi(nn.TRANSACTIONS),h=Qi(nn.BUDGETS),p=u.find(f=>f.id===r);if(!p)throw new Error("Dompet asal tidak ditemukan");if(n==="income")p.balance+=l;else if(n==="expense")p.balance-=l;else if(n==="transfer"){if(!s)throw new Error("Pilih dompet tujuan");p.balance-=l;const f=u.find(y=>y.id===s);if(!f)throw new Error("Dompet tujuan tidak ditemukan");f.balance+=l}if(n==="expense"){const f=h.find(y=>{var _;return y.id===o||((_=y.category)==null?void 0:_.toLowerCase())===(a==null?void 0:a.toLowerCase())});f&&(f.current_spent=(f.current_spent||0)+l)}else if(n==="transfer"&&o){const f=h.find(y=>y.id===o);f&&(f.limit=(f.limit||0)+l)}Bs(nn.WALLETS,u),Bs(nn.BUDGETS,h),c.unshift({id:Date.now().toString(),...t,createdAt:new Date}),Bs(nn.TRANSACTIONS,c);return}return await rx(Ke,async u=>{const c=Fn(Ke,`users/${e}/wallets`,r),h=await u.get(c);if(!h.exists())throw new Error("Dompet asal tidak ditemukan");let p=h.data().balance||0;if(n==="income")p+=l;else if(n==="expense")p-=l;else if(n==="transfer"){if(!s)throw new Error("Pilih dompet tujuan");p-=l;const y=Fn(Ke,`users/${e}/wallets`,s),_=await u.get(y);if(!_.exists())throw new Error("Dompet tujuan tidak ditemukan");u.update(y,{balance:(_.data().balance||0)+l})}if(u.update(c,{balance:p}),n==="expense"&&o){const y=Fn(Ke,`users/${e}/budgets`,o),_=await u.get(y);_.exists()&&u.update(y,{current_spent:(_.data().current_spent||0)+l})}else if(n==="transfer"&&o){const y=Fn(Ke,`users/${e}/budgets`,o),_=await u.get(y);_.exists()&&u.update(y,{limit:(_.data().limit||0)+l})}const f=Fn(Ua(Ke,`users/${e}/transactions`));u.set(f,{...t,createdAt:uf()})})},bR=async(e,t)=>{const{id:n,type:i,amount:r,walletId:s,targetWalletId:o,budgetId:a}=t,l=Number(r);if(Gs(e)){const u=Qi(nn.WALLETS),c=Qi(nn.TRANSACTIONS),h=Qi(nn.BUDGETS),p=u.find(y=>y.id===s);if(p){if(i==="income")p.balance-=l;else if(i==="expense")p.balance+=l;else if(i==="transfer"){p.balance+=l;const y=u.find(_=>_.id===o);y&&(y.balance-=l)}}if(i==="expense"&&a){const y=h.find(_=>_.id===a);y&&(y.current_spent=Math.max(0,(y.current_spent||0)-l))}else if(i==="transfer"&&a){const y=h.find(_=>_.id===a);y&&(y.limit=Math.max(0,(y.limit||0)-l))}const f=c.filter(y=>y.id!==n);Bs(nn.WALLETS,u),Bs(nn.BUDGETS,h),Bs(nn.TRANSACTIONS,f);return}return await rx(Ke,async u=>{const c=Fn(Ke,`users/${e}/wallets`,s),h=await u.get(c);if(h.exists()){let p=h.data().balance||0;if(i==="income")p-=l;else if(i==="expense")p+=l;else if(i==="transfer"){p+=l;const f=Fn(Ke,`users/${e}/wallets`,o),y=await u.get(f);y.exists()&&u.update(f,{balance:(y.data().balance||0)-l})}u.update(c,{balance:p})}if(i==="expense"&&a){const p=Fn(Ke,`users/${e}/budgets`,a),f=await u.get(p);f.exists()&&u.update(p,{current_spent:Math.max(0,(f.data().current_spent||0)-l)})}else if(i==="transfer"&&a){const p=Fn(Ke,`users/${e}/budgets`,a),f=await u.get(p);f.exists()&&u.update(p,{limit:Math.max(0,(f.data().limit||0)-l)})}u.delete(Fn(Ke,`users/${e}/transactions`,n))})},rQ=async(e,t,n,i)=>{if(Gs(e)){await bR(e,{id:t,...n}),await wR(e,i);return}return await rx(Ke,async r=>{const s=new Set([n.walletId,i.walletId]);n.targetWalletId&&s.add(n.targetWalletId),i.targetWalletId&&s.add(i.targetWalletId);const o=new Set;n.budgetId&&o.add(n.budgetId),i.budgetId&&o.add(i.budgetId);const a={};for(const u of s){const c=await r.get(Fn(Ke,`users/${e}/wallets`,u));c.exists()&&(a[u]=c.data().balance||0)}const l={};for(const u of o){const c=await r.get(Fn(Ke,`users/${e}/budgets`,u));c.exists()&&(l[u]=c.data().current_spent||0)}if(a[n.walletId]!==void 0){const u=Number(n.amount);n.type==="income"?a[n.walletId]-=u:n.type==="expense"?a[n.walletId]+=u:n.type==="transfer"&&(a[n.walletId]+=u,n.targetWalletId&&a[n.targetWalletId]!==void 0&&(a[n.targetWalletId]-=u))}if(n.type==="expense"&&n.budgetId)l[n.budgetId]=Math.max(0,l[n.budgetId]-Number(n.amount));else if(n.type==="transfer"&&n.budgetId){const u=n.budgetId,c=await r.get(Fn(Ke,`users/${e}/budgets`,u));if(c.exists()){const h=c.data().limit||0;r.update(Fn(Ke,`users/${e}/budgets`,u),{limit:Math.max(0,h-Number(n.amount))})}}if(a[i.walletId]!==void 0){const u=Number(i.amount);i.type==="income"?a[i.walletId]+=u:i.type==="expense"?a[i.walletId]-=u:i.type==="transfer"&&(a[i.walletId]-=u,i.targetWalletId&&a[i.targetWalletId]!==void 0&&(a[i.targetWalletId]+=u))}if(i.budgetId&&l[i.budgetId]!==void 0){if(i.type==="expense")l[i.budgetId]+=Number(i.amount);else if(i.type==="transfer"){const u=i.budgetId,c=await r.get(Fn(Ke,`users/${e}/budgets`,u));if(c.exists()){const h=c.data().limit||0;r.update(Fn(Ke,`users/${e}/budgets`,u),{limit:h+Number(i.amount)})}}}for(const u in a)r.update(Fn(Ke,`users/${e}/wallets`,u),{balance:a[u]});for(const u in l)r.update(Fn(Ke,`users/${e}/budgets`,u),{current_spent:l[u]});r.update(Fn(Ke,`users/${e}/transactions`,t),{...i,updatedAt:uf()})})},sQ="modulepreload",oQ=function(e,t){return new URL(e,t).href},$k={},Pv=function(t,n,i){let r=Promise.resolve();if(n&&n.length>0){const o=document.getElementsByTagName("link"),a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));r=Promise.allSettled(n.map(u=>{if(u=oQ(u,i),u in $k)return;$k[u]=!0;const c=u.endsWith(".css"),h=c?'[rel="stylesheet"]':"";if(!!i)for(let y=o.length-1;y>=0;y--){const _=o[y];if(_.href===u&&(!c||_.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${h}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":sQ,c||(f.as="script"),f.crossOrigin="",f.href=u,l&&f.setAttribute("nonce",l),document.head.appendChild(f),c)return new Promise((y,_)=>{f.addEventListener("load",y),f.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return r.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return t().catch(s)})};function dn(e){"@babel/helpers - typeof";return dn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dn(e)}var go=Uint8Array,cs=Uint16Array,ox=Int32Array,ax=new go([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),lx=new go([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Gk=new go([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),xR=function(e,t){for(var n=new cs(31),i=0;i<31;++i)n[i]=t+=1<<e[i-1];for(var r=new ox(n[30]),i=1;i<30;++i)for(var s=n[i];s<n[i+1];++s)r[s]=s-n[i]<<5|i;return{b:n,r}},SR=xR(ax,2),aQ=SR.b,K5=SR.r;aQ[28]=258,K5[258]=28;var lQ=xR(lx,0),Kk=lQ.r,Y5=new cs(32768);for(var Nn=0;Nn<32768;++Nn){var ml=(Nn&43690)>>1|(Nn&21845)<<1;ml=(ml&52428)>>2|(ml&13107)<<2,ml=(ml&61680)>>4|(ml&3855)<<4,Y5[Nn]=((ml&65280)>>8|(ml&255)<<8)>>1}var Rd=function(e,t,n){for(var i=e.length,r=0,s=new cs(t);r<i;++r)e[r]&&++s[e[r]-1];var o=new cs(t);for(r=1;r<t;++r)o[r]=o[r-1]+s[r-1]<<1;var a;if(n){a=new cs(1<<t);var l=15-t;for(r=0;r<i;++r)if(e[r])for(var u=r<<4|e[r],c=t-e[r],h=o[e[r]-1]++<<c,p=h|(1<<c)-1;h<=p;++h)a[Y5[h]>>l]=u}else for(a=new cs(i),r=0;r<i;++r)e[r]&&(a[r]=Y5[o[e[r]-1]++]>>15-e[r]);return a},hc=new go(288);for(var Nn=0;Nn<144;++Nn)hc[Nn]=8;for(var Nn=144;Nn<256;++Nn)hc[Nn]=9;for(var Nn=256;Nn<280;++Nn)hc[Nn]=7;for(var Nn=280;Nn<288;++Nn)hc[Nn]=8;var X0=new go(32);for(var Nn=0;Nn<32;++Nn)X0[Nn]=5;var uQ=Rd(hc,9,0),cQ=Rd(X0,5,0),AR=function(e){return(e+7)/8|0},hQ=function(e,t,n){return(n==null||n>e.length)&&(n=e.length),new go(e.subarray(t,n))},ha=function(e,t,n){n<<=t&7;var i=t/8|0;e[i]|=n,e[i+1]|=n>>8},Kf=function(e,t,n){n<<=t&7;var i=t/8|0;e[i]|=n,e[i+1]|=n>>8,e[i+2]|=n>>16},Iv=function(e,t){for(var n=[],i=0;i<e.length;++i)e[i]&&n.push({s:i,f:e[i]});var r=n.length,s=n.slice();if(!r)return{t:kR,l:0};if(r==1){var o=new go(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(F,G){return F.f-G.f}),n.push({s:-1,f:25001});var a=n[0],l=n[1],u=0,c=1,h=2;for(n[0]={s:-1,f:a.f+l.f,l:a,r:l};c!=r-1;)a=n[n[u].f<n[h].f?u++:h++],l=n[u!=c&&n[u].f<n[h].f?u++:h++],n[c++]={s:-1,f:a.f+l.f,l:a,r:l};for(var p=s[0].s,i=1;i<r;++i)s[i].s>p&&(p=s[i].s);var f=new cs(p+1),y=X5(n[c-1],f,0);if(y>t){var i=0,_=0,x=y-t,v=1<<x;for(s.sort(function(G,R){return f[R.s]-f[G.s]||G.f-R.f});i<r;++i){var A=s[i].s;if(f[A]>t)_+=v-(1<<y-f[A]),f[A]=t;else break}for(_>>=x;_>0;){var I=s[i].s;f[I]<t?_-=1<<t-f[I]++-1:++i}for(;i>=0&&_;--i){var P=s[i].s;f[P]==t&&(--f[P],++_)}y=t}return{t:new go(f),l:y}},X5=function(e,t,n){return e.s==-1?Math.max(X5(e.l,t,n+1),X5(e.r,t,n+1)):t[e.s]=n},Yk=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new cs(++t),i=0,r=e[0],s=1,o=function(l){n[i++]=l},a=1;a<=t;++a)if(e[a]==r&&a!=t)++s;else{if(!r&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(r),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(r);s=1,r=e[a]}return{c:n.subarray(0,i),n:t}},Yf=function(e,t){for(var n=0,i=0;i<t.length;++i)n+=e[i]*t[i];return n},TR=function(e,t,n){var i=n.length,r=AR(t+2);e[r]=i&255,e[r+1]=i>>8,e[r+2]=e[r]^255,e[r+3]=e[r+1]^255;for(var s=0;s<i;++s)e[r+s+4]=n[s];return(r+4+i)*8},Xk=function(e,t,n,i,r,s,o,a,l,u,c){ha(t,c++,n),++r[256];for(var h=Iv(r,15),p=h.t,f=h.l,y=Iv(s,15),_=y.t,x=y.l,v=Yk(p),A=v.c,I=v.n,P=Yk(_),F=P.c,G=P.n,R=new cs(19),T=0;T<A.length;++T)++R[A[T]&31];for(var T=0;T<F.length;++T)++R[F[T]&31];for(var E=Iv(R,7),D=E.t,k=E.l,N=19;N>4&&!D[Gk[N-1]];--N);var M=u+5<<3,H=Yf(r,hc)+Yf(s,X0)+o,rt=Yf(r,p)+Yf(s,_)+o+14+3*N+Yf(R,D)+2*R[16]+3*R[17]+7*R[18];if(l>=0&&M<=H&&M<=rt)return TR(t,c,e.subarray(l,l+u));var ut,ot,tt,at;if(ha(t,c,1+(rt<H)),c+=2,rt<H){ut=Rd(p,f,0),ot=p,tt=Rd(_,x,0),at=_;var vt=Rd(D,k,0);ha(t,c,I-257),ha(t,c+5,G-1),ha(t,c+10,N-4),c+=14;for(var T=0;T<N;++T)ha(t,c+3*T,D[Gk[T]]);c+=3*N;for(var _t=[A,F],B=0;B<2;++B)for(var Y=_t[B],T=0;T<Y.length;++T){var et=Y[T]&31;ha(t,c,vt[et]),c+=D[et],et>15&&(ha(t,c,Y[T]>>5&127),c+=Y[T]>>12)}}else ut=uQ,ot=hc,tt=cQ,at=X0;for(var T=0;T<a;++T){var Z=i[T];if(Z>255){var et=Z>>18&31;Kf(t,c,ut[et+257]),c+=ot[et+257],et>7&&(ha(t,c,Z>>23&31),c+=ax[et]);var nt=Z&31;Kf(t,c,tt[nt]),c+=at[nt],nt>3&&(Kf(t,c,Z>>5&8191),c+=lx[nt])}else Kf(t,c,ut[Z]),c+=ot[Z]}return Kf(t,c,ut[256]),c+ot[256]},fQ=new ox([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),kR=new go(0),dQ=function(e,t,n,i,r,s){var o=s.z||e.length,a=new go(i+o+5*(1+Math.ceil(o/7e3))+r),l=a.subarray(i,a.length-r),u=s.l,c=(s.r||0)&7;if(t){c&&(l[0]=s.r>>3);for(var h=fQ[t-1],p=h>>13,f=h&8191,y=(1<<n)-1,_=s.p||new cs(32768),x=s.h||new cs(y+1),v=Math.ceil(n/3),A=2*v,I=function(Zt){return(e[Zt]^e[Zt+1]<<v^e[Zt+2]<<A)&y},P=new ox(25e3),F=new cs(288),G=new cs(32),R=0,T=0,E=s.i||0,D=0,k=s.w||0,N=0;E+2<o;++E){var M=I(E),H=E&32767,rt=x[M];if(_[H]=rt,x[M]=H,k<=E){var ut=o-E;if((R>7e3||D>24576)&&(ut>423||!u)){c=Xk(e,l,0,P,F,G,T,D,N,E-N,c),D=R=T=0,N=E;for(var ot=0;ot<286;++ot)F[ot]=0;for(var ot=0;ot<30;++ot)G[ot]=0}var tt=2,at=0,vt=f,_t=H-rt&32767;if(ut>2&&M==I(E-_t))for(var B=Math.min(p,ut)-1,Y=Math.min(32767,E),et=Math.min(258,ut);_t<=Y&&--vt&&H!=rt;){if(e[E+tt]==e[E+tt-_t]){for(var Z=0;Z<et&&e[E+Z]==e[E+Z-_t];++Z);if(Z>tt){if(tt=Z,at=_t,Z>B)break;for(var nt=Math.min(_t,Z-2),ft=0,ot=0;ot<nt;++ot){var yt=E-_t+ot&32767,wt=_[yt],At=yt-wt&32767;At>ft&&(ft=At,rt=yt)}}}H=rt,rt=_[H],_t+=H-rt&32767}if(at){P[D++]=268435456|K5[tt]<<18|Kk[at];var Lt=K5[tt]&31,Bt=Kk[at]&31;T+=ax[Lt]+lx[Bt],++F[257+Lt],++G[Bt],k=E+tt,++R}else P[D++]=e[E],++F[e[E]]}}for(E=Math.max(E,k);E<o;++E)P[D++]=e[E],++F[e[E]];c=Xk(e,l,u,P,F,G,T,D,N,E-N,c),u||(s.r=c&7|l[c/8|0]<<3,c-=7,s.h=x,s.p=_,s.i=E,s.w=k)}else{for(var E=s.w||0;E<o+u;E+=65535){var Vt=E+65535;Vt>=o&&(l[c/8|0]=u,Vt=o),c=TR(l,c+1,e.subarray(E,Vt))}s.i=o}return hQ(a,0,i+AR(c)+r)},ER=function(){var e=1,t=0;return{p:function(n){for(var i=e,r=t,s=n.length|0,o=0;o!=s;){for(var a=Math.min(o+2655,s);o<a;++o)r+=i+=n[o];i=(i&65535)+15*(i>>16),r=(r&65535)+15*(r>>16)}e=i,t=r},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},pQ=function(e,t,n,i,r){if(!r&&(r={l:1},t.dictionary)){var s=t.dictionary.subarray(-32768),o=new go(s.length+e.length);o.set(s),o.set(e,s.length),e=o,r.w=s.length}return dQ(e,t.level==null?6:t.level,t.mem==null?r.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,n,i,r)},PR=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},gQ=function(e,t){var n=t.level,i=n==0?0:n<6?1:n==9?3:2;if(e[0]=120,e[1]=i<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var r=ER();r.p(t.dictionary),PR(e,2,r.d())}};function Q5(e,t){t||(t={});var n=ER();n.p(e);var i=pQ(e,t,t.dictionary?6:2,4);return gQ(i,t),PR(i,i.length-4,n.d()),i}var mQ=typeof TextDecoder<"u"&&new TextDecoder,yQ=0;try{mQ.decode(kR,{stream:!0}),yQ=1}catch{}function vQ(e){if(Array.isArray(e))return e}function _Q(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i,r,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(l=(i=s.call(n)).done)&&(a.push(i.value),a.length!==t);l=!0);}catch(c){u=!0,r=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw r}}return a}}function Qk(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function wQ(e,t){if(e){if(typeof e=="string")return Qk(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qk(e,t):void 0}}function bQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jk(e,t){return vQ(e)||_Q(e,t)||wQ(e,t)||bQ()}function Zk(e,t="utf8"){return new TextDecoder(t).decode(e)}const xQ=new TextEncoder;function SQ(e){return xQ.encode(e)}const AQ=1024*8,TQ=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),Cv={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class ux{constructor(t=AQ,n={}){Dt(this,"buffer");Dt(this,"byteLength");Dt(this,"byteOffset");Dt(this,"length");Dt(this,"offset");Dt(this,"lastWrittenByte");Dt(this,"littleEndian");Dt(this,"_data");Dt(this,"_mark");Dt(this,"_marks");let i=!1;typeof t=="number"?t=new ArrayBuffer(t):(i=!0,this.lastWrittenByte=t.byteLength);const r=n.offset?n.offset>>>0:0,s=t.byteLength-r;let o=r;(ArrayBuffer.isView(t)||t instanceof ux)&&(t.byteLength!==t.buffer.byteLength&&(o=t.byteOffset+r),t=t.buffer),i?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=t,this.length=s,this.byteLength=s,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,s),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const i=(this.offset+t)*2,r=new Uint8Array(i);r.set(new Uint8Array(this.buffer)),this.buffer=r.buffer,this.length=i,this.byteLength=i,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,n){const i=Cv[n].BYTES_PER_ELEMENT*t,r=this.byteOffset+this.offset,s=this.buffer.slice(r,r+i);if(this.littleEndian===TQ&&n!=="uint8"&&n!=="int8"){const a=new Uint8Array(this.buffer.slice(r,r+i));a.reverse();const l=new Cv[n](a.buffer);return this.offset+=i,l.reverse(),l}const o=new Cv[n](s);return this.offset+=i,o}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let n="";for(let i=0;i<t;i++)n+=this.readChar();return n}readUtf8(t=1){return Zk(this.readBytes(t))}decodeText(t=1,n="utf8"){return Zk(this.readBytes(t),n)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let n=0;n<t.length;n++)this._data.setUint8(this.offset++,t[n]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let n=0;n<t.length;n++)this.writeUint8(t.charCodeAt(n));return this}writeUtf8(t){return this.writeBytes(SQ(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function cf(e){let t=e.length;for(;--t>=0;)e[t]=0}const kQ=3,EQ=258,IR=29,PQ=256,IQ=PQ+1+IR,CR=30,CQ=512,NQ=new Array((IQ+2)*2);cf(NQ);const LQ=new Array(CR*2);cf(LQ);const RQ=new Array(CQ);cf(RQ);const MQ=new Array(EQ-kQ+1);cf(MQ);const DQ=new Array(IR);cf(DQ);const OQ=new Array(CR);cf(OQ);const FQ=(e,t,n,i)=>{let r=e&65535|0,s=e>>>16&65535|0,o=0;for(;n!==0;){o=n>2e3?2e3:n,n-=o;do r=r+t[i++]|0,s=s+r|0;while(--o);r%=65521,s%=65521}return r|s<<16|0};var J5=FQ;const jQ=()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var i=0;i<8;i++)e=e&1?3988292384^e>>>1:e>>>1;t[n]=e}return t},VQ=new Uint32Array(jQ()),BQ=(e,t,n,i)=>{const r=VQ,s=i+n;e^=-1;for(let o=i;o<s;o++)e=e>>>8^r[(e^t[o])&255];return e^-1};var Ro=BQ,Z5={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},NR={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const UQ=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var zQ=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const i in n)UQ(n,i)&&(e[i]=n[i])}}return e},WQ=e=>{let t=0;for(let i=0,r=e.length;i<r;i++)t+=e[i].length;const n=new Uint8Array(t);for(let i=0,r=0,s=e.length;i<s;i++){let o=e[i];n.set(o,r),r+=o.length}return n},LR={assign:zQ,flattenChunks:WQ};let RR=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{RR=!1}const Sp=new Uint8Array(256);for(let e=0;e<256;e++)Sp[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;Sp[254]=Sp[254]=1;var qQ=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,n,i,r,s,o=e.length,a=0;for(r=0;r<o;r++)n=e.charCodeAt(r),(n&64512)===55296&&r+1<o&&(i=e.charCodeAt(r+1),(i&64512)===56320&&(n=65536+(n-55296<<10)+(i-56320),r++)),a+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(a),s=0,r=0;s<a;r++)n=e.charCodeAt(r),(n&64512)===55296&&r+1<o&&(i=e.charCodeAt(r+1),(i&64512)===56320&&(n=65536+(n-55296<<10)+(i-56320),r++)),n<128?t[s++]=n:n<2048?(t[s++]=192|n>>>6,t[s++]=128|n&63):n<65536?(t[s++]=224|n>>>12,t[s++]=128|n>>>6&63,t[s++]=128|n&63):(t[s++]=240|n>>>18,t[s++]=128|n>>>12&63,t[s++]=128|n>>>6&63,t[s++]=128|n&63);return t};const HQ=(e,t)=>{if(t<65534&&e.subarray&&RR)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n="";for(let i=0;i<t;i++)n+=String.fromCharCode(e[i]);return n};var $Q=(e,t)=>{const n=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let i,r;const s=new Array(n*2);for(r=0,i=0;i<n;){let o=e[i++];if(o<128){s[r++]=o;continue}let a=Sp[o];if(a>4){s[r++]=65533,i+=a-1;continue}for(o&=a===2?31:a===3?15:7;a>1&&i<n;)o=o<<6|e[i++]&63,a--;if(a>1){s[r++]=65533;continue}o<65536?s[r++]=o:(o-=65536,s[r++]=55296|o>>10&1023,s[r++]=56320|o&1023)}return HQ(s,r)},GQ=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let n=t-1;for(;n>=0&&(e[n]&192)===128;)n--;return n<0||n===0?t:n+Sp[e[n]]>t?n:t},t_={string2buf:qQ,buf2string:$Q,utf8border:GQ};function KQ(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var YQ=KQ;const em=16209,XQ=16191;var QQ=function(t,n){let i,r,s,o,a,l,u,c,h,p,f,y,_,x,v,A,I,P,F,G,R,T,E,D;const k=t.state;i=t.next_in,E=t.input,r=i+(t.avail_in-5),s=t.next_out,D=t.output,o=s-(n-t.avail_out),a=s+(t.avail_out-257),l=k.dmax,u=k.wsize,c=k.whave,h=k.wnext,p=k.window,f=k.hold,y=k.bits,_=k.lencode,x=k.distcode,v=(1<<k.lenbits)-1,A=(1<<k.distbits)-1;t:do{y<15&&(f+=E[i++]<<y,y+=8,f+=E[i++]<<y,y+=8),I=_[f&v];e:for(;;){if(P=I>>>24,f>>>=P,y-=P,P=I>>>16&255,P===0)D[s++]=I&65535;else if(P&16){F=I&65535,P&=15,P&&(y<P&&(f+=E[i++]<<y,y+=8),F+=f&(1<<P)-1,f>>>=P,y-=P),y<15&&(f+=E[i++]<<y,y+=8,f+=E[i++]<<y,y+=8),I=x[f&A];n:for(;;){if(P=I>>>24,f>>>=P,y-=P,P=I>>>16&255,P&16){if(G=I&65535,P&=15,y<P&&(f+=E[i++]<<y,y+=8,y<P&&(f+=E[i++]<<y,y+=8)),G+=f&(1<<P)-1,G>l){t.msg="invalid distance too far back",k.mode=em;break t}if(f>>>=P,y-=P,P=s-o,G>P){if(P=G-P,P>c&&k.sane){t.msg="invalid distance too far back",k.mode=em;break t}if(R=0,T=p,h===0){if(R+=u-P,P<F){F-=P;do D[s++]=p[R++];while(--P);R=s-G,T=D}}else if(h<P){if(R+=u+h-P,P-=h,P<F){F-=P;do D[s++]=p[R++];while(--P);if(R=0,h<F){P=h,F-=P;do D[s++]=p[R++];while(--P);R=s-G,T=D}}}else if(R+=h-P,P<F){F-=P;do D[s++]=p[R++];while(--P);R=s-G,T=D}for(;F>2;)D[s++]=T[R++],D[s++]=T[R++],D[s++]=T[R++],F-=3;F&&(D[s++]=T[R++],F>1&&(D[s++]=T[R++]))}else{R=s-G;do D[s++]=D[R++],D[s++]=D[R++],D[s++]=D[R++],F-=3;while(F>2);F&&(D[s++]=D[R++],F>1&&(D[s++]=D[R++]))}}else if(P&64){t.msg="invalid distance code",k.mode=em;break t}else{I=x[(I&65535)+(f&(1<<P)-1)];continue n}break}}else if(P&64)if(P&32){k.mode=XQ;break t}else{t.msg="invalid literal/length code",k.mode=em;break t}else{I=_[(I&65535)+(f&(1<<P)-1)];continue e}break}}while(i<r&&s<a);F=y>>3,i-=F,y-=F<<3,f&=(1<<y)-1,t.next_in=i,t.next_out=s,t.avail_in=i<r?5+(r-i):5-(i-r),t.avail_out=s<a?257+(a-s):257-(s-a),k.hold=f,k.bits=y};const Oc=15,tE=852,eE=592,nE=0,Nv=1,iE=2,JQ=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),ZQ=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),tJ=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),eJ=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),nJ=(e,t,n,i,r,s,o,a)=>{const l=a.bits;let u=0,c=0,h=0,p=0,f=0,y=0,_=0,x=0,v=0,A=0,I,P,F,G,R,T=null,E;const D=new Uint16Array(Oc+1),k=new Uint16Array(Oc+1);let N=null,M,H,rt;for(u=0;u<=Oc;u++)D[u]=0;for(c=0;c<i;c++)D[t[n+c]]++;for(f=l,p=Oc;p>=1&&D[p]===0;p--);if(f>p&&(f=p),p===0)return r[s++]=1<<24|64<<16|0,r[s++]=1<<24|64<<16|0,a.bits=1,0;for(h=1;h<p&&D[h]===0;h++);for(f<h&&(f=h),x=1,u=1;u<=Oc;u++)if(x<<=1,x-=D[u],x<0)return-1;if(x>0&&(e===nE||p!==1))return-1;for(k[1]=0,u=1;u<Oc;u++)k[u+1]=k[u]+D[u];for(c=0;c<i;c++)t[n+c]!==0&&(o[k[t[n+c]]++]=c);if(e===nE?(T=N=o,E=20):e===Nv?(T=JQ,N=ZQ,E=257):(T=tJ,N=eJ,E=0),A=0,c=0,u=h,R=s,y=f,_=0,F=-1,v=1<<f,G=v-1,e===Nv&&v>tE||e===iE&&v>eE)return 1;for(;;){M=u-_,o[c]+1<E?(H=0,rt=o[c]):o[c]>=E?(H=N[o[c]-E],rt=T[o[c]-E]):(H=96,rt=0),I=1<<u-_,P=1<<y,h=P;do P-=I,r[R+(A>>_)+P]=M<<24|H<<16|rt|0;while(P!==0);for(I=1<<u-1;A&I;)I>>=1;if(I!==0?(A&=I-1,A+=I):A=0,c++,--D[u]===0){if(u===p)break;u=t[n+o[c]]}if(u>f&&(A&G)!==F){for(_===0&&(_=f),R+=h,y=u-_,x=1<<y;y+_<p&&(x-=D[y+_],!(x<=0));)y++,x<<=1;if(v+=1<<y,e===Nv&&v>tE||e===iE&&v>eE)return 1;F=A&G,r[F]=f<<24|y<<16|R-s|0}}return A!==0&&(r[R+A]=u-_<<24|64<<16|0),a.bits=f,0};var Md=nJ;const iJ=0,MR=1,DR=2,{Z_FINISH:rE,Z_BLOCK:rJ,Z_TREES:nm,Z_OK:fc,Z_STREAM_END:sJ,Z_NEED_DICT:oJ,Z_STREAM_ERROR:$s,Z_DATA_ERROR:OR,Z_MEM_ERROR:FR,Z_BUF_ERROR:aJ,Z_DEFLATED:sE}=NR,ey=16180,oE=16181,aE=16182,lE=16183,uE=16184,cE=16185,hE=16186,fE=16187,dE=16188,pE=16189,Q0=16190,fa=16191,Lv=16192,gE=16193,Rv=16194,mE=16195,yE=16196,vE=16197,_E=16198,im=16199,rm=16200,wE=16201,bE=16202,xE=16203,SE=16204,AE=16205,Mv=16206,TE=16207,kE=16208,On=16209,jR=16210,VR=16211,lJ=852,uJ=592,cJ=15,hJ=cJ,EE=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function fJ(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const wc=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<ey||t.mode>VR?1:0},BR=e=>{if(wc(e))return $s;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=ey,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(lJ),t.distcode=t.distdyn=new Int32Array(uJ),t.sane=1,t.back=-1,fc},UR=e=>{if(wc(e))return $s;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,BR(e)},zR=(e,t)=>{let n;if(wc(e))return $s;const i=e.state;return t<0?(n=0,t=-t):(n=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?$s:(i.window!==null&&i.wbits!==t&&(i.window=null),i.wrap=n,i.wbits=t,UR(e))},WR=(e,t)=>{if(!e)return $s;const n=new fJ;e.state=n,n.strm=e,n.window=null,n.mode=ey;const i=zR(e,t);return i!==fc&&(e.state=null),i},dJ=e=>WR(e,hJ);let PE=!0,Dv,Ov;const pJ=e=>{if(PE){Dv=new Int32Array(512),Ov=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Md(MR,e.lens,0,288,Dv,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Md(DR,e.lens,0,32,Ov,0,e.work,{bits:5}),PE=!1}e.lencode=Dv,e.lenbits=9,e.distcode=Ov,e.distbits=5},qR=(e,t,n,i)=>{let r;const s=e.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),i>=s.wsize?(s.window.set(t.subarray(n-s.wsize,n),0),s.wnext=0,s.whave=s.wsize):(r=s.wsize-s.wnext,r>i&&(r=i),s.window.set(t.subarray(n-i,n-i+r),s.wnext),i-=r,i?(s.window.set(t.subarray(n-i,n),0),s.wnext=i,s.whave=s.wsize):(s.wnext+=r,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=r))),0},gJ=(e,t)=>{let n,i,r,s,o,a,l,u,c,h,p,f,y,_,x=0,v,A,I,P,F,G,R,T;const E=new Uint8Array(4);let D,k;const N=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(wc(e)||!e.output||!e.input&&e.avail_in!==0)return $s;n=e.state,n.mode===fa&&(n.mode=Lv),o=e.next_out,r=e.output,l=e.avail_out,s=e.next_in,i=e.input,a=e.avail_in,u=n.hold,c=n.bits,h=a,p=l,T=fc;t:for(;;)switch(n.mode){case ey:if(n.wrap===0){n.mode=Lv;break}for(;c<16;){if(a===0)break t;a--,u+=i[s++]<<c,c+=8}if(n.wrap&2&&u===35615){n.wbits===0&&(n.wbits=15),n.check=0,E[0]=u&255,E[1]=u>>>8&255,n.check=Ro(n.check,E,2,0),u=0,c=0,n.mode=oE;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((u&255)<<8)+(u>>8))%31){e.msg="incorrect header check",n.mode=On;break}if((u&15)!==sE){e.msg="unknown compression method",n.mode=On;break}if(u>>>=4,c-=4,R=(u&15)+8,n.wbits===0&&(n.wbits=R),R>15||R>n.wbits){e.msg="invalid window size",n.mode=On;break}n.dmax=1<<n.wbits,n.flags=0,e.adler=n.check=1,n.mode=u&512?pE:fa,u=0,c=0;break;case oE:for(;c<16;){if(a===0)break t;a--,u+=i[s++]<<c,c+=8}if(n.flags=u,(n.flags&255)!==sE){e.msg="unknown compression method",n.mode=On;break}if(n.flags&57344){e.msg="unknown header flags set",n.mode=On;break}n.head&&(n.head.text=u>>8&1),n.flags&512&&n.wrap&4&&(E[0]=u&255,E[1]=u>>>8&255,n.check=Ro(n.check,E,2,0)),u=0,c=0,n.mode=aE;case aE:for(;c<32;){if(a===0)break t;a--,u+=i[s++]<<c,c+=8}n.head&&(n.head.time=u),n.flags&512&&n.wrap&4&&(E[0]=u&255,E[1]=u>>>8&255,E[2]=u>>>16&255,E[3]=u>>>24&255,n.check=Ro(n.check,E,4,0)),u=0,c=0,n.mode=lE;case lE:for(;c<16;){if(a===0)break t;a--,u+=i[s++]<<c,c+=8}n.head&&(n.head.xflags=u&255,n.head.os=u>>8),n.flags&512&&n.wrap&4&&(E[0]=u&255,E[1]=u>>>8&255,n.check=Ro(n.check,E,2,0)),u=0,c=0,n.mode=uE;case uE:if(n.flags&1024){for(;c<16;){if(a===0)break t;a--,u+=i[s++]<<c,c+=8}n.length=u,n.head&&(n.head.extra_len=u),n.flags&512&&n.wrap&4&&(E[0]=u&255,E[1]=u>>>8&255,n.check=Ro(n.check,E,2,0)),u=0,c=0}else n.head&&(n.head.extra=null);n.mode=cE;case cE:if(n.flags&1024&&(f=n.length,f>a&&(f=a),f&&(n.head&&(R=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(i.subarray(s,s+f),R)),n.flags&512&&n.wrap&4&&(n.check=Ro(n.check,i,f,s)),a-=f,s+=f,n.length-=f),n.length))break t;n.length=0,n.mode=hE;case hE:if(n.flags&2048){if(a===0)break t;f=0;do R=i[s+f++],n.head&&R&&n.length<65536&&(n.head.name+=String.fromCharCode(R));while(R&&f<a);if(n.flags&512&&n.wrap&4&&(n.check=Ro(n.check,i,f,s)),a-=f,s+=f,R)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=fE;case fE:if(n.flags&4096){if(a===0)break t;f=0;do R=i[s+f++],n.head&&R&&n.length<65536&&(n.head.comment+=String.fromCharCode(R));while(R&&f<a);if(n.flags&512&&n.wrap&4&&(n.check=Ro(n.check,i,f,s)),a-=f,s+=f,R)break t}else n.head&&(n.head.comment=null);n.mode=dE;case dE:if(n.flags&512){for(;c<16;){if(a===0)break t;a--,u+=i[s++]<<c,c+=8}if(n.wrap&4&&u!==(n.check&65535)){e.msg="header crc mismatch",n.mode=On;break}u=0,c=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=fa;break;case pE:for(;c<32;){if(a===0)break t;a--,u+=i[s++]<<c,c+=8}e.adler=n.check=EE(u),u=0,c=0,n.mode=Q0;case Q0:if(n.havedict===0)return e.next_out=o,e.avail_out=l,e.next_in=s,e.avail_in=a,n.hold=u,n.bits=c,oJ;e.adler=n.check=1,n.mode=fa;case fa:if(t===rJ||t===nm)break t;case Lv:if(n.last){u>>>=c&7,c-=c&7,n.mode=Mv;break}for(;c<3;){if(a===0)break t;a--,u+=i[s++]<<c,c+=8}switch(n.last=u&1,u>>>=1,c-=1,u&3){case 0:n.mode=gE;break;case 1:if(pJ(n),n.mode=im,t===nm){u>>>=2,c-=2;break t}break;case 2:n.mode=yE;break;case 3:e.msg="invalid block type",n.mode=On}u>>>=2,c-=2;break;case gE:for(u>>>=c&7,c-=c&7;c<32;){if(a===0)break t;a--,u+=i[s++]<<c,c+=8}if((u&65535)!==(u>>>16^65535)){e.msg="invalid stored block lengths",n.mode=On;break}if(n.length=u&65535,u=0,c=0,n.mode=Rv,t===nm)break t;case Rv:n.mode=mE;case mE:if(f=n.length,f){if(f>a&&(f=a),f>l&&(f=l),f===0)break t;r.set(i.subarray(s,s+f),o),a-=f,s+=f,l-=f,o+=f,n.length-=f;break}n.mode=fa;break;case yE:for(;c<14;){if(a===0)break t;a--,u+=i[s++]<<c,c+=8}if(n.nlen=(u&31)+257,u>>>=5,c-=5,n.ndist=(u&31)+1,u>>>=5,c-=5,n.ncode=(u&15)+4,u>>>=4,c-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=On;break}n.have=0,n.mode=vE;case vE:for(;n.have<n.ncode;){for(;c<3;){if(a===0)break t;a--,u+=i[s++]<<c,c+=8}n.lens[N[n.have++]]=u&7,u>>>=3,c-=3}for(;n.have<19;)n.lens[N[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,D={bits:n.lenbits},T=Md(iJ,n.lens,0,19,n.lencode,0,n.work,D),n.lenbits=D.bits,T){e.msg="invalid code lengths set",n.mode=On;break}n.have=0,n.mode=_E;case _E:for(;n.have<n.nlen+n.ndist;){for(;x=n.lencode[u&(1<<n.lenbits)-1],v=x>>>24,A=x>>>16&255,I=x&65535,!(v<=c);){if(a===0)break t;a--,u+=i[s++]<<c,c+=8}if(I<16)u>>>=v,c-=v,n.lens[n.have++]=I;else{if(I===16){for(k=v+2;c<k;){if(a===0)break t;a--,u+=i[s++]<<c,c+=8}if(u>>>=v,c-=v,n.have===0){e.msg="invalid bit length repeat",n.mode=On;break}R=n.lens[n.have-1],f=3+(u&3),u>>>=2,c-=2}else if(I===17){for(k=v+3;c<k;){if(a===0)break t;a--,u+=i[s++]<<c,c+=8}u>>>=v,c-=v,R=0,f=3+(u&7),u>>>=3,c-=3}else{for(k=v+7;c<k;){if(a===0)break t;a--,u+=i[s++]<<c,c+=8}u>>>=v,c-=v,R=0,f=11+(u&127),u>>>=7,c-=7}if(n.have+f>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=On;break}for(;f--;)n.lens[n.have++]=R}}if(n.mode===On)break;if(n.lens[256]===0){e.msg="invalid code -- missing end-of-block",n.mode=On;break}if(n.lenbits=9,D={bits:n.lenbits},T=Md(MR,n.lens,0,n.nlen,n.lencode,0,n.work,D),n.lenbits=D.bits,T){e.msg="invalid literal/lengths set",n.mode=On;break}if(n.distbits=6,n.distcode=n.distdyn,D={bits:n.distbits},T=Md(DR,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,D),n.distbits=D.bits,T){e.msg="invalid distances set",n.mode=On;break}if(n.mode=im,t===nm)break t;case im:n.mode=rm;case rm:if(a>=6&&l>=258){e.next_out=o,e.avail_out=l,e.next_in=s,e.avail_in=a,n.hold=u,n.bits=c,QQ(e,p),o=e.next_out,r=e.output,l=e.avail_out,s=e.next_in,i=e.input,a=e.avail_in,u=n.hold,c=n.bits,n.mode===fa&&(n.back=-1);break}for(n.back=0;x=n.lencode[u&(1<<n.lenbits)-1],v=x>>>24,A=x>>>16&255,I=x&65535,!(v<=c);){if(a===0)break t;a--,u+=i[s++]<<c,c+=8}if(A&&!(A&240)){for(P=v,F=A,G=I;x=n.lencode[G+((u&(1<<P+F)-1)>>P)],v=x>>>24,A=x>>>16&255,I=x&65535,!(P+v<=c);){if(a===0)break t;a--,u+=i[s++]<<c,c+=8}u>>>=P,c-=P,n.back+=P}if(u>>>=v,c-=v,n.back+=v,n.length=I,A===0){n.mode=AE;break}if(A&32){n.back=-1,n.mode=fa;break}if(A&64){e.msg="invalid literal/length code",n.mode=On;break}n.extra=A&15,n.mode=wE;case wE:if(n.extra){for(k=n.extra;c<k;){if(a===0)break t;a--,u+=i[s++]<<c,c+=8}n.length+=u&(1<<n.extra)-1,u>>>=n.extra,c-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=bE;case bE:for(;x=n.distcode[u&(1<<n.distbits)-1],v=x>>>24,A=x>>>16&255,I=x&65535,!(v<=c);){if(a===0)break t;a--,u+=i[s++]<<c,c+=8}if(!(A&240)){for(P=v,F=A,G=I;x=n.distcode[G+((u&(1<<P+F)-1)>>P)],v=x>>>24,A=x>>>16&255,I=x&65535,!(P+v<=c);){if(a===0)break t;a--,u+=i[s++]<<c,c+=8}u>>>=P,c-=P,n.back+=P}if(u>>>=v,c-=v,n.back+=v,A&64){e.msg="invalid distance code",n.mode=On;break}n.offset=I,n.extra=A&15,n.mode=xE;case xE:if(n.extra){for(k=n.extra;c<k;){if(a===0)break t;a--,u+=i[s++]<<c,c+=8}n.offset+=u&(1<<n.extra)-1,u>>>=n.extra,c-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=On;break}n.mode=SE;case SE:if(l===0)break t;if(f=p-l,n.offset>f){if(f=n.offset-f,f>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=On;break}f>n.wnext?(f-=n.wnext,y=n.wsize-f):y=n.wnext-f,f>n.length&&(f=n.length),_=n.window}else _=r,y=o-n.offset,f=n.length;f>l&&(f=l),l-=f,n.length-=f;do r[o++]=_[y++];while(--f);n.length===0&&(n.mode=rm);break;case AE:if(l===0)break t;r[o++]=n.length,l--,n.mode=rm;break;case Mv:if(n.wrap){for(;c<32;){if(a===0)break t;a--,u|=i[s++]<<c,c+=8}if(p-=l,e.total_out+=p,n.total+=p,n.wrap&4&&p&&(e.adler=n.check=n.flags?Ro(n.check,r,p,o-p):J5(n.check,r,p,o-p)),p=l,n.wrap&4&&(n.flags?u:EE(u))!==n.check){e.msg="incorrect data check",n.mode=On;break}u=0,c=0}n.mode=TE;case TE:if(n.wrap&&n.flags){for(;c<32;){if(a===0)break t;a--,u+=i[s++]<<c,c+=8}if(n.wrap&4&&u!==(n.total&4294967295)){e.msg="incorrect length check",n.mode=On;break}u=0,c=0}n.mode=kE;case kE:T=sJ;break t;case On:T=OR;break t;case jR:return FR;case VR:default:return $s}return e.next_out=o,e.avail_out=l,e.next_in=s,e.avail_in=a,n.hold=u,n.bits=c,(n.wsize||p!==e.avail_out&&n.mode<On&&(n.mode<Mv||t!==rE))&&qR(e,e.output,e.next_out,p-e.avail_out),h-=e.avail_in,p-=e.avail_out,e.total_in+=h,e.total_out+=p,n.total+=p,n.wrap&4&&p&&(e.adler=n.check=n.flags?Ro(n.check,r,p,e.next_out-p):J5(n.check,r,p,e.next_out-p)),e.data_type=n.bits+(n.last?64:0)+(n.mode===fa?128:0)+(n.mode===im||n.mode===Rv?256:0),(h===0&&p===0||t===rE)&&T===fc&&(T=aJ),T},mJ=e=>{if(wc(e))return $s;let t=e.state;return t.window&&(t.window=null),e.state=null,fc},yJ=(e,t)=>{if(wc(e))return $s;const n=e.state;return n.wrap&2?(n.head=t,t.done=!1,fc):$s},vJ=(e,t)=>{const n=t.length;let i,r,s;return wc(e)||(i=e.state,i.wrap!==0&&i.mode!==Q0)?$s:i.mode===Q0&&(r=1,r=J5(r,t,n,0),r!==i.check)?OR:(s=qR(e,t,n,n),s?(i.mode=jR,FR):(i.havedict=1,fc))};var _J=UR,wJ=zR,bJ=BR,xJ=dJ,SJ=WR,AJ=gJ,TJ=mJ,kJ=yJ,EJ=vJ,PJ="pako inflate (from Nodeca project)",va={inflateReset:_J,inflateReset2:wJ,inflateResetKeep:bJ,inflateInit:xJ,inflateInit2:SJ,inflate:AJ,inflateEnd:TJ,inflateGetHeader:kJ,inflateSetDictionary:EJ,inflateInfo:PJ};function IJ(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var CJ=IJ;const HR=Object.prototype.toString,{Z_NO_FLUSH:NJ,Z_FINISH:LJ,Z_OK:Ap,Z_STREAM_END:Fv,Z_NEED_DICT:jv,Z_STREAM_ERROR:RJ,Z_DATA_ERROR:IE,Z_MEM_ERROR:MJ}=NR;function Xp(e){this.options=LR.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new YQ,this.strm.avail_out=0;let n=va.inflateInit2(this.strm,t.windowBits);if(n!==Ap)throw new Error(Z5[n]);if(this.header=new CJ,va.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=t_.string2buf(t.dictionary):HR.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=va.inflateSetDictionary(this.strm,t.dictionary),n!==Ap)))throw new Error(Z5[n])}Xp.prototype.push=function(e,t){const n=this.strm,i=this.options.chunkSize,r=this.options.dictionary;let s,o,a;if(this.ended)return!1;for(t===~~t?o=t:o=t===!0?LJ:NJ,HR.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(i),n.next_out=0,n.avail_out=i),s=va.inflate(n,o),s===jv&&r&&(s=va.inflateSetDictionary(n,r),s===Ap?s=va.inflate(n,o):s===IE&&(s=jv));n.avail_in>0&&s===Fv&&n.state.wrap>0&&e[n.next_in]!==0;)va.inflateReset(n),s=va.inflate(n,o);switch(s){case RJ:case IE:case jv:case MJ:return this.onEnd(s),this.ended=!0,!1}if(a=n.avail_out,n.next_out&&(n.avail_out===0||s===Fv))if(this.options.to==="string"){let l=t_.utf8border(n.output,n.next_out),u=n.next_out-l,c=t_.buf2string(n.output,l);n.next_out=u,n.avail_out=i-u,u&&n.output.set(n.output.subarray(l,l+u),0),this.onData(c)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(s===Ap&&a===0)){if(s===Fv)return s=va.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};Xp.prototype.onData=function(e){this.chunks.push(e)};Xp.prototype.onEnd=function(e){e===Ap&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=LR.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function DJ(e,t){const n=new Xp(t);if(n.push(e),n.err)throw n.msg||Z5[n.err];return n.result}var OJ=Xp,FJ=DJ,jJ={Inflate:OJ,inflate:FJ};const{Inflate:VJ,inflate:BJ}=jJ;var CE=VJ,UJ=BJ;const $R=[];for(let e=0;e<256;e++){let t=e;for(let n=0;n<8;n++)t&1?t=3988292384^t>>>1:t=t>>>1;$R[e]=t}const NE=4294967295;function zJ(e,t,n){let i=e;for(let r=0;r<n;r++)i=$R[(i^t[r])&255]^i>>>8;return i}function WJ(e,t){return(zJ(NE,e,t)^NE)>>>0}function LE(e,t,n){const i=e.readUint32(),r=WJ(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(r!==i)throw new Error(`CRC mismatch for chunk ${n}. Expected ${i}, found ${r}`)}function GR(e,t,n){for(let i=0;i<n;i++)t[i]=e[i]}function KR(e,t,n,i){let r=0;for(;r<i;r++)t[r]=e[r];for(;r<n;r++)t[r]=e[r]+t[r-i]&255}function YR(e,t,n,i){let r=0;if(n.length===0)for(;r<i;r++)t[r]=e[r];else for(;r<i;r++)t[r]=e[r]+n[r]&255}function XR(e,t,n,i,r){let s=0;if(n.length===0){for(;s<r;s++)t[s]=e[s];for(;s<i;s++)t[s]=e[s]+(t[s-r]>>1)&255}else{for(;s<r;s++)t[s]=e[s]+(n[s]>>1)&255;for(;s<i;s++)t[s]=e[s]+(t[s-r]+n[s]>>1)&255}}function QR(e,t,n,i,r){let s=0;if(n.length===0){for(;s<r;s++)t[s]=e[s];for(;s<i;s++)t[s]=e[s]+t[s-r]&255}else{for(;s<r;s++)t[s]=e[s]+n[s]&255;for(;s<i;s++)t[s]=e[s]+qJ(t[s-r],n[s],n[s-r])&255}}function qJ(e,t,n){const i=e+t-n,r=Math.abs(i-e),s=Math.abs(i-t),o=Math.abs(i-n);return r<=s&&r<=o?e:s<=o?t:n}function HJ(e,t,n,i,r,s){switch(e){case 0:GR(t,n,r);break;case 1:KR(t,n,r,s);break;case 2:YR(t,n,i,r);break;case 3:XR(t,n,i,r,s);break;case 4:QR(t,n,i,r,s);break;default:throw new Error(`Unsupported filter: ${e}`)}}const $J=new Uint16Array([255]),GJ=new Uint8Array($J.buffer),KJ=GJ[0]===255;function YJ(e){const{data:t,width:n,height:i,channels:r,depth:s}=e,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],a=Math.ceil(s/8)*r,l=new Uint8Array(i*n*a);let u=0;for(let c=0;c<7;c++){const h=o[c],p=Math.ceil((n-h.x)/h.xStep),f=Math.ceil((i-h.y)/h.yStep);if(p<=0||f<=0)continue;const y=p*a,_=new Uint8Array(y);for(let x=0;x<f;x++){const v=t[u++],A=t.subarray(u,u+y);u+=y;const I=new Uint8Array(y);HJ(v,A,I,_,y,a),_.set(I);for(let P=0;P<p;P++){const F=h.x+P*h.xStep,G=h.y+x*h.yStep;if(!(F>=n||G>=i))for(let R=0;R<a;R++)l[(G*n+F)*a+R]=I[P*a+R]}}}if(s===16){const c=new Uint16Array(l.buffer);if(KJ)for(let h=0;h<c.length;h++)c[h]=XJ(c[h]);return c}else return l}function XJ(e){return(e&255)<<8|e>>8&255}const QJ=new Uint16Array([255]),JJ=new Uint8Array(QJ.buffer),ZJ=JJ[0]===255,tZ=new Uint8Array(0);function RE(e){const{data:t,width:n,height:i,channels:r,depth:s}=e,o=Math.ceil(s/8)*r,a=Math.ceil(s/8*r*n),l=new Uint8Array(i*a);let u=tZ,c=0,h,p;for(let f=0;f<i;f++){switch(h=t.subarray(c+1,c+1+a),p=l.subarray(f*a,(f+1)*a),t[c]){case 0:GR(h,p,a);break;case 1:KR(h,p,a,o);break;case 2:YR(h,p,u,a);break;case 3:XR(h,p,u,a,o);break;case 4:QR(h,p,u,a,o);break;default:throw new Error(`Unsupported filter: ${t[c]}`)}u=p,c+=a+1}if(s===16){const f=new Uint16Array(l.buffer);if(ZJ)for(let y=0;y<f.length;y++)f[y]=eZ(f[y]);return f}else return l}function eZ(e){return(e&255)<<8|e>>8&255}const Bm=Uint8Array.of(137,80,78,71,13,10,26,10);function ME(e){if(!nZ(e.readBytes(Bm.length)))throw new Error("wrong PNG signature")}function nZ(e){if(e.length<Bm.length)return!1;for(let t=0;t<Bm.length;t++)if(e[t]!==Bm[t])return!1;return!0}const iZ="tEXt",rZ=0,JR=new TextDecoder("latin1");function sZ(e){if(aZ(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const oZ=/^[\u0000-\u00FF]*$/;function aZ(e){if(!oZ.test(e))throw new Error("invalid latin1 text")}function lZ(e,t,n){const i=ZR(t);e[i]=uZ(t,n-i.length-1)}function ZR(e){for(e.mark();e.readByte()!==rZ;);const t=e.offset;e.reset();const n=JR.decode(e.readBytes(t-e.offset-1));return e.skip(1),sZ(n),n}function uZ(e,t){return JR.decode(e.readBytes(t))}const os={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Vv={UNKNOWN:-1,DEFLATE:0},DE={UNKNOWN:-1,ADAPTIVE:0},Bv={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},sm={NONE:0,BACKGROUND:1,PREVIOUS:2},Uv={SOURCE:0,OVER:1};class cZ extends ux{constructor(n,i={}){super(n);Dt(this,"_checkCrc");Dt(this,"_inflator");Dt(this,"_png");Dt(this,"_apng");Dt(this,"_end");Dt(this,"_hasPalette");Dt(this,"_palette");Dt(this,"_hasTransparency");Dt(this,"_transparency");Dt(this,"_compressionMethod");Dt(this,"_filterMethod");Dt(this,"_interlaceMethod");Dt(this,"_colorType");Dt(this,"_isAnimated");Dt(this,"_numberOfFrames");Dt(this,"_numberOfPlays");Dt(this,"_frames");Dt(this,"_writingDataChunks");const{checkCrc:r=!1}=i;this._checkCrc=r,this._inflator=new CE,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Vv.UNKNOWN,this._filterMethod=DE.UNKNOWN,this._interlaceMethod=Bv.UNKNOWN,this._colorType=os.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(ME(this);!this._end;){const n=this.readUint32(),i=this.readChars(4);this.decodeChunk(n,i)}return this.decodeImage(),this._png}decodeApng(){for(ME(this);!this._end;){const n=this.readUint32(),i=this.readChars(4);this.decodeApngChunk(n,i)}return this.decodeApngImage(),this._apng}decodeChunk(n,i){const r=this.offset;switch(i){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(n);break;case"IDAT":this.decodeIDAT(n);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(n);break;case"iCCP":this.decodeiCCP(n);break;case iZ:lZ(this._png.text,this,n);break;case"pHYs":this.decodepHYs();break;default:this.skip(n);break}if(this.offset-r!==n)throw new Error(`Length mismatch while decoding chunk ${i}`);this._checkCrc?LE(this,n+4,i):this.skip(4)}decodeApngChunk(n,i){const r=this.offset;switch(i!=="fdAT"&&i!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),i){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(n);break;default:this.decodeChunk(n,i),this.offset=r+n;break}if(this.offset-r!==n)throw new Error(`Length mismatch while decoding chunk ${i}`);this._checkCrc?LE(this,n+4,i):this.skip(4)}decodeIHDR(){const n=this._png;n.width=this.readUint32(),n.height=this.readUint32(),n.depth=hZ(this.readUint8());const i=this.readUint8();this._colorType=i;let r;switch(i){case os.GREYSCALE:r=1;break;case os.TRUECOLOUR:r=3;break;case os.INDEXED_COLOUR:r=1;break;case os.GREYSCALE_ALPHA:r=2;break;case os.TRUECOLOUR_ALPHA:r=4;break;case os.UNKNOWN:default:throw new Error(`Unknown color type: ${i}`)}if(this._png.channels=r,this._compressionMethod=this.readUint8(),this._compressionMethod!==Vv.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const n={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(n)}decodePLTE(n){if(n%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${n}`);const i=n/3;this._hasPalette=!0;const r=[];this._palette=r;for(let s=0;s<i;s++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(n){this._writingDataChunks=!0;const i=n,r=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,r,i)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodeFDAT(n){this._writingDataChunks=!0;let i=n,r=this.offset+this.byteOffset;if(r+=4,i-=4,this._inflator.push(new Uint8Array(this.buffer,r,i)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodetRNS(n){switch(this._colorType){case os.GREYSCALE:case os.TRUECOLOUR:{if(n%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${n}`);if(n/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${n/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(n/2);for(let i=0;i<n/2;i++)this._transparency[i]=this.readUint16();break}case os.INDEXED_COLOUR:{if(n>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${n} vs ${this._palette.length})`);let i=0;for(;i<n;i++){const r=this.readByte();this._palette[i].push(r)}for(;i<this._palette.length;i++)this._palette[i].push(255);break}case os.UNKNOWN:case os.GREYSCALE_ALPHA:case os.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(n){const i=ZR(this),r=this.readUint8();if(r!==Vv.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${r}`);const s=this.readBytes(n-i.length-2);this._png.iccEmbeddedProfile={name:i,profile:UJ(s)}}decodepHYs(){const n=this.readUint32(),i=this.readUint32(),r=this.readByte();this._png.resolution={x:n,y:i,unit:r}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let n=0;n<this._numberOfFrames;n++){const i={sequenceNumber:this._frames[n].sequenceNumber,delayNumber:this._frames[n].delayNumber,delayDenominator:this._frames[n].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},r=this._frames.at(n);if(r){if(r.data=RE({data:r.data,width:r.width,height:r.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),n===0||r.xOffset===0&&r.yOffset===0&&r.width===this._png.width&&r.height===this._png.height)i.data=r.data;else{const s=this._apng.frames.at(n-1);this.disposeFrame(r,s,i),this.addFrameDataToCanvas(i,r)}this._apng.frames.push(i)}}return this._apng}disposeFrame(n,i,r){switch(n.disposeOp){case sm.NONE:break;case sm.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let o=0;o<this._png.width;o++){const a=(s*n.width+o)*this._png.channels;for(let l=0;l<this._png.channels;l++)r.data[a+l]=0}break;case sm.PREVIOUS:r.data.set(i.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(n,i){const r=1<<this._png.depth,s=(o,a)=>{const l=((o+i.yOffset)*this._png.width+i.xOffset+a)*this._png.channels,u=(o*i.width+a)*this._png.channels;return{index:l,frameIndex:u}};switch(i.blendOp){case Uv.SOURCE:for(let o=0;o<i.height;o++)for(let a=0;a<i.width;a++){const{index:l,frameIndex:u}=s(o,a);for(let c=0;c<this._png.channels;c++)n.data[l+c]=i.data[u+c]}break;case Uv.OVER:for(let o=0;o<i.height;o++)for(let a=0;a<i.width;a++){const{index:l,frameIndex:u}=s(o,a);for(let c=0;c<this._png.channels;c++){const h=i.data[u+this._png.channels-1]/r,p=c%(this._png.channels-1)===0?1:i.data[u+c],f=Math.floor(h*p+(1-h)*n.data[l+c]);n.data[l+c]+=f}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var i;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const n=this._isAnimated?((i=this._frames)==null?void 0:i.at(0)).data:this._inflator.result;if(this._filterMethod!==DE.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Bv.NO_INTERLACE)this._png.data=RE({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Bv.ADAM7)this._png.data=YJ({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const n=this._inflator.result,i=this._frames.at(-1);i?i.data=n:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:sm.NONE,blendOp:Uv.SOURCE,data:n}),this._inflator=new CE,this._writingDataChunks=!1}}function hZ(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var OE;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(OE||(OE={}));function fZ(e,t){return new cZ(e,t).decode()}var ve=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function zv(){ve.console&&typeof ve.console.log=="function"&&ve.console.log.apply(ve.console,arguments)}var bn={log:zv,warn:function(e){ve.console&&(typeof ve.console.warn=="function"?ve.console.warn.apply(ve.console,arguments):zv.call(null,arguments))},error:function(e){ve.console&&(typeof ve.console.error=="function"?ve.console.error.apply(ve.console,arguments):zv(e))}};function Wv(e,t,n){var i=new XMLHttpRequest;i.open("GET",e),i.responseType="blob",i.onload=function(){Du(i.response,t,n)},i.onerror=function(){bn.error("could not download file")},i.send()}function FE(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function om(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Du=ve.saveAs||((typeof window>"u"?"undefined":dn(window))!=="object"||window!==ve?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var i=ve.URL||ve.webkitURL,r=document.createElement("a");t=t||e.name||"download",r.download=t,r.rel="noopener",typeof e=="string"?(r.href=e,r.origin!==location.origin?FE(r.href)?Wv(e,t,n):om(r,r.target="_blank"):om(r)):(r.href=i.createObjectURL(e),setTimeout(function(){i.revokeObjectURL(r.href)},4e4),setTimeout(function(){om(r)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download",typeof e=="string")if(FE(e))Wv(e,t,n);else{var i=document.createElement("a");i.href=e,i.target="_blank",setTimeout(function(){om(i)})}else navigator.msSaveOrOpenBlob(function(r,s){return s===void 0?s={autoBom:!1}:dn(s)!=="object"&&(bn.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(r.type)?new Blob(["\uFEFF",r],{type:r.type}):r}(e,n),t)}:function(e,t,n,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),typeof e=="string")return Wv(e,t,n);var r=e.type==="application/octet-stream",s=/constructor/i.test(ve.HTMLElement)||ve.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||r&&s)&&(typeof FileReader>"u"?"undefined":dn(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var c=a.result;c=o?c:c.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=c:location=c,i=null},a.readAsDataURL(e)}else{var l=ve.URL||ve.webkitURL,u=l.createObjectURL(e);i?i.location=u:location.href=u,i=null,setTimeout(function(){l.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function tM(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],i=0;i<n.length;i++){var r=n[i].re,s=n[i].process,o=r.exec(e);o&&(t=s(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),u=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),"#"+a+l+u}}var Um=ve.atob.bind(ve),jE=ve.btoa.bind(ve);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function qv(e,t){var n=e[0],i=e[1],r=e[2],s=e[3];n=lr(n,i,r,s,t[0],7,-680876936),s=lr(s,n,i,r,t[1],12,-389564586),r=lr(r,s,n,i,t[2],17,606105819),i=lr(i,r,s,n,t[3],22,-1044525330),n=lr(n,i,r,s,t[4],7,-176418897),s=lr(s,n,i,r,t[5],12,1200080426),r=lr(r,s,n,i,t[6],17,-1473231341),i=lr(i,r,s,n,t[7],22,-45705983),n=lr(n,i,r,s,t[8],7,1770035416),s=lr(s,n,i,r,t[9],12,-1958414417),r=lr(r,s,n,i,t[10],17,-42063),i=lr(i,r,s,n,t[11],22,-1990404162),n=lr(n,i,r,s,t[12],7,1804603682),s=lr(s,n,i,r,t[13],12,-40341101),r=lr(r,s,n,i,t[14],17,-1502002290),n=ur(n,i=lr(i,r,s,n,t[15],22,1236535329),r,s,t[1],5,-165796510),s=ur(s,n,i,r,t[6],9,-1069501632),r=ur(r,s,n,i,t[11],14,643717713),i=ur(i,r,s,n,t[0],20,-373897302),n=ur(n,i,r,s,t[5],5,-701558691),s=ur(s,n,i,r,t[10],9,38016083),r=ur(r,s,n,i,t[15],14,-660478335),i=ur(i,r,s,n,t[4],20,-405537848),n=ur(n,i,r,s,t[9],5,568446438),s=ur(s,n,i,r,t[14],9,-1019803690),r=ur(r,s,n,i,t[3],14,-187363961),i=ur(i,r,s,n,t[8],20,1163531501),n=ur(n,i,r,s,t[13],5,-1444681467),s=ur(s,n,i,r,t[2],9,-51403784),r=ur(r,s,n,i,t[7],14,1735328473),n=cr(n,i=ur(i,r,s,n,t[12],20,-1926607734),r,s,t[5],4,-378558),s=cr(s,n,i,r,t[8],11,-2022574463),r=cr(r,s,n,i,t[11],16,1839030562),i=cr(i,r,s,n,t[14],23,-35309556),n=cr(n,i,r,s,t[1],4,-1530992060),s=cr(s,n,i,r,t[4],11,1272893353),r=cr(r,s,n,i,t[7],16,-155497632),i=cr(i,r,s,n,t[10],23,-1094730640),n=cr(n,i,r,s,t[13],4,681279174),s=cr(s,n,i,r,t[0],11,-358537222),r=cr(r,s,n,i,t[3],16,-722521979),i=cr(i,r,s,n,t[6],23,76029189),n=cr(n,i,r,s,t[9],4,-640364487),s=cr(s,n,i,r,t[12],11,-421815835),r=cr(r,s,n,i,t[15],16,530742520),n=hr(n,i=cr(i,r,s,n,t[2],23,-995338651),r,s,t[0],6,-198630844),s=hr(s,n,i,r,t[7],10,1126891415),r=hr(r,s,n,i,t[14],15,-1416354905),i=hr(i,r,s,n,t[5],21,-57434055),n=hr(n,i,r,s,t[12],6,1700485571),s=hr(s,n,i,r,t[3],10,-1894986606),r=hr(r,s,n,i,t[10],15,-1051523),i=hr(i,r,s,n,t[1],21,-2054922799),n=hr(n,i,r,s,t[8],6,1873313359),s=hr(s,n,i,r,t[15],10,-30611744),r=hr(r,s,n,i,t[6],15,-1560198380),i=hr(i,r,s,n,t[13],21,1309151649),n=hr(n,i,r,s,t[4],6,-145523070),s=hr(s,n,i,r,t[11],10,-1120210379),r=hr(r,s,n,i,t[2],15,718787259),i=hr(i,r,s,n,t[9],21,-343485551),e[0]=Ml(n,e[0]),e[1]=Ml(i,e[1]),e[2]=Ml(r,e[2]),e[3]=Ml(s,e[3])}function ny(e,t,n,i,r,s){return t=Ml(Ml(t,e),Ml(i,s)),Ml(t<<r|t>>>32-r,n)}function lr(e,t,n,i,r,s,o){return ny(t&n|~t&i,e,t,r,s,o)}function ur(e,t,n,i,r,s,o){return ny(t&i|n&~i,e,t,r,s,o)}function cr(e,t,n,i,r,s,o){return ny(t^n^i,e,t,r,s,o)}function hr(e,t,n,i,r,s,o){return ny(n^(t|~i),e,t,r,s,o)}function eM(e){var t,n=e.length,i=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)qv(i,dZ(e.substring(t-64,t)));e=e.substring(t-64);var r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)r[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(r[t>>2]|=128<<(t%4<<3),t>55)for(qv(i,r),t=0;t<16;t++)r[t]=0;return r[14]=8*n,qv(i,r),i}function dZ(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}var VE="0123456789abcdef".split("");function pZ(e){for(var t="",n=0;n<4;n++)t+=VE[e>>8*n+4&15]+VE[e>>8*n&15];return t}function gZ(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function e_(e){return eM(e).map(gZ).join("")}var mZ=function(e){for(var t=0;t<e.length;t++)e[t]=pZ(e[t]);return e.join("")}(eM("hello"))!="5d41402abc4b2a76b9719d911017c592";function Ml(e,t){if(mZ){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function n_(e,t){var n,i,r,s;if(e!==n){for(var o=(r=e,s=1+(256/e.length|0),new Array(s+1).join(r)),a=[],l=0;l<256;l++)a[l]=l;var u=0;for(l=0;l<256;l++){var c=a[l];u=(u+c+o.charCodeAt(l))%256,a[l]=a[u],a[u]=c}n=e,i=a}else a=i;var h=t.length,p=0,f=0,y="";for(l=0;l<h;l++)f=(f+(c=a[p=(p+1)%256]))%256,a[p]=a[f],a[f]=c,o=a[(a[p]+a[f])%256],y+=String.fromCharCode(t.charCodeAt(l)^o);return y}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var BE={print:4,modify:8,copy:16,"annot-forms":32};function zc(e,t,n,i){this.v=1,this.r=2;var r=192;e.forEach(function(a){if(BE.perm!==void 0)throw new Error("Invalid permission: "+a);r+=BE[a]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(t+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^r)),this.encryptionKey=e_(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(i)).substr(0,5),this.U=n_(this.encryptionKey,this.padding)}function Wc(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,i=0;i<n;i++){var r=e.charCodeAt(i);t+=r<33||r===35||r===37||r===40||r===41||r===47||r===60||r===62||r===91||r===93||r===123||r===125||r>126?"#"+("0"+r.toString(16)).slice(-2):e[i]}return t}function UE(e){if(dn(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(n,i,r){if(r=r||!1,typeof n!="string"||typeof i!="function"||typeof r!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(n)||(t[n]={});var s=Math.random().toString(35);return t[n][s]=[i,!!r],s},this.unsubscribe=function(n){for(var i in t)if(t[i][n])return delete t[i][n],Object.keys(t[i]).length===0&&delete t[i],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var i=Array.prototype.slice.call(arguments,1),r=[];for(var s in t[n]){var o=t[n][s];try{o[0].apply(e,i)}catch(a){ve.console&&bn.error("jsPDF PubSub Error",a.message,a)}o[1]&&r.push(s)}r.length&&r.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function J0(e){if(!(this instanceof J0))return new J0(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function nM(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Ou(e,t,n,i,r){if(!(this instanceof Ou))return new Ou(e,t,n,i,r);this.type=e==="axial"?2:3,this.coords=t,this.colors=n,nM.call(this,i,r)}function ch(e,t,n,i,r){if(!(this instanceof ch))return new ch(e,t,n,i,r);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,nM.call(this,i,r)}function ee(e){var t,n=typeof arguments[0]=="string"?arguments[0]:"p",i=arguments[1],r=arguments[2],s=arguments[3],o=[],a=1,l=16,u="S",c=null;dn(e=e||{})==="object"&&(n=e.orientation,i=e.unit||i,r=e.format||r,s=e.compress||e.compressPdf||s,(c=e.encryption||null)!==null&&(c.userPassword=c.userPassword||"",c.ownerPassword=c.ownerPassword||"",c.userPermissions=c.userPermissions||[]),a=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(l=e.floatPrecision),u=e.defaultPathOperation||"S"),o=e.filters||(s===!0?["FlateEncode"]:o),i=i||"mm",n=(""+(n||"P")).toLowerCase();var h=e.putOnlyUsedFonts||!1,p={},f={internal:{},__private__:{}};f.__private__.PubSub=UE;var y="1.3",_=f.__private__.getPdfVersion=function(){return y};f.__private__.setPdfVersion=function(w){y=w};var x={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return x};var v=f.__private__.getPageFormat=function(w){return x[w]};r=r||"a4";var A="compat",I="advanced",P=A;function F(){this.saveGraphicsState(),K(new ce(xe,0,0,-xe,0,ks()*xe).toString()+" cm"),this.setFontSize(this.getFontSize()/xe),u="n",P=I}function G(){this.restoreGraphicsState(),u="S",P=A}var R=f.__private__.combineFontStyleAndFontWeight=function(w,O){if(w=="bold"&&O=="normal"||w=="bold"&&O==400||w=="normal"&&O=="italic"||w=="bold"&&O=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return O&&(w=O==400||O==="normal"?w==="italic"?"italic":"normal":O!=700&&O!=="bold"||w!=="normal"?(O==700?"bold":O)+""+w:"bold"),w};f.advancedAPI=function(w){var O=P===A;return O&&F.call(this),typeof w!="function"||(w(this),O&&G.call(this)),this},f.compatAPI=function(w){var O=P===I;return O&&G.call(this),typeof w!="function"||(w(this),O&&F.call(this)),this},f.isAdvancedAPI=function(){return P===I};var T,E=function(w){if(P!==I)throw new Error(w+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},D=f.roundToPrecision=f.__private__.roundToPrecision=function(w,O){var X=t||O;if(isNaN(w)||isNaN(X))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return w.toFixed(X).replace(/0+$/,"")};T=f.hpf=f.__private__.hpf=typeof l=="number"?function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.hpf");return D(w,l)}:l==="smart"?function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.hpf");return D(w,w>-1&&w<1?16:5)}:function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.hpf");return D(w,16)};var k=f.f2=f.__private__.f2=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.f2");return D(w,2)},N=f.__private__.f3=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.f3");return D(w,3)},M=f.scale=f.__private__.scale=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.scale");return P===A?w*xe:P===I?w:void 0},H=function(w){return M(function(O){return P===A?ks()-O:P===I?O:void 0}(w))};f.__private__.setPrecision=f.setPrecision=function(w){typeof parseInt(w,10)=="number"&&(t=parseInt(w,10))};var rt,ut="00000000000000000000000000000000",ot=f.__private__.getFileId=function(){return ut},tt=f.__private__.setFileId=function(w){return ut=w!==void 0&&/^[a-fA-F0-9]{32}$/.test(w)?w.toUpperCase():ut.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),c!==null&&(vn=new zc(c.userPermissions,c.userPassword,c.ownerPassword,ut)),ut};f.setFileId=function(w){return tt(w),this},f.getFileId=function(){return ot()};var at=f.__private__.convertDateToPDFDate=function(w){var O=w.getTimezoneOffset(),X=O<0?"+":"-",it=Math.floor(Math.abs(O/60)),ct=Math.abs(O%60),xt=[X,et(it),"'",et(ct),"'"].join("");return["D:",w.getFullYear(),et(w.getMonth()+1),et(w.getDate()),et(w.getHours()),et(w.getMinutes()),et(w.getSeconds()),xt].join("")},vt=f.__private__.convertPDFDateToDate=function(w){var O=parseInt(w.substr(2,4),10),X=parseInt(w.substr(6,2),10)-1,it=parseInt(w.substr(8,2),10),ct=parseInt(w.substr(10,2),10),xt=parseInt(w.substr(12,2),10),Pt=parseInt(w.substr(14,2),10);return new Date(O,X,it,ct,xt,Pt,0)},_t=f.__private__.setCreationDate=function(w){var O;if(w===void 0&&(w=new Date),w instanceof Date)O=at(w);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(w))throw new Error("Invalid argument passed to jsPDF.setCreationDate");O=w}return rt=O},B=f.__private__.getCreationDate=function(w){var O=rt;return w==="jsDate"&&(O=vt(rt)),O};f.setCreationDate=function(w){return _t(w),this},f.getCreationDate=function(w){return B(w)};var Y,et=f.__private__.padd2=function(w){return("0"+parseInt(w)).slice(-2)},Z=f.__private__.padd2Hex=function(w){return("00"+(w=w.toString())).substr(w.length)},nt=0,ft=[],yt=[],wt=0,At=[],Lt=[],Bt=!1,Vt=yt;f.__private__.setCustomOutputDestination=function(w){Bt=!0,Vt=w};var Zt=function(w){Bt||(Vt=w)};f.__private__.resetCustomOutputDestination=function(){Bt=!1,Vt=yt};var K=f.__private__.out=function(w){return w=w.toString(),wt+=w.length+1,Vt.push(w),Vt},jt=f.__private__.write=function(w){return K(arguments.length===1?w.toString():Array.prototype.join.call(arguments," "))},Ee=f.__private__.getArrayBuffer=function(w){for(var O=w.length,X=new ArrayBuffer(O),it=new Uint8Array(X);O--;)it[O]=w.charCodeAt(O);return X},ue=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return ue};var Ct=e.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(w){return Ct=P===I?w/xe:w,this};var re,zt=f.__private__.getFontSize=f.getFontSize=function(){return P===A?Ct:Ct*xe},ae=e.R2L||!1;f.__private__.setR2L=f.setR2L=function(w){return ae=w,this},f.__private__.getR2L=f.getR2L=function(){return ae};var ne,He=f.__private__.setZoomMode=function(w){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(w))re=w;else if(isNaN(w)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(w)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+w+'" is not recognized.');re=w}else re=parseInt(w,10)};f.__private__.getZoomMode=function(){return re};var Re,Jt=f.__private__.setPageMode=function(w){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(w)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+w+'" is not recognized.');ne=w};f.__private__.getPageMode=function(){return ne};var de=f.__private__.setLayoutMode=function(w){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(w)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+w+'" is not recognized.');Re=w};f.__private__.getLayoutMode=function(){return Re},f.__private__.setDisplayMode=f.setDisplayMode=function(w,O,X){return He(w),de(O),Jt(X),this};var Ce={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(w){if(Object.keys(Ce).indexOf(w)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ce[w]},f.__private__.getDocumentProperties=function(){return Ce},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(w){for(var O in Ce)Ce.hasOwnProperty(O)&&w[O]&&(Ce[O]=w[O]);return this},f.__private__.setDocumentProperty=function(w,O){if(Object.keys(Ce).indexOf(w)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ce[w]=O};var Gt,xe,te,yn,je,Pe={},Te={},Sn=[],se={},sn={},he={},_e={},on=null,Ie=0,le=[],De=new UE(f),vo=e.hotfixes||[],ii={},vs={},tr=[],ce=function w(O,X,it,ct,xt,Pt){if(!(this instanceof w))return new w(O,X,it,ct,xt,Pt);isNaN(O)&&(O=1),isNaN(X)&&(X=0),isNaN(it)&&(it=0),isNaN(ct)&&(ct=1),isNaN(xt)&&(xt=0),isNaN(Pt)&&(Pt=0),this._matrix=[O,X,it,ct,xt,Pt]};Object.defineProperty(ce.prototype,"sx",{get:function(){return this._matrix[0]},set:function(w){this._matrix[0]=w}}),Object.defineProperty(ce.prototype,"shy",{get:function(){return this._matrix[1]},set:function(w){this._matrix[1]=w}}),Object.defineProperty(ce.prototype,"shx",{get:function(){return this._matrix[2]},set:function(w){this._matrix[2]=w}}),Object.defineProperty(ce.prototype,"sy",{get:function(){return this._matrix[3]},set:function(w){this._matrix[3]=w}}),Object.defineProperty(ce.prototype,"tx",{get:function(){return this._matrix[4]},set:function(w){this._matrix[4]=w}}),Object.defineProperty(ce.prototype,"ty",{get:function(){return this._matrix[5]},set:function(w){this._matrix[5]=w}}),Object.defineProperty(ce.prototype,"a",{get:function(){return this._matrix[0]},set:function(w){this._matrix[0]=w}}),Object.defineProperty(ce.prototype,"b",{get:function(){return this._matrix[1]},set:function(w){this._matrix[1]=w}}),Object.defineProperty(ce.prototype,"c",{get:function(){return this._matrix[2]},set:function(w){this._matrix[2]=w}}),Object.defineProperty(ce.prototype,"d",{get:function(){return this._matrix[3]},set:function(w){this._matrix[3]=w}}),Object.defineProperty(ce.prototype,"e",{get:function(){return this._matrix[4]},set:function(w){this._matrix[4]=w}}),Object.defineProperty(ce.prototype,"f",{get:function(){return this._matrix[5]},set:function(w){this._matrix[5]=w}}),Object.defineProperty(ce.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ce.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ce.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ce.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),ce.prototype.join=function(w){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(T).join(w)},ce.prototype.multiply=function(w){var O=w.sx*this.sx+w.shy*this.shx,X=w.sx*this.shy+w.shy*this.sy,it=w.shx*this.sx+w.sy*this.shx,ct=w.shx*this.shy+w.sy*this.sy,xt=w.tx*this.sx+w.ty*this.shx+this.tx,Pt=w.tx*this.shy+w.ty*this.sy+this.ty;return new ce(O,X,it,ct,xt,Pt)},ce.prototype.decompose=function(){var w=this.sx,O=this.shy,X=this.shx,it=this.sy,ct=this.tx,xt=this.ty,Pt=Math.sqrt(w*w+O*O),Wt=(w/=Pt)*X+(O/=Pt)*it;X-=w*Wt,it-=O*Wt;var Kt=Math.sqrt(X*X+it*it);return Wt/=Kt,w*(it/=Kt)<O*(X/=Kt)&&(w=-w,O=-O,Wt=-Wt,Pt=-Pt),{scale:new ce(Pt,0,0,Kt,0,0),translate:new ce(1,0,0,1,ct,xt),rotate:new ce(w,O,-O,w,0,0),skew:new ce(1,0,Wt,1,0,0)}},ce.prototype.toString=function(w){return this.join(" ")},ce.prototype.inversed=function(){var w=this.sx,O=this.shy,X=this.shx,it=this.sy,ct=this.tx,xt=this.ty,Pt=1/(w*it-O*X),Wt=it*Pt,Kt=-O*Pt,pe=-X*Pt,Se=w*Pt;return new ce(Wt,Kt,pe,Se,-Wt*ct-pe*xt,-Kt*ct-Se*xt)},ce.prototype.applyToPoint=function(w){var O=w.x*this.sx+w.y*this.shx+this.tx,X=w.x*this.shy+w.y*this.sy+this.ty;return new As(O,X)},ce.prototype.applyToRectangle=function(w){var O=this.applyToPoint(w),X=this.applyToPoint(new As(w.x+w.w,w.y+w.h));return new Za(O.x,O.y,X.x-O.x,X.y-O.y)},ce.prototype.clone=function(){var w=this.sx,O=this.shy,X=this.shx,it=this.sy,ct=this.tx,xt=this.ty;return new ce(w,O,X,it,ct,xt)},f.Matrix=ce;var En=f.matrixMult=function(w,O){return O.multiply(w)},_s=new ce(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=_s;var Ni=function(w,O){if(!sn[w]){var X=(O instanceof Ou?"Sh":"P")+(Object.keys(se).length+1).toString(10);O.id=X,sn[w]=X,se[X]=O,De.publish("addPattern",O)}};f.ShadingPattern=Ou,f.TilingPattern=ch,f.addShadingPattern=function(w,O){return E("addShadingPattern()"),Ni(w,O),this},f.beginTilingPattern=function(w){E("beginTilingPattern()"),ko(w.boundingBox[0],w.boundingBox[1],w.boundingBox[2]-w.boundingBox[0],w.boundingBox[3]-w.boundingBox[1],w.matrix)},f.endTilingPattern=function(w,O){E("endTilingPattern()"),O.stream=Lt[Y].join(`
`),Ni(w,O),De.publish("endTilingPattern",O),tr.pop().restore()};var Li,Mn=f.__private__.newObject=function(){var w=mi();return Dn(w,!0),w},mi=f.__private__.newObjectDeferred=function(){return nt++,ft[nt]=function(){return wt},nt},Dn=function(w,O){return O=typeof O=="boolean"&&O,ft[w]=wt,O&&K(w+" 0 obj"),w},Xo=f.__private__.newAdditionalObject=function(){var w={objId:mi(),content:""};return At.push(w),w},_o=mi(),er=mi(),Gr=f.__private__.decodeColorString=function(w){var O=w.split(" ");if(O.length!==2||O[1]!=="g"&&O[1]!=="G")O.length!==5||O[4]!=="k"&&O[4]!=="K"||(O=[(1-O[0])*(1-O[3]),(1-O[1])*(1-O[3]),(1-O[2])*(1-O[3]),"r"]);else{var X=parseFloat(O[0]);O=[X,X,X,"r"]}for(var it="#",ct=0;ct<3;ct++)it+=("0"+Math.floor(255*parseFloat(O[ct])).toString(16)).slice(-2);return it},xr=f.__private__.encodeColorString=function(w){var O;typeof w=="string"&&(w={ch1:w});var X=w.ch1,it=w.ch2,ct=w.ch3,xt=w.ch4,Pt=w.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof X=="string"&&X.charAt(0)!=="#"){var Wt=new tM(X);if(Wt.ok)X=Wt.toHex();else if(!/^\d*\.?\d*$/.test(X))throw new Error('Invalid color "'+X+'" passed to jsPDF.encodeColorString.')}if(typeof X=="string"&&/^#[0-9A-Fa-f]{3}$/.test(X)&&(X="#"+X[1]+X[1]+X[2]+X[2]+X[3]+X[3]),typeof X=="string"&&/^#[0-9A-Fa-f]{6}$/.test(X)){var Kt=parseInt(X.substr(1),16);X=Kt>>16&255,it=Kt>>8&255,ct=255&Kt}if(it===void 0||xt===void 0&&X===it&&it===ct)O=typeof X=="string"?X+" "+Pt[0]:w.precision===2?k(X/255)+" "+Pt[0]:N(X/255)+" "+Pt[0];else if(xt===void 0||dn(xt)==="object"){if(xt&&!isNaN(xt.a)&&xt.a===0)return["1.","1.","1.",Pt[1]].join(" ");O=typeof X=="string"?[X,it,ct,Pt[1]].join(" "):w.precision===2?[k(X/255),k(it/255),k(ct/255),Pt[1]].join(" "):[N(X/255),N(it/255),N(ct/255),Pt[1]].join(" ")}else O=typeof X=="string"?[X,it,ct,xt,Pt[2]].join(" "):w.precision===2?[k(X),k(it),k(ct),k(xt),Pt[2]].join(" "):[N(X),N(it),N(ct),N(xt),Pt[2]].join(" ");return O},nr=f.__private__.getFilters=function(){return o},ri=f.__private__.putStream=function(w){var O=(w=w||{}).data||"",X=w.filters||nr(),it=w.alreadyAppliedFilters||[],ct=w.addLength1||!1,xt=O.length,Pt=w.objectId,Wt=function(Yn){return Yn};if(c!==null&&Pt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");c!==null&&(Wt=vn.encryptor(Pt,0));var Kt={};X===!0&&(X=["FlateEncode"]);var pe=w.additionalKeyValues||[],Se=(Kt=ee.API.processDataByFilters!==void 0?ee.API.processDataByFilters(O,X):{data:O,reverseChain:[]}).reverseChain+(Array.isArray(it)?it.join(" "):it.toString());if(Kt.data.length!==0&&(pe.push({key:"Length",value:Kt.data.length}),ct===!0&&pe.push({key:"Length1",value:xt})),Se.length!=0)if(Se.split("/").length-1==1)pe.push({key:"Filter",value:Se});else{pe.push({key:"Filter",value:"["+Se+"]"});for(var Be=0;Be<pe.length;Be+=1)if(pe[Be].key==="DecodeParms"){for(var rn=[],Bn=0;Bn<Kt.reverseChain.split("/").length-1;Bn+=1)rn.push("null");rn.push(pe[Be].value),pe[Be].value="["+rn.join(" ")+"]"}}K("<<");for(var un=0;un<pe.length;un++)K("/"+pe[un].key+" "+pe[un].value);K(">>"),Kt.data.length!==0&&(K("stream"),K(Wt(Kt.data)),K("endstream"))},wo=f.__private__.putPage=function(w){var O=w.number,X=w.data,it=w.objId,ct=w.contentsObjId;Dn(it,!0),K("<</Type /Page"),K("/Parent "+w.rootDictionaryObjId+" 0 R"),K("/Resources "+w.resourceDictionaryObjId+" 0 R"),K("/MediaBox ["+parseFloat(T(w.mediaBox.bottomLeftX))+" "+parseFloat(T(w.mediaBox.bottomLeftY))+" "+T(w.mediaBox.topRightX)+" "+T(w.mediaBox.topRightY)+"]"),w.cropBox!==null&&K("/CropBox ["+T(w.cropBox.bottomLeftX)+" "+T(w.cropBox.bottomLeftY)+" "+T(w.cropBox.topRightX)+" "+T(w.cropBox.topRightY)+"]"),w.bleedBox!==null&&K("/BleedBox ["+T(w.bleedBox.bottomLeftX)+" "+T(w.bleedBox.bottomLeftY)+" "+T(w.bleedBox.topRightX)+" "+T(w.bleedBox.topRightY)+"]"),w.trimBox!==null&&K("/TrimBox ["+T(w.trimBox.bottomLeftX)+" "+T(w.trimBox.bottomLeftY)+" "+T(w.trimBox.topRightX)+" "+T(w.trimBox.topRightY)+"]"),w.artBox!==null&&K("/ArtBox ["+T(w.artBox.bottomLeftX)+" "+T(w.artBox.bottomLeftY)+" "+T(w.artBox.topRightX)+" "+T(w.artBox.topRightY)+"]"),typeof w.userUnit=="number"&&w.userUnit!==1&&K("/UserUnit "+w.userUnit),De.publish("putPage",{objId:it,pageContext:le[O],pageNumber:O,page:X}),K("/Contents "+ct+" 0 R"),K(">>"),K("endobj");var xt=X.join(`
`);return P===I&&(xt+=`
Q`),Dn(ct,!0),ri({data:xt,filters:nr(),objectId:ct}),K("endobj"),it},Kr=f.__private__.putPages=function(){var w,O,X=[];for(w=1;w<=Ie;w++)le[w].objId=mi(),le[w].contentsObjId=mi();for(w=1;w<=Ie;w++)X.push(wo({number:w,data:Lt[w],objId:le[w].objId,contentsObjId:le[w].contentsObjId,mediaBox:le[w].mediaBox,cropBox:le[w].cropBox,bleedBox:le[w].bleedBox,trimBox:le[w].trimBox,artBox:le[w].artBox,userUnit:le[w].userUnit,rootDictionaryObjId:_o,resourceDictionaryObjId:er}));Dn(_o,!0),K("<</Type /Pages");var it="/Kids [";for(O=0;O<Ie;O++)it+=X[O]+" 0 R ";K(it+"]"),K("/Count "+Ie),K(">>"),K("endobj"),De.publish("postPutPages")},Ks=function(w){De.publish("putFont",{font:w,out:K,newObject:Mn,putStream:ri}),w.isAlreadyPutted!==!0&&(w.objectNumber=Mn(),K("<<"),K("/Type /Font"),K("/BaseFont /"+Wc(w.postScriptName)),K("/Subtype /Type1"),typeof w.encoding=="string"&&K("/Encoding /"+w.encoding),K("/FirstChar 32"),K("/LastChar 255"),K(">>"),K("endobj"))},bo=function(w){w.objectNumber=Mn();var O=[];O.push({key:"Type",value:"/XObject"}),O.push({key:"Subtype",value:"/Form"}),O.push({key:"BBox",value:"["+[T(w.x),T(w.y),T(w.x+w.width),T(w.y+w.height)].join(" ")+"]"}),O.push({key:"Matrix",value:"["+w.matrix.toString()+"]"});var X=w.pages[1].join(`
`);ri({data:X,additionalKeyValues:O,objectId:w.objectNumber}),K("endobj")},Qo=function(w,O){O||(O=21);var X=Mn(),it=function(Pt,Wt){var Kt,pe=[],Se=1/(Wt-1);for(Kt=0;Kt<1;Kt+=Se)pe.push(Kt);if(pe.push(1),Pt[0].offset!=0){var Be={offset:0,color:Pt[0].color};Pt.unshift(Be)}if(Pt[Pt.length-1].offset!=1){var rn={offset:1,color:Pt[Pt.length-1].color};Pt.push(rn)}for(var Bn="",un=0,Yn=0;Yn<pe.length;Yn++){for(Kt=pe[Yn];Kt>Pt[un+1].offset;)un++;var Un=Pt[un].offset,Xn=(Kt-Un)/(Pt[un+1].offset-Un),zn=Pt[un].color,Or=Pt[un+1].color;Bn+=Z(Math.round((1-Xn)*zn[0]+Xn*Or[0]).toString(16))+Z(Math.round((1-Xn)*zn[1]+Xn*Or[1]).toString(16))+Z(Math.round((1-Xn)*zn[2]+Xn*Or[2]).toString(16))}return Bn.trim()}(w.colors,O),ct=[];ct.push({key:"FunctionType",value:"0"}),ct.push({key:"Domain",value:"[0.0 1.0]"}),ct.push({key:"Size",value:"["+O+"]"}),ct.push({key:"BitsPerSample",value:"8"}),ct.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ct.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ri({data:it,additionalKeyValues:ct,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:X}),K("endobj"),w.objectNumber=Mn(),K("<< /ShadingType "+w.type),K("/ColorSpace /DeviceRGB");var xt="/Coords ["+T(parseFloat(w.coords[0]))+" "+T(parseFloat(w.coords[1]))+" ";w.type===2?xt+=T(parseFloat(w.coords[2]))+" "+T(parseFloat(w.coords[3])):xt+=T(parseFloat(w.coords[2]))+" "+T(parseFloat(w.coords[3]))+" "+T(parseFloat(w.coords[4]))+" "+T(parseFloat(w.coords[5])),K(xt+="]"),w.matrix&&K("/Matrix ["+w.matrix.toString()+"]"),K("/Function "+X+" 0 R"),K("/Extend [true true]"),K(">>"),K("endobj")},Jo=function(w,O){var X=mi(),it=Mn();O.push({resourcesOid:X,objectOid:it}),w.objectNumber=it;var ct=[];ct.push({key:"Type",value:"/Pattern"}),ct.push({key:"PatternType",value:"1"}),ct.push({key:"PaintType",value:"1"}),ct.push({key:"TilingType",value:"1"}),ct.push({key:"BBox",value:"["+w.boundingBox.map(T).join(" ")+"]"}),ct.push({key:"XStep",value:T(w.xStep)}),ct.push({key:"YStep",value:T(w.yStep)}),ct.push({key:"Resources",value:X+" 0 R"}),w.matrix&&ct.push({key:"Matrix",value:"["+w.matrix.toString()+"]"}),ri({data:w.stream,additionalKeyValues:ct,objectId:w.objectNumber}),K("endobj")},hf=function(w){for(var O in w.objectNumber=Mn(),K("<<"),w)switch(O){case"opacity":K("/ca "+k(w[O]));break;case"stroke-opacity":K("/CA "+k(w[O]))}K(">>"),K("endobj")},xo=function(w){Dn(w.resourcesOid,!0),K("<<"),K("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var O in K("/Font <<"),Pe)Pe.hasOwnProperty(O)&&(h===!1||h===!0&&p.hasOwnProperty(O))&&K("/"+O+" "+Pe[O].objectNumber+" 0 R");K(">>")}(),function(){if(Object.keys(se).length>0){for(var O in K("/Shading <<"),se)se.hasOwnProperty(O)&&se[O]instanceof Ou&&se[O].objectNumber>=0&&K("/"+O+" "+se[O].objectNumber+" 0 R");De.publish("putShadingPatternDict"),K(">>")}}(),function(O){if(Object.keys(se).length>0){for(var X in K("/Pattern <<"),se)se.hasOwnProperty(X)&&se[X]instanceof f.TilingPattern&&se[X].objectNumber>=0&&se[X].objectNumber<O&&K("/"+X+" "+se[X].objectNumber+" 0 R");De.publish("putTilingPatternDict"),K(">>")}}(w.objectOid),function(){if(Object.keys(he).length>0){var O;for(O in K("/ExtGState <<"),he)he.hasOwnProperty(O)&&he[O].objectNumber>=0&&K("/"+O+" "+he[O].objectNumber+" 0 R");De.publish("putGStateDict"),K(">>")}}(),function(){for(var O in K("/XObject <<"),ii)ii.hasOwnProperty(O)&&ii[O].objectNumber>=0&&K("/"+O+" "+ii[O].objectNumber+" 0 R");De.publish("putXobjectDict"),K(">>")}(),K(">>"),K("endobj")},uu=function(w){Te[w.fontName]=Te[w.fontName]||{},Te[w.fontName][w.fontStyle]=w.id},Ga=function(w,O,X,it,ct){var xt={id:"F"+(Object.keys(Pe).length+1).toString(10),postScriptName:w,fontName:O,fontStyle:X,encoding:it,isStandardFont:ct||!1,metadata:{}};return De.publish("addFont",{font:xt,instance:this}),Pe[xt.id]=xt,uu(xt),xt.id},Ri=f.__private__.pdfEscape=f.pdfEscape=function(w,O){return function(X,it){var ct,xt,Pt,Wt,Kt,pe,Se,Be,rn;if(Pt=(it=it||{}).sourceEncoding||"Unicode",Kt=it.outputEncoding,(it.autoencode||Kt)&&Pe[Gt].metadata&&Pe[Gt].metadata[Pt]&&Pe[Gt].metadata[Pt].encoding&&(Wt=Pe[Gt].metadata[Pt].encoding,!Kt&&Pe[Gt].encoding&&(Kt=Pe[Gt].encoding),!Kt&&Wt.codePages&&(Kt=Wt.codePages[0]),typeof Kt=="string"&&(Kt=Wt[Kt]),Kt)){for(Se=!1,pe=[],ct=0,xt=X.length;ct<xt;ct++)(Be=Kt[X.charCodeAt(ct)])?pe.push(String.fromCharCode(Be)):pe.push(X[ct]),pe[ct].charCodeAt(0)>>8&&(Se=!0);X=pe.join("")}for(ct=X.length;Se===void 0&&ct!==0;)X.charCodeAt(ct-1)>>8&&(Se=!0),ct--;if(!Se)return X;for(pe=it.noBOM?[]:[254,255],ct=0,xt=X.length;ct<xt;ct++){if((rn=(Be=X.charCodeAt(ct))>>8)>>8)throw new Error("Character at position "+ct+" of string '"+X+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");pe.push(rn),pe.push(Be-(rn<<8))}return String.fromCharCode.apply(void 0,pe)}(w,O).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Yr=f.__private__.beginPage=function(w){Lt[++Ie]=[],le[Ie]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(w[0]),topRightY:Number(w[1])}},hu(Ie),Zt(Lt[Y])},Ka=function(w,O){var X,it,ct;switch(n=O||n,typeof w=="string"&&(X=v(w.toLowerCase()),Array.isArray(X)&&(it=X[0],ct=X[1])),Array.isArray(w)&&(it=w[0]*xe,ct=w[1]*xe),isNaN(it)&&(it=r[0],ct=r[1]),(it>14400||ct>14400)&&(bn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),it=Math.min(14400,it),ct=Math.min(14400,ct)),r=[it,ct],n.substr(0,1)){case"l":ct>it&&(r=[ct,it]);break;case"p":it>ct&&(r=[ct,it])}Yr(r),fe(Xa),K(Xs),mn!==0&&K(mn+" J"),yu!==0&&K(yu+" j"),De.publish("addPage",{pageNumber:Ie})},cu=function(w){w>0&&w<=Ie&&(Lt.splice(w,1),le.splice(w,1),Ie--,Y>Ie&&(Y=Ie),this.setPage(Y))},hu=function(w){w>0&&w<=Ie&&(Y=w)},fu=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return Lt.length-1},du=function(w,O,X){var it,ct=void 0;return X=X||{},w=w!==void 0?w:Pe[Gt].fontName,O=O!==void 0?O:Pe[Gt].fontStyle,it=w.toLowerCase(),Te[it]!==void 0&&Te[it][O]!==void 0?ct=Te[it][O]:Te[w]!==void 0&&Te[w][O]!==void 0?ct=Te[w][O]:X.disableWarning===!1&&bn.warn("Unable to look up font label for font '"+w+"', '"+O+"'. Refer to getFontList() for available fonts."),ct||X.noFallback||(ct=Te.times[O])==null&&(ct=Te.times.normal),ct},Mr=f.__private__.putInfo=function(){var w=Mn(),O=function(it){return it};for(var X in c!==null&&(O=vn.encryptor(w,0)),K("<<"),K("/Producer ("+Ri(O("jsPDF "+ee.version))+")"),Ce)Ce.hasOwnProperty(X)&&Ce[X]&&K("/"+X.substr(0,1).toUpperCase()+X.substr(1)+" ("+Ri(O(Ce[X]))+")");K("/CreationDate ("+Ri(O(rt))+")"),K(">>"),K("endobj")},So=f.__private__.putCatalog=function(w){var O=(w=w||{}).rootDictionaryObjId||_o;switch(Mn(),K("<<"),K("/Type /Catalog"),K("/Pages "+O+" 0 R"),re||(re="fullwidth"),re){case"fullwidth":K("/OpenAction [3 0 R /FitH null]");break;case"fullheight":K("/OpenAction [3 0 R /FitV null]");break;case"fullpage":K("/OpenAction [3 0 R /Fit]");break;case"original":K("/OpenAction [3 0 R /XYZ null null 1]");break;default:var X=""+re;X.substr(X.length-1)==="%"&&(re=parseInt(re)/100),typeof re=="number"&&K("/OpenAction [3 0 R /XYZ null null "+k(re)+"]")}switch(Re||(Re="continuous"),Re){case"continuous":K("/PageLayout /OneColumn");break;case"single":K("/PageLayout /SinglePage");break;case"two":case"twoleft":K("/PageLayout /TwoColumnLeft");break;case"tworight":K("/PageLayout /TwoColumnRight")}ne&&K("/PageMode /"+ne),De.publish("putCatalog"),K(">>"),K("endobj")},xc=f.__private__.putTrailer=function(){K("trailer"),K("<<"),K("/Size "+(nt+1)),K("/Root "+nt+" 0 R"),K("/Info "+(nt-1)+" 0 R"),c!==null&&K("/Encrypt "+vn.oid+" 0 R"),K("/ID [ <"+ut+"> <"+ut+"> ]"),K(">>")},Vn=f.__private__.putHeader=function(){K("%PDF-"+y),K("%")},Sc=f.__private__.putXRef=function(){var w="0000000000";K("xref"),K("0 "+(nt+1)),K("0000000000 65535 f ");for(var O=1;O<=nt;O++)typeof ft[O]=="function"?K((w+ft[O]()).slice(-10)+" 00000 n "):ft[O]!==void 0?K((w+ft[O]).slice(-10)+" 00000 n "):K("0000000000 00000 n ")},ws=f.__private__.buildDocument=function(){var w;nt=0,wt=0,yt=[],ft=[],At=[],_o=mi(),er=mi(),Zt(yt),De.publish("buildDocument"),Vn(),Kr(),function(){De.publish("putAdditionalObjects");for(var X=0;X<At.length;X++){var it=At[X];Dn(it.objId,!0),K(it.content),K("endobj")}De.publish("postPutAdditionalObjects")}(),w=[],function(){for(var X in Pe)Pe.hasOwnProperty(X)&&(h===!1||h===!0&&p.hasOwnProperty(X))&&Ks(Pe[X])}(),function(){var X;for(X in he)he.hasOwnProperty(X)&&hf(he[X])}(),function(){for(var X in ii)ii.hasOwnProperty(X)&&bo(ii[X])}(),function(X){var it;for(it in se)se.hasOwnProperty(it)&&(se[it]instanceof Ou?Qo(se[it]):se[it]instanceof ch&&Jo(se[it],X))}(w),De.publish("putResources"),w.forEach(xo),xo({resourcesOid:er,objectOid:Number.MAX_SAFE_INTEGER}),De.publish("postPutResources"),c!==null&&(vn.oid=Mn(),K("<<"),K("/Filter /Standard"),K("/V "+vn.v),K("/R "+vn.r),K("/U <"+vn.toHexString(vn.U)+">"),K("/O <"+vn.toHexString(vn.O)+">"),K("/P "+vn.P),K(">>"),K("endobj")),Mr(),So();var O=wt;return Sc(),xc(),K("startxref"),K(""+O),K("%%EOF"),Zt(Lt[Y]),yt.join(`
`)},Zo=f.__private__.getBlob=function(w){return new Blob([Ee(w)],{type:"application/pdf"})},pu=f.output=f.__private__.output=(Li=function(w,O){switch(typeof(O=O||{})=="string"?O={filename:O}:O.filename=O.filename||"generated.pdf",w){case void 0:return ws();case"save":f.save(O.filename);break;case"arraybuffer":return Ee(ws());case"blob":return Zo(ws());case"bloburi":case"bloburl":if(ve.URL!==void 0&&typeof ve.URL.createObjectURL=="function")return ve.URL&&ve.URL.createObjectURL(Zo(ws()))||void 0;bn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var X="",it=ws();try{X=jE(it)}catch{X=jE(unescape(encodeURIComponent(it)))}return"data:application/pdf;filename="+O.filename+";base64,"+X;case"pdfobjectnewwindow":if(Object.prototype.toString.call(ve)==="[object Window]"){var ct="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",xt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';O.pdfObjectUrl&&(ct=O.pdfObjectUrl,xt="");var Pt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ct+'"'+xt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(O)+");<\/script></body></html>",Wt=ve.open();return Wt!==null&&Wt.document.write(Pt),Wt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(ve)==="[object Window]"){var Kt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(O.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+O.filename+'" width="500px" height="400px" /></body></html>',pe=ve.open();if(pe!==null){pe.document.write(Kt);var Se=this;pe.document.documentElement.querySelector("#pdfViewer").onload=function(){pe.document.title=O.filename,pe.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Se.output("bloburl"))}}return pe}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(ve)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Be='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",O)+'"></iframe></body></html>',rn=ve.open();if(rn!==null&&(rn.document.write(Be),rn.document.title=O.filename),rn||typeof safari>"u")return rn;break;case"datauri":case"dataurl":return ve.document.location.href=this.output("datauristring",O);default:return null}},Li.foo=function(){try{return Li.apply(this,arguments)}catch(X){var w=X.stack||"";~w.indexOf(" at ")&&(w=w.split(" at ")[1]);var O="Error in function "+w.split(`
`)[0].split("<")[0]+": "+X.message;if(!ve.console)throw new Error(O);ve.console.error(O,X),ve.alert&&alert(O)}},Li.foo.bar=Li,Li.foo),Dr=function(w){return Array.isArray(vo)===!0&&vo.indexOf(w)>-1};switch(i){case"pt":xe=1;break;case"mm":xe=72/25.4;break;case"cm":xe=72/2.54;break;case"in":xe=72;break;case"px":xe=Dr("px_scaling")==1?.75:96/72;break;case"pc":case"em":xe=12;break;case"ex":xe=6;break;default:if(typeof i!="number")throw new Error("Invalid unit: "+i);xe=i}var vn=null;_t(),tt();var bi=f.__private__.getPageInfo=f.getPageInfo=function(w){if(isNaN(w)||w%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:le[w].objId,pageNumber:w,pageContext:le[w]}},ta=f.__private__.getPageInfoByObjId=function(w){if(isNaN(w)||w%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var O in le)if(le[O].objId===w)break;return bi(O)},Ya=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:le[Y].objId,pageNumber:Y,pageContext:le[Y]}};f.addPage=function(){return Ka.apply(this,arguments),this},f.setPage=function(){return hu.apply(this,arguments),Zt.call(this,Lt[Y]),this},f.insertPage=function(w){return this.addPage(),this.movePage(Y,w),this},f.movePage=function(w,O){var X,it;if(w>O){X=Lt[w],it=le[w];for(var ct=w;ct>O;ct--)Lt[ct]=Lt[ct-1],le[ct]=le[ct-1];Lt[O]=X,le[O]=it,this.setPage(O)}else if(w<O){X=Lt[w],it=le[w];for(var xt=w;xt<O;xt++)Lt[xt]=Lt[xt+1],le[xt]=le[xt+1];Lt[O]=X,le[O]=it,this.setPage(O)}return this},f.deletePage=function(){return cu.apply(this,arguments),this},f.__private__.text=f.text=function(w,O,X,it,ct){var xt,Pt,Wt,Kt,pe,Se,Be,rn,Bn,un=(it=it||{}).scope||this;if(typeof w=="number"&&typeof O=="number"&&(typeof X=="string"||Array.isArray(X))){var Yn=X;X=O,O=w,w=Yn}if(arguments[3]instanceof ce==0?(Wt=arguments[4],Kt=arguments[5],dn(Be=arguments[3])==="object"&&Be!==null||(typeof Wt=="string"&&(Kt=Wt,Wt=null),typeof Be=="string"&&(Kt=Be,Be=null),typeof Be=="number"&&(Wt=Be,Be=null),it={flags:Be,angle:Wt,align:Kt})):(E("The transform parameter of text() with a Matrix value"),Bn=ct),isNaN(O)||isNaN(X)||w==null)throw new Error("Invalid arguments passed to jsPDF.text");if(w.length===0)return un;var Un,Xn="",zn=typeof it.lineHeightFactor=="number"?it.lineHeightFactor:To,Or=un.internal.scaleFactor;function Es(an){return an=an.split("	").join(Array(it.TabLen||9).join(" ")),Ri(an,Be)}function Ps(an){for(var _n,oi=an.concat(),xi=[],oa=oi.length;oa--;)typeof(_n=oi.shift())=="string"?xi.push(_n):Array.isArray(an)&&(_n.length===1||_n[1]===void 0&&_n[2]===void 0)?xi.push(_n[0]):xi.push([_n[0],_n[1],_n[2]]);return xi}function g(an,_n){var oi;if(typeof an=="string")oi=_n(an)[0];else if(Array.isArray(an)){for(var xi,oa,Tf=an.concat(),Nc=[],Jp=Tf.length;Jp--;)typeof(xi=Tf.shift())=="string"?Nc.push(_n(xi)[0]):Array.isArray(xi)&&typeof xi[0]=="string"&&(oa=_n(xi[0],xi[1],xi[2]),Nc.push([oa[0],oa[1],oa[2]]));oi=Nc}return oi}var S=!1,L=!0;if(typeof w=="string")S=!0;else if(Array.isArray(w)){var q=w.concat();Pt=[];for(var ht,mt=q.length;mt--;)(typeof(ht=q.shift())!="string"||Array.isArray(ht)&&typeof ht[0]!="string")&&(L=!1);S=L}if(S===!1)throw new Error('Type of text must be string or Array. "'+w+'" is not recognized.');typeof w=="string"&&(w=w.match(/[\r?\n]/)?w.split(/\r\n|\r|\n/g):[w]);var Ot=Ct/un.internal.scaleFactor,ze=Ot*(zn-1);switch(it.baseline){case"bottom":X-=ze;break;case"top":X+=Ot-ze;break;case"hanging":X+=Ot-2*ze;break;case"middle":X+=Ot/2-ze}if((Se=it.maxWidth||0)>0&&(typeof w=="string"?w=un.splitTextToSize(w,Se):Object.prototype.toString.call(w)==="[object Array]"&&(w=w.reduce(function(an,_n){return an.concat(un.splitTextToSize(_n,Se))},[]))),xt={text:w,x:O,y:X,options:it,mutex:{pdfEscape:Ri,activeFontKey:Gt,fonts:Pe,activeFontSize:Ct}},De.publish("preProcessText",xt),w=xt.text,Wt=(it=xt.options).angle,Bn instanceof ce==0&&Wt&&typeof Wt=="number"){Wt*=Math.PI/180,it.rotationDirection===0&&(Wt=-Wt),P===I&&(Wt=-Wt);var Wn=Math.cos(Wt),Oe=Math.sin(Wt);Bn=new ce(Wn,Oe,-Oe,Wn,0,0)}else Wt&&Wt instanceof ce&&(Bn=Wt);P!==I||Bn||(Bn=_s),(pe=it.charSpace||Ss)!==void 0&&(Xn+=T(M(pe))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(rn=it.horizontalScale)!==void 0&&(Xn+=T(100*rn)+` Tz
`),it.lang;var tn=-1,An=it.renderingMode!==void 0?it.renderingMode:it.stroke,Qr=un.internal.getCurrentPageInfo().pageContext;switch(An){case 0:case!1:case"fill":tn=0;break;case 1:case!0:case"stroke":tn=1;break;case 2:case"fillThenStroke":tn=2;break;case 3:case"invisible":tn=3;break;case 4:case"fillAndAddForClipping":tn=4;break;case 5:case"strokeAndAddPathForClipping":tn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":tn=6;break;case 7:case"addToPathForClipping":tn=7}var ir=Qr.usedRenderingMode!==void 0?Qr.usedRenderingMode:-1;tn!==-1?Xn+=tn+` Tr
`:ir!==-1&&(Xn+=`0 Tr
`),tn!==-1&&(Qr.usedRenderingMode=tn),Kt=it.align||"left";var Ui,Qs=Ct*zn,vf=un.internal.pageSize.getWidth(),_f=Pe[Gt];pe=it.charSpace||Ss,Se=it.maxWidth||0,Be=Object.assign({autoencode:!0,noBOM:!0},it.flags);var el=[],wu=function(an){return un.getStringUnitWidth(an,{font:_f,charSpace:pe,fontSize:Ct,doKerning:!1})*Ct/Or};if(Object.prototype.toString.call(w)==="[object Array]"){var Jr;Pt=Ps(w),Kt!=="left"&&(Ui=Pt.map(wu));var Zr,nl=0;if(Kt==="right"){O-=Ui[0],w=[],mt=Pt.length;for(var sa=0;sa<mt;sa++)sa===0?(Zr=Mi(O),Jr=Ys(X)):(Zr=M(nl-Ui[sa]),Jr=-Qs),w.push([Pt[sa],Zr,Jr]),nl=Ui[sa]}else if(Kt==="center"){O-=Ui[0]/2,w=[],mt=Pt.length;for(var il=0;il<mt;il++)il===0?(Zr=Mi(O),Jr=Ys(X)):(Zr=M((nl-Ui[il])/2),Jr=-Qs),w.push([Pt[il],Zr,Jr]),nl=Ui[il]}else if(Kt==="left"){w=[],mt=Pt.length;for(var wf=0;wf<mt;wf++)w.push(Pt[wf])}else if(Kt==="justify"&&_f.encoding==="Identity-H"){w=[],mt=Pt.length,Se=Se!==0?Se:vf;for(var Cc=0,si=0;si<mt;si++)if(Jr=si===0?Ys(X):-Qs,Zr=si===0?Mi(O):Cc,si<mt-1){var Qp=M((Se-Ui[si])/(Pt[si].split(" ").length-1)),Po=Pt[si].split(" ");w.push([Po[0]+" ",Zr,Jr]),Cc=0;for(var Io=1;Io<Po.length;Io++){var bf=(wu(Po[Io-1]+" "+Po[Io])-wu(Po[Io]))*Or+Qp;Io==Po.length-1?w.push([Po[Io],bf,0]):w.push([Po[Io]+" ",bf,0]),Cc-=bf}}else w.push([Pt[si],Zr,Jr]);w.push(["",Cc,0])}else{if(Kt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(w=[],mt=Pt.length,Se=Se!==0?Se:vf,si=0;si<mt;si++){Jr=si===0?Ys(X):-Qs,Zr=si===0?Mi(O):0;var xf=Pt[si].split(" ").length-1,Sf=xf>0?(Se-Ui[si])/xf:0;si<mt-1?el.push(T(M(Sf))):el.push(0),w.push([Pt[si],Zr,Jr])}}}(typeof it.R2L=="boolean"?it.R2L:ae)===!0&&(w=g(w,function(an,_n,oi){return[an.split("").reverse().join(""),_n,oi]})),xt={text:w,x:O,y:X,options:it,mutex:{pdfEscape:Ri,activeFontKey:Gt,fonts:Pe,activeFontSize:Ct}},De.publish("postProcessText",xt),w=xt.text,Un=xt.mutex.isHex||!1;var Af=Pe[Gt].encoding;Af!=="WinAnsiEncoding"&&Af!=="StandardEncoding"||(w=g(w,function(an,_n,oi){return[Es(an),_n,oi]})),Pt=Ps(w),w=[];for(var rl,sl,ol,bu=Array.isArray(Pt[0])?1:0,al="",xu=function(an,_n,oi){var xi="";return oi instanceof ce?(oi=typeof it.angle=="number"?En(oi,new ce(1,0,0,1,an,_n)):En(new ce(1,0,0,1,an,_n),oi),P===I&&(oi=En(new ce(1,0,0,-1,0,0),oi)),xi=oi.join(" ")+` Tm
`):xi=T(an)+" "+T(_n)+` Td
`,xi},Is=0;Is<Pt.length;Is++){switch(al="",bu){case 1:ol=(Un?"<":"(")+Pt[Is][0]+(Un?">":")"),rl=parseFloat(Pt[Is][1]),sl=parseFloat(Pt[Is][2]);break;case 0:ol=(Un?"<":"(")+Pt[Is]+(Un?">":")"),rl=Mi(O),sl=Ys(X)}el!==void 0&&el[Is]!==void 0&&(al=el[Is]+` Tw
`),Is===0?w.push(al+xu(rl,sl,Bn)+ol):bu===0?w.push(al+ol):bu===1&&w.push(al+xu(rl,sl,Bn)+ol)}w=bu===0?w.join(` Tj
T* `):w.join(` Tj
`),w+=` Tj
`;var Co=`BT
/`;return Co+=Gt+" "+Ct+` Tf
`,Co+=T(Ct*zn)+` TL
`,Co+=Xr+`
`,Co+=Xn,Co+=w,K(Co+="ET"),p[Gt]=!0,un};var Ac=f.__private__.clip=f.clip=function(w){return K(w==="evenodd"?"W*":"W"),this};f.clipEvenOdd=function(){return Ac("evenodd")},f.__private__.discardPath=f.discardPath=function(){return K("n"),this};var Ve=f.__private__.isValidStyle=function(w){var O=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(w)!==-1&&(O=!0),O};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(w){return Ve(w)&&(u=w),this};var ea=f.__private__.getStyle=f.getStyle=function(w){var O=u;switch(w){case"D":case"S":O="S";break;case"F":O="f";break;case"FD":case"DF":O="B";break;case"f":case"f*":case"B":case"B*":O=w}return O},Ao=f.close=function(){return K("h"),this};f.stroke=function(){return K("S"),this},f.fill=function(w){return bs("f",w),this},f.fillEvenOdd=function(w){return bs("f*",w),this},f.fillStroke=function(w){return bs("B",w),this},f.fillStrokeEvenOdd=function(w){return bs("B*",w),this};var bs=function(w,O){dn(O)==="object"?ff(O,w):K(w)},na=function(w){w===null||P===I&&w===void 0||(w=ea(w),K(w))};function Tc(w,O,X,it,ct){var xt=new ch(O||this.boundingBox,X||this.xStep,it||this.yStep,this.gState,ct||this.matrix);xt.stream=this.stream;var Pt=w+"$$"+this.cloneIndex+++"$$";return Ni(Pt,xt),xt}var ff=function(w,O){var X=sn[w.key],it=se[X];if(it instanceof Ou)K("q"),K(df(O)),it.gState&&f.setGState(it.gState),K(w.matrix.toString()+" cm"),K("/"+X+" sh"),K("Q");else if(it instanceof ch){var ct=new ce(1,0,0,-1,0,ks());w.matrix&&(ct=ct.multiply(w.matrix||_s),X=Tc.call(it,w.key,w.boundingBox,w.xStep,w.yStep,ct).id),K("q"),K("/Pattern cs"),K("/"+X+" scn"),it.gState&&f.setGState(it.gState),K(O),K("Q")}},df=function(w){switch(w){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},gu=f.moveTo=function(w,O){return K(T(M(w))+" "+T(H(O))+" m"),this},kc=f.lineTo=function(w,O){return K(T(M(w))+" "+T(H(O))+" l"),this},Bi=f.curveTo=function(w,O,X,it,ct,xt){return K([T(M(w)),T(H(O)),T(M(X)),T(H(it)),T(M(ct)),T(H(xt)),"c"].join(" ")),this};f.__private__.line=f.line=function(w,O,X,it,ct){if(isNaN(w)||isNaN(O)||isNaN(X)||isNaN(it)||!Ve(ct))throw new Error("Invalid arguments passed to jsPDF.line");return P===A?this.lines([[X-w,it-O]],w,O,[1,1],ct||"S"):this.lines([[X-w,it-O]],w,O,[1,1]).stroke()},f.__private__.lines=f.lines=function(w,O,X,it,ct,xt){var Pt,Wt,Kt,pe,Se,Be,rn,Bn,un,Yn,Un,Xn;if(typeof w=="number"&&(Xn=X,X=O,O=w,w=Xn),it=it||[1,1],xt=xt||!1,isNaN(O)||isNaN(X)||!Array.isArray(w)||!Array.isArray(it)||!Ve(ct)||typeof xt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(gu(O,X),Pt=it[0],Wt=it[1],pe=w.length,Yn=O,Un=X,Kt=0;Kt<pe;Kt++)(Se=w[Kt]).length===2?(Yn=Se[0]*Pt+Yn,Un=Se[1]*Wt+Un,kc(Yn,Un)):(Be=Se[0]*Pt+Yn,rn=Se[1]*Wt+Un,Bn=Se[2]*Pt+Yn,un=Se[3]*Wt+Un,Yn=Se[4]*Pt+Yn,Un=Se[5]*Wt+Un,Bi(Be,rn,Bn,un,Yn,Un));return xt&&Ao(),na(ct),this},f.path=function(w){for(var O=0;O<w.length;O++){var X=w[O],it=X.c;switch(X.op){case"m":gu(it[0],it[1]);break;case"l":kc(it[0],it[1]);break;case"c":Bi.apply(this,it);break;case"h":Ao()}}return this},f.__private__.rect=f.rect=function(w,O,X,it,ct){if(isNaN(w)||isNaN(O)||isNaN(X)||isNaN(it)||!Ve(ct))throw new Error("Invalid arguments passed to jsPDF.rect");return P===A&&(it=-it),K([T(M(w)),T(H(O)),T(M(X)),T(M(it)),"re"].join(" ")),na(ct),this},f.__private__.triangle=f.triangle=function(w,O,X,it,ct,xt,Pt){if(isNaN(w)||isNaN(O)||isNaN(X)||isNaN(it)||isNaN(ct)||isNaN(xt)||!Ve(Pt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[X-w,it-O],[ct-X,xt-it],[w-ct,O-xt]],w,O,[1,1],Pt,!0),this},f.__private__.roundedRect=f.roundedRect=function(w,O,X,it,ct,xt,Pt){if(isNaN(w)||isNaN(O)||isNaN(X)||isNaN(it)||isNaN(ct)||isNaN(xt)||!Ve(Pt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Wt=4/3*(Math.SQRT2-1);return ct=Math.min(ct,.5*X),xt=Math.min(xt,.5*it),this.lines([[X-2*ct,0],[ct*Wt,0,ct,xt-xt*Wt,ct,xt],[0,it-2*xt],[0,xt*Wt,-ct*Wt,xt,-ct,xt],[2*ct-X,0],[-ct*Wt,0,-ct,-xt*Wt,-ct,-xt],[0,2*xt-it],[0,-xt*Wt,ct*Wt,-xt,ct,-xt]],w+ct,O,[1,1],Pt,!0),this},f.__private__.ellipse=f.ellipse=function(w,O,X,it,ct){if(isNaN(w)||isNaN(O)||isNaN(X)||isNaN(it)||!Ve(ct))throw new Error("Invalid arguments passed to jsPDF.ellipse");var xt=4/3*(Math.SQRT2-1)*X,Pt=4/3*(Math.SQRT2-1)*it;return gu(w+X,O),Bi(w+X,O-Pt,w+xt,O-it,w,O-it),Bi(w-xt,O-it,w-X,O-Pt,w-X,O),Bi(w-X,O+Pt,w-xt,O+it,w,O+it),Bi(w+xt,O+it,w+X,O+Pt,w+X,O),na(ct),this},f.__private__.circle=f.circle=function(w,O,X,it){if(isNaN(w)||isNaN(O)||isNaN(X)||!Ve(it))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(w,O,X,X,it)},f.setFont=function(w,O,X){return X&&(O=R(O,X)),Gt=du(w,O,{disableWarning:!1}),this};var xs=f.__private__.getFont=f.getFont=function(){return Pe[du.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var w,O,X={};for(w in Te)if(Te.hasOwnProperty(w))for(O in X[w]=[],Te[w])Te[w].hasOwnProperty(O)&&X[w].push(O);return X},f.addFont=function(w,O,X,it,ct){var xt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&xt.indexOf(arguments[3])!==-1?ct=arguments[3]:arguments[3]&&xt.indexOf(arguments[3])==-1&&(X=R(X,it)),Ga.call(this,w,O,X,ct=ct||"Identity-H")};var To,Xa=e.lineWidth||.200025,Ec=f.__private__.getLineWidth=f.getLineWidth=function(){return Xa},fe=f.__private__.setLineWidth=f.setLineWidth=function(w){return Xa=w,K(T(M(w))+" w"),this};f.__private__.setLineDash=ee.API.setLineDash=ee.API.setLineDashPattern=function(w,O){if(w=w||[],O=O||0,isNaN(O)||!Array.isArray(w))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return w=w.map(function(X){return T(M(X))}).join(" "),O=T(M(O)),K("["+w+"] "+O+" d"),this};var pf=f.__private__.getLineHeight=f.getLineHeight=function(){return Ct*To};f.__private__.getLineHeight=f.getLineHeight=function(){return Ct*To};var gf=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(w){return typeof(w=w||1.15)=="number"&&(To=w),this},mf=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return To};gf(e.lineHeight);var Mi=f.__private__.getHorizontalCoordinate=function(w){return M(w)},Ys=f.__private__.getVerticalCoordinate=function(w){return P===I?w:le[Y].mediaBox.topRightY-le[Y].mediaBox.bottomLeftY-M(w)},yf=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(w){return T(Mi(w))},Qa=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(w){return T(Ys(w))},Xs=e.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return Gr(Xs)},f.__private__.setStrokeColor=f.setDrawColor=function(w,O,X,it){return Xs=xr({ch1:w,ch2:O,ch3:X,ch4:it,pdfColorType:"draw",precision:2}),K(Xs),this};var Ja=e.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return Gr(Ja)},f.__private__.setFillColor=f.setFillColor=function(w,O,X,it){return Ja=xr({ch1:w,ch2:O,ch3:X,ch4:it,pdfColorType:"fill",precision:2}),K(Ja),this};var Xr=e.textColor||"0 g",ia=f.__private__.getTextColor=f.getTextColor=function(){return Gr(Xr)};f.__private__.setTextColor=f.setTextColor=function(w,O,X,it){return Xr=xr({ch1:w,ch2:O,ch3:X,ch4:it,pdfColorType:"text",precision:3}),this};var Ss=e.charSpace,mu=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(Ss||0)};f.__private__.setCharSpace=f.setCharSpace=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ss=w,this};var mn=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(w){var O=f.CapJoinStyles[w];if(O===void 0)throw new Error("Line cap style of '"+w+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return mn=O,K(O+" J"),this};var yu=0;f.__private__.setLineJoin=f.setLineJoin=function(w){var O=f.CapJoinStyles[w];if(O===void 0)throw new Error("Line join style of '"+w+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return yu=O,K(O+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(w){if(w=w||0,isNaN(w))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return K(T(M(w))+" M"),this},f.GState=J0,f.setGState=function(w){(w=typeof w=="string"?he[_e[w]]:Pc(null,w)).equals(on)||(K("/"+w.id+" gs"),on=w)};var Pc=function(w,O){if(!w||!_e[w]){var X=!1;for(var it in he)if(he.hasOwnProperty(it)&&he[it].equals(O)){X=!0;break}if(X)O=he[it];else{var ct="GS"+(Object.keys(he).length+1).toString(10);he[ct]=O,O.id=ct}return w&&(_e[w]=O.id),De.publish("addGState",O),O}};f.addGState=function(w,O){return Pc(w,O),this},f.saveGraphicsState=function(){return K("q"),Sn.push({key:Gt,size:Ct,color:Xr}),this},f.restoreGraphicsState=function(){K("Q");var w=Sn.pop();return Gt=w.key,Ct=w.size,Xr=w.color,on=null,this},f.setCurrentTransformationMatrix=function(w){return K(w.toString()+" cm"),this},f.comment=function(w){return K("#"+w),this};var As=function(w,O){var X=w||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return X},set:function(xt){isNaN(xt)||(X=parseFloat(xt))}});var it=O||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return it},set:function(xt){isNaN(xt)||(it=parseFloat(xt))}});var ct="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ct},set:function(xt){ct=xt.toString()}}),this},Za=function(w,O,X,it){As.call(this,w,O),this.type="rect";var ct=X||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ct},set:function(Pt){isNaN(Pt)||(ct=parseFloat(Pt))}});var xt=it||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return xt},set:function(Pt){isNaN(Pt)||(xt=parseFloat(Pt))}}),this},ra=function(){this.page=Ie,this.currentPage=Y,this.pages=Lt.slice(0),this.pagesContext=le.slice(0),this.x=te,this.y=yn,this.matrix=je,this.width=Sr(Y),this.height=Ic(Y),this.outputDestination=Vt,this.id="",this.objectNumber=-1};ra.prototype.restore=function(){Ie=this.page,Y=this.currentPage,le=this.pagesContext,Lt=this.pages,te=this.x,yn=this.y,je=this.matrix,vu(Y,this.width),Ar(Y,this.height),Vt=this.outputDestination};var ko=function(w,O,X,it,ct){tr.push(new ra),Ie=Y=0,Lt=[],te=w,yn=O,je=ct,Yr([X,it])};for(var Eo in f.beginFormObject=function(w,O,X,it,ct){return ko(w,O,X,it,ct),this},f.endFormObject=function(w){return function(O){if(vs[O])tr.pop().restore();else{var X=new ra,it="Xo"+(Object.keys(ii).length+1).toString(10);X.id=it,vs[O]=it,ii[it]=X,De.publish("addFormObject",X),tr.pop().restore()}}(w),this},f.doFormObject=function(w,O){var X=ii[vs[w]];return K("q"),K(O.toString()+" cm"),K("/"+X.id+" Do"),K("Q"),this},f.getFormObject=function(w){var O=ii[vs[w]];return{x:O.x,y:O.y,width:O.width,height:O.height,matrix:O.matrix}},f.save=function(w,O){return w=w||"generated.pdf",(O=O||{}).returnPromise=O.returnPromise||!1,O.returnPromise===!1?(Du(Zo(ws()),w),typeof Du.unload=="function"&&ve.setTimeout&&setTimeout(Du.unload,911),this):new Promise(function(X,it){try{var ct=Du(Zo(ws()),w);typeof Du.unload=="function"&&ve.setTimeout&&setTimeout(Du.unload,911),X(ct)}catch(xt){it(xt.message)}})},ee.API)ee.API.hasOwnProperty(Eo)&&(Eo==="events"&&ee.API.events.length?function(w,O){var X,it,ct;for(ct=O.length-1;ct!==-1;ct--)X=O[ct][0],it=O[ct][1],w.subscribe.apply(w,[X].concat(typeof it=="function"?[it]:it))}(De,ee.API.events):f[Eo]=ee.API[Eo]);function Sr(w){return le[w].mediaBox.topRightX-le[w].mediaBox.bottomLeftX}function vu(w,O){le[w].mediaBox.topRightX=O+le[w].mediaBox.bottomLeftX}function Ic(w){return le[w].mediaBox.topRightY-le[w].mediaBox.bottomLeftY}function Ar(w,O){le[w].mediaBox.topRightY=O+le[w].mediaBox.bottomLeftY}var Ts=f.getPageWidth=function(w){return Sr(w=w||Y)/xe},tl=f.setPageWidth=function(w,O){vu(w,O*xe)},ks=f.getPageHeight=function(w){return Ic(w=w||Y)/xe},_u=f.setPageHeight=function(w,O){Ar(w,O*xe)};return f.internal={pdfEscape:Ri,getStyle:ea,getFont:xs,getFontSize:zt,getCharSpace:mu,getTextColor:ia,getLineHeight:pf,getLineHeightFactor:mf,getLineWidth:Ec,write:jt,getHorizontalCoordinate:Mi,getVerticalCoordinate:Ys,getCoordinateString:yf,getVerticalCoordinateString:Qa,collections:{},newObject:Mn,newAdditionalObject:Xo,newObjectDeferred:mi,newObjectDeferredBegin:Dn,getFilters:nr,putStream:ri,events:De,scaleFactor:xe,pageSize:{getWidth:function(){return Ts(Y)},setWidth:function(w){tl(Y,w)},getHeight:function(){return ks(Y)},setHeight:function(w){_u(Y,w)}},encryptionOptions:c,encryption:vn,getEncryptor:function(w){return c!==null?vn.encryptor(w,0):function(O){return O}},output:pu,getNumberOfPages:fu,get pages(){return Lt},out:K,f2:k,f3:N,getPageInfo:bi,getPageInfoByObjId:ta,getCurrentPageInfo:Ya,getPDFVersion:_,Point:As,Rectangle:Za,Matrix:ce,hasHotfix:Dr},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return Ts(Y)},set:function(w){tl(Y,w)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return ks(Y)},set:function(w){_u(Y,w)},enumerable:!0,configurable:!0}),(function(w){for(var O=0,X=ue.length;O<X;O++){var it=Ga.call(this,w[O][0],w[O][1],w[O][2],ue[O][3],!0);h===!1&&(p[it]=!0);var ct=w[O][0].split("-");uu({id:it,fontName:ct[0],fontStyle:ct[1]||""})}De.publish("addFonts",{fonts:Pe,dictionary:Te})}).call(f,ue),Gt="F1",Ka(r,n),De.publish("initialized"),f}zc.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},zc.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},zc.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},zc.prototype.processOwnerPassword=function(e,t){return n_(e_(t).substr(0,5),e)},zc.prototype.encryptor=function(e,t){var n=e_(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(i){return n_(n,i)}},J0.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||dn(e)!==dn(this))return!1;var i=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;i++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&i--;return i===0},ee.API={events:[]},ee.version="4.2.0";var Zn=ee.API,cx=1,bc=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Fc=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},dc=function(e){return e.toString().replace(/#/g,"#23").replace(/[\s\n\r()<>[\]{}\/%]/g,function(t){var n=t.charCodeAt(0).toString(16).toUpperCase();return"#"+(n.length===1?"0"+n:n)})},Ae=function(e){return e.toFixed(2)},yl=function(e){return e.toFixed(5)};Zn.__acroform__={};var $r=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},zE=function(e){return e*cx},Do=function(e){var t=new rM,n=$t.internal.getHeight(e)||0,i=$t.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Ae(i)),Number(Ae(n))],t},yZ=Zn.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},vZ=Zn.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},_Z=Zn.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},fi=Zn.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return _Z(e,t-1)},di=Zn.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return yZ(e,t-1)},pi=Zn.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return vZ(e,t-1)},wZ=Zn.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,i=t.internal.getVerticalCoordinate,r=e[0],s=e[1],o=e[2],a=e[3],l={};return l.lowerLeft_X=n(r)||0,l.lowerLeft_Y=i(s+a)||0,l.upperRight_X=n(r+o)||0,l.upperRight_Y=i(s)||0,[Number(Ae(l.lowerLeft_X)),Number(Ae(l.lowerLeft_Y)),Number(Ae(l.upperRight_X)),Number(Ae(l.upperRight_Y))]},bZ=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,i=i_(e,n),r=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+r+" "+Ae(i.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(i.text),t.push("ET"),t.push("Q"),t.push("EMC");var s=Do(e);return s.scope=e.scope,s.stream=t.join(`
`),s}},i_=function(e,t){var n=e.fontSize===0?e.maxFontSize:e.fontSize,i={text:"",fontSize:""},r=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");r=e.multiline?r.map(function(k){return k.split(`
`)}):r.map(function(k){return[k]});var s=n,o=$t.internal.getHeight(e)||0;o=o<0?-o:o;var a=$t.internal.getWidth(e)||0;a=a<0?-a:a;var l=function(k,N,M){if(k+1<r.length){var H=N+" "+r[k+1][0];return am(H,e,M).width<=a-4}return!1};s++;t:for(;s>0;){t="",s--;var u,c,h=am("3",e,s).height,p=e.multiline?o-s:(o-h)/2,f=p+=2,y=0,_=0,x=0;if(s<=0){t=`(...) Tj
`,t+="% Width of Text: "+am(t,e,s=12).width+", FieldWidth:"+a+`
`;break}for(var v="",A=0,I=0;I<r.length;I++)if(r.hasOwnProperty(I)){var P=!1;if(r[I].length!==1&&x!==r[I].length-1){if((h+2)*(A+2)+2>o)continue t;v+=r[I][x],P=!0,_=I,I--}else{v=(v+=r[I][x]+" ").substr(v.length-1)==" "?v.substr(0,v.length-1):v;var F=parseInt(I),G=l(F,v,s),R=I>=r.length-1;if(G&&!R){v+=" ",x=0;continue}if(G||R){if(R)_=F;else if(e.multiline&&(h+2)*(A+2)+2>o)continue t}else{if(!e.multiline||(h+2)*(A+2)+2>o)continue t;_=F}}for(var T="",E=y;E<=_;E++){var D=r[E];if(e.multiline){if(E===_){T+=D[x]+" ",x=(x+1)%D.length;continue}if(E===y){T+=D[D.length-1]+" ";continue}}T+=D[0]+" "}switch(T=T.substr(T.length-1)==" "?T.substr(0,T.length-1):T,c=am(T,e,s).width,e.textAlign){case"right":u=a-c-2;break;case"center":u=(a-c)/2;break;default:u=2}t+=Ae(u)+" "+Ae(f)+` Td
`,t+="("+bc(T)+`) Tj
`,t+=-Ae(u)+` 0 Td
`,f=-(s+2),c=0,y=P?_:_+1,A++,v=""}break}return i.text=t,i.fontSize=s,i},am=function(e,t,n){var i=t.scope.internal.getFont(t.fontName,t.fontStyle),r=t.scope.getStringUnitWidth(e,{font:i,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:i,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:r}},xZ={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},SZ=function(e,t){var n={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(i){return i.type===n.type&&i.object===n.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},AZ=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(mo.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(xZ)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");cx=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new sM,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var i=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var r in i)if(i.hasOwnProperty(r)){var s=i[r];s.objId=void 0,s.hasAnnotation&&SZ(s,n)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(n){(function(i,r){var s=!i;for(var o in i||(r.internal.newObjectDeferredBegin(r.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),r.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),i=i||r.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(i.hasOwnProperty(o)){var a=i[o],l=[],u=a.Rect;if(a.Rect&&(a.Rect=wZ(a.Rect,r)),r.internal.newObjectDeferredBegin(a.objId,!0),a.DA=$t.createDefaultAppearanceStream(a),dn(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=u,a.hasAppearanceStream&&!a.appearanceStreamContent){var c=bZ(a);l.push({key:"AP",value:"<</N "+c+">>"}),r.internal.acroformPlugin.xForms.push(c)}if(a.appearanceStreamContent){var h="";for(var p in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(p)){var f=a.appearanceStreamContent[p];if(h+="/"+p+" ",h+="<<",Object.keys(f).length>=1||Array.isArray(f)){for(var o in f)if(f.hasOwnProperty(o)){var y=f[o];typeof y=="function"&&(y=y.call(r,a)),h+="/"+o+" "+y+" ",r.internal.acroformPlugin.xForms.indexOf(y)>=0||r.internal.acroformPlugin.xForms.push(y)}}else typeof(y=f)=="function"&&(y=y.call(r,a)),h+="/"+o+" "+y,r.internal.acroformPlugin.xForms.indexOf(y)>=0||r.internal.acroformPlugin.xForms.push(y);h+=">>"}l.push({key:"AP",value:`<<
`+h+">>"})}r.internal.putStream({additionalKeyValues:l,objectId:a.objId}),r.internal.out("endobj")}s&&function(_,x){for(var v in _)if(_.hasOwnProperty(v)){var A=v,I=_[v];x.internal.newObjectDeferredBegin(I.objId,!0),dn(I)==="object"&&typeof I.putStream=="function"&&I.putStream(),delete _[A]}}(r.internal.acroformPlugin.xForms,r)})(n,e)}),e.internal.acroformPlugin.isInitialized=!0}},iM=Zn.__acroform__.arrayToPdfArray=function(e,t,n){var i=function(o){return o};if(Array.isArray(e)){for(var r="[",s=0;s<e.length;s++)switch(s!==0&&(r+=" "),dn(e[s])){case"boolean":case"number":case"object":r+=e[s].toString();break;case"string":e[s].substr(0,1)==="/"?r+="/"+dc(e[s].substr(1)):(t!==void 0&&n&&(i=n.internal.getEncryptor(t)),r+="("+bc(i(e[s].toString()))+")")}return r+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Hv=function(e,t,n){var i=function(r){return r};return t!==void 0&&n&&(i=n.internal.getEncryptor(t)),(e=e||"").toString(),"("+bc(i(e))+")"},Vo=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Vo.prototype.toString=function(){return this.objId+" 0 R"},Vo.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Vo.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in t)if(Object.getOwnPropertyDescriptor(this,t[n]).configurable===!1){var i=t[n],r=this[i];r&&(Array.isArray(r)?e.push({key:i,value:iM(r,this.objId,this.scope)}):r instanceof Vo?(r.scope=this.scope,e.push({key:i,value:r.objId+" 0 R"})):typeof r!="function"&&e.push({key:i,value:r}))}return e};var rM=function(){Vo.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){e=n.trim()},get:function(){return e||null}})};$r(rM,Vo);var sM=function(){Vo.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var n=function(i){return i};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+bc(n(e))+")"}},set:function(n){e=n}})};$r(sM,Vo);var mo=function e(){Vo.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute F supplied.');t=v}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!fi(t,3)},set:function(v){v?this.F=di(t,3):this.F=pi(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute Ff supplied.');n=v}});var i=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(i.length!==0)return i},set:function(v){i=v!==void 0?v:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[0])?0:i[0]},set:function(v){i[0]=v}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[1])?0:i[1]},set:function(v){i[1]=v}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[2])?0:i[2]},set:function(v){i[2]=v}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[3])?0:i[3]},set:function(v){i[3]=v}});var r="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return r},set:function(v){switch(v){case"/Btn":case"/Tx":case"/Ch":case"/Sig":r=v;break;default:throw new Error('Invalid value "'+v+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof Z0)return;s="FieldObject"+e.FieldNum++}var v=function(A){return A};return this.scope&&(v=this.scope.internal.getEncryptor(this.objId)),"("+bc(v(s))+")"},set:function(v){s=v.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(v){s=v}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(v){o=v}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(v){a=v}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(v){l=v}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/cx:u},set:function(v){u=v}});var c="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return c},set:function(v){c=v}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof Z0||this instanceof Qu))return Hv(h,this.objId,this.scope)},set:function(v){v=v.toString(),h=v}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Fi==0?Hv(p,this.objId,this.scope):p},set:function(v){v=v.toString(),p=this instanceof Fi==0?v.substr(0,1)==="("?Fc(v.substr(1,v.length-2)):Fc(v):v}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Fi==1?Fc(p.substr(1,p.length-1)):p},set:function(v){v=v.toString(),p=this instanceof Fi==1?"/"+dc(v):v}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(v){this.V=v}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof Fi==0?Hv(f,this.objId,this.scope):f},set:function(v){v=v.toString(),f=this instanceof Fi==0?v.substr(0,1)==="("?Fc(v.substr(1,v.length-2)):Fc(v):v}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Fi==1?Fc(f.substr(1,f.length-1)):f},set:function(v){v=v.toString(),f=this instanceof Fi==1?"/"+dc(v):v}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var y,_=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return _},set:function(v){v=!!v,_=v}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(y)return y},set:function(v){y=v}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,1)},set:function(v){v?this.Ff=di(this.Ff,1):this.Ff=pi(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,2)},set:function(v){v?this.Ff=di(this.Ff,2):this.Ff=pi(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,3)},set:function(v){v?this.Ff=di(this.Ff,3):this.Ff=pi(this.Ff,3)}});var x=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(x!==null)return x},set:function(v){if([0,1,2].indexOf(v)===-1)throw new Error('Invalid value "'+v+'" for attribute Q supplied.');x=v}}),Object.defineProperty(this,"textAlign",{get:function(){var v;switch(x){case 0:default:v="left";break;case 1:v="center";break;case 2:v="right"}return v},configurable:!0,enumerable:!0,set:function(v){switch(v){case"right":case 2:x=2;break;case"center":case 1:x=1;break;default:x=0}}})};$r(mo,Vo);var Sh=function(){mo.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(n){e=n}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return iM(t,this.objId,this.scope)},set:function(n){var i,r;r=[],typeof(i=n)=="string"&&(r=function(s,o,a){a||(a=1);for(var l,u=[];l=o.exec(s);)u.push(l[a]);return u}(i,/\((.*?)\)/g)),t=r}}),this.getOptions=function(){return t},this.setOptions=function(n){t=n,this.sort&&t.sort()},this.addOption=function(n){n=(n=n||"").toString(),t.push(n),this.sort&&t.sort()},this.removeOption=function(n,i){for(i=i||!1,n=(n=n||"").toString();t.indexOf(n)!==-1&&(t.splice(t.indexOf(n),1),i!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,18)},set:function(n){n?this.Ff=di(this.Ff,18):this.Ff=pi(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=di(this.Ff,19):this.Ff=pi(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,20)},set:function(n){n?(this.Ff=di(this.Ff,20),t.sort()):this.Ff=pi(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,22)},set:function(n){n?this.Ff=di(this.Ff,22):this.Ff=pi(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,23)},set:function(n){n?this.Ff=di(this.Ff,23):this.Ff=pi(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,27)},set:function(n){n?this.Ff=di(this.Ff,27):this.Ff=pi(this.Ff,27)}}),this.hasAppearanceStream=!1};$r(Sh,mo);var Ah=function(){Sh.call(this),this.fontName="helvetica",this.combo=!1};$r(Ah,Sh);var Th=function(){Ah.call(this),this.combo=!0};$r(Th,Ah);var zm=function(){Th.call(this),this.edit=!0};$r(zm,Th);var Fi=function(){mo.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,15)},set:function(n){n?this.Ff=di(this.Ff,15):this.Ff=pi(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,16)},set:function(n){n?this.Ff=di(this.Ff,16):this.Ff=pi(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,17)},set:function(n){n?this.Ff=di(this.Ff,17):this.Ff=pi(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,26)},set:function(n){n?this.Ff=di(this.Ff,26):this.Ff=pi(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var i,r=[];for(i in r.push("<<"),t)r.push("/"+i+" ("+bc(n(t[i]))+")");return r.push(">>"),r.join(`
`)}},set:function(n){dn(n)==="object"&&(t=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(n){typeof n=="string"&&(t.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(n){var i=n==null?"":n.toString();i.substr(0,1)==="/"&&(i=i.substr(1)),e="/"+dc(i)}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(n){e="/"+dc(n)}})};$r(Fi,mo);var Wm=function(){Fi.call(this),this.pushButton=!0};$r(Wm,Fi);var kh=function(){Fi.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};$r(kh,Fi);var Z0=function(){var e,t;mo.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(r){t=r}});var n,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(a){return a};this.scope&&(r=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),i)o.push("/"+s+" ("+bc(r(i[s]))+")");return o.push(">>"),o.join(`
`)},set:function(r){dn(r)==="object"&&(i=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(r){typeof r=="string"&&(i.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(r){var s=r==null?"":r.toString();s.substr(0,1)==="/"&&(s=s.substr(1)),n="/"+dc(s)}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(r){var s=r==null?"":r.toString();s.substr(0,1)==="/"&&(s=s.substr(1)),n="/"+dc(s)}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=$t.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};$r(Z0,mo),kh.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},kh.prototype.createOption=function(e){var t=new Z0;return t.Parent=this,t.optionName=e,this.Kids.push(t),TZ.call(this.scope,t),t};var qm=function(){Fi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=$t.CheckBox.createAppearanceStream()};$r(qm,Fi);var Qu=function(){mo.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,13)},set:function(t){t?this.Ff=di(this.Ff,13):this.Ff=pi(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,21)},set:function(t){t?this.Ff=di(this.Ff,21):this.Ff=pi(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,23)},set:function(t){t?this.Ff=di(this.Ff,23):this.Ff=pi(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,24)},set:function(t){t?this.Ff=di(this.Ff,24):this.Ff=pi(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,25)},set:function(t){t?this.Ff=di(this.Ff,25):this.Ff=pi(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,26)},set:function(t){t?this.Ff=di(this.Ff,26):this.Ff=pi(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};$r(Qu,mo);var Hm=function(){Qu.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,14)},set:function(e){e?this.Ff=di(this.Ff,14):this.Ff=pi(this.Ff,14)}}),this.password=!0};$r(Hm,Qu);var $t={CheckBox:{createAppearanceStream:function(){return{N:{On:$t.CheckBox.YesNormal},D:{On:$t.CheckBox.YesPushDown,Off:$t.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Do(e);t.scope=e.scope;var n=[],i=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),s=i_(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+Ae($t.internal.getWidth(e))+" "+Ae($t.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+i+" "+Ae(s.fontSize)+" Tf "+r),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join(`
`),t},YesNormal:function(e){var t=Do(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),r=[],s=$t.internal.getHeight(e),o=$t.internal.getWidth(e),a=i_(e,e.caption);return r.push("1 g"),r.push("0 0 "+Ae(o)+" "+Ae(s)+" re"),r.push("f"),r.push("q"),r.push("0 0 1 rg"),r.push("0 0 "+Ae(o-1)+" "+Ae(s-1)+" re"),r.push("W"),r.push("n"),r.push("0 g"),r.push("BT"),r.push("/"+n+" "+Ae(a.fontSize)+" Tf "+i),r.push(a.text),r.push("ET"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Do(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Ae($t.internal.getWidth(e))+" "+Ae($t.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:$t.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=$t.RadioButton.Circle.YesNormal,t.D[e]=$t.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Do(e);t.scope=e.scope;var n=[],i=$t.internal.getWidth(e)<=$t.internal.getHeight(e)?$t.internal.getWidth(e)/4:$t.internal.getHeight(e)/4;i=Number((.9*i).toFixed(5));var r=$t.internal.Bezier_C,s=Number((i*r).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+yl($t.internal.getWidth(e)/2)+" "+yl($t.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=Do(e);t.scope=e.scope;var n=[],i=$t.internal.getWidth(e)<=$t.internal.getHeight(e)?$t.internal.getWidth(e)/4:$t.internal.getHeight(e)/4;i=Number((.9*i).toFixed(5));var r=Number((2*i).toFixed(5)),s=Number((r*$t.internal.Bezier_C).toFixed(5)),o=Number((i*$t.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+yl($t.internal.getWidth(e)/2)+" "+yl($t.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+yl($t.internal.getWidth(e)/2)+" "+yl($t.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),n.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),n.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),n.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Do(e);t.scope=e.scope;var n=[],i=$t.internal.getWidth(e)<=$t.internal.getHeight(e)?$t.internal.getWidth(e)/4:$t.internal.getHeight(e)/4;i=Number((.9*i).toFixed(5));var r=Number((2*i).toFixed(5)),s=Number((r*$t.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+yl($t.internal.getWidth(e)/2)+" "+yl($t.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:$t.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=$t.RadioButton.Cross.YesNormal,t.D[e]=$t.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Do(e);t.scope=e.scope;var n=[],i=$t.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+Ae($t.internal.getWidth(e)-2)+" "+Ae($t.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(Ae(i.x1.x)+" "+Ae(i.x1.y)+" m"),n.push(Ae(i.x2.x)+" "+Ae(i.x2.y)+" l"),n.push(Ae(i.x4.x)+" "+Ae(i.x4.y)+" m"),n.push(Ae(i.x3.x)+" "+Ae(i.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=Do(e);t.scope=e.scope;var n=$t.internal.calculateCross(e),i=[];return i.push("0.749023 g"),i.push("0 0 "+Ae($t.internal.getWidth(e))+" "+Ae($t.internal.getHeight(e))+" re"),i.push("f"),i.push("q"),i.push("1 1 "+Ae($t.internal.getWidth(e)-2)+" "+Ae($t.internal.getHeight(e)-2)+" re"),i.push("W"),i.push("n"),i.push(Ae(n.x1.x)+" "+Ae(n.x1.y)+" m"),i.push(Ae(n.x2.x)+" "+Ae(n.x2.y)+" l"),i.push(Ae(n.x4.x)+" "+Ae(n.x4.y)+" m"),i.push(Ae(n.x3.x)+" "+Ae(n.x3.y)+" l"),i.push("s"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(e){var t=Do(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Ae($t.internal.getWidth(e))+" "+Ae($t.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};$t.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=$t.internal.getWidth(e),n=$t.internal.getHeight(e),i=Math.min(t,n);return{x1:{x:(t-i)/2,y:(n-i)/2+i},x2:{x:(t-i)/2+i,y:(n-i)/2},x3:{x:(t-i)/2,y:(n-i)/2},x4:{x:(t-i)/2+i,y:(n-i)/2+i}}}},$t.internal.getWidth=function(e){var t=0;return dn(e)==="object"&&(t=zE(e.Rect[2])),t},$t.internal.getHeight=function(e){var t=0;return dn(e)==="object"&&(t=zE(e.Rect[3])),t};var TZ=Zn.addField=function(e){if(AZ(this,e),!(e instanceof mo))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Zn.AcroFormChoiceField=Sh,Zn.AcroFormListBox=Ah,Zn.AcroFormComboBox=Th,Zn.AcroFormEditBox=zm,Zn.AcroFormButton=Fi,Zn.AcroFormPushButton=Wm,Zn.AcroFormRadioButton=kh,Zn.AcroFormCheckBox=qm,Zn.AcroFormTextField=Qu,Zn.AcroFormPasswordField=Hm,Zn.AcroFormAppearance=$t,Zn.AcroForm={ChoiceField:Sh,ListBox:Ah,ComboBox:Th,EditBox:zm,Button:Fi,PushButton:Wm,RadioButton:kh,CheckBox:qm,TextField:Qu,PasswordField:Hm,Appearance:$t},ee.AcroForm={ChoiceField:Sh,ListBox:Ah,ComboBox:Th,EditBox:zm,Button:Fi,PushButton:Wm,RadioButton:kh,CheckBox:qm,TextField:Qu,PasswordField:Hm,Appearance:$t};ee.AcroForm;function oM(e){return e.reduce(function(t,n,i){return t[n]=i,t},{})}(function(e){var t="addImage_";e.__addimage__={};var n="UNKNOWN",i={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=e.__addimage__.getImageFileTypeByImageData=function(k,N){var M,H,rt,ut,ot,tt=n;if((N=N||n)==="RGBA"||k.data!==void 0&&k.data instanceof Uint8ClampedArray&&"height"in k&&"width"in k)return"RGBA";if(G(k))for(ot in i)for(rt=i[ot],M=0;M<rt.length;M+=1){for(ut=!0,H=0;H<rt[M].length;H+=1)if(rt[M][H]!==void 0&&rt[M][H]!==k[H]){ut=!1;break}if(ut===!0){tt=ot;break}}else for(ot in i)for(rt=i[ot],M=0;M<rt.length;M+=1){for(ut=!0,H=0;H<rt[M].length;H+=1)if(rt[M][H]!==void 0&&rt[M][H]!==k.charCodeAt(H)){ut=!1;break}if(ut===!0){tt=ot;break}}return tt===n&&N!==n&&(tt=N),tt},s=function k(N){for(var M=this.internal.write,H=this.internal.putStream,rt=(0,this.internal.getFilters)();rt.indexOf("FlateEncode")!==-1;)rt.splice(rt.indexOf("FlateEncode"),1);N.objectId=this.internal.newObject();var ut=[];if(ut.push({key:"Type",value:"/XObject"}),ut.push({key:"Subtype",value:"/Image"}),ut.push({key:"Width",value:N.width}),ut.push({key:"Height",value:N.height}),N.colorSpace===v.INDEXED?ut.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(N.palette.length/3-1)+" "+("sMask"in N&&N.sMask!==void 0?N.objectId+2:N.objectId+1)+" 0 R]"}):(ut.push({key:"ColorSpace",value:"/"+N.colorSpace}),N.colorSpace===v.DEVICE_CMYK&&ut.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ut.push({key:"BitsPerComponent",value:N.bitsPerComponent}),"decodeParameters"in N&&N.decodeParameters!==void 0&&ut.push({key:"DecodeParms",value:"<<"+N.decodeParameters+">>"}),"transparency"in N&&Array.isArray(N.transparency)&&N.transparency.length>0){for(var ot="",tt=0,at=N.transparency.length;tt<at;tt++)ot+=N.transparency[tt]+" "+N.transparency[tt]+" ";ut.push({key:"Mask",value:"["+ot+"]"})}N.sMask!==void 0&&ut.push({key:"SMask",value:N.objectId+1+" 0 R"});var vt=N.filter!==void 0?["/"+N.filter]:void 0;if(H({data:N.data,additionalKeyValues:ut,alreadyAppliedFilters:vt,objectId:N.objectId}),M("endobj"),"sMask"in N&&N.sMask!==void 0){var _t,B=(_t=N.sMaskBitsPerComponent)!==null&&_t!==void 0?_t:N.bitsPerComponent,Y={width:N.width,height:N.height,colorSpace:"DeviceGray",bitsPerComponent:B,data:N.sMask};"filter"in N&&(Y.decodeParameters="/Predictor ".concat(N.predictor," /Colors 1 /BitsPerComponent ").concat(B," /Columns ").concat(N.width),Y.filter=N.filter),k.call(this,Y)}if(N.colorSpace===v.INDEXED){var et=this.internal.newObject();H({data:T(new Uint8Array(N.palette)),objectId:et}),M("endobj")}},o=function(){var k=this.internal.collections[t+"images"];for(var N in k)s.call(this,k[N])},a=function(){var k,N=this.internal.collections[t+"images"],M=this.internal.write;for(var H in N)M("/I"+(k=N[H]).index,k.objectId,"0","R")},l=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",a))},u=function(){var k=this.internal.collections[t+"images"];return l.call(this),k},c=function(){return Object.keys(this.internal.collections[t+"images"]).length},h=function(k){return typeof e["process"+k.toUpperCase()]=="function"},p=function(k){return dn(k)==="object"&&k.nodeType===1},f=function(k,N){if(k.nodeName==="IMG"&&k.hasAttribute("src")){var M=""+k.getAttribute("src");if(M.indexOf("data:image/")===0)return Um(unescape(M).split("base64,").pop());var H=e.loadFile(M,!0);if(H!==void 0)return H}if(k.nodeName==="CANVAS"){if(k.width===0||k.height===0)throw new Error("Given canvas must have data. Canvas width: "+k.width+", height: "+k.height);var rt;switch(N){case"PNG":rt="image/png";break;case"WEBP":rt="image/webp";break;default:rt="image/jpeg"}return Um(k.toDataURL(rt,1).split("base64,").pop())}},y=function(k){var N=this.internal.collections[t+"images"];if(N){for(var M in N)if(k===N[M].alias)return N[M]}},_=function(k,N,M){return k||N||(k=-96,N=-96),k<0&&(k=-1*M.width*72/k/this.internal.scaleFactor),N<0&&(N=-1*M.height*72/N/this.internal.scaleFactor),k===0&&(k=N*M.width/M.height),N===0&&(N=k*M.height/M.width),[k,N]},x=function(k,N,M,H,rt,ut){var ot=_.call(this,M,H,rt),tt=this.internal.getCoordinateString,at=this.internal.getVerticalCoordinateString,vt=u.call(this);if(M=ot[0],H=ot[1],vt[rt.index]=rt,ut){ut*=Math.PI/180;var _t=Math.cos(ut),B=Math.sin(ut),Y=function(Z){return Z.toFixed(4)},et=[Y(_t),Y(B),Y(-1*B),Y(_t),0,0,"cm"]}this.internal.write("q"),ut?(this.internal.write([1,"0","0",1,tt(k),at(N+H),"cm"].join(" ")),this.internal.write(et.join(" ")),this.internal.write([tt(M),"0","0",tt(H),"0","0","cm"].join(" "))):this.internal.write([tt(M),"0","0",tt(H),tt(k),at(N+H),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+rt.index+" Do"),this.internal.write("Q")},v=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var A=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},I=e.__addimage__.sHashCode=function(k){var N,M,H=0;if(typeof k=="string")for(M=k.length,N=0;N<M;N++)H=(H<<5)-H+k.charCodeAt(N),H|=0;else if(G(k))for(M=k.byteLength/2,N=0;N<M;N++)H=(H<<5)-H+k[N],H|=0;return H},P=e.__addimage__.validateStringAsBase64=function(k){(k=k||"").toString().trim();var N=!0;return k.length===0&&(N=!1),k.length%4!=0&&(N=!1),/^[A-Za-z0-9+/]+$/.test(k.substr(0,k.length-2))===!1&&(N=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(k.substr(-2))===!1&&(N=!1),N},F=e.__addimage__.extractImageFromDataUrl=function(k){if(k==null||!(k=k.trim()).startsWith("data:"))return null;var N=k.indexOf(",");return N<0?null:k.substring(0,N).trim().endsWith("base64")?k.substring(N+1):null};e.__addimage__.isArrayBuffer=function(k){return k instanceof ArrayBuffer};var G=e.__addimage__.isArrayBufferView=function(k){return k instanceof Int8Array||k instanceof Uint8Array||k instanceof Uint8ClampedArray||k instanceof Int16Array||k instanceof Uint16Array||k instanceof Int32Array||k instanceof Uint32Array||k instanceof Float32Array||k instanceof Float64Array},R=e.__addimage__.binaryStringToUint8Array=function(k){for(var N=k.length,M=new Uint8Array(N),H=0;H<N;H++)M[H]=k.charCodeAt(H);return M},T=e.__addimage__.arrayBufferToBinaryString=function(k){for(var N="",M=G(k)?k:new Uint8Array(k),H=0;H<M.length;H+=8192)N+=String.fromCharCode.apply(null,M.subarray(H,H+8192));return N};e.addImage=function(){var k,N,M,H,rt,ut,ot,tt,at;if(typeof arguments[1]=="number"?(N=n,M=arguments[1],H=arguments[2],rt=arguments[3],ut=arguments[4],ot=arguments[5],tt=arguments[6],at=arguments[7]):(N=arguments[1],M=arguments[2],H=arguments[3],rt=arguments[4],ut=arguments[5],ot=arguments[6],tt=arguments[7],at=arguments[8]),dn(k=arguments[0])==="object"&&!p(k)&&"imageData"in k){var vt=k;k=vt.imageData,N=vt.format||N||n,M=vt.x||M||0,H=vt.y||H||0,rt=vt.w||vt.width||rt,ut=vt.h||vt.height||ut,ot=vt.alias||ot,tt=vt.compression||tt,at=vt.rotation||vt.angle||at}var _t=this.internal.getFilters();if(tt===void 0&&_t.indexOf("FlateEncode")!==-1&&(tt="SLOW"),isNaN(M)||isNaN(H))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var B=E.call(this,k,N,ot,tt);return x.call(this,M,H,rt,ut,B,at),this};var E=function(k,N,M,H){var rt,ut,ot;if(typeof k=="string"&&r(k)===n){k=unescape(k);var tt=D(k,!1);(tt!==""||(tt=e.loadFile(k,!0))!==void 0)&&(k=tt)}if(p(k)&&(k=f(k,N)),N=r(k,N),!h(N))throw new Error("addImage does not support files of type '"+N+"', please ensure that a plugin for '"+N+"' support is added.");if(((ot=M)==null||ot.length===0)&&(M=function(at){return typeof at=="string"||G(at)?I(at):G(at.data)?I(at.data):null}(k)),(rt=y.call(this,M))||(k instanceof Uint8Array||N==="RGBA"||(ut=k,k=R(k)),rt=this["process"+N.toUpperCase()](k,c.call(this),M,function(at){return at&&typeof at=="string"&&(at=at.toUpperCase()),at in e.image_compression?at:A.NONE}(H),ut)),!rt)throw new Error("An unknown error occurred whilst processing the image.");return rt},D=e.__addimage__.convertBase64ToBinaryString=function(k,N){N=typeof N!="boolean"||N;var M,H="";if(typeof k=="string"){var rt;M=(rt=F(k))!==null&&rt!==void 0?rt:k;try{H=Um(M)}catch(ut){if(N)throw P(M)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ut.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return H};e.getImageProperties=function(k){var N,M,H="";if(p(k)&&(k=f(k)),typeof k=="string"&&r(k)===n&&((H=D(k,!1))===""&&(H=e.loadFile(k)||""),k=H),M=r(k),!h(M))throw new Error("addImage does not support files of type '"+M+"', please ensure that a plugin for '"+M+"' support is added.");if(k instanceof Uint8Array||(k=R(k)),!(N=this["process"+M.toUpperCase()](k)))throw new Error("An unknown error occurred whilst processing the image");return N.fileType=M,N}})(ee.API),function(e){var t=function(n){if(n!==void 0&&n!="")return!0};ee.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(n){for(var i,r,s,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),u=n.pageContext.annotations,c=!1,h=0;h<u.length&&!c;h++)switch((i=u[h]).type){case"link":(t(i.options.url)||t(i.options.pageNumber))&&(c=!0);break;case"reference":case"text":case"freetext":c=!0}if(c!=0){this.internal.write("/Annots [");for(var p=0;p<u.length;p++){i=u[p];var f=this.internal.pdfEscape,y=this.internal.getEncryptor(n.objId);switch(i.type){case"reference":this.internal.write(" "+i.object.objId+" 0 R ");break;case"text":var _=this.internal.newAdditionalObject(),x=this.internal.newAdditionalObject(),v=this.internal.getEncryptor(_.objId),A=i.title||"Note";s="<</Type /Annot /Subtype /Text "+(r="/Rect ["+o(i.bounds.x)+" "+a(i.bounds.y+i.bounds.h)+" "+o(i.bounds.x+i.bounds.w)+" "+a(i.bounds.y)+"] ")+"/Contents ("+f(v(i.contents))+")",s+=" /Popup "+x.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+f(v(A))+") >>",_.content=s;var I=_.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(r="/Rect ["+o(i.bounds.x+30)+" "+a(i.bounds.y+i.bounds.h)+" "+o(i.bounds.x+i.bounds.w+30)+" "+a(i.bounds.y)+"] ")+" /Parent "+I,i.open&&(s+=" /Open true"),s+=" >>",x.content=s,this.internal.write(_.objId,"0 R",x.objId,"0 R");break;case"freetext":r="/Rect ["+o(i.bounds.x)+" "+a(i.bounds.y)+" "+o(i.bounds.x+i.bounds.w)+" "+a(i.bounds.y+i.bounds.h)+"] ";var P=i.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+r+"/Contents ("+f(y(i.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+P+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(i.options.name){var F=this.annotations._nameMap[i.options.name];i.options.pageNumber=F.page,i.options.top=F.y}else i.options.top||(i.options.top=0);if(r="/Rect ["+i.finalBounds.x+" "+i.finalBounds.y+" "+i.finalBounds.w+" "+i.finalBounds.h+"] ",s="",i.options.url)s="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /A <</S /URI /URI ("+f(y(i.options.url))+") >>";else if(i.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(i.options.pageNumber).objId+" 0 R",i.options.magFactor=i.options.magFactor||"XYZ",i.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+i.options.top+"]";break;case"FitV":i.options.left=i.options.left||0,s+=" /FitV "+i.options.left+"]";break;default:var G=a(i.options.top);i.options.left=i.options.left||0,i.options.zoom===void 0&&(i.options.zoom=0),s+=" /XYZ "+i.options.left+" "+G+" "+i.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),e.createAnnotation=function(n){var i=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":i.pageContext.annotations.push(n)}},e.link=function(n,i,r,s,o){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(n),y:u(i),w:l(n+r),h:u(i+s)},options:o,type:"link"})},e.textWithLink=function(n,i,r,s){var o,a,l=this.getTextWidth(n),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){a=s.maxWidth;var c=this.splitTextToSize(n,a).length;o=Math.ceil(u*c)}else a=l,o=u;return this.text(n,i,r,s),r+=.2*u,s.align==="center"&&(i-=l/2),s.align==="right"&&(i-=l),this.link(i,r-u,a,o,s),l},e.getTextWidth=function(n){var i=this.internal.getFontSize();return this.getStringUnitWidth(n)*i/this.internal.scaleFactor}}(ee.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},i={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},r=[1570,1571,1573,1575];e.__arabicParser__={};var s=e.__arabicParser__.isInArabicSubstitutionA=function(_){return t[_.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(_){return typeof _=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(_)},a=e.__arabicParser__.isArabicEndLetter=function(_){return o(_)&&s(_)&&t[_.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(_){return o(_)&&r.indexOf(_.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(_){return o(_)&&s(_)&&t[_.charCodeAt(0)].length>=1};var u=e.__arabicParser__.arabicLetterHasFinalForm=function(_){return o(_)&&s(_)&&t[_.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(_){return o(_)&&s(_)&&t[_.charCodeAt(0)].length>=3};var c=e.__arabicParser__.arabicLetterHasMedialForm=function(_){return o(_)&&s(_)&&t[_.charCodeAt(0)].length==4},h=e.__arabicParser__.resolveLigatures=function(_){var x=0,v=n,A="",I=0;for(x=0;x<_.length;x+=1)v[_.charCodeAt(x)]!==void 0?(I++,typeof(v=v[_.charCodeAt(x)])=="number"&&(A+=String.fromCharCode(v),v=n,I=0),x===_.length-1&&(v=n,A+=_.charAt(x-(I-1)),x-=I-1,I=0)):(v=n,A+=_.charAt(x-I),x-=I,I=0);return A};e.__arabicParser__.isArabicDiacritic=function(_){return _!==void 0&&i[_.charCodeAt(0)]!==void 0};var p=e.__arabicParser__.getCorrectForm=function(_,x,v){return o(_)?s(_)===!1?-1:!u(_)||!o(x)&&!o(v)||!o(v)&&a(x)||a(_)&&!o(x)||a(_)&&l(x)||a(_)&&a(x)?0:c(_)&&o(x)&&!a(x)&&o(v)&&u(v)?3:a(_)||!o(v)?1:2:-1},f=function(_){var x=0,v=0,A=0,I="",P="",F="",G=(_=_||"").split("\\s+"),R=[];for(x=0;x<G.length;x+=1){for(R.push(""),v=0;v<G[x].length;v+=1)I=G[x][v],P=G[x][v-1],F=G[x][v+1],o(I)?(A=p(I,P,F),R[x]+=A!==-1?String.fromCharCode(t[I.charCodeAt(0)][A]):I):R[x]+=I;R[x]=h(R[x])}return R.join(" ")},y=e.__arabicParser__.processArabic=e.processArabic=function(){var _,x=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,v=[];if(Array.isArray(x)){var A=0;for(v=[],A=0;A<x.length;A+=1)Array.isArray(x[A])?v.push([f(x[A][0]),x[A][1],x[A][2]]):v.push([f(x[A])]);_=v}else _=f(x);return typeof arguments[0]=="string"?_:(arguments[0].text=_,arguments[0])};e.events.push(["preProcessText",y])}(ee.API),ee.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},function(e){var t=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(a){n=a}});var i=150;Object.defineProperty(this,"width",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=i+1)}});var r=300;Object.defineProperty(this,"height",{get:function(){return r},set:function(a){r=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=r+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(a){s=a}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(a){o=a}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(n,i){var r;if((n=n||"2d")!=="2d")return null;for(r in i)this.pdf.context2d.hasOwnProperty(r)&&(this.pdf.context2d[r]=i[r]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(ee.API),function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,i=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),r.call(this))},r=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(_){l=_}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(_){u=_}});var c=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return c},set:function(_){c=_}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(_){h=_}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(_){p=_}});var f=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return f},set:function(_){f=_}});var y=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return y},set:function(_){y=_}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(l){return i.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},e.getTextDimensions=function(l,u){i.call(this);var c=(u=u||{}).fontSize||this.getFontSize(),h=u.font||this.getFont(),p=u.scaleFactor||this.internal.scaleFactor,f=0,y=0,_=0,x=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var v=u.maxWidth;v>0?typeof l=="string"?l=this.splitTextToSize(l,v):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(I,P){return I.concat(x.splitTextToSize(P,v))},[])):l=Array.isArray(l)?l:[l];for(var A=0;A<l.length;A++)f<(_=this.getStringUnitWidth(l[A],{font:h})*c)&&(f=_);return f!==0&&(y=l.length),{w:f/=p,h:Math.max((y*c*this.getLineHeightFactor()-c*(this.getLineHeightFactor()-1))/p,0)}},e.cellAddPage=function(){i.call(this),this.addPage();var l=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),i.call(this);var u=this.internal.__cell__.lastCell,c=this.internal.__cell__.padding,h=this.internal.__cell__.margins||t,p=this.internal.__cell__.tableHeaderRow,f=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===l.lineNumber?(l.x=(u.x||0)+(u.width||0),l.y=u.y||0):u.y+u.height+l.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=h.top,f&&p&&(this.printHeaderRow(l.lineNumber,!0),l.y+=p[0].height)):l.y=u.y+u.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-c,l.y+c,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+c,{align:"center",baseline:"top",maxWidth:l.width-c-c}):this.text(l.text,l.x+c,l.y+c,{align:"left",baseline:"top",maxWidth:l.width-c-c})),this.internal.__cell__.lastCell=l,this};e.table=function(l,u,c,h,p){if(i.call(this),!c)throw new Error("No data for PDF table.");var f,y,_,x,v=[],A=[],I=[],P={},F={},G=[],R=[],T=(p=p||{}).autoSize||!1,E=p.printHeaders!==!1,D=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,k=p.margins||Object.assign({width:this.getPageWidth()},t),N=typeof p.padding=="number"?p.padding:3,M=p.headerBackgroundColor||"#c8c8c8",H=p.headerTextColor||"#000";if(r.call(this),this.internal.__cell__.printHeaders=E,this.internal.__cell__.margins=k,this.internal.__cell__.table_font_size=D,this.internal.__cell__.padding=N,this.internal.__cell__.headerBackgroundColor=M,this.internal.__cell__.headerTextColor=H,this.setFontSize(D),h==null)A=v=Object.keys(c[0]),I=v.map(function(){return"left"});else if(Array.isArray(h)&&dn(h[0])==="object")for(v=h.map(function(vt){return vt.name}),A=h.map(function(vt){return vt.prompt||vt.name||""}),I=h.map(function(vt){return vt.align||"left"}),f=0;f<h.length;f+=1)F[h[f].name]=.7499990551181103*h[f].width;else Array.isArray(h)&&typeof h[0]=="string"&&(A=v=h,I=v.map(function(){return"left"}));if(T||Array.isArray(h)&&typeof h[0]=="string")for(f=0;f<v.length;f+=1){for(P[x=v[f]]=c.map(function(vt){return vt[x]}),this.setFont(void 0,"bold"),G.push(this.getTextDimensions(A[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),y=P[x],this.setFont(void 0,"normal"),_=0;_<y.length;_+=1)G.push(this.getTextDimensions(y[_],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);F[x]=Math.max.apply(null,G)+N+N,G=[]}if(E){var rt={};for(f=0;f<v.length;f+=1)rt[v[f]]={},rt[v[f]].text=A[f],rt[v[f]].align=I[f];var ut=a.call(this,rt,F);R=v.map(function(vt){return new s(l,u,F[vt],ut,rt[vt].text,void 0,rt[vt].align)}),this.setTableHeaderRow(R),this.printHeaderRow(1,!1)}var ot=h.reduce(function(vt,_t){return vt[_t.name]=_t.align,vt},{});for(f=0;f<c.length;f+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:f,data:c[f]},this);var tt=a.call(this,c[f],F);for(_=0;_<v.length;_+=1){var at=c[f][v[_]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:f,col:_,data:at},this),o.call(this,new s(l,u,F[v[_]],tt,at,f+2,ot[v[_]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=u,this};var a=function(l,u){var c=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(l).map(function(f){var y=l[f];return this.splitTextToSize(y.hasOwnProperty("text")?y.text:y,u[f]-c-c)},this).map(function(f){return this.getLineHeightFactor()*f.length*h/p+c+c},this).reduce(function(f,y){return Math.max(f,y)},0)};e.setTableHeaderRow=function(l){i.call(this),this.internal.__cell__.tableHeaderRow=l},e.printHeaderRow=function(l,u){if(i.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var c;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],f=0;f<this.internal.__cell__.tableHeaderRow.length;f+=1){c=this.internal.__cell__.tableHeaderRow[f].clone(),u&&(c.y=this.internal.__cell__.margins.top||0,p.push(c)),c.lineNumber=l;var y=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,c),this.setTextColor(y)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),n=!1}}(ee.API);var aM={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},lM=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],r_=oM(lM),uM=[100,200,300,400,500,600,700,800,900],kZ=oM(uM);function $v(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=function(s){return aM[s=s||"normal"]?s:"normal"}(e.style),i=function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400}(e.weight),r=function(s){return typeof r_[s=s||"normal"]=="number"?s:"normal"}(e.stretch);return{family:t,style:n,weight:i,stretch:r,src:e.src||[],ref:e.ref||{name:t,style:[r,n,i].join(" ")}}}function WE(e,t,n,i){var r;for(r=n;r>=0&&r<t.length;r+=i)if(e[t[r]])return e[t[r]];for(r=n;r>=0&&r<t.length;r-=i)if(e[t[r]])return e[t[r]]}var EZ={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},qE={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function HE(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function $E(e){return e.trimLeft()}function PZ(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function IZ(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var jc,lm,GE,KE,YE,Gv=["times"];function XE(e,t,n,i,r){var s=4,o=JE;switch(r){case ee.API.image_compression.FAST:s=1,o=QE;break;case ee.API.image_compression.MEDIUM:s=6,o=ZE;break;case ee.API.image_compression.SLOW:s=9,o=t3}e=function(l,u,c,h){for(var p,f=l.length/u,y=new Uint8Array(l.length+f),_=[CZ,QE,JE,ZE,t3],x=0;x<f;x+=1){var v=x*u,A=l.subarray(v,v+u);if(h)y.set(h(A,c,p),v+x);else{for(var I=_.length,P=[],F=0;F<I;F+=1)P[F]=_[F](A,c,p);var G=LZ(P.concat());y.set(P[G],v+x)}p=A}return y}(e,t,Math.ceil(n*i/8),o);var a=Q5(e,{level:s});return ee.API.__addimage__.arrayBufferToBinaryString(a)}function CZ(e){var t=Array.apply([],e);return t.unshift(0),t}function QE(e,t){var n=e.length,i=[];i[0]=1;for(var r=0;r<n;r+=1){var s=e[r-t]||0;i[r+1]=e[r]-s+256&255}return i}function JE(e,t,n){var i=e.length,r=[];r[0]=2;for(var s=0;s<i;s+=1){var o=n&&n[s]||0;r[s+1]=e[s]-o+256&255}return r}function ZE(e,t,n){var i=e.length,r=[];r[0]=3;for(var s=0;s<i;s+=1){var o=e[s-t]||0,a=n&&n[s]||0;r[s+1]=e[s]+256-(o+a>>>1)&255}return r}function t3(e,t,n){var i=e.length,r=[];r[0]=4;for(var s=0;s<i;s+=1){var o=NZ(e[s-t]||0,n&&n[s]||0,n&&n[s-t]||0);r[s+1]=e[s]-o+256&255}return r}function NZ(e,t,n){if(e===t&&t===n)return e;var i=Math.abs(t-n),r=Math.abs(e-n),s=Math.abs(e+t-n-n);return i<=r&&i<=s?e:r<=s?t:n}function LZ(e){var t=e.map(function(n){return n.reduce(function(i,r){return i+Math.abs(r)},0)});return t.indexOf(Math.min.apply(null,t))}function Kv(e,t,n){var i=t*n,r=Math.floor(i/8),s=16-(i-8*r+n),o=(1<<n)-1;return cM(e,r)>>s&o}function e3(e,t,n,i){var r=n*i,s=Math.floor(r/8),o=16-(r-8*s+i),a=(1<<i)-1,l=(t&a)<<o;(function(u,c,h){if(c+1<u.byteLength)u.setUint16(c,h,!1);else{var p=h>>8&255;u.setUint8(c,p)}})(e,s,cM(e,s)&~(a<<o)&65535|l)}function cM(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function RZ(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,i=e[t++]|e[t++]<<8,r=e[t++],s=r>>7,o=1<<1+(7&r);e[t++],e[t++];var a=null,l=null;s&&(a=t,l=o,t+=3*o);var u=!0,c=[],h=0,p=null,f=0,y=null;for(this.width=n,this.height=i;u&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,y=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((k=e[t++])>=0))throw Error("Invalid block size");if(k===0)break;t+=k}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var _=e[t++];h=e[t++]|e[t++]<<8,p=e[t++],1&_||(p=null),f=_>>2&7,t++;break;case 254:for(;;){if(!((k=e[t++])>=0))throw Error("Invalid block size");if(k===0)break;t+=k}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var x=e[t++]|e[t++]<<8,v=e[t++]|e[t++]<<8,A=e[t++]|e[t++]<<8,I=e[t++]|e[t++]<<8,P=e[t++],F=P>>6&1,G=1<<1+(7&P),R=a,T=l,E=!1;P>>7&&(E=!0,R=t,T=G,t+=3*G);var D=t;for(t++;;){var k;if(!((k=e[t++])>=0))throw Error("Invalid block size");if(k===0)break;t+=k}c.push({x,y:v,width:A,height:I,has_local_palette:E,palette_offset:R,palette_size:T,data_offset:D,data_length:t-D,transparent_index:p,interlaced:!!F,delay:h,disposal:f});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return c.length},this.loopCount=function(){return y},this.frameInfo=function(N){if(N<0||N>=c.length)throw new Error("Frame index out of range.");return c[N]},this.decodeAndBlitFrameBGRA=function(N,M){var H=this.frameInfo(N),rt=H.width*H.height;if(rt>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");var ut=new Uint8Array(rt);n3(e,H.data_offset,ut,rt);var ot=H.palette_offset,tt=H.transparent_index;tt===null&&(tt=256);var at=H.width,vt=n-at,_t=at,B=4*(H.y*n+H.x),Y=4*((H.y+H.height)*n+H.x),et=B,Z=4*vt;H.interlaced===!0&&(Z+=4*n*7);for(var nt=8,ft=0,yt=ut.length;ft<yt;++ft){var wt=ut[ft];if(_t===0&&(_t=at,(et+=Z)>=Y&&(Z=4*vt+4*n*(nt-1),et=B+(at+vt)*(nt<<1),nt>>=1)),wt===tt)et+=4;else{var At=e[ot+3*wt],Lt=e[ot+3*wt+1],Bt=e[ot+3*wt+2];M[et++]=Bt,M[et++]=Lt,M[et++]=At,M[et++]=255}--_t}},this.decodeAndBlitFrameRGBA=function(N,M){var H=this.frameInfo(N),rt=H.width*H.height;if(rt>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");var ut=new Uint8Array(rt);n3(e,H.data_offset,ut,rt);var ot=H.palette_offset,tt=H.transparent_index;tt===null&&(tt=256);var at=H.width,vt=n-at,_t=at,B=4*(H.y*n+H.x),Y=4*((H.y+H.height)*n+H.x),et=B,Z=4*vt;H.interlaced===!0&&(Z+=4*n*7);for(var nt=8,ft=0,yt=ut.length;ft<yt;++ft){var wt=ut[ft];if(_t===0&&(_t=at,(et+=Z)>=Y&&(Z=4*vt+4*n*(nt-1),et=B+(at+vt)*(nt<<1),nt>>=1)),wt===tt)et+=4;else{var At=e[ot+3*wt],Lt=e[ot+3*wt+1],Bt=e[ot+3*wt+2];M[et++]=At,M[et++]=Lt,M[et++]=Bt,M[et++]=255}--_t}}}function n3(e,t,n,i){for(var r=e[t++],s=1<<r,o=s+1,a=o+1,l=r+1,u=(1<<l)-1,c=0,h=0,p=0,f=e[t++],y=new Int32Array(4096),_=null;;){for(;c<16&&f!==0;)h|=e[t++]<<c,c+=8,f===1?f=e[t++]:--f;if(c<l)break;var x=h&u;if(h>>=l,c-=l,x!==s){if(x===o)break;for(var v=x<a?x:_,A=0,I=v;I>s;)I=y[I]>>8,++A;var P=I;if(p+A+(v!==x?1:0)>i)return void bn.log("Warning, gif stream longer than expected.");n[p++]=P;var F=p+=A;for(v!==x&&(n[p++]=P),I=v;A--;)I=y[I],n[--F]=255&I,I>>=8;_!==null&&a<4096&&(y[a++]=_<<8|P,a>=u+1&&l<12&&(++l,u=u<<1|1)),_=x}else a=o+1,u=(1<<(l=r+1))-1,_=null}return p!==i&&bn.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Yv(e){var t,n,i,r,s,o=Math.floor,a=new Array(64),l=new Array(64),u=new Array(64),c=new Array(64),h=new Array(65535),p=new Array(65535),f=new Array(64),y=new Array(64),_=[],x=0,v=7,A=new Array(64),I=new Array(64),P=new Array(64),F=new Array(256),G=new Array(2048),R=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],T=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],E=[0,1,2,3,4,5,6,7,8,9,10,11],D=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],k=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],N=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],M=[0,1,2,3,4,5,6,7,8,9,10,11],H=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],rt=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ut(B,Y){for(var et=0,Z=0,nt=new Array,ft=1;ft<=16;ft++){for(var yt=1;yt<=B[ft];yt++)nt[Y[Z]]=[],nt[Y[Z]][0]=et,nt[Y[Z]][1]=ft,Z++,et++;et*=2}return nt}function ot(B){for(var Y=B[0],et=B[1]-1;et>=0;)Y&1<<et&&(x|=1<<v),et--,--v<0&&(x==255?(tt(255),tt(0)):tt(x),v=7,x=0)}function tt(B){_.push(B)}function at(B){tt(B>>8&255),tt(255&B)}function vt(B,Y,et,Z,nt){for(var ft,yt=nt[0],wt=nt[240],At=function(Ct,re){var zt,ae,ne,He,Re,Jt,de,Ce,Gt,xe,te=0;for(Gt=0;Gt<8;++Gt){zt=Ct[te],ae=Ct[te+1],ne=Ct[te+2],He=Ct[te+3],Re=Ct[te+4],Jt=Ct[te+5],de=Ct[te+6];var yn=zt+(Ce=Ct[te+7]),je=zt-Ce,Pe=ae+de,Te=ae-de,Sn=ne+Jt,se=ne-Jt,sn=He+Re,he=He-Re,_e=yn+sn,on=yn-sn,Ie=Pe+Sn,le=Pe-Sn;Ct[te]=_e+Ie,Ct[te+4]=_e-Ie;var De=.707106781*(le+on);Ct[te+2]=on+De,Ct[te+6]=on-De;var vo=.382683433*((_e=he+se)-(le=Te+je)),ii=.5411961*_e+vo,vs=1.306562965*le+vo,tr=.707106781*(Ie=se+Te),ce=je+tr,En=je-tr;Ct[te+5]=En+ii,Ct[te+3]=En-ii,Ct[te+1]=ce+vs,Ct[te+7]=ce-vs,te+=8}for(te=0,Gt=0;Gt<8;++Gt){zt=Ct[te],ae=Ct[te+8],ne=Ct[te+16],He=Ct[te+24],Re=Ct[te+32],Jt=Ct[te+40],de=Ct[te+48];var _s=zt+(Ce=Ct[te+56]),Ni=zt-Ce,Li=ae+de,Mn=ae-de,mi=ne+Jt,Dn=ne-Jt,Xo=He+Re,_o=He-Re,er=_s+Xo,Gr=_s-Xo,xr=Li+mi,nr=Li-mi;Ct[te]=er+xr,Ct[te+32]=er-xr;var ri=.707106781*(nr+Gr);Ct[te+16]=Gr+ri,Ct[te+48]=Gr-ri;var wo=.382683433*((er=_o+Dn)-(nr=Mn+Ni)),Kr=.5411961*er+wo,Ks=1.306562965*nr+wo,bo=.707106781*(xr=Dn+Mn),Qo=Ni+bo,Jo=Ni-bo;Ct[te+40]=Jo+Kr,Ct[te+24]=Jo-Kr,Ct[te+8]=Qo+Ks,Ct[te+56]=Qo-Ks,te++}for(Gt=0;Gt<64;++Gt)xe=Ct[Gt]*re[Gt],f[Gt]=xe>0?xe+.5|0:xe-.5|0;return f}(B,Y),Lt=0;Lt<64;++Lt)y[R[Lt]]=At[Lt];var Bt=y[0]-et;et=y[0],Bt==0?ot(Z[0]):(ot(Z[p[ft=32767+Bt]]),ot(h[ft]));for(var Vt=63;Vt>0&&y[Vt]==0;)Vt--;if(Vt==0)return ot(yt),et;for(var Zt,K=1;K<=Vt;){for(var jt=K;y[K]==0&&K<=Vt;)++K;var Ee=K-jt;if(Ee>=16){Zt=Ee>>4;for(var ue=1;ue<=Zt;++ue)ot(wt);Ee&=15}ft=32767+y[K],ot(nt[(Ee<<4)+p[ft]]),ot(h[ft]),K++}return Vt!=63&&ot(yt),et}function _t(B){B=Math.min(Math.max(B,1),100),s!=B&&(function(Y){for(var et=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Z=0;Z<64;Z++){var nt=o((et[Z]*Y+50)/100);nt=Math.min(Math.max(nt,1),255),a[R[Z]]=nt}for(var ft=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],yt=0;yt<64;yt++){var wt=o((ft[yt]*Y+50)/100);wt=Math.min(Math.max(wt,1),255),l[R[yt]]=wt}for(var At=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Lt=0,Bt=0;Bt<8;Bt++)for(var Vt=0;Vt<8;Vt++)u[Lt]=1/(a[R[Lt]]*At[Bt]*At[Vt]*8),c[Lt]=1/(l[R[Lt]]*At[Bt]*At[Vt]*8),Lt++}(B<50?Math.floor(5e3/B):Math.floor(200-2*B)),s=B)}this.encode=function(B,Y){Y&&_t(Y),_=new Array,x=0,v=7,at(65496),at(65504),at(16),tt(74),tt(70),tt(73),tt(70),tt(0),tt(1),tt(1),tt(0),at(1),at(1),tt(0),tt(0),function(){at(65499),at(132),tt(0);for(var ae=0;ae<64;ae++)tt(a[ae]);tt(1);for(var ne=0;ne<64;ne++)tt(l[ne])}(),function(ae,ne){at(65472),at(17),tt(8),at(ne),at(ae),tt(3),tt(1),tt(17),tt(0),tt(2),tt(17),tt(1),tt(3),tt(17),tt(1)}(B.width,B.height),function(){at(65476),at(418),tt(0);for(var ae=0;ae<16;ae++)tt(T[ae+1]);for(var ne=0;ne<=11;ne++)tt(E[ne]);tt(16);for(var He=0;He<16;He++)tt(D[He+1]);for(var Re=0;Re<=161;Re++)tt(k[Re]);tt(1);for(var Jt=0;Jt<16;Jt++)tt(N[Jt+1]);for(var de=0;de<=11;de++)tt(M[de]);tt(17);for(var Ce=0;Ce<16;Ce++)tt(H[Ce+1]);for(var Gt=0;Gt<=161;Gt++)tt(rt[Gt])}(),at(65498),at(12),tt(3),tt(1),tt(0),tt(2),tt(17),tt(3),tt(17),tt(0),tt(63),tt(0);var et=0,Z=0,nt=0;x=0,v=7,this.encode.displayName="_encode_";for(var ft,yt,wt,At,Lt,Bt,Vt,Zt,K,jt=B.data,Ee=B.width,ue=B.height,Ct=4*Ee,re=0;re<ue;){for(ft=0;ft<Ct;){for(Lt=Ct*re+ft,Vt=-1,Zt=0,K=0;K<64;K++)Bt=Lt+(Zt=K>>3)*Ct+(Vt=4*(7&K)),re+Zt>=ue&&(Bt-=Ct*(re+1+Zt-ue)),ft+Vt>=Ct&&(Bt-=ft+Vt-Ct+4),yt=jt[Bt++],wt=jt[Bt++],At=jt[Bt++],A[K]=(G[yt]+G[wt+256|0]+G[At+512|0]>>16)-128,I[K]=(G[yt+768|0]+G[wt+1024|0]+G[At+1280|0]>>16)-128,P[K]=(G[yt+1280|0]+G[wt+1536|0]+G[At+1792|0]>>16)-128;et=vt(A,u,et,t,i),Z=vt(I,c,Z,n,r),nt=vt(P,c,nt,n,r),ft+=32}re+=8}if(v>=0){var zt=[];zt[1]=v+1,zt[0]=(1<<v+1)-1,ot(zt)}return at(65497),new Uint8Array(_)},e=e||50,function(){for(var B=String.fromCharCode,Y=0;Y<256;Y++)F[Y]=B(Y)}(),t=ut(T,E),n=ut(N,M),i=ut(D,k),r=ut(H,rt),function(){for(var B=1,Y=2,et=1;et<=15;et++){for(var Z=B;Z<Y;Z++)p[32767+Z]=et,h[32767+Z]=[],h[32767+Z][1]=et,h[32767+Z][0]=Z;for(var nt=-(Y-1);nt<=-B;nt++)p[32767+nt]=et,h[32767+nt]=[],h[32767+nt][1]=et,h[32767+nt][0]=Y-1+nt;B<<=1,Y<<=1}}(),function(){for(var B=0;B<256;B++)G[B]=19595*B,G[B+256|0]=38470*B,G[B+512|0]=7471*B+32768,G[B+768|0]=-11059*B,G[B+1024|0]=-21709*B,G[B+1280|0]=32768*B+8421375,G[B+1536|0]=-27439*B,G[B+1792|0]=-5329*B}(),_t(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function no(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function i3(e){function t(E){if(!E)throw Error("assert :P")}function n(E,D,k){for(var N=0;4>N;N++)if(E[D+N]!=k.charCodeAt(N))return!0;return!1}function i(E,D,k,N,M){for(var H=0;H<M;H++)E[D+H]=k[N+H]}function r(E,D,k,N){for(var M=0;M<N;M++)E[D+M]=k}function s(E){return new Int32Array(E)}function o(E,D){for(var k=[],N=0;N<E;N++)k.push(new D);return k}function a(E,D){var k=[];return function N(M,H,rt){for(var ut=rt[H],ot=0;ot<ut&&(M.push(rt.length>H+1?[]:new D),!(rt.length<H+1));ot++)N(M[ot],H+1,rt)}(k,0,E),k}var l=function(){var E=this;function D(d,m){for(var b=1<<m-1>>>0;d&b;)b>>>=1;return b?(d&b-1)+b:d}function k(d,m,b,C,j){t(!(C%b));do d[m+(C-=b)]=j;while(0<C)}function N(d,m,b,C,j){if(t(2328>=j),512>=j)var U=s(512);else if((U=s(j))==null)return 0;return function(z,W,$,Q,st,gt){var J,lt,dt=W,bt=1<<$,pt=s(16),St=s(16);for(t(st!=0),t(Q!=null),t(z!=null),t(0<$),lt=0;lt<st;++lt){if(15<Q[lt])return 0;++pt[Q[lt]]}if(pt[0]==st)return 0;for(St[1]=0,J=1;15>J;++J){if(pt[J]>1<<J)return 0;St[J+1]=St[J]+pt[J]}for(lt=0;lt<st;++lt)J=Q[lt],0<Q[lt]&&(gt[St[J]++]=lt);if(St[15]==1)return(Q=new M).g=0,Q.value=gt[0],k(z,dt,1,bt,Q),bt;var Tt,Rt=-1,It=bt-1,ie=0,Ht=1,Ne=1,Xt=1<<$;for(lt=0,J=1,st=2;J<=$;++J,st<<=1){if(Ht+=Ne<<=1,0>(Ne-=pt[J]))return 0;for(;0<pt[J];--pt[J])(Q=new M).g=J,Q.value=gt[lt++],k(z,dt+ie,st,Xt,Q),ie=D(ie,J)}for(J=$+1,st=2;15>=J;++J,st<<=1){if(Ht+=Ne<<=1,0>(Ne-=pt[J]))return 0;for(;0<pt[J];--pt[J]){if(Q=new M,(ie&It)!=Rt){for(dt+=Xt,Tt=1<<(Rt=J)-$;15>Rt&&!(0>=(Tt-=pt[Rt]));)++Rt,Tt<<=1;bt+=Xt=1<<(Tt=Rt-$),z[W+(Rt=ie&It)].g=Tt+$,z[W+Rt].value=dt-W-Rt}Q.g=J-$,Q.value=gt[lt++],k(z,dt+(ie>>$),st,Xt,Q),ie=D(ie,J)}}return Ht!=2*St[15]-1?0:bt}(d,m,b,C,j,U)}function M(){this.value=this.g=0}function H(){this.value=this.g=0}function rt(){this.G=o(5,M),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(wu,H)}function ut(d,m,b,C){t(d!=null),t(m!=null),t(2147483648>C),d.Ca=254,d.I=0,d.b=-8,d.Ka=0,d.oa=m,d.pa=b,d.Jd=m,d.Yc=b+C,d.Zc=4<=C?b+C-4+1:b,yt(d)}function ot(d,m){for(var b=0;0<m--;)b|=At(d,128)<<m;return b}function tt(d,m){var b=ot(d,m);return wt(d)?-b:b}function at(d,m,b,C){var j,U=0;for(t(d!=null),t(m!=null),t(4294967288>C),d.Sb=C,d.Ra=0,d.u=0,d.h=0,4<C&&(C=4),j=0;j<C;++j)U+=m[b+j]<<8*j;d.Ra=U,d.bb=C,d.oa=m,d.pa=b}function vt(d){for(;8<=d.u&&d.bb<d.Sb;)d.Ra>>>=8,d.Ra+=d.oa[d.pa+d.bb]<<nl-8>>>0,++d.bb,d.u-=8;Z(d)&&(d.h=1,d.u=0)}function _t(d,m){if(t(0<=m),!d.h&&m<=Zr){var b=et(d)&Jr[m];return d.u+=m,vt(d),b}return d.h=1,d.u=0}function B(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function Y(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function et(d){return d.Ra>>>(d.u&nl-1)>>>0}function Z(d){return t(d.bb<=d.Sb),d.h||d.bb==d.Sb&&d.u>nl}function nt(d,m){d.u=m,d.h=Z(d)}function ft(d){d.u>=sa&&(t(d.u>=sa),vt(d))}function yt(d){t(d!=null&&d.oa!=null),d.pa<d.Zc?(d.I=(d.oa[d.pa++]|d.I<<8)>>>0,d.b+=8):(t(d!=null&&d.oa!=null),d.pa<d.Yc?(d.b+=8,d.I=d.oa[d.pa++]|d.I<<8):d.Ka?d.b=0:(d.I<<=8,d.b+=8,d.Ka=1))}function wt(d){return ot(d,1)}function At(d,m){var b=d.Ca;0>d.b&&yt(d);var C=d.b,j=b*m>>>8,U=(d.I>>>C>j)+0;for(U?(b-=j,d.I-=j+1<<C>>>0):b=j+1,C=b,j=0;256<=C;)j+=8,C>>=8;return C=7^j+il[C],d.b-=C,d.Ca=(b<<C)-1,U}function Lt(d,m,b){d[m+0]=b>>24&255,d[m+1]=b>>16&255,d[m+2]=b>>8&255,d[m+3]=255&b}function Bt(d,m){return d[m+0]|d[m+1]<<8}function Vt(d,m){return Bt(d,m)|d[m+2]<<16}function Zt(d,m){return Bt(d,m)|Bt(d,m+2)<<16}function K(d,m){var b=1<<m;return t(d!=null),t(0<m),d.X=s(b),d.X==null?0:(d.Mb=32-m,d.Xa=m,1)}function jt(d,m){t(d!=null),t(m!=null),t(d.Xa==m.Xa),i(m.X,0,d.X,0,1<<m.Xa)}function Ee(){this.X=[],this.Xa=this.Mb=0}function ue(d,m,b,C){t(b!=null),t(C!=null);var j=b[0],U=C[0];return j==0&&(j=(d*U+m/2)/m),U==0&&(U=(m*j+d/2)/d),0>=j||0>=U?0:(b[0]=j,C[0]=U,1)}function Ct(d,m){return d+(1<<m)-1>>>m}function re(d,m){return((4278255360&d)+(4278255360&m)>>>0&4278255360)+((16711935&d)+(16711935&m)>>>0&16711935)>>>0}function zt(d,m){E[m]=function(b,C,j,U,z,W,$){var Q;for(Q=0;Q<z;++Q){var st=E[d](W[$+Q-1],j,U+Q);W[$+Q]=re(b[C+Q],st)}}}function ae(){this.ud=this.hd=this.jd=0}function ne(d,m){return((4278124286&(d^m))>>>1)+(d&m)>>>0}function He(d){return 0<=d&&256>d?d:0>d?0:255<d?255:void 0}function Re(d,m){return He(d+(d-m+.5>>1))}function Jt(d,m,b){return Math.abs(m-b)-Math.abs(d-b)}function de(d,m,b,C,j,U,z){for(C=U[z-1],b=0;b<j;++b)U[z+b]=C=re(d[m+b],C)}function Ce(d,m,b,C,j){var U;for(U=0;U<b;++U){var z=d[m+U],W=z>>8&255,$=16711935&($=($=16711935&z)+((W<<16)+W));C[j+U]=(4278255360&z)+$>>>0}}function Gt(d,m){m.jd=255&d,m.hd=d>>8&255,m.ud=d>>16&255}function xe(d,m,b,C,j,U){var z;for(z=0;z<C;++z){var W=m[b+z],$=W>>>8,Q=W,st=255&(st=(st=W>>>16)+((d.jd<<24>>24)*($<<24>>24)>>>5));Q=255&(Q=(Q+=(d.hd<<24>>24)*($<<24>>24)>>>5)+((d.ud<<24>>24)*(st<<24>>24)>>>5)),j[U+z]=(4278255360&W)+(st<<16)+Q}}function te(d,m,b,C,j){E[m]=function(U,z,W,$,Q,st,gt,J,lt){for($=gt;$<J;++$)for(gt=0;gt<lt;++gt)Q[st++]=j(W[C(U[z++])])},E[d]=function(U,z,W,$,Q,st,gt){var J=8>>U.b,lt=U.Ea,dt=U.K[0],bt=U.w;if(8>J)for(U=(1<<U.b)-1,bt=(1<<J)-1;z<W;++z){var pt,St=0;for(pt=0;pt<lt;++pt)pt&U||(St=C($[Q++])),st[gt++]=j(dt[St&bt]),St>>=J}else E["VP8LMapColor"+b]($,Q,dt,bt,st,gt,z,W,lt)}}function yn(d,m,b,C,j){for(b=m+b;m<b;){var U=d[m++];C[j++]=U>>16&255,C[j++]=U>>8&255,C[j++]=255&U}}function je(d,m,b,C,j){for(b=m+b;m<b;){var U=d[m++];C[j++]=U>>16&255,C[j++]=U>>8&255,C[j++]=255&U,C[j++]=U>>24&255}}function Pe(d,m,b,C,j){for(b=m+b;m<b;){var U=(z=d[m++])>>16&240|z>>12&15,z=240&z|z>>28&15;C[j++]=U,C[j++]=z}}function Te(d,m,b,C,j){for(b=m+b;m<b;){var U=(z=d[m++])>>16&248|z>>13&7,z=z>>5&224|z>>3&31;C[j++]=U,C[j++]=z}}function Sn(d,m,b,C,j){for(b=m+b;m<b;){var U=d[m++];C[j++]=255&U,C[j++]=U>>8&255,C[j++]=U>>16&255}}function se(d,m,b,C,j,U){if(U==0)for(b=m+b;m<b;)Lt(C,((U=d[m++])[0]>>24|U[1]>>8&65280|U[2]<<8&16711680|U[3]<<24)>>>0),j+=32;else i(C,j,d,m,b)}function sn(d,m){E[m][0]=E[d+"0"],E[m][1]=E[d+"1"],E[m][2]=E[d+"2"],E[m][3]=E[d+"3"],E[m][4]=E[d+"4"],E[m][5]=E[d+"5"],E[m][6]=E[d+"6"],E[m][7]=E[d+"7"],E[m][8]=E[d+"8"],E[m][9]=E[d+"9"],E[m][10]=E[d+"10"],E[m][11]=E[d+"11"],E[m][12]=E[d+"12"],E[m][13]=E[d+"13"],E[m][14]=E[d+"0"],E[m][15]=E[d+"0"]}function he(d){return d==oy||d==ay||d==rg||d==ly}function _e(){this.eb=[],this.size=this.A=this.fb=0}function on(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Ie(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new _e,this.f.kb=new on,this.sd=null}function le(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function De(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function vo(d){return alert("todo:WebPSamplerProcessPlane"),d.T}function ii(d,m){var b=d.T,C=m.ba.f.RGBA,j=C.eb,U=C.fb+d.ka*C.A,z=Ns[m.ba.S],W=d.y,$=d.O,Q=d.f,st=d.N,gt=d.ea,J=d.W,lt=m.cc,dt=m.dc,bt=m.Mc,pt=m.Nc,St=d.ka,Tt=d.ka+d.T,Rt=d.U,It=Rt+1>>1;for(St==0?z(W,$,null,null,Q,st,gt,J,Q,st,gt,J,j,U,null,null,Rt):(z(m.ec,m.fc,W,$,lt,dt,bt,pt,Q,st,gt,J,j,U-C.A,j,U,Rt),++b);St+2<Tt;St+=2)lt=Q,dt=st,bt=gt,pt=J,st+=d.Rc,J+=d.Rc,U+=2*C.A,z(W,($+=2*d.fa)-d.fa,W,$,lt,dt,bt,pt,Q,st,gt,J,j,U-C.A,j,U,Rt);return $+=d.fa,d.j+Tt<d.o?(i(m.ec,m.fc,W,$,Rt),i(m.cc,m.dc,Q,st,It),i(m.Mc,m.Nc,gt,J,It),b--):1&Tt||z(W,$,null,null,Q,st,gt,J,Q,st,gt,J,j,U+C.A,null,null,Rt),b}function vs(d,m,b){var C=d.F,j=[d.J];if(C!=null){var U=d.U,z=m.ba.S,W=z==ig||z==rg;m=m.ba.f.RGBA;var $=[0],Q=d.ka;$[0]=d.T,d.Kb&&(Q==0?--$[0]:(--Q,j[0]-=d.width),d.j+d.ka+d.T==d.o&&($[0]=d.o-d.j-Q));var st=m.eb;Q=m.fb+Q*m.A,d=vx(C,j[0],d.width,U,$,st,Q+(W?0:3),m.A),t(b==$),d&&he(z)&&kf(st,Q,W,U,$,m.A)}return 0}function tr(d){var m=d.ma,b=m.ba.S,C=11>b,j=b==eg||b==ng||b==ig||b==sy||b==12||he(b);if(m.memory=null,m.Ib=null,m.Jb=null,m.Nd=null,!vf(m.Oa,d,j?11:12))return 0;if(j&&he(b)&&Ps(),d.da)alert("todo:use_scaling");else{if(C){if(m.Ib=vo,d.Kb){if(b=d.U+1>>1,m.memory=s(d.U+2*b),m.memory==null)return 0;m.ec=m.memory,m.fc=0,m.cc=m.ec,m.dc=m.fc+d.U,m.Mc=m.cc,m.Nc=m.dc+b,m.Ib=ii,Ps()}}else alert("todo:EmitYUV");j&&(m.Jb=vs,C&&Or())}if(C&&!Mx){for(d=0;256>d;++d)GM[d]=89858*(d-128)+og>>sg,XM[d]=-22014*(d-128)+og,YM[d]=-45773*(d-128),KM[d]=113618*(d-128)+og>>sg;for(d=Pf;d<hy;++d)m=76283*(d-16)+og>>sg,QM[d-Pf]=Mr(m,255),JM[d-Pf]=Mr(m+8>>4,15);Mx=1}return 1}function ce(d){var m=d.ma,b=d.U,C=d.T;return t(!(1&d.ka)),0>=b||0>=C?0:(b=m.Ib(d,m),m.Jb!=null&&m.Jb(d,m,b),m.Dc+=b,1)}function En(d){d.ma.memory=null}function _s(d,m,b,C){return _t(d,8)!=47?0:(m[0]=_t(d,14)+1,b[0]=_t(d,14)+1,C[0]=_t(d,1),_t(d,3)!=0?0:!d.h)}function Ni(d,m){if(4>d)return d+1;var b=d-2>>1;return(2+(1&d)<<b)+_t(m,b)+1}function Li(d,m){return 120<m?m-120:1<=(b=((b=RM[m-1])>>4)*d+(8-(15&b)))?b:1;var b}function Mn(d,m,b){var C=et(b),j=d[m+=255&C].g-8;return 0<j&&(nt(b,b.u+8),C=et(b),m+=d[m].value,m+=C&(1<<j)-1),nt(b,b.u+d[m].g),d[m].value}function mi(d,m,b){return b.g+=d.g,b.value+=d.value<<m>>>0,t(8>=b.g),d.g}function Dn(d,m,b){var C=d.xc;return t((m=C==0?0:d.vc[d.md*(b>>C)+(m>>C)])<d.Wb),d.Ya[m]}function Xo(d,m,b,C){var j=d.ab,U=d.c*m,z=d.C;m=z+m;var W=b,$=C;for(C=d.Ta,b=d.Ua;0<j--;){var Q=d.gc[j],st=z,gt=m,J=W,lt=$,dt=($=C,W=b,Q.Ea);switch(t(st<gt),t(gt<=Q.nc),Q.hc){case 2:si(J,lt,(gt-st)*dt,$,W);break;case 0:var bt=st,pt=gt,St=$,Tt=W,Rt=(Xt=Q).Ea;bt==0&&(wf(J,lt,null,null,1,St,Tt),de(J,lt+1,0,0,Rt-1,St,Tt+1),lt+=Rt,Tt+=Rt,++bt);for(var It=1<<Xt.b,ie=It-1,Ht=Ct(Rt,Xt.b),Ne=Xt.K,Xt=Xt.w+(bt>>Xt.b)*Ht;bt<pt;){var We=Ne,Si=Xt,Le=1;for(Cc(J,lt,St,Tt-Rt,1,St,Tt);Le<Rt;){var Qt=(Le&~ie)+It;Qt>Rt&&(Qt=Rt),(0,xf[We[Si++]>>8&15])(J,lt+ +Le,St,Tt+Le-Rt,Qt-Le,St,Tt+Le),Le=Qt}lt+=Rt,Tt+=Rt,++bt&ie||(Xt+=Ht)}gt!=Q.nc&&i($,W-dt,$,W+(gt-st-1)*dt,dt);break;case 1:for(dt=J,pt=lt,Rt=(J=Q.Ea)-(Tt=J&~(St=(lt=1<<Q.b)-1)),bt=Ct(J,Q.b),It=Q.K,Q=Q.w+(st>>Q.b)*bt;st<gt;){for(ie=It,Ht=Q,Ne=new ae,Xt=pt+Tt,We=pt+J;pt<Xt;)Gt(ie[Ht++],Ne),Sf(Ne,dt,pt,lt,$,W),pt+=lt,W+=lt;pt<We&&(Gt(ie[Ht++],Ne),Sf(Ne,dt,pt,Rt,$,W),pt+=Rt,W+=Rt),++st&St||(Q+=bt)}break;case 3:if(J==$&&lt==W&&0<Q.b){for(pt=$,J=dt=W+(gt-st)*dt-(Tt=(gt-st)*Ct(Q.Ea,Q.b)),lt=$,St=W,bt=[],Tt=(Rt=Tt)-1;0<=Tt;--Tt)bt[Tt]=lt[St+Tt];for(Tt=Rt-1;0<=Tt;--Tt)pt[J+Tt]=bt[Tt];Qp(Q,st,gt,$,dt,$,W)}else Qp(Q,st,gt,J,lt,$,W)}W=C,$=b}$!=b&&i(C,b,W,$,U)}function _o(d,m){var b=d.V,C=d.Ba+d.c*d.C,j=m-d.C;if(t(m<=d.l.o),t(16>=j),0<j){var U=d.l,z=d.Ta,W=d.Ua,$=U.width;if(Xo(d,j,b,C),j=W=[W],t((b=d.C)<(C=m)),t(U.v<U.va),C>U.o&&(C=U.o),b<U.j){var Q=U.j-b;b=U.j,j[0]+=Q*$}if(b>=C?b=0:(j[0]+=4*U.v,U.ka=b-U.j,U.U=U.va-U.v,U.T=C-b,b=1),b){if(W=W[0],11>(b=d.ca).S){var st=b.f.RGBA,gt=(C=b.S,j=U.U,U=U.T,Q=st.eb,st.A),J=U;for(st=st.fb+d.Ma*st.A;0<J--;){var lt=z,dt=W,bt=j,pt=Q,St=st;switch(C){case tg:Af(lt,dt,bt,pt,St);break;case eg:rl(lt,dt,bt,pt,St);break;case oy:rl(lt,dt,bt,pt,St),kf(pt,St,0,bt,1,0);break;case Tx:bu(lt,dt,bt,pt,St);break;case ng:se(lt,dt,bt,pt,St,1);break;case ay:se(lt,dt,bt,pt,St,1),kf(pt,St,0,bt,1,0);break;case ig:se(lt,dt,bt,pt,St,0);break;case rg:se(lt,dt,bt,pt,St,0),kf(pt,St,1,bt,1,0);break;case sy:sl(lt,dt,bt,pt,St);break;case ly:sl(lt,dt,bt,pt,St),yx(pt,St,bt,1,0);break;case kx:ol(lt,dt,bt,pt,St);break;default:t(0)}W+=$,st+=gt}d.Ma+=U}else alert("todo:EmitRescaledRowsYUVA");t(d.Ma<=b.height)}}d.C=m,t(d.C<=d.i)}function er(d){var m;if(0<d.ua)return 0;for(m=0;m<d.Wb;++m){var b=d.Ya[m].G,C=d.Ya[m].H;if(0<b[1][C[1]+0].g||0<b[2][C[2]+0].g||0<b[3][C[3]+0].g)return 0}return 1}function Gr(d,m,b,C,j,U){if(d.Z!=0){var z=d.qd,W=d.rd;for(t(ul[d.Z]!=null);m<b;++m)ul[d.Z](z,W,C,j,C,j,U),z=C,W=j,j+=U;d.qd=z,d.rd=W}}function xr(d,m){var b=d.l.ma,C=b.Z==0||b.Z==1?d.l.j:d.C;if(C=d.C<C?C:d.C,t(m<=d.l.o),m>C){var j=d.l.width,U=b.ca,z=b.tb+j*C,W=d.V,$=d.Ba+d.c*C,Q=d.gc;t(d.ab==1),t(Q[0].hc==3),Io(Q[0],C,m,W,$,U,z),Gr(b,C,m,U,z,j)}d.C=d.Ma=m}function nr(d,m,b,C,j,U,z){var W=d.$/C,$=d.$%C,Q=d.m,st=d.s,gt=b+d.$,J=gt;j=b+C*j;var lt=b+C*U,dt=280+st.ua,bt=d.Pb?W:16777216,pt=0<st.ua?st.Wa:null,St=st.wc,Tt=gt<lt?Dn(st,$,W):null;t(d.C<U),t(lt<=j);var Rt=!1;t:for(;;){for(;Rt||gt<lt;){var It=0;if(W>=bt){var ie=gt-b;t((bt=d).Pb),bt.wd=bt.m,bt.xd=ie,0<bt.s.ua&&jt(bt.s.Wa,bt.s.vb),bt=W+DM}if($&St||(Tt=Dn(st,$,W)),t(Tt!=null),Tt.Qb&&(m[gt]=Tt.qb,Rt=!0),!Rt)if(ft(Q),Tt.jc){It=Q,ie=m;var Ht=gt,Ne=Tt.pd[et(It)&wu-1];t(Tt.jc),256>Ne.g?(nt(It,It.u+Ne.g),ie[Ht]=Ne.value,It=0):(nt(It,It.u+Ne.g-256),t(256<=Ne.value),It=Ne.value),It==0&&(Rt=!0)}else It=Mn(Tt.G[0],Tt.H[0],Q);if(Q.h)break;if(Rt||256>It){if(!Rt)if(Tt.nd)m[gt]=(Tt.qb|It<<8)>>>0;else{if(ft(Q),Rt=Mn(Tt.G[1],Tt.H[1],Q),ft(Q),ie=Mn(Tt.G[2],Tt.H[2],Q),Ht=Mn(Tt.G[3],Tt.H[3],Q),Q.h)break;m[gt]=(Ht<<24|Rt<<16|It<<8|ie)>>>0}if(Rt=!1,++gt,++$>=C&&($=0,++W,z!=null&&W<=U&&!(W%16)&&z(d,W),pt!=null))for(;J<gt;)It=m[J++],pt.X[(506832829*It&4294967295)>>>pt.Mb]=It}else if(280>It){if(It=Ni(It-256,Q),ie=Mn(Tt.G[4],Tt.H[4],Q),ft(Q),ie=Li(C,ie=Ni(ie,Q)),Q.h)break;if(gt-b<ie||j-gt<It)break t;for(Ht=0;Ht<It;++Ht)m[gt+Ht]=m[gt+Ht-ie];for(gt+=It,$+=It;$>=C;)$-=C,++W,z!=null&&W<=U&&!(W%16)&&z(d,W);if(t(gt<=j),$&St&&(Tt=Dn(st,$,W)),pt!=null)for(;J<gt;)It=m[J++],pt.X[(506832829*It&4294967295)>>>pt.Mb]=It}else{if(!(It<dt))break t;for(Rt=It-280,t(pt!=null);J<gt;)It=m[J++],pt.X[(506832829*It&4294967295)>>>pt.Mb]=It;It=gt,t(!(Rt>>>(ie=pt).Xa)),m[It]=ie.X[Rt],Rt=!0}Rt||t(Q.h==Z(Q))}if(d.Pb&&Q.h&&gt<j)t(d.m.h),d.a=5,d.m=d.wd,d.$=d.xd,0<d.s.ua&&jt(d.s.vb,d.s.Wa);else{if(Q.h)break t;z!=null&&z(d,W>U?U:W),d.a=0,d.$=gt-b}return 1}return d.a=3,0}function ri(d){t(d!=null),d.vc=null,d.yc=null,d.Ya=null;var m=d.Wa;m!=null&&(m.X=null),d.vb=null,t(d!=null)}function wo(){var d=new pe;return d==null?null:(d.a=0,d.xb=Ix,sn("Predictor","VP8LPredictors"),sn("Predictor","VP8LPredictors_C"),sn("PredictorAdd","VP8LPredictorsAdd"),sn("PredictorAdd","VP8LPredictorsAdd_C"),si=Ce,Sf=xe,Af=yn,rl=je,sl=Pe,ol=Te,bu=Sn,E.VP8LMapColor32b=Po,E.VP8LMapColor8b=bf,d)}function Kr(d,m,b,C,j){var U=1,z=[d],W=[m],$=C.m,Q=C.s,st=null,gt=0;t:for(;;){if(b)for(;U&&_t($,1);){var J=z,lt=W,dt=C,bt=1,pt=dt.m,St=dt.gc[dt.ab],Tt=_t(pt,2);if(dt.Oc&1<<Tt)U=0;else{switch(dt.Oc|=1<<Tt,St.hc=Tt,St.Ea=J[0],St.nc=lt[0],St.K=[null],++dt.ab,t(4>=dt.ab),Tt){case 0:case 1:St.b=_t(pt,3)+2,bt=Kr(Ct(St.Ea,St.b),Ct(St.nc,St.b),0,dt,St.K),St.K=St.K[0];break;case 3:var Rt,It=_t(pt,8)+1,ie=16<It?0:4<It?1:2<It?2:3;if(J[0]=Ct(St.Ea,ie),St.b=ie,Rt=bt=Kr(It,1,0,dt,St.K)){var Ht,Ne=It,Xt=St,We=1<<(8>>Xt.b),Si=s(We);if(Si==null)Rt=0;else{var Le=Xt.K[0],Qt=Xt.w;for(Si[0]=Xt.K[0][0],Ht=1;Ht<1*Ne;++Ht)Si[Ht]=re(Le[Qt+Ht],Si[Ht-1]);for(;Ht<4*We;++Ht)Si[Ht]=0;Xt.K[0]=null,Xt.K[0]=Si,Rt=1}}bt=Rt;break;case 2:break;default:t(0)}U=bt}}if(z=z[0],W=W[0],U&&_t($,1)&&!(U=1<=(gt=_t($,4))&&11>=gt)){C.a=3;break t}var Ft;if(Ft=U)e:{var ai,ke,$e,Pn=C,zi=z,Tr=W,Qn=gt,rr=b,kr=Pn.m,Ai=Pn.s,Ye=[null],cn=1,Jn=0,hn=MM[Qn];n:for(;;){if(rr&&_t(kr,1)){var Wi=_t(kr,3)+2,Zs=Ct(zi,Wi),li=Ct(Tr,Wi),Fr=Zs*li;if(!Kr(Zs,li,0,Pn,Ye))break n;for(Ye=Ye[0],Ai.xc=Wi,ai=0;ai<Fr;++ai){var wn=Ye[ai]>>8&65535;Ye[ai]=wn,wn>=cn&&(cn=wn+1)}}if(kr.h)break n;for(ke=0;5>ke;++ke){var Ti=Ex[ke];!ke&&0<Qn&&(Ti+=1<<Qn),Jn<Ti&&(Jn=Ti)}var es=o(cn*hn,M),Er=cn,ns=o(Er,rt);if(ns==null)var is=null;else t(65536>=Er),is=ns;var jr=s(Jn);if(is==null||jr==null||es==null){Pn.a=1;break n}var rs=es;for(ai=$e=0;ai<cn;++ai){var Tn=is[ai],ss=Tn.G,to=Tn.H,Su=0,la=1,qi=0;for(ke=0;5>ke;++ke){Ti=Ex[ke],ss[ke]=rs,to[ke]=$e,!ke&&0<Qn&&(Ti+=1<<Qn);r:{var lg,fy=Ti,ug=Pn,If=jr,eD=rs,nD=$e,dy=0,cl=ug.m,iD=_t(cl,1);if(r(If,0,0,fy),iD){var rD=_t(cl,1)+1,sD=_t(cl,1),Fx=_t(cl,sD==0?1:8);If[Fx]=1,rD==2&&(If[Fx=_t(cl,8)]=1);var cg=1}else{var jx=s(19),Vx=_t(cl,4)+4;if(19<Vx){ug.a=3;var hg=0;break r}for(lg=0;lg<Vx;++lg)jx[LM[lg]]=_t(cl,3);var py=void 0,Cf=void 0,Bx=ug,oD=jx,fg=fy,Ux=If,gy=0,hl=Bx.m,zx=8,Wx=o(128,M);i:for(;N(Wx,0,7,oD,19);){if(_t(hl,1)){var aD=2+2*_t(hl,3);if((py=2+_t(hl,aD))>fg)break i}else py=fg;for(Cf=0;Cf<fg&&py--;){ft(hl);var qx=Wx[0+(127&et(hl))];nt(hl,hl.u+qx.g);var Lc=qx.value;if(16>Lc)Ux[Cf++]=Lc,Lc!=0&&(zx=Lc);else{var lD=Lc==16,Hx=Lc-16,uD=CM[Hx],$x=_t(hl,IM[Hx])+uD;if(Cf+$x>fg)break i;for(var cD=lD?zx:0;0<$x--;)Ux[Cf++]=cD}}gy=1;break i}gy||(Bx.a=3),cg=gy}(cg=cg&&!cl.h)&&(dy=N(eD,nD,8,If,fy)),cg&&dy!=0?hg=dy:(ug.a=3,hg=0)}if(hg==0)break n;if(la&&NM[ke]==1&&(la=rs[$e].g==0),Su+=rs[$e].g,$e+=hg,3>=ke){var Nf,my=jr[0];for(Nf=1;Nf<Ti;++Nf)jr[Nf]>my&&(my=jr[Nf]);qi+=my}}if(Tn.nd=la,Tn.Qb=0,la&&(Tn.qb=(ss[3][to[3]+0].value<<24|ss[1][to[1]+0].value<<16|ss[2][to[2]+0].value)>>>0,Su==0&&256>ss[0][to[0]+0].value&&(Tn.Qb=1,Tn.qb+=ss[0][to[0]+0].value<<8)),Tn.jc=!Tn.Qb&&6>qi,Tn.jc){var dg,ua=Tn;for(dg=0;dg<wu;++dg){var fl=dg,dl=ua.pd[fl],pg=ua.G[0][ua.H[0]+fl];256<=pg.value?(dl.g=pg.g+256,dl.value=pg.value):(dl.g=0,dl.value=0,fl>>=mi(pg,8,dl),fl>>=mi(ua.G[1][ua.H[1]+fl],16,dl),fl>>=mi(ua.G[2][ua.H[2]+fl],0,dl),mi(ua.G[3][ua.H[3]+fl],24,dl))}}}Ai.vc=Ye,Ai.Wb=cn,Ai.Ya=is,Ai.yc=es,Ft=1;break e}Ft=0}if(!(U=Ft)){C.a=3;break t}if(0<gt){if(Q.ua=1<<gt,!K(Q.Wa,gt)){C.a=1,U=0;break t}}else Q.ua=0;var yy=C,Gx=z,hD=W,vy=yy.s,_y=vy.xc;if(yy.c=Gx,yy.i=hD,vy.md=Ct(Gx,_y),vy.wc=_y==0?-1:(1<<_y)-1,b){C.xb=zM;break t}if((st=s(z*W))==null){C.a=1,U=0;break t}U=(U=nr(C,st,0,z,W,W,null))&&!$.h;break t}return U?(j!=null?j[0]=st:(t(st==null),t(b)),C.$=0,b||ri(Q)):ri(Q),U}function Ks(d,m){var b=d.c*d.i,C=b+m+16*m;return t(d.c<=m),d.V=s(C),d.V==null?(d.Ta=null,d.Ua=0,d.a=1,0):(d.Ta=d.V,d.Ua=d.Ba+b+m,1)}function bo(d,m){var b=d.C,C=m-b,j=d.V,U=d.Ba+d.c*b;for(t(m<=d.l.o);0<C;){var z=16<C?16:C,W=d.l.ma,$=d.l.width,Q=$*z,st=W.ca,gt=W.tb+$*b,J=d.Ta,lt=d.Ua;Xo(d,z,j,U),_x(J,lt,st,gt,Q),Gr(W,b,b+z,st,gt,$),C-=z,j+=z*d.c,b+=z}t(b==m),d.C=d.Ma=m}function Qo(){this.ub=this.yd=this.td=this.Rb=0}function Jo(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function hf(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function xo(){this.Yb=function(){var d=[];return function m(b,C,j){for(var U=j[C],z=0;z<U&&(b.push(j.length>C+1?[]:0),!(j.length<C+1));z++)m(b[z],C+1,j)}(d,0,[3,11]),d}()}function uu(){this.jb=s(3),this.Wc=a([4,8],xo),this.Xc=a([4,17],xo)}function Ga(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Ri(){this.ld=this.La=this.dd=this.tc=0}function Yr(){this.Na=this.la=0}function Ka(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function cu(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function hu(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ri),this.Y=0,this.ya=Array(new cu),this.aa=0,this.l=new So}function fu(){this.y=s(16),this.f=s(8),this.ea=s(8)}function du(){this.cb=this.a=0,this.sc="",this.m=new B,this.Od=new Qo,this.Kc=new Jo,this.ed=new Ga,this.Qa=new hf,this.Ic=this.$c=this.Aa=0,this.D=new hu,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,B),this.ia=0,this.pb=o(4,Ka),this.Pa=new uu,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new fu),this.Hd=0,this.rb=Array(new Yr),this.sb=0,this.wa=Array(new Ri),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new cu),this.L=this.aa=0,this.gd=a([4,2],Ri),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Mr(d,m){return 0>d?0:d>m?m:d}function So(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function xc(){var d=new du;return d!=null&&(d.a=0,d.sc="OK",d.cb=0,d.Xb=0,Ef||(Ef=Zo)),d}function Vn(d,m,b){return d.a==0&&(d.a=m,d.sc=b,d.cb=0),0}function Sc(d,m,b){return 3<=b&&d[m+0]==157&&d[m+1]==1&&d[m+2]==42}function ws(d,m){if(d==null)return 0;if(d.a=0,d.sc="OK",m==null)return Vn(d,2,"null VP8Io passed to VP8GetHeaders()");var b=m.data,C=m.w,j=m.ha;if(4>j)return Vn(d,7,"Truncated header.");var U=b[C+0]|b[C+1]<<8|b[C+2]<<16,z=d.Od;if(z.Rb=!(1&U),z.td=U>>1&7,z.yd=U>>4&1,z.ub=U>>5,3<z.td)return Vn(d,3,"Incorrect keyframe parameters.");if(!z.yd)return Vn(d,4,"Frame not displayable.");C+=3,j-=3;var W=d.Kc;if(z.Rb){if(7>j)return Vn(d,7,"cannot parse picture header");if(!Sc(b,C,j))return Vn(d,3,"Bad code word");W.c=16383&(b[C+4]<<8|b[C+3]),W.Td=b[C+4]>>6,W.i=16383&(b[C+6]<<8|b[C+5]),W.Ud=b[C+6]>>6,C+=7,j-=7,d.za=W.c+15>>4,d.Ub=W.i+15>>4,m.width=W.c,m.height=W.i,m.Da=0,m.j=0,m.v=0,m.va=m.width,m.o=m.height,m.da=0,m.ib=m.width,m.hb=m.height,m.U=m.width,m.T=m.height,r((U=d.Pa).jb,0,255,U.jb.length),t((U=d.Qa)!=null),U.Cb=0,U.Bb=0,U.Fb=1,r(U.Zb,0,0,U.Zb.length),r(U.Lb,0,0,U.Lb)}if(z.ub>j)return Vn(d,7,"bad partition length");ut(U=d.m,b,C,z.ub),C+=z.ub,j-=z.ub,z.Rb&&(W.Ld=wt(U),W.Kd=wt(U)),W=d.Qa;var $,Q=d.Pa;if(t(U!=null),t(W!=null),W.Cb=wt(U),W.Cb){if(W.Bb=wt(U),wt(U)){for(W.Fb=wt(U),$=0;4>$;++$)W.Zb[$]=wt(U)?tt(U,7):0;for($=0;4>$;++$)W.Lb[$]=wt(U)?tt(U,6):0}if(W.Bb)for($=0;3>$;++$)Q.jb[$]=wt(U)?ot(U,8):255}else W.Bb=0;if(U.Ka)return Vn(d,3,"cannot parse segment header");if((W=d.ed).zd=wt(U),W.Tb=ot(U,6),W.wb=ot(U,3),W.Pc=wt(U),W.Pc&&wt(U)){for(Q=0;4>Q;++Q)wt(U)&&(W.vd[Q]=tt(U,6));for(Q=0;4>Q;++Q)wt(U)&&(W.od[Q]=tt(U,6))}if(d.L=W.Tb==0?0:W.zd?1:2,U.Ka)return Vn(d,3,"cannot parse filter header");var st=j;if(j=$=C,C=$+st,W=st,d.Xb=(1<<ot(d.m,2))-1,st<3*(Q=d.Xb))b=7;else{for($+=3*Q,W-=3*Q,st=0;st<Q;++st){var gt=b[j+0]|b[j+1]<<8|b[j+2]<<16;gt>W&&(gt=W),ut(d.Jc[+st],b,$,gt),$+=gt,W-=gt,j+=3}ut(d.Jc[+Q],b,$,W),b=$<C?0:5}if(b!=0)return Vn(d,b,"cannot parse partitions");for(b=ot($=d.m,7),j=wt($)?tt($,4):0,C=wt($)?tt($,4):0,W=wt($)?tt($,4):0,Q=wt($)?tt($,4):0,$=wt($)?tt($,4):0,st=d.Qa,gt=0;4>gt;++gt){if(st.Cb){var J=st.Zb[gt];st.Fb||(J+=b)}else{if(0<gt){d.pb[gt]=d.pb[0];continue}J=b}var lt=d.pb[gt];lt.Sc[0]=uy[Mr(J+j,127)],lt.Sc[1]=cy[Mr(J+0,127)],lt.Eb[0]=2*uy[Mr(J+C,127)],lt.Eb[1]=101581*cy[Mr(J+W,127)]>>16,8>lt.Eb[1]&&(lt.Eb[1]=8),lt.Qc[0]=uy[Mr(J+Q,117)],lt.Qc[1]=cy[Mr(J+$,127)],lt.lc=J+$}if(!z.Rb)return Vn(d,4,"Not a key frame.");for(wt(U),z=d.Pa,b=0;4>b;++b){for(j=0;8>j;++j)for(C=0;3>C;++C)for(W=0;11>W;++W)Q=At(U,BM[b][j][C][W])?ot(U,8):jM[b][j][C][W],z.Wc[b][j].Yb[C][W]=Q;for(j=0;17>j;++j)z.Xc[b][j]=z.Wc[b][UM[j]]}return d.kc=wt(U),d.kc&&(d.Bd=ot(U,8)),d.cb=1}function Zo(d,m,b,C,j,U,z){var W=m[j].Yb[b];for(b=0;16>j;++j){if(!At(d,W[b+0]))return j;for(;!At(d,W[b+1]);)if(W=m[++j].Yb[0],b=0,j==16)return 16;var $=m[j+1].Yb;if(At(d,W[b+2])){var Q=d,st=0;if(At(Q,(J=W)[(gt=b)+3]))if(At(Q,J[gt+6])){for(W=0,gt=2*(st=At(Q,J[gt+8]))+(J=At(Q,J[gt+9+st])),st=0,J=OM[gt];J[W];++W)st+=st+At(Q,J[W]);st+=3+(8<<gt)}else At(Q,J[gt+7])?(st=7+2*At(Q,165),st+=At(Q,145)):st=5+At(Q,159);else st=At(Q,J[gt+4])?3+At(Q,J[gt+5]):2;W=$[2]}else st=1,W=$[1];$=z+FM[j],0>(Q=d).b&&yt(Q);var gt,J=Q.b,lt=(gt=Q.Ca>>1)-(Q.I>>J)>>31;--Q.b,Q.Ca+=lt,Q.Ca|=1,Q.I-=(gt+1&lt)<<J,U[$]=((st^lt)-lt)*C[(0<j)+0]}return 16}function pu(d){var m=d.rb[d.sb-1];m.la=0,m.Na=0,r(d.zc,0,0,d.zc.length),d.ja=0}function Dr(d,m,b,C,j){j=d[m+b+32*C]+(j>>3),d[m+b+32*C]=-256&j?0>j?0:255:j}function vn(d,m,b,C,j,U){Dr(d,m,0,b,C+j),Dr(d,m,1,b,C+U),Dr(d,m,2,b,C-U),Dr(d,m,3,b,C-j)}function bi(d){return(20091*d>>16)+d}function ta(d,m,b,C){var j,U=0,z=s(16);for(j=0;4>j;++j){var W=d[m+0]+d[m+8],$=d[m+0]-d[m+8],Q=(35468*d[m+4]>>16)-bi(d[m+12]),st=bi(d[m+4])+(35468*d[m+12]>>16);z[U+0]=W+st,z[U+1]=$+Q,z[U+2]=$-Q,z[U+3]=W-st,U+=4,m++}for(j=U=0;4>j;++j)W=(d=z[U+0]+4)+z[U+8],$=d-z[U+8],Q=(35468*z[U+4]>>16)-bi(z[U+12]),Dr(b,C,0,0,W+(st=bi(z[U+4])+(35468*z[U+12]>>16))),Dr(b,C,1,0,$+Q),Dr(b,C,2,0,$-Q),Dr(b,C,3,0,W-st),U++,C+=32}function Ya(d,m,b,C){var j=d[m+0]+4,U=35468*d[m+4]>>16,z=bi(d[m+4]),W=35468*d[m+1]>>16;vn(b,C,0,j+z,d=bi(d[m+1]),W),vn(b,C,1,j+U,d,W),vn(b,C,2,j-U,d,W),vn(b,C,3,j-z,d,W)}function Ac(d,m,b,C,j){ta(d,m,b,C),j&&ta(d,m+16,b,C+4)}function Ve(d,m,b,C){xu(d,m+0,b,C,1),xu(d,m+32,b,C+128,1)}function ea(d,m,b,C){var j;for(d=d[m+0]+4,j=0;4>j;++j)for(m=0;4>m;++m)Dr(b,C,m,j,d)}function Ao(d,m,b,C){d[m+0]&&an(d,m+0,b,C),d[m+16]&&an(d,m+16,b,C+4),d[m+32]&&an(d,m+32,b,C+128),d[m+48]&&an(d,m+48,b,C+128+4)}function bs(d,m,b,C){var j,U=s(16);for(j=0;4>j;++j){var z=d[m+0+j]+d[m+12+j],W=d[m+4+j]+d[m+8+j],$=d[m+4+j]-d[m+8+j],Q=d[m+0+j]-d[m+12+j];U[0+j]=z+W,U[8+j]=z-W,U[4+j]=Q+$,U[12+j]=Q-$}for(j=0;4>j;++j)z=(d=U[0+4*j]+3)+U[3+4*j],W=U[1+4*j]+U[2+4*j],$=U[1+4*j]-U[2+4*j],Q=d-U[3+4*j],b[C+0]=z+W>>3,b[C+16]=Q+$>>3,b[C+32]=z-W>>3,b[C+48]=Q-$>>3,C+=64}function na(d,m,b){var C,j=m-32,U=ts,z=255-d[j-1];for(C=0;C<b;++C){var W,$=U,Q=z+d[m-1];for(W=0;W<b;++W)d[m+W]=$[Q+d[j+W]];m+=32}}function Tc(d,m){na(d,m,4)}function ff(d,m){na(d,m,8)}function df(d,m){na(d,m,16)}function gu(d,m){var b;for(b=0;16>b;++b)i(d,m+32*b,d,m-32,16)}function kc(d,m){var b;for(b=16;0<b;--b)r(d,m,d[m-1],16),m+=32}function Bi(d,m,b){var C;for(C=0;16>C;++C)r(m,b+32*C,d,16)}function xs(d,m){var b,C=16;for(b=0;16>b;++b)C+=d[m-1+32*b]+d[m+b-32];Bi(C>>5,d,m)}function To(d,m){var b,C=8;for(b=0;16>b;++b)C+=d[m-1+32*b];Bi(C>>4,d,m)}function Xa(d,m){var b,C=8;for(b=0;16>b;++b)C+=d[m+b-32];Bi(C>>4,d,m)}function Ec(d,m){Bi(128,d,m)}function fe(d,m,b){return d+2*m+b+2>>2}function pf(d,m){var b,C=m-32;for(C=new Uint8Array([fe(d[C-1],d[C+0],d[C+1]),fe(d[C+0],d[C+1],d[C+2]),fe(d[C+1],d[C+2],d[C+3]),fe(d[C+2],d[C+3],d[C+4])]),b=0;4>b;++b)i(d,m+32*b,C,0,C.length)}function gf(d,m){var b=d[m-1],C=d[m-1+32],j=d[m-1+64],U=d[m-1+96];Lt(d,m+0,16843009*fe(d[m-1-32],b,C)),Lt(d,m+32,16843009*fe(b,C,j)),Lt(d,m+64,16843009*fe(C,j,U)),Lt(d,m+96,16843009*fe(j,U,U))}function mf(d,m){var b,C=4;for(b=0;4>b;++b)C+=d[m+b-32]+d[m-1+32*b];for(C>>=3,b=0;4>b;++b)r(d,m+32*b,C,4)}function Mi(d,m){var b=d[m-1+0],C=d[m-1+32],j=d[m-1+64],U=d[m-1-32],z=d[m+0-32],W=d[m+1-32],$=d[m+2-32],Q=d[m+3-32];d[m+0+96]=fe(C,j,d[m-1+96]),d[m+1+96]=d[m+0+64]=fe(b,C,j),d[m+2+96]=d[m+1+64]=d[m+0+32]=fe(U,b,C),d[m+3+96]=d[m+2+64]=d[m+1+32]=d[m+0+0]=fe(z,U,b),d[m+3+64]=d[m+2+32]=d[m+1+0]=fe(W,z,U),d[m+3+32]=d[m+2+0]=fe($,W,z),d[m+3+0]=fe(Q,$,W)}function Ys(d,m){var b=d[m+1-32],C=d[m+2-32],j=d[m+3-32],U=d[m+4-32],z=d[m+5-32],W=d[m+6-32],$=d[m+7-32];d[m+0+0]=fe(d[m+0-32],b,C),d[m+1+0]=d[m+0+32]=fe(b,C,j),d[m+2+0]=d[m+1+32]=d[m+0+64]=fe(C,j,U),d[m+3+0]=d[m+2+32]=d[m+1+64]=d[m+0+96]=fe(j,U,z),d[m+3+32]=d[m+2+64]=d[m+1+96]=fe(U,z,W),d[m+3+64]=d[m+2+96]=fe(z,W,$),d[m+3+96]=fe(W,$,$)}function yf(d,m){var b=d[m-1+0],C=d[m-1+32],j=d[m-1+64],U=d[m-1-32],z=d[m+0-32],W=d[m+1-32],$=d[m+2-32],Q=d[m+3-32];d[m+0+0]=d[m+1+64]=U+z+1>>1,d[m+1+0]=d[m+2+64]=z+W+1>>1,d[m+2+0]=d[m+3+64]=W+$+1>>1,d[m+3+0]=$+Q+1>>1,d[m+0+96]=fe(j,C,b),d[m+0+64]=fe(C,b,U),d[m+0+32]=d[m+1+96]=fe(b,U,z),d[m+1+32]=d[m+2+96]=fe(U,z,W),d[m+2+32]=d[m+3+96]=fe(z,W,$),d[m+3+32]=fe(W,$,Q)}function Qa(d,m){var b=d[m+0-32],C=d[m+1-32],j=d[m+2-32],U=d[m+3-32],z=d[m+4-32],W=d[m+5-32],$=d[m+6-32],Q=d[m+7-32];d[m+0+0]=b+C+1>>1,d[m+1+0]=d[m+0+64]=C+j+1>>1,d[m+2+0]=d[m+1+64]=j+U+1>>1,d[m+3+0]=d[m+2+64]=U+z+1>>1,d[m+0+32]=fe(b,C,j),d[m+1+32]=d[m+0+96]=fe(C,j,U),d[m+2+32]=d[m+1+96]=fe(j,U,z),d[m+3+32]=d[m+2+96]=fe(U,z,W),d[m+3+64]=fe(z,W,$),d[m+3+96]=fe(W,$,Q)}function Xs(d,m){var b=d[m-1+0],C=d[m-1+32],j=d[m-1+64],U=d[m-1+96];d[m+0+0]=b+C+1>>1,d[m+2+0]=d[m+0+32]=C+j+1>>1,d[m+2+32]=d[m+0+64]=j+U+1>>1,d[m+1+0]=fe(b,C,j),d[m+3+0]=d[m+1+32]=fe(C,j,U),d[m+3+32]=d[m+1+64]=fe(j,U,U),d[m+3+64]=d[m+2+64]=d[m+0+96]=d[m+1+96]=d[m+2+96]=d[m+3+96]=U}function Ja(d,m){var b=d[m-1+0],C=d[m-1+32],j=d[m-1+64],U=d[m-1+96],z=d[m-1-32],W=d[m+0-32],$=d[m+1-32],Q=d[m+2-32];d[m+0+0]=d[m+2+32]=b+z+1>>1,d[m+0+32]=d[m+2+64]=C+b+1>>1,d[m+0+64]=d[m+2+96]=j+C+1>>1,d[m+0+96]=U+j+1>>1,d[m+3+0]=fe(W,$,Q),d[m+2+0]=fe(z,W,$),d[m+1+0]=d[m+3+32]=fe(b,z,W),d[m+1+32]=d[m+3+64]=fe(C,b,z),d[m+1+64]=d[m+3+96]=fe(j,C,b),d[m+1+96]=fe(U,j,C)}function Xr(d,m){var b;for(b=0;8>b;++b)i(d,m+32*b,d,m-32,8)}function ia(d,m){var b;for(b=0;8>b;++b)r(d,m,d[m-1],8),m+=32}function Ss(d,m,b){var C;for(C=0;8>C;++C)r(m,b+32*C,d,8)}function mu(d,m){var b,C=8;for(b=0;8>b;++b)C+=d[m+b-32]+d[m-1+32*b];Ss(C>>4,d,m)}function mn(d,m){var b,C=4;for(b=0;8>b;++b)C+=d[m+b-32];Ss(C>>3,d,m)}function yu(d,m){var b,C=4;for(b=0;8>b;++b)C+=d[m-1+32*b];Ss(C>>3,d,m)}function Pc(d,m){Ss(128,d,m)}function As(d,m,b){var C=d[m-b],j=d[m+0],U=3*(j-C)+ry[1020+d[m-2*b]-d[m+b]],z=Zp[112+(U+4>>3)];d[m-b]=ts[255+C+Zp[112+(U+3>>3)]],d[m+0]=ts[255+j-z]}function Za(d,m,b,C){var j=d[m+0],U=d[m+b];return Cs[255+d[m-2*b]-d[m-b]]>C||Cs[255+U-j]>C}function ra(d,m,b,C){return 4*Cs[255+d[m-b]-d[m+0]]+Cs[255+d[m-2*b]-d[m+b]]<=C}function ko(d,m,b,C,j){var U=d[m-3*b],z=d[m-2*b],W=d[m-b],$=d[m+0],Q=d[m+b],st=d[m+2*b],gt=d[m+3*b];return 4*Cs[255+W-$]+Cs[255+z-Q]>C?0:Cs[255+d[m-4*b]-U]<=j&&Cs[255+U-z]<=j&&Cs[255+z-W]<=j&&Cs[255+gt-st]<=j&&Cs[255+st-Q]<=j&&Cs[255+Q-$]<=j}function Eo(d,m,b,C){var j=2*C+1;for(C=0;16>C;++C)ra(d,m+C,b,j)&&As(d,m+C,b)}function Sr(d,m,b,C){var j=2*C+1;for(C=0;16>C;++C)ra(d,m+C*b,1,j)&&As(d,m+C*b,1)}function vu(d,m,b,C){var j;for(j=3;0<j;--j)Eo(d,m+=4*b,b,C)}function Ic(d,m,b,C){var j;for(j=3;0<j;--j)Sr(d,m+=4,b,C)}function Ar(d,m,b,C,j,U,z,W){for(U=2*U+1;0<j--;){if(ko(d,m,b,U,z))if(Za(d,m,b,W))As(d,m,b);else{var $=d,Q=m,st=b,gt=$[Q-2*st],J=$[Q-st],lt=$[Q+0],dt=$[Q+st],bt=$[Q+2*st],pt=27*(Tt=ry[1020+3*(lt-J)+ry[1020+gt-dt]])+63>>7,St=18*Tt+63>>7,Tt=9*Tt+63>>7;$[Q-3*st]=ts[255+$[Q-3*st]+Tt],$[Q-2*st]=ts[255+gt+St],$[Q-st]=ts[255+J+pt],$[Q+0]=ts[255+lt-pt],$[Q+st]=ts[255+dt-St],$[Q+2*st]=ts[255+bt-Tt]}m+=C}}function Ts(d,m,b,C,j,U,z,W){for(U=2*U+1;0<j--;){if(ko(d,m,b,U,z))if(Za(d,m,b,W))As(d,m,b);else{var $=d,Q=m,st=b,gt=$[Q-st],J=$[Q+0],lt=$[Q+st],dt=Zp[112+(4+(bt=3*(J-gt))>>3)],bt=Zp[112+(bt+3>>3)],pt=dt+1>>1;$[Q-2*st]=ts[255+$[Q-2*st]+pt],$[Q-st]=ts[255+gt+bt],$[Q+0]=ts[255+J-dt],$[Q+st]=ts[255+lt-pt]}m+=C}}function tl(d,m,b,C,j,U){Ar(d,m,b,1,16,C,j,U)}function ks(d,m,b,C,j,U){Ar(d,m,1,b,16,C,j,U)}function _u(d,m,b,C,j,U){var z;for(z=3;0<z;--z)Ts(d,m+=4*b,b,1,16,C,j,U)}function w(d,m,b,C,j,U){var z;for(z=3;0<z;--z)Ts(d,m+=4,1,b,16,C,j,U)}function O(d,m,b,C,j,U,z,W){Ar(d,m,j,1,8,U,z,W),Ar(b,C,j,1,8,U,z,W)}function X(d,m,b,C,j,U,z,W){Ar(d,m,1,j,8,U,z,W),Ar(b,C,1,j,8,U,z,W)}function it(d,m,b,C,j,U,z,W){Ts(d,m+4*j,j,1,8,U,z,W),Ts(b,C+4*j,j,1,8,U,z,W)}function ct(d,m,b,C,j,U,z,W){Ts(d,m+4,1,j,8,U,z,W),Ts(b,C+4,1,j,8,U,z,W)}function xt(){this.ba=new Ie,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new De,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Pt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Wt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Kt(){this.ua=0,this.Wa=new Ee,this.vb=new Ee,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new rt,this.yc=new M}function pe(){this.xb=this.a=0,this.l=new So,this.ca=new Ie,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new Y,this.Pb=0,this.wd=new Y,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Kt,this.ab=0,this.gc=o(4,Wt),this.Oc=0}function Se(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new So,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Be(d,m,b,C,j,U,z){for(d=d==null?0:d[m+0],m=0;m<z;++m)j[U+m]=d+b[C+m]&255,d=j[U+m]}function rn(d,m,b,C,j,U,z){var W;if(d==null)Be(null,null,b,C,j,U,z);else for(W=0;W<z;++W)j[U+W]=d[m+W]+b[C+W]&255}function Bn(d,m,b,C,j,U,z){if(d==null)Be(null,null,b,C,j,U,z);else{var W,$=d[m+0],Q=$,st=$;for(W=0;W<z;++W)Q=st+($=d[m+W])-Q,st=b[C+W]+(-256&Q?0>Q?0:255:Q)&255,Q=$,j[U+W]=st}}function un(d,m,b,C){var j=m.width,U=m.o;if(t(d!=null&&m!=null),0>b||0>=C||b+C>U)return null;if(!d.Cc){if(d.ga==null){var z;if(d.ga=new Se,(z=d.ga==null)||(z=m.width*m.o,t(d.Gb.length==0),d.Gb=s(z),d.Uc=0,d.Gb==null?z=0:(d.mb=d.Gb,d.nb=d.Uc,d.rc=null,z=1),z=!z),!z){z=d.ga;var W=d.Fa,$=d.P,Q=d.qc,st=d.mb,gt=d.nb,J=$+1,lt=Q-1,dt=z.l;if(t(W!=null&&st!=null&&m!=null),ul[0]=null,ul[1]=Be,ul[2]=rn,ul[3]=Bn,z.ca=st,z.tb=gt,z.c=m.width,z.i=m.height,t(0<z.c&&0<z.i),1>=Q)m=0;else if(z.$a=3&W[$+0],z.Z=W[$+0]>>2&3,z.Lc=W[$+0]>>4&3,$=W[$+0]>>6&3,0>z.$a||1<z.$a||4<=z.Z||1<z.Lc||$)m=0;else if(dt.put=ce,dt.ac=tr,dt.bc=En,dt.ma=z,dt.width=m.width,dt.height=m.height,dt.Da=m.Da,dt.v=m.v,dt.va=m.va,dt.j=m.j,dt.o=m.o,z.$a)t:{t(z.$a==1),m=wo();e:for(;;){if(m==null){m=0;break t}if(t(z!=null),z.mc=m,m.c=z.c,m.i=z.i,m.l=z.l,m.l.ma=z,m.l.width=z.c,m.l.height=z.i,m.a=0,at(m.m,W,J,lt),!Kr(z.c,z.i,1,m,null)||(m.ab==1&&m.gc[0].hc==3&&er(m.s)?(z.ic=1,W=m.c*m.i,m.Ta=null,m.Ua=0,m.V=s(W),m.Ba=0,m.V==null?(m.a=1,m=0):m=1):(z.ic=0,m=Ks(m,z.c)),!m))break e;m=1;break t}z.mc=null,m=0}else m=lt>=z.c*z.i;z=!m}if(z)return null;d.ga.Lc!=1?d.Ga=0:C=U-b}t(d.ga!=null),t(b+C<=U);t:{if(m=(W=d.ga).c,U=W.l.o,W.$a==0){if(J=d.rc,lt=d.Vc,dt=d.Fa,$=d.P+1+b*m,Q=d.mb,st=d.nb+b*m,t($<=d.P+d.qc),W.Z!=0)for(t(ul[W.Z]!=null),z=0;z<C;++z)ul[W.Z](J,lt,dt,$,Q,st,m),J=Q,lt=st,st+=m,$+=m;else for(z=0;z<C;++z)i(Q,st,dt,$,m),J=Q,lt=st,st+=m,$+=m;d.rc=J,d.Vc=lt}else{if(t(W.mc!=null),m=b+C,t((z=W.mc)!=null),t(m<=z.i),z.C>=m)m=1;else if(W.ic||Or(),W.ic){W=z.V,J=z.Ba,lt=z.c;var bt=z.i,pt=(dt=1,$=z.$/lt,Q=z.$%lt,st=z.m,gt=z.s,z.$),St=lt*bt,Tt=lt*m,Rt=gt.wc,It=pt<Tt?Dn(gt,Q,$):null;t(pt<=St),t(m<=bt),t(er(gt));e:for(;;){for(;!st.h&&pt<Tt;){if(Q&Rt||(It=Dn(gt,Q,$)),t(It!=null),ft(st),256>(bt=Mn(It.G[0],It.H[0],st)))W[J+pt]=bt,++pt,++Q>=lt&&(Q=0,++$<=m&&!($%16)&&xr(z,$));else{if(!(280>bt)){dt=0;break e}bt=Ni(bt-256,st);var ie,Ht=Mn(It.G[4],It.H[4],st);if(ft(st),!(pt>=(Ht=Li(lt,Ht=Ni(Ht,st)))&&St-pt>=bt)){dt=0;break e}for(ie=0;ie<bt;++ie)W[J+pt+ie]=W[J+pt+ie-Ht];for(pt+=bt,Q+=bt;Q>=lt;)Q-=lt,++$<=m&&!($%16)&&xr(z,$);pt<Tt&&Q&Rt&&(It=Dn(gt,Q,$))}t(st.h==Z(st))}xr(z,$>m?m:$);break e}!dt||st.h&&pt<St?(dt=0,z.a=st.h?5:3):z.$=pt,m=dt}else m=nr(z,z.V,z.Ba,z.c,z.i,m,bo);if(!m){C=0;break t}}b+C>=U&&(d.Cc=1),C=1}if(!C)return null;if(d.Cc&&((C=d.ga)!=null&&(C.mc=null),d.ga=null,0<d.Ga))return alert("todo:WebPDequantizeLevels"),null}return d.nb+b*j}function Yn(d,m,b,C,j,U){for(;0<j--;){var z,W=d,$=m+(b?1:0),Q=d,st=m+(b?0:3);for(z=0;z<C;++z){var gt=Q[st+4*z];gt!=255&&(gt*=32897,W[$+4*z+0]=W[$+4*z+0]*gt>>23,W[$+4*z+1]=W[$+4*z+1]*gt>>23,W[$+4*z+2]=W[$+4*z+2]*gt>>23)}m+=U}}function Un(d,m,b,C,j){for(;0<C--;){var U;for(U=0;U<b;++U){var z=d[m+2*U+0],W=15&(Q=d[m+2*U+1]),$=4369*W,Q=(240&Q|Q>>4)*$>>16;d[m+2*U+0]=(240&z|z>>4)*$>>16&240|(15&z|z<<4)*$>>16>>4&15,d[m+2*U+1]=240&Q|W}m+=j}}function Xn(d,m,b,C,j,U,z,W){var $,Q,st=255;for(Q=0;Q<j;++Q){for($=0;$<C;++$){var gt=d[m+$];U[z+4*$]=gt,st&=gt}m+=b,z+=W}return st!=255}function zn(d,m,b,C,j){var U;for(U=0;U<j;++U)b[C+U]=d[m+U]>>8}function Or(){kf=Yn,yx=Un,vx=Xn,_x=zn}function Es(d,m,b){E[d]=function(C,j,U,z,W,$,Q,st,gt,J,lt,dt,bt,pt,St,Tt,Rt){var It,ie=Rt-1>>1,Ht=W[$+0]|Q[st+0]<<16,Ne=gt[J+0]|lt[dt+0]<<16;t(C!=null);var Xt=3*Ht+Ne+131074>>2;for(m(C[j+0],255&Xt,Xt>>16,bt,pt),U!=null&&(Xt=3*Ne+Ht+131074>>2,m(U[z+0],255&Xt,Xt>>16,St,Tt)),It=1;It<=ie;++It){var We=W[$+It]|Q[st+It]<<16,Si=gt[J+It]|lt[dt+It]<<16,Le=Ht+We+Ne+Si+524296,Qt=Le+2*(We+Ne)>>3;Xt=Qt+Ht>>1,Ht=(Le=Le+2*(Ht+Si)>>3)+We>>1,m(C[j+2*It-1],255&Xt,Xt>>16,bt,pt+(2*It-1)*b),m(C[j+2*It-0],255&Ht,Ht>>16,bt,pt+(2*It-0)*b),U!=null&&(Xt=Le+Ne>>1,Ht=Qt+Si>>1,m(U[z+2*It-1],255&Xt,Xt>>16,St,Tt+(2*It-1)*b),m(U[z+2*It+0],255&Ht,Ht>>16,St,Tt+(2*It+0)*b)),Ht=We,Ne=Si}1&Rt||(Xt=3*Ht+Ne+131074>>2,m(C[j+Rt-1],255&Xt,Xt>>16,bt,pt+(Rt-1)*b),U!=null&&(Xt=3*Ne+Ht+131074>>2,m(U[z+Rt-1],255&Xt,Xt>>16,St,Tt+(Rt-1)*b)))}}function Ps(){Ns[tg]=WM,Ns[eg]=Cx,Ns[Tx]=qM,Ns[ng]=Nx,Ns[ig]=Lx,Ns[sy]=Rx,Ns[kx]=HM,Ns[oy]=Cx,Ns[ay]=Nx,Ns[rg]=Lx,Ns[ly]=Rx}function g(d){return d&-16384?0>d?0:255:d>>$M}function S(d,m){return g((19077*d>>8)+(26149*m>>8)-14234)}function L(d,m,b){return g((19077*d>>8)-(6419*m>>8)-(13320*b>>8)+8708)}function q(d,m){return g((19077*d>>8)+(33050*m>>8)-17685)}function ht(d,m,b,C,j){C[j+0]=S(d,b),C[j+1]=L(d,m,b),C[j+2]=q(d,m)}function mt(d,m,b,C,j){C[j+0]=q(d,m),C[j+1]=L(d,m,b),C[j+2]=S(d,b)}function Ot(d,m,b,C,j){var U=L(d,m,b);m=U<<3&224|q(d,m)>>3,C[j+0]=248&S(d,b)|U>>5,C[j+1]=m}function ze(d,m,b,C,j){var U=240&q(d,m)|15;C[j+0]=240&S(d,b)|L(d,m,b)>>4,C[j+1]=U}function Wn(d,m,b,C,j){C[j+0]=255,ht(d,m,b,C,j+1)}function Oe(d,m,b,C,j){mt(d,m,b,C,j),C[j+3]=255}function tn(d,m,b,C,j){ht(d,m,b,C,j),C[j+3]=255}function An(d,m,b){E[d]=function(C,j,U,z,W,$,Q,st,gt){for(var J=st+(-2&gt)*b;st!=J;)m(C[j+0],U[z+0],W[$+0],Q,st),m(C[j+1],U[z+0],W[$+0],Q,st+b),j+=2,++z,++$,st+=2*b;1&gt&&m(C[j+0],U[z+0],W[$+0],Q,st)}}function Qr(d,m,b){return b==0?d==0?m==0?6:5:m==0?4:0:b}function ir(d,m,b,C,j){switch(d>>>30){case 3:xu(m,b,C,j,0);break;case 2:Is(m,b,C,j);break;case 1:an(m,b,C,j)}}function Ui(d,m){var b,C,j=m.M,U=m.Nb,z=d.oc,W=d.pc+40,$=d.oc,Q=d.pc+584,st=d.oc,gt=d.pc+600;for(b=0;16>b;++b)z[W+32*b-1]=129;for(b=0;8>b;++b)$[Q+32*b-1]=129,st[gt+32*b-1]=129;for(0<j?z[W-1-32]=$[Q-1-32]=st[gt-1-32]=129:(r(z,W-32-1,127,21),r($,Q-32-1,127,9),r(st,gt-32-1,127,9)),C=0;C<d.za;++C){var J=m.ya[m.aa+C];if(0<C){for(b=-1;16>b;++b)i(z,W+32*b-4,z,W+32*b+12,4);for(b=-1;8>b;++b)i($,Q+32*b-4,$,Q+32*b+4,4),i(st,gt+32*b-4,st,gt+32*b+4,4)}var lt=d.Gd,dt=d.Hd+C,bt=J.ad,pt=J.Hc;if(0<j&&(i(z,W-32,lt[dt].y,0,16),i($,Q-32,lt[dt].f,0,8),i(st,gt-32,lt[dt].ea,0,8)),J.Za){var St=z,Tt=W-32+16;for(0<j&&(C>=d.za-1?r(St,Tt,lt[dt].y[15],4):i(St,Tt,lt[dt+1].y,0,4)),b=0;4>b;b++)St[Tt+128+b]=St[Tt+256+b]=St[Tt+384+b]=St[Tt+0+b];for(b=0;16>b;++b,pt<<=2)St=z,Tt=W+Dx[b],Js[J.Ob[b]](St,Tt),ir(pt,bt,16*+b,St,Tt)}else if(St=Qr(C,j,J.Ob[0]),ll[St](z,W),pt!=0)for(b=0;16>b;++b,pt<<=2)ir(pt,bt,16*+b,z,W+Dx[b]);for(b=J.Gc,St=Qr(C,j,J.Dd),aa[St]($,Q),aa[St](st,gt),pt=bt,St=$,Tt=Q,255&(J=0|b)&&(170&J?Co(pt,256,St,Tt):_n(pt,256,St,Tt)),J=st,pt=gt,255&(b>>=8)&&(170&b?Co(bt,320,J,pt):_n(bt,320,J,pt)),j<d.Ub-1&&(i(lt[dt].y,0,z,W+480,16),i(lt[dt].f,0,$,Q+224,8),i(lt[dt].ea,0,st,gt+224,8)),b=8*U*d.B,lt=d.sa,dt=d.ta+16*C+16*U*d.R,bt=d.qa,J=d.ra+8*C+b,pt=d.Ha,St=d.Ia+8*C+b,b=0;16>b;++b)i(lt,dt+b*d.R,z,W+32*b,16);for(b=0;8>b;++b)i(bt,J+b*d.B,$,Q+32*b,8),i(pt,St+b*d.B,st,gt+32*b,8)}}function Qs(d,m,b,C,j,U,z,W,$){var Q=[0],st=[0],gt=0,J=$!=null?$.kd:0,lt=$??new Pt;if(d==null||12>b)return 7;lt.data=d,lt.w=m,lt.ha=b,m=[m],b=[b],lt.gb=[lt.gb];t:{var dt=m,bt=b,pt=lt.gb;if(t(d!=null),t(bt!=null),t(pt!=null),pt[0]=0,12<=bt[0]&&!n(d,dt[0],"RIFF")){if(n(d,dt[0]+8,"WEBP")){pt=3;break t}var St=Zt(d,dt[0]+4);if(12>St||4294967286<St){pt=3;break t}if(J&&St>bt[0]-8){pt=7;break t}pt[0]=St,dt[0]+=12,bt[0]-=12}pt=0}if(pt!=0)return pt;for(St=0<lt.gb[0],b=b[0];;){t:{var Tt=d;bt=m,pt=b;var Rt=Q,It=st,ie=dt=[0];if((Xt=gt=[gt])[0]=0,8>pt[0])pt=7;else{if(!n(Tt,bt[0],"VP8X")){if(Zt(Tt,bt[0]+4)!=10){pt=3;break t}if(18>pt[0]){pt=7;break t}var Ht=Zt(Tt,bt[0]+8),Ne=1+Vt(Tt,bt[0]+12);if(2147483648<=Ne*(Tt=1+Vt(Tt,bt[0]+15))){pt=3;break t}ie!=null&&(ie[0]=Ht),Rt!=null&&(Rt[0]=Ne),It!=null&&(It[0]=Tt),bt[0]+=18,pt[0]-=18,Xt[0]=1}pt=0}}if(gt=gt[0],dt=dt[0],pt!=0)return pt;if(bt=!!(2&dt),!St&&gt)return 3;if(U!=null&&(U[0]=!!(16&dt)),z!=null&&(z[0]=bt),W!=null&&(W[0]=0),z=Q[0],dt=st[0],gt&&bt&&$==null){pt=0;break}if(4>b){pt=7;break}if(St&&gt||!St&&!gt&&!n(d,m[0],"ALPH")){b=[b],lt.na=[lt.na],lt.P=[lt.P],lt.Sa=[lt.Sa];t:{Ht=d,pt=m,St=b;var Xt=lt.gb;Rt=lt.na,It=lt.P,ie=lt.Sa,Ne=22,t(Ht!=null),t(St!=null),Tt=pt[0];var We=St[0];for(t(Rt!=null),t(ie!=null),Rt[0]=null,It[0]=null,ie[0]=0;;){if(pt[0]=Tt,St[0]=We,8>We){pt=7;break t}var Si=Zt(Ht,Tt+4);if(4294967286<Si){pt=3;break t}var Le=8+Si+1&-2;if(Ne+=Le,0<Xt&&Ne>Xt){pt=3;break t}if(!n(Ht,Tt,"VP8 ")||!n(Ht,Tt,"VP8L")){pt=0;break t}if(We[0]<Le){pt=7;break t}n(Ht,Tt,"ALPH")||(Rt[0]=Ht,It[0]=Tt+8,ie[0]=Si),Tt+=Le,We-=Le}}if(b=b[0],lt.na=lt.na[0],lt.P=lt.P[0],lt.Sa=lt.Sa[0],pt!=0)break}b=[b],lt.Ja=[lt.Ja],lt.xa=[lt.xa];t:if(Xt=d,pt=m,St=b,Rt=lt.gb[0],It=lt.Ja,ie=lt.xa,Ht=pt[0],Tt=!n(Xt,Ht,"VP8 "),Ne=!n(Xt,Ht,"VP8L"),t(Xt!=null),t(St!=null),t(It!=null),t(ie!=null),8>St[0])pt=7;else{if(Tt||Ne){if(Xt=Zt(Xt,Ht+4),12<=Rt&&Xt>Rt-12){pt=3;break t}if(J&&Xt>St[0]-8){pt=7;break t}It[0]=Xt,pt[0]+=8,St[0]-=8,ie[0]=Ne}else ie[0]=5<=St[0]&&Xt[Ht+0]==47&&!(Xt[Ht+4]>>5),It[0]=St[0];pt=0}if(b=b[0],lt.Ja=lt.Ja[0],lt.xa=lt.xa[0],m=m[0],pt!=0)break;if(4294967286<lt.Ja)return 3;if(W==null||bt||(W[0]=lt.xa?2:1),z=[z],dt=[dt],lt.xa){if(5>b){pt=7;break}W=z,J=dt,bt=U,d==null||5>b?d=0:5<=b&&d[m+0]==47&&!(d[m+4]>>5)?(St=[0],Xt=[0],Rt=[0],at(It=new Y,d,m,b),_s(It,St,Xt,Rt)?(W!=null&&(W[0]=St[0]),J!=null&&(J[0]=Xt[0]),bt!=null&&(bt[0]=Rt[0]),d=1):d=0):d=0}else{if(10>b){pt=7;break}W=dt,d==null||10>b||!Sc(d,m+3,b-3)?d=0:(J=d[m+0]|d[m+1]<<8|d[m+2]<<16,bt=16383&(d[m+7]<<8|d[m+6]),d=16383&(d[m+9]<<8|d[m+8]),1&J||3<(J>>1&7)||!(J>>4&1)||J>>5>=lt.Ja||!bt||!d?d=0:(z&&(z[0]=bt),W&&(W[0]=d),d=1))}if(!d||(z=z[0],dt=dt[0],gt&&(Q[0]!=z||st[0]!=dt)))return 3;$!=null&&($[0]=lt,$.offset=m-$.w,t(4294967286>m-$.w),t($.offset==$.ha-b));break}return pt==0||pt==7&&gt&&$==null?(U!=null&&(U[0]|=lt.na!=null&&0<lt.na.length),C!=null&&(C[0]=z),j!=null&&(j[0]=dt),0):pt}function vf(d,m,b){var C=m.width,j=m.height,U=0,z=0,W=C,$=j;if(m.Da=d!=null&&0<d.Da,m.Da&&(W=d.cd,$=d.bd,U=d.v,z=d.j,11>b||(U&=-2,z&=-2),0>U||0>z||0>=W||0>=$||U+W>C||z+$>j))return 0;if(m.v=U,m.j=z,m.va=U+W,m.o=z+$,m.U=W,m.T=$,m.da=d!=null&&0<d.da,m.da){if(!ue(W,$,b=[d.ib],U=[d.hb]))return 0;m.ib=b[0],m.hb=U[0]}return m.ob=d!=null&&d.ob,m.Kb=d==null||!d.Sd,m.da&&(m.ob=m.ib<3*C/4&&m.hb<3*j/4,m.Kb=0),1}function _f(d){if(d==null)return 2;if(11>d.S){var m=d.f.RGBA;m.fb+=(d.height-1)*m.A,m.A=-m.A}else m=d.f.kb,d=d.height,m.O+=(d-1)*m.fa,m.fa=-m.fa,m.N+=(d-1>>1)*m.Ab,m.Ab=-m.Ab,m.W+=(d-1>>1)*m.Db,m.Db=-m.Db,m.F!=null&&(m.J+=(d-1)*m.lb,m.lb=-m.lb);return 0}function el(d,m,b,C){if(C==null||0>=d||0>=m)return 2;if(b!=null){if(b.Da){var j=b.cd,U=b.bd,z=-2&b.v,W=-2&b.j;if(0>z||0>W||0>=j||0>=U||z+j>d||W+U>m)return 2;d=j,m=U}if(b.da){if(!ue(d,m,j=[b.ib],U=[b.hb]))return 2;d=j[0],m=U[0]}}C.width=d,C.height=m;t:{var $=C.width,Q=C.height;if(d=C.S,0>=$||0>=Q||!(d>=tg&&13>d))d=2;else{if(0>=C.Rd&&C.sd==null){z=U=j=m=0;var st=(W=$*Ox[d])*Q;if(11>d||(U=(Q+1)/2*(m=($+1)/2),d==12&&(z=(j=$)*Q)),(Q=s(st+2*U+z))==null){d=1;break t}C.sd=Q,11>d?(($=C.f.RGBA).eb=Q,$.fb=0,$.A=W,$.size=st):(($=C.f.kb).y=Q,$.O=0,$.fa=W,$.Fd=st,$.f=Q,$.N=0+st,$.Ab=m,$.Cd=U,$.ea=Q,$.W=0+st+U,$.Db=m,$.Ed=U,d==12&&($.F=Q,$.J=0+st+2*U),$.Tc=z,$.lb=j)}if(m=1,j=C.S,U=C.width,z=C.height,j>=tg&&13>j)if(11>j)d=C.f.RGBA,m&=(W=Math.abs(d.A))*(z-1)+U<=d.size,m&=W>=U*Ox[j],m&=d.eb!=null;else{d=C.f.kb,W=(U+1)/2,st=(z+1)/2,$=Math.abs(d.fa),Q=Math.abs(d.Ab);var gt=Math.abs(d.Db),J=Math.abs(d.lb),lt=J*(z-1)+U;m&=$*(z-1)+U<=d.Fd,m&=Q*(st-1)+W<=d.Cd,m=(m&=gt*(st-1)+W<=d.Ed)&$>=U&Q>=W&gt>=W,m&=d.y!=null,m&=d.f!=null,m&=d.ea!=null,j==12&&(m&=J>=U,m&=lt<=d.Tc,m&=d.F!=null)}else m=0;d=m?0:2}}return d!=0||b!=null&&b.fd&&(d=_f(C)),d}var wu=64,Jr=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Zr=24,nl=32,sa=8,il=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];zt("Predictor0","PredictorAdd0"),E.Predictor0=function(){return 4278190080},E.Predictor1=function(d){return d},E.Predictor2=function(d,m,b){return m[b+0]},E.Predictor3=function(d,m,b){return m[b+1]},E.Predictor4=function(d,m,b){return m[b-1]},E.Predictor5=function(d,m,b){return ne(ne(d,m[b+1]),m[b+0])},E.Predictor6=function(d,m,b){return ne(d,m[b-1])},E.Predictor7=function(d,m,b){return ne(d,m[b+0])},E.Predictor8=function(d,m,b){return ne(m[b-1],m[b+0])},E.Predictor9=function(d,m,b){return ne(m[b+0],m[b+1])},E.Predictor10=function(d,m,b){return ne(ne(d,m[b-1]),ne(m[b+0],m[b+1]))},E.Predictor11=function(d,m,b){var C=m[b+0];return 0>=Jt(C>>24&255,d>>24&255,(m=m[b-1])>>24&255)+Jt(C>>16&255,d>>16&255,m>>16&255)+Jt(C>>8&255,d>>8&255,m>>8&255)+Jt(255&C,255&d,255&m)?C:d},E.Predictor12=function(d,m,b){var C=m[b+0];return(He((d>>24&255)+(C>>24&255)-((m=m[b-1])>>24&255))<<24|He((d>>16&255)+(C>>16&255)-(m>>16&255))<<16|He((d>>8&255)+(C>>8&255)-(m>>8&255))<<8|He((255&d)+(255&C)-(255&m)))>>>0},E.Predictor13=function(d,m,b){var C=m[b-1];return(Re((d=ne(d,m[b+0]))>>24&255,C>>24&255)<<24|Re(d>>16&255,C>>16&255)<<16|Re(d>>8&255,C>>8&255)<<8|Re(255&d,255&C))>>>0};var wf=E.PredictorAdd0;E.PredictorAdd1=de,zt("Predictor2","PredictorAdd2"),zt("Predictor3","PredictorAdd3"),zt("Predictor4","PredictorAdd4"),zt("Predictor5","PredictorAdd5"),zt("Predictor6","PredictorAdd6"),zt("Predictor7","PredictorAdd7"),zt("Predictor8","PredictorAdd8"),zt("Predictor9","PredictorAdd9"),zt("Predictor10","PredictorAdd10"),zt("Predictor11","PredictorAdd11"),zt("Predictor12","PredictorAdd12"),zt("Predictor13","PredictorAdd13");var Cc=E.PredictorAdd2;te("ColorIndexInverseTransform","MapARGB","32b",function(d){return d>>8&255},function(d){return d}),te("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(d){return d},function(d){return d>>8&255});var si,Qp=E.ColorIndexInverseTransform,Po=E.MapARGB,Io=E.VP8LColorIndexInverseTransformAlpha,bf=E.MapAlpha,xf=E.VP8LPredictorsAdd=[];xf.length=16,(E.VP8LPredictors=[]).length=16,(E.VP8LPredictorsAdd_C=[]).length=16,(E.VP8LPredictors_C=[]).length=16;var Sf,Af,rl,sl,ol,bu,al,xu,Is,Co,an,_n,oi,xi,oa,Tf,Nc,Jp,hx,fx,dx,px,gx,mx,kf,yx,vx,_x,wx=s(511),bx=s(2041),xx=s(225),Sx=s(767),Ax=0,ry=bx,Zp=xx,ts=Sx,Cs=wx,tg=0,eg=1,Tx=2,ng=3,ig=4,sy=5,kx=6,oy=7,ay=8,rg=9,ly=10,IM=[2,3,7],CM=[3,3,11],Ex=[280,256,256,256,40],NM=[0,1,1,1,0],LM=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],RM=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],MM=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],DM=8,uy=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],cy=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Ef=null,OM=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],FM=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Px=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],jM=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],VM=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],BM=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],UM=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ll=[],Js=[],aa=[],zM=1,Ix=2,ul=[],Ns=[];Es("UpsampleRgbLinePair",ht,3),Es("UpsampleBgrLinePair",mt,3),Es("UpsampleRgbaLinePair",tn,4),Es("UpsampleBgraLinePair",Oe,4),Es("UpsampleArgbLinePair",Wn,4),Es("UpsampleRgba4444LinePair",ze,2),Es("UpsampleRgb565LinePair",Ot,2);var WM=E.UpsampleRgbLinePair,qM=E.UpsampleBgrLinePair,Cx=E.UpsampleRgbaLinePair,Nx=E.UpsampleBgraLinePair,Lx=E.UpsampleArgbLinePair,Rx=E.UpsampleRgba4444LinePair,HM=E.UpsampleRgb565LinePair,sg=16,og=1<<sg-1,Pf=-227,hy=482,$M=6,Mx=0,GM=s(256),KM=s(256),YM=s(256),XM=s(256),QM=s(hy-Pf),JM=s(hy-Pf);An("YuvToRgbRow",ht,3),An("YuvToBgrRow",mt,3),An("YuvToRgbaRow",tn,4),An("YuvToBgraRow",Oe,4),An("YuvToArgbRow",Wn,4),An("YuvToRgba4444Row",ze,2),An("YuvToRgb565Row",Ot,2);var Dx=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],ag=[0,2,8],ZM=[8,7,6,4,4,2,2,2,1,1,1,1],tD=1;this.WebPDecodeRGBA=function(d,m,b,C,j){var U=eg,z=new xt,W=new Ie;z.ba=W,W.S=U,W.width=[W.width],W.height=[W.height];var $=W.width,Q=W.height,st=new le;if(st==null||d==null)var gt=2;else t(st!=null),gt=Qs(d,m,b,st.width,st.height,st.Pd,st.Qd,st.format,null);if(gt!=0?$=0:($!=null&&($[0]=st.width[0]),Q!=null&&(Q[0]=st.height[0]),$=1),$){W.width=W.width[0],W.height=W.height[0],C!=null&&(C[0]=W.width),j!=null&&(j[0]=W.height);t:{if(C=new So,(j=new Pt).data=d,j.w=m,j.ha=b,j.kd=1,m=[0],t(j!=null),((d=Qs(j.data,j.w,j.ha,null,null,null,m,null,j))==0||d==7)&&m[0]&&(d=4),(m=d)==0){if(t(z!=null),C.data=j.data,C.w=j.w+j.offset,C.ha=j.ha-j.offset,C.put=ce,C.ac=tr,C.bc=En,C.ma=z,j.xa){if((d=wo())==null){z=1;break t}if(function(J,lt){var dt=[0],bt=[0],pt=[0];e:for(;;){if(J==null)return 0;if(lt==null)return J.a=2,0;if(J.l=lt,J.a=0,at(J.m,lt.data,lt.w,lt.ha),!_s(J.m,dt,bt,pt)){J.a=3;break e}if(J.xb=Ix,lt.width=dt[0],lt.height=bt[0],!Kr(dt[0],bt[0],1,J,null))break e;return 1}return t(J.a!=0),0}(d,C)){if(C=(m=el(C.width,C.height,z.Oa,z.ba))==0){e:{C=d;n:for(;;){if(C==null){C=0;break e}if(t(C.s.yc!=null),t(C.s.Ya!=null),t(0<C.s.Wb),t((b=C.l)!=null),t((j=b.ma)!=null),C.xb!=0){if(C.ca=j.ba,C.tb=j.tb,t(C.ca!=null),!vf(j.Oa,b,ng)){C.a=2;break n}if(!Ks(C,b.width)||b.da)break n;if((b.da||he(C.ca.S))&&Or(),11>C.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),C.ca.f.kb.F!=null&&Or()),C.Pb&&0<C.s.ua&&C.s.vb.X==null&&!K(C.s.vb,C.s.Wa.Xa)){C.a=1;break n}C.xb=0}if(!nr(C,C.V,C.Ba,C.c,C.i,b.o,_o))break n;j.Dc=C.Ma,C=1;break e}t(C.a!=0),C=0}C=!C}C&&(m=d.a)}else m=d.a}else{if((d=new xc)==null){z=1;break t}if(d.Fa=j.na,d.P=j.P,d.qc=j.Sa,ws(d,C)){if((m=el(C.width,C.height,z.Oa,z.ba))==0){if(d.Aa=0,b=z.Oa,t((j=d)!=null),b!=null){if(0<($=0>($=b.Md)?0:100<$?255:255*$/100)){for(Q=st=0;4>Q;++Q)12>(gt=j.pb[Q]).lc&&(gt.ia=$*ZM[0>gt.lc?0:gt.lc]>>3),st|=gt.ia;st&&(alert("todo:VP8InitRandom"),j.ia=1)}j.Ga=b.Id,100<j.Ga?j.Ga=100:0>j.Ga&&(j.Ga=0)}(function(J,lt){if(J==null)return 0;if(lt==null)return Vn(J,2,"NULL VP8Io parameter in VP8Decode().");if(!J.cb&&!ws(J,lt))return 0;if(t(J.cb),lt.ac==null||lt.ac(lt)){lt.ob&&(J.L=0);var dt=ag[J.L];if(J.L==2?(J.yb=0,J.zb=0):(J.yb=lt.v-dt>>4,J.zb=lt.j-dt>>4,0>J.yb&&(J.yb=0),0>J.zb&&(J.zb=0)),J.Va=lt.o+15+dt>>4,J.Hb=lt.va+15+dt>>4,J.Hb>J.za&&(J.Hb=J.za),J.Va>J.Ub&&(J.Va=J.Ub),0<J.L){var bt=J.ed;for(dt=0;4>dt;++dt){var pt;if(J.Qa.Cb){var St=J.Qa.Lb[dt];J.Qa.Fb||(St+=bt.Tb)}else St=bt.Tb;for(pt=0;1>=pt;++pt){var Tt=J.gd[dt][pt],Rt=St;if(bt.Pc&&(Rt+=bt.vd[0],pt&&(Rt+=bt.od[0])),0<(Rt=0>Rt?0:63<Rt?63:Rt)){var It=Rt;0<bt.wb&&(It=4<bt.wb?It>>2:It>>1)>9-bt.wb&&(It=9-bt.wb),1>It&&(It=1),Tt.dd=It,Tt.tc=2*Rt+It,Tt.ld=40<=Rt?2:15<=Rt?1:0}else Tt.tc=0;Tt.La=pt}}}dt=0}else Vn(J,6,"Frame setup failed"),dt=J.a;if(dt=dt==0){if(dt){J.$c=0,0<J.Aa||(J.Ic=tD);e:{dt=J.Ic,bt=4*(It=J.za);var ie=32*It,Ht=It+1,Ne=0<J.L?It*(0<J.Aa?2:1):0,Xt=(J.Aa==2?2:1)*It;if((Tt=bt+832+(pt=3*(16*dt+ag[J.L])/2*ie)+(St=J.Fa!=null&&0<J.Fa.length?J.Kc.c*J.Kc.i:0))!=Tt)dt=0;else{if(Tt>J.Vb){if(J.Vb=0,J.Ec=s(Tt),J.Fc=0,J.Ec==null){dt=Vn(J,1,"no memory during frame initialization.");break e}J.Vb=Tt}Tt=J.Ec,Rt=J.Fc,J.Ac=Tt,J.Bc=Rt,Rt+=bt,J.Gd=o(ie,fu),J.Hd=0,J.rb=o(Ht+1,Yr),J.sb=1,J.wa=Ne?o(Ne,Ri):null,J.Y=0,J.D.Nb=0,J.D.wa=J.wa,J.D.Y=J.Y,0<J.Aa&&(J.D.Y+=It),t(!0),J.oc=Tt,J.pc=Rt,Rt+=832,J.ya=o(Xt,cu),J.aa=0,J.D.ya=J.ya,J.D.aa=J.aa,J.Aa==2&&(J.D.aa+=It),J.R=16*It,J.B=8*It,It=(ie=ag[J.L])*J.R,ie=ie/2*J.B,J.sa=Tt,J.ta=Rt+It,J.qa=J.sa,J.ra=J.ta+16*dt*J.R+ie,J.Ha=J.qa,J.Ia=J.ra+8*dt*J.B+ie,J.$c=0,Rt+=pt,J.mb=St?Tt:null,J.nb=St?Rt:null,t(Rt+St<=J.Fc+J.Vb),pu(J),r(J.Ac,J.Bc,0,bt),dt=1}}if(dt){if(lt.ka=0,lt.y=J.sa,lt.O=J.ta,lt.f=J.qa,lt.N=J.ra,lt.ea=J.Ha,lt.Vd=J.Ia,lt.fa=J.R,lt.Rc=J.B,lt.F=null,lt.J=0,!Ax){for(dt=-255;255>=dt;++dt)wx[255+dt]=0>dt?-dt:dt;for(dt=-1020;1020>=dt;++dt)bx[1020+dt]=-128>dt?-128:127<dt?127:dt;for(dt=-112;112>=dt;++dt)xx[112+dt]=-16>dt?-16:15<dt?15:dt;for(dt=-255;510>=dt;++dt)Sx[255+dt]=0>dt?0:255<dt?255:dt;Ax=1}al=bs,xu=Ac,Co=Ve,an=ea,_n=Ao,Is=Ya,oi=tl,xi=ks,oa=O,Tf=X,Nc=_u,Jp=w,hx=it,fx=ct,dx=Eo,px=Sr,gx=vu,mx=Ic,Js[0]=mf,Js[1]=Tc,Js[2]=pf,Js[3]=gf,Js[4]=Mi,Js[5]=yf,Js[6]=Ys,Js[7]=Qa,Js[8]=Ja,Js[9]=Xs,ll[0]=xs,ll[1]=df,ll[2]=gu,ll[3]=kc,ll[4]=To,ll[5]=Xa,ll[6]=Ec,aa[0]=mu,aa[1]=ff,aa[2]=Xr,aa[3]=ia,aa[4]=yu,aa[5]=mn,aa[6]=Pc,dt=1}else dt=0}dt&&(dt=function(We,Si){for(We.M=0;We.M<We.Va;++We.M){var Le,Qt=We.Jc[We.M&We.Xb],Ft=We.m,ai=We;for(Le=0;Le<ai.za;++Le){var ke=Ft,$e=ai,Pn=$e.Ac,zi=$e.Bc+4*Le,Tr=$e.zc,Qn=$e.ya[$e.aa+Le];if($e.Qa.Bb?Qn.$b=At(ke,$e.Pa.jb[0])?2+At(ke,$e.Pa.jb[2]):At(ke,$e.Pa.jb[1]):Qn.$b=0,$e.kc&&(Qn.Ad=At(ke,$e.Bd)),Qn.Za=!At(ke,145)+0,Qn.Za){var rr=Qn.Ob,kr=0;for($e=0;4>$e;++$e){var Ai,Ye=Tr[0+$e];for(Ai=0;4>Ai;++Ai){Ye=VM[Pn[zi+Ai]][Ye];for(var cn=Px[At(ke,Ye[0])];0<cn;)cn=Px[2*cn+At(ke,Ye[cn])];Ye=-cn,Pn[zi+Ai]=Ye}i(rr,kr,Pn,zi,4),kr+=4,Tr[0+$e]=Ye}}else Ye=At(ke,156)?At(ke,128)?1:3:At(ke,163)?2:0,Qn.Ob[0]=Ye,r(Pn,zi,Ye,4),r(Tr,0,Ye,4);Qn.Dd=At(ke,142)?At(ke,114)?At(ke,183)?1:3:2:0}if(ai.m.Ka)return Vn(We,7,"Premature end-of-partition0 encountered.");for(;We.ja<We.za;++We.ja){if(ai=Qt,ke=(Ft=We).rb[Ft.sb-1],Pn=Ft.rb[Ft.sb+Ft.ja],Le=Ft.ya[Ft.aa+Ft.ja],zi=Ft.kc?Le.Ad:0)ke.la=Pn.la=0,Le.Za||(ke.Na=Pn.Na=0),Le.Hc=0,Le.Gc=0,Le.ia=0;else{var Jn,hn;if(ke=Pn,Pn=ai,zi=Ft.Pa.Xc,Tr=Ft.ya[Ft.aa+Ft.ja],Qn=Ft.pb[Tr.$b],$e=Tr.ad,rr=0,kr=Ft.rb[Ft.sb-1],Ye=Ai=0,r($e,rr,0,384),Tr.Za)var Wi=0,Zs=zi[3];else{cn=s(16);var li=ke.Na+kr.Na;if(li=Ef(Pn,zi[1],li,Qn.Eb,0,cn,0),ke.Na=kr.Na=(0<li)+0,1<li)al(cn,0,$e,rr);else{var Fr=cn[0]+3>>3;for(cn=0;256>cn;cn+=16)$e[rr+cn]=Fr}Wi=1,Zs=zi[0]}var wn=15&ke.la,Ti=15&kr.la;for(cn=0;4>cn;++cn){var es=1&Ti;for(Fr=hn=0;4>Fr;++Fr)wn=wn>>1|(es=(li=Ef(Pn,Zs,li=es+(1&wn),Qn.Sc,Wi,$e,rr))>Wi)<<7,hn=hn<<2|(3<li?3:1<li?2:$e[rr+0]!=0),rr+=16;wn>>=4,Ti=Ti>>1|es<<7,Ai=(Ai<<8|hn)>>>0}for(Zs=wn,Wi=Ti>>4,Jn=0;4>Jn;Jn+=2){for(hn=0,wn=ke.la>>4+Jn,Ti=kr.la>>4+Jn,cn=0;2>cn;++cn){for(es=1&Ti,Fr=0;2>Fr;++Fr)li=es+(1&wn),wn=wn>>1|(es=0<(li=Ef(Pn,zi[2],li,Qn.Qc,0,$e,rr)))<<3,hn=hn<<2|(3<li?3:1<li?2:$e[rr+0]!=0),rr+=16;wn>>=2,Ti=Ti>>1|es<<5}Ye|=hn<<4*Jn,Zs|=wn<<4<<Jn,Wi|=(240&Ti)<<Jn}ke.la=Zs,kr.la=Wi,Tr.Hc=Ai,Tr.Gc=Ye,Tr.ia=43690&Ye?0:Qn.ia,zi=!(Ai|Ye)}if(0<Ft.L&&(Ft.wa[Ft.Y+Ft.ja]=Ft.gd[Le.$b][Le.Za],Ft.wa[Ft.Y+Ft.ja].La|=!zi),ai.Ka)return Vn(We,7,"Premature end-of-file encountered.")}if(pu(We),Ft=Si,ai=1,Le=(Qt=We).D,ke=0<Qt.L&&Qt.M>=Qt.zb&&Qt.M<=Qt.Va,Qt.Aa==0)e:{if(Le.M=Qt.M,Le.uc=ke,Ui(Qt,Le),ai=1,Le=(hn=Qt.D).Nb,ke=(Ye=ag[Qt.L])*Qt.R,Pn=Ye/2*Qt.B,cn=16*Le*Qt.R,Fr=8*Le*Qt.B,zi=Qt.sa,Tr=Qt.ta-ke+cn,Qn=Qt.qa,$e=Qt.ra-Pn+Fr,rr=Qt.Ha,kr=Qt.Ia-Pn+Fr,Ti=(wn=hn.M)==0,Ai=wn>=Qt.Va-1,Qt.Aa==2&&Ui(Qt,hn),hn.uc)for(es=(li=Qt).D.M,t(li.D.uc),hn=li.yb;hn<li.Hb;++hn){Wi=hn,Zs=es;var Er=(ns=(qi=li).D).Nb;Jn=qi.R;var ns=ns.wa[ns.Y+Wi],is=qi.sa,jr=qi.ta+16*Er*Jn+16*Wi,rs=ns.dd,Tn=ns.tc;if(Tn!=0)if(t(3<=Tn),qi.L==1)0<Wi&&px(is,jr,Jn,Tn+4),ns.La&&mx(is,jr,Jn,Tn),0<Zs&&dx(is,jr,Jn,Tn+4),ns.La&&gx(is,jr,Jn,Tn);else{var ss=qi.B,to=qi.qa,Su=qi.ra+8*Er*ss+8*Wi,la=qi.Ha,qi=qi.Ia+8*Er*ss+8*Wi;Er=ns.ld,0<Wi&&(xi(is,jr,Jn,Tn+4,rs,Er),Tf(to,Su,la,qi,ss,Tn+4,rs,Er)),ns.La&&(Jp(is,jr,Jn,Tn,rs,Er),fx(to,Su,la,qi,ss,Tn,rs,Er)),0<Zs&&(oi(is,jr,Jn,Tn+4,rs,Er),oa(to,Su,la,qi,ss,Tn+4,rs,Er)),ns.La&&(Nc(is,jr,Jn,Tn,rs,Er),hx(to,Su,la,qi,ss,Tn,rs,Er))}}if(Qt.ia&&alert("todo:DitherRow"),Ft.put!=null){if(hn=16*wn,wn=16*(wn+1),Ti?(Ft.y=Qt.sa,Ft.O=Qt.ta+cn,Ft.f=Qt.qa,Ft.N=Qt.ra+Fr,Ft.ea=Qt.Ha,Ft.W=Qt.Ia+Fr):(hn-=Ye,Ft.y=zi,Ft.O=Tr,Ft.f=Qn,Ft.N=$e,Ft.ea=rr,Ft.W=kr),Ai||(wn-=Ye),wn>Ft.o&&(wn=Ft.o),Ft.F=null,Ft.J=null,Qt.Fa!=null&&0<Qt.Fa.length&&hn<wn&&(Ft.J=un(Qt,Ft,hn,wn-hn),Ft.F=Qt.mb,Ft.F==null&&Ft.F.length==0)){ai=Vn(Qt,3,"Could not decode alpha data.");break e}hn<Ft.j&&(Ye=Ft.j-hn,hn=Ft.j,t(!(1&Ye)),Ft.O+=Qt.R*Ye,Ft.N+=Qt.B*(Ye>>1),Ft.W+=Qt.B*(Ye>>1),Ft.F!=null&&(Ft.J+=Ft.width*Ye)),hn<wn&&(Ft.O+=Ft.v,Ft.N+=Ft.v>>1,Ft.W+=Ft.v>>1,Ft.F!=null&&(Ft.J+=Ft.v),Ft.ka=hn-Ft.j,Ft.U=Ft.va-Ft.v,Ft.T=wn-hn,ai=Ft.put(Ft))}Le+1!=Qt.Ic||Ai||(i(Qt.sa,Qt.ta-ke,zi,Tr+16*Qt.R,ke),i(Qt.qa,Qt.ra-Pn,Qn,$e+8*Qt.B,Pn),i(Qt.Ha,Qt.Ia-Pn,rr,kr+8*Qt.B,Pn))}if(!ai)return Vn(We,6,"Output aborted.")}return 1}(J,lt)),lt.bc!=null&&lt.bc(lt),dt&=1}return dt?(J.cb=0,dt):0})(d,C)||(m=d.a)}}else m=d.a}m==0&&z.Oa!=null&&z.Oa.fd&&(m=_f(z.ba))}z=m}U=z!=0?null:11>U?W.f.RGBA.eb:W.f.kb.y}else U=null;return U};var Ox=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(E,D){for(var k="",N=0;N<4;N++)k+=String.fromCharCode(E[D++]);return k}function c(E,D){return E[D+0]|E[D+1]<<8}function h(E,D){return(E[D+0]|E[D+1]<<8|E[D+2]<<16)>>>0}function p(E,D){return(E[D+0]|E[D+1]<<8|E[D+2]<<16|E[D+3]<<24)>>>0}new l;var f=[0],y=[0],_=[],x=new l,v=e,A=function(E,D){var k={},N=0,M=!1,H=0,rt=0;if(k.frames=[],!function(B,Y){for(var et=0;et<4;et++)if(B[Y+et]!="RIFF".charCodeAt(et))return!0;return!1}(E,D)){for(p(E,D+=4),D+=8;D<E.length;){var ut=u(E,D),ot=p(E,D+=4);D+=4;var tt=ot+(1&ot);switch(ut){case"VP8 ":case"VP8L":k.frames[N]===void 0&&(k.frames[N]={}),(_t=k.frames[N]).src_off=M?rt:D-8,_t.src_size=H+ot+8,N++,M&&(M=!1,H=0,rt=0);break;case"VP8X":(_t=k.header={}).feature_flags=E[D];var at=D+4;_t.canvas_width=1+h(E,at),at+=3,_t.canvas_height=1+h(E,at),at+=3;break;case"ALPH":M=!0,H=tt+8,rt=D-8;break;case"ANIM":(_t=k.header).bgcolor=p(E,D),at=D+4,_t.loop_count=c(E,at),at+=2;break;case"ANMF":var vt,_t;(_t=k.frames[N]={}).offset_x=2*h(E,D),D+=3,_t.offset_y=2*h(E,D),D+=3,_t.width=1+h(E,D),D+=3,_t.height=1+h(E,D),D+=3,_t.duration=h(E,D),D+=3,vt=E[D++],_t.dispose=1&vt,_t.blend=vt>>1&1}ut!="ANMF"&&(D+=tt)}return k}}(v,0);A.response=v,A.rgbaoutput=!0,A.dataurl=!1;var I=A.header?A.header:null,P=A.frames?A.frames:null;if(I){I.loop_counter=I.loop_count,f=[I.canvas_height],y=[I.canvas_width];for(var F=0;F<P.length&&P[F].blend!=0;F++);}var G=P[0],R=x.WebPDecodeRGBA(v,G.src_off,G.src_size,y,f);G.rgba=R,G.imgwidth=y[0],G.imgheight=f[0];for(var T=0;T<y[0]*f[0]*4;T++)_[T]=R[T];return this.width=y,this.height=f,this.data=_,this}/** ====================================================================
 * @license
 * jsPDF XMP metadata plugin
 * Copyright (c) 2016 Jussi Utunen, u-jussi@suomi24.fi
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 */function MZ(){var e,t=this.internal.__metadata__.metadata,n=unescape(encodeURIComponent(t));e=this.internal.__metadata__.rawXml?n:'<x:xmpmeta xmlns:x="adobe:ns:meta/"><rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceUri+'"><jspdf:metadata>'+n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")+"</jspdf:metadata></rdf:Description></rdf:RDF></x:xmpmeta>",this.internal.__metadata__.metadataObjectNumber=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+e.length+" >>"),this.internal.write("stream"),this.internal.write(e),this.internal.write("endstream"),this.internal.write("endobj")}function DZ(){this.internal.__metadata__.metadataObjectNumber&&this.internal.write("/Metadata "+this.internal.__metadata__.metadataObjectNumber+" 0 R")}(function(e){var t,n,i,r,s,o,a,l,u,c=function(B){return B=B||{},this.isStrokeTransparent=B.isStrokeTransparent||!1,this.strokeOpacity=B.strokeOpacity||1,this.strokeStyle=B.strokeStyle||"#000000",this.fillStyle=B.fillStyle||"#000000",this.isFillTransparent=B.isFillTransparent||!1,this.fillOpacity=B.fillOpacity||1,this.font=B.font||"10px sans-serif",this.textBaseline=B.textBaseline||"alphabetic",this.textAlign=B.textAlign||"left",this.lineWidth=B.lineWidth||1,this.lineJoin=B.lineJoin||"miter",this.lineCap=B.lineCap||"butt",this.path=B.path||[],this.transform=B.transform!==void 0?B.transform.clone():new l,this.globalCompositeOperation=B.globalCompositeOperation||"normal",this.globalAlpha=B.globalAlpha||1,this.clip_path=B.clip_path||[],this.currentPoint=B.currentPoint||new o,this.miterLimit=B.miterLimit||10,this.lastPoint=B.lastPoint||new o,this.lineDashOffset=B.lineDashOffset||0,this.lineDash=B.lineDash||[],this.margin=B.margin||[0,0,0,0],this.prevPageLastElemOffset=B.prevPageLastElemOffset||0,this.ignoreClearRect=typeof B.ignoreClearRect!="boolean"||B.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new h(this),t=this.internal.f2,n=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,r=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,u=new c}]);var h=function(B){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Y=B;Object.defineProperty(this,"pdf",{get:function(){return Y}});var et=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return et},set:function(K){et=!!K}});var Z=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Z},set:function(K){Z=!!K}});var nt=0;Object.defineProperty(this,"posX",{get:function(){return nt},set:function(K){isNaN(K)||(nt=K)}});var ft=0;Object.defineProperty(this,"posY",{get:function(){return ft},set:function(K){isNaN(K)||(ft=K)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(K){var jt;typeof K=="number"?jt=[K,K,K,K]:((jt=new Array(4))[0]=K[0],jt[1]=K.length>=2?K[1]:jt[0],jt[2]=K.length>=3?K[2]:jt[0],jt[3]=K.length>=4?K[3]:jt[1]),u.margin=jt}});var yt=!1;Object.defineProperty(this,"autoPaging",{get:function(){return yt},set:function(K){yt=K}});var wt=0;Object.defineProperty(this,"lastBreak",{get:function(){return wt},set:function(K){wt=K}});var At=[];Object.defineProperty(this,"pageBreaks",{get:function(){return At},set:function(K){At=K}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(K){K instanceof c&&(u=K)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(K){u.path=K}});var Lt=[];Object.defineProperty(this,"ctxStack",{get:function(){return Lt},set:function(K){Lt=K}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(K){var jt;jt=p(K),this.ctx.fillStyle=jt.style,this.ctx.isFillTransparent=jt.a===0,this.ctx.fillOpacity=jt.a,this.pdf.setFillColor(jt.r,jt.g,jt.b,{a:jt.a}),this.pdf.setTextColor(jt.r,jt.g,jt.b,{a:jt.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(K){var jt=p(K);this.ctx.strokeStyle=jt.style,this.ctx.isStrokeTransparent=jt.a===0,this.ctx.strokeOpacity=jt.a,jt.a===0?this.pdf.setDrawColor(255,255,255):(jt.a,this.pdf.setDrawColor(jt.r,jt.g,jt.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(K){["butt","round","square"].indexOf(K)!==-1&&(this.ctx.lineCap=K,this.pdf.setLineCap(K))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(K){isNaN(K)||(this.ctx.lineWidth=K,this.pdf.setLineWidth(K))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(K){["bevel","round","miter"].indexOf(K)!==-1&&(this.ctx.lineJoin=K,this.pdf.setLineJoin(K))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(K){isNaN(K)||(this.ctx.miterLimit=K,this.pdf.setMiterLimit(K))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(K){this.ctx.textBaseline=K}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(K){["right","end","center","left","start"].indexOf(K)!==-1&&(this.ctx.textAlign=K)}});var Bt=null,Vt=null,Zt=null;Object.defineProperty(this,"fontFaces",{get:function(){return Zt},set:function(K){Bt=null,Vt=null,Zt=K}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(K){var jt;if(this.ctx.font=K,(jt=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(K))!==null){var Ee=jt[1];jt[2];var ue=jt[3],Ct=jt[4];jt[5];var re=jt[6],zt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ct)[2];Ct=Math.floor(zt==="px"?parseFloat(Ct)*this.pdf.internal.scaleFactor:zt==="em"?parseFloat(Ct)*this.pdf.getFontSize():parseFloat(Ct)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ct);var ae=function(te){var yn,je,Pe=[],Te=te.trim();if(Te==="")return Gv;if(Te in qE)return[qE[Te]];for(;Te!=="";){switch(je=null,yn=(Te=$E(Te)).charAt(0)){case'"':case"'":je=PZ(Te.substring(1),yn);break;default:je=IZ(Te)}if(je===null||(Pe.push(je[0]),(Te=$E(je[1]))!==""&&Te.charAt(0)!==","))return Gv;Te=Te.replace(/^,/,"")}return Pe}(re);if(this.fontFaces){var ne=function(te,yn){var je=te.getFontList(),Pe=JSON.stringify(je);if(Bt===null||Vt!==Pe){var Te=function(Sn){var se=[];return Object.keys(Sn).forEach(function(sn){Sn[sn].forEach(function(he){var _e=null;switch(he){case"bold":_e={family:sn,weight:"bold"};break;case"italic":_e={family:sn,style:"italic"};break;case"bolditalic":_e={family:sn,weight:"bold",style:"italic"};break;case"":case"normal":_e={family:sn}}_e!==null&&(_e.ref={name:sn,style:he},se.push(_e))})}),se}(je);Bt=function(Sn){for(var se={},sn=0;sn<Sn.length;++sn){var he=$v(Sn[sn]),_e=he.family,on=he.stretch,Ie=he.style,le=he.weight;se[_e]=se[_e]||{},se[_e][on]=se[_e][on]||{},se[_e][on][Ie]=se[_e][on][Ie]||{},se[_e][on][Ie][le]=he}return se}(Te.concat(yn)),Vt=Pe}return Bt}(this.pdf,this.fontFaces),He=ae.map(function(te){return{family:te,stretch:"normal",weight:ue,style:Ee}}),Re=function(te,yn,je){for(var Pe=(je=je||{}).defaultFontFamily||"times",Te=Object.assign({},EZ,je.genericFontFamilies||{}),Sn=null,se=null,sn=0;sn<yn.length;++sn)if(Te[(Sn=$v(yn[sn])).family]&&(Sn.family=Te[Sn.family]),te.hasOwnProperty(Sn.family)){se=te[Sn.family];break}if(!(se=se||te[Pe]))throw new Error("Could not find a font-family for the rule '"+HE(Sn)+"' and default family '"+Pe+"'.");if(se=function(he,_e){if(_e[he])return _e[he];var on=r_[he],Ie=on<=r_.normal?-1:1,le=WE(_e,lM,on,Ie);if(!le)throw new Error("Could not find a matching font-stretch value for "+he);return le}(Sn.stretch,se),se=function(he,_e){if(_e[he])return _e[he];for(var on=aM[he],Ie=0;Ie<on.length;++Ie)if(_e[on[Ie]])return _e[on[Ie]];throw new Error("Could not find a matching font-style for "+he)}(Sn.style,se),!(se=function(he,_e){if(_e[he])return _e[he];if(he===400&&_e[500])return _e[500];if(he===500&&_e[400])return _e[400];var on=kZ[he],Ie=WE(_e,uM,on,he<400?-1:1);if(!Ie)throw new Error("Could not find a matching font-weight for value "+he);return Ie}(Sn.weight,se)))throw new Error("Failed to resolve a font for the rule '"+HE(Sn)+"'.");return se}(ne,He);this.pdf.setFont(Re.ref.name,Re.ref.style)}else{var Jt="";(ue==="bold"||parseInt(ue,10)>=700||Ee==="bold")&&(Jt="bold"),Ee==="italic"&&(Jt+="italic"),Jt.length===0&&(Jt="normal");for(var de="",Ce={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Gt=0;Gt<ae.length;Gt++){if(this.pdf.internal.getFont(ae[Gt],Jt,{noFallback:!0,disableWarning:!0})!==void 0){de=ae[Gt];break}if(Jt==="bolditalic"&&this.pdf.internal.getFont(ae[Gt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)de=ae[Gt],Jt="bold";else if(this.pdf.internal.getFont(ae[Gt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){de=ae[Gt],Jt="normal";break}}if(de===""){for(var xe=0;xe<ae.length;xe++)if(Ce[ae[xe]]){de=Ce[ae[xe]];break}}de=de===""?"Times":de,this.pdf.setFont(de,Jt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(K){this.ctx.globalCompositeOperation=K}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(K){this.ctx.globalAlpha=K}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(K){this.ctx.lineDashOffset=K,_t.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(K){this.ctx.lineDash=K,_t.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(K){this.ctx.ignoreClearRect=!!K}})};h.prototype.setLineDash=function(B){this.lineDash=B},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){P.call(this,"fill",!1)},h.prototype.stroke=function(){P.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(B,Y){if(isNaN(B)||isNaN(Y))throw bn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var et=this.ctx.transform.applyToPoint(new o(B,Y));this.path.push({type:"mt",x:et.x,y:et.y}),this.ctx.lastPoint=new o(B,Y)},h.prototype.closePath=function(){var B=new o(0,0),Y=0;for(Y=this.path.length-1;Y!==-1;Y--)if(this.path[Y].type==="begin"&&dn(this.path[Y+1])==="object"&&typeof this.path[Y+1].x=="number"){B=new o(this.path[Y+1].x,this.path[Y+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(B.x,B.y)},h.prototype.lineTo=function(B,Y){if(isNaN(B)||isNaN(Y))throw bn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var et=this.ctx.transform.applyToPoint(new o(B,Y));this.path.push({type:"lt",x:et.x,y:et.y}),this.ctx.lastPoint=new o(et.x,et.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),P.call(this,null,!0)},h.prototype.quadraticCurveTo=function(B,Y,et,Z){if(isNaN(et)||isNaN(Z)||isNaN(B)||isNaN(Y))throw bn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var nt=this.ctx.transform.applyToPoint(new o(et,Z)),ft=this.ctx.transform.applyToPoint(new o(B,Y));this.path.push({type:"qct",x1:ft.x,y1:ft.y,x:nt.x,y:nt.y}),this.ctx.lastPoint=new o(nt.x,nt.y)},h.prototype.bezierCurveTo=function(B,Y,et,Z,nt,ft){if(isNaN(nt)||isNaN(ft)||isNaN(B)||isNaN(Y)||isNaN(et)||isNaN(Z))throw bn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var yt=this.ctx.transform.applyToPoint(new o(nt,ft)),wt=this.ctx.transform.applyToPoint(new o(B,Y)),At=this.ctx.transform.applyToPoint(new o(et,Z));this.path.push({type:"bct",x1:wt.x,y1:wt.y,x2:At.x,y2:At.y,x:yt.x,y:yt.y}),this.ctx.lastPoint=new o(yt.x,yt.y)},h.prototype.arc=function(B,Y,et,Z,nt,ft){if(isNaN(B)||isNaN(Y)||isNaN(et)||isNaN(Z)||isNaN(nt))throw bn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ft=!!ft,!this.ctx.transform.isIdentity){var yt=this.ctx.transform.applyToPoint(new o(B,Y));B=yt.x,Y=yt.y;var wt=this.ctx.transform.applyToPoint(new o(0,et)),At=this.ctx.transform.applyToPoint(new o(0,0));et=Math.sqrt(Math.pow(wt.x-At.x,2)+Math.pow(wt.y-At.y,2))}Math.abs(nt-Z)>=2*Math.PI&&(Z=0,nt=2*Math.PI),this.path.push({type:"arc",x:B,y:Y,radius:et,startAngle:Z,endAngle:nt,counterclockwise:ft})},h.prototype.arcTo=function(B,Y,et,Z,nt){throw new Error("arcTo not implemented.")},h.prototype.rect=function(B,Y,et,Z){if(isNaN(B)||isNaN(Y)||isNaN(et)||isNaN(Z))throw bn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(B,Y),this.lineTo(B+et,Y),this.lineTo(B+et,Y+Z),this.lineTo(B,Y+Z),this.lineTo(B,Y),this.lineTo(B+et,Y),this.lineTo(B,Y)},h.prototype.fillRect=function(B,Y,et,Z){if(isNaN(B)||isNaN(Y)||isNaN(et)||isNaN(Z))throw bn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var nt={};this.lineCap!=="butt"&&(nt.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(nt.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(B,Y,et,Z),this.fill(),nt.hasOwnProperty("lineCap")&&(this.lineCap=nt.lineCap),nt.hasOwnProperty("lineJoin")&&(this.lineJoin=nt.lineJoin)}},h.prototype.strokeRect=function(B,Y,et,Z){if(isNaN(B)||isNaN(Y)||isNaN(et)||isNaN(Z))throw bn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");y.call(this)||(this.beginPath(),this.rect(B,Y,et,Z),this.stroke())},h.prototype.clearRect=function(B,Y,et,Z){if(isNaN(B)||isNaN(Y)||isNaN(et)||isNaN(Z))throw bn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(B,Y,et,Z))},h.prototype.save=function(B){B=typeof B!="boolean"||B;for(var Y=this.pdf.internal.getCurrentPageInfo().pageNumber,et=0;et<this.pdf.internal.getNumberOfPages();et++)this.pdf.setPage(et+1),this.pdf.internal.out("q");if(this.pdf.setPage(Y),B){this.ctx.fontSize=this.pdf.internal.getFontSize();var Z=new c(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Z}},h.prototype.restore=function(B){B=typeof B!="boolean"||B;for(var Y=this.pdf.internal.getCurrentPageInfo().pageNumber,et=0;et<this.pdf.internal.getNumberOfPages();et++)this.pdf.setPage(et+1),this.pdf.internal.out("Q");this.pdf.setPage(Y),B&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function(B){var Y,et,Z,nt;if(B.isCanvasGradient===!0&&(B=B.getColor()),!B)return{r:0,g:0,b:0,a:0,style:B};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(B))Y=0,et=0,Z=0,nt=0;else{var ft=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(B);if(ft!==null)Y=parseInt(ft[1]),et=parseInt(ft[2]),Z=parseInt(ft[3]),nt=1;else if((ft=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(B))!==null)Y=parseInt(ft[1]),et=parseInt(ft[2]),Z=parseInt(ft[3]),nt=parseFloat(ft[4]);else{if(nt=1,typeof B=="string"&&B.charAt(0)!=="#"){var yt=new tM(B);B=yt.ok?yt.toHex():"#000000"}B.length===4?(Y=B.substring(1,2),Y+=Y,et=B.substring(2,3),et+=et,Z=B.substring(3,4),Z+=Z):(Y=B.substring(1,3),et=B.substring(3,5),Z=B.substring(5,7)),Y=parseInt(Y,16),et=parseInt(et,16),Z=parseInt(Z,16)}}return{r:Y,g:et,b:Z,a:nt,style:B}},f=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},y=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(B,Y,et,Z){if(isNaN(Y)||isNaN(et)||typeof B!="string")throw bn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Z=isNaN(Z)?void 0:Z,!f.call(this)){var nt=tt(this.ctx.transform.rotation),ft=this.ctx.transform.scaleX;N.call(this,{text:B,x:Y,y:et,scale:ft,angle:nt,align:this.textAlign,maxWidth:Z})}},h.prototype.strokeText=function(B,Y,et,Z){if(isNaN(Y)||isNaN(et)||typeof B!="string")throw bn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!y.call(this)){Z=isNaN(Z)?void 0:Z;var nt=tt(this.ctx.transform.rotation),ft=this.ctx.transform.scaleX;N.call(this,{text:B,x:Y,y:et,scale:ft,renderingMode:"stroke",angle:nt,align:this.textAlign,maxWidth:Z})}},h.prototype.measureText=function(B){if(typeof B!="string")throw bn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Y=this.pdf,et=this.pdf.internal.scaleFactor,Z=Y.internal.getFontSize(),nt=Y.getStringUnitWidth(B)*Z/Y.internal.scaleFactor;return new function(ft){var yt=(ft=ft||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return yt}}),this}({width:nt*=Math.round(96*et/72*1e4)/1e4})},h.prototype.scale=function(B,Y){if(isNaN(B)||isNaN(Y))throw bn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var et=new l(B,0,0,Y,0,0);this.ctx.transform=this.ctx.transform.multiply(et)},h.prototype.rotate=function(B){if(isNaN(B))throw bn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Y=new l(Math.cos(B),Math.sin(B),-Math.sin(B),Math.cos(B),0,0);this.ctx.transform=this.ctx.transform.multiply(Y)},h.prototype.translate=function(B,Y){if(isNaN(B)||isNaN(Y))throw bn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var et=new l(1,0,0,1,B,Y);this.ctx.transform=this.ctx.transform.multiply(et)},h.prototype.transform=function(B,Y,et,Z,nt,ft){if(isNaN(B)||isNaN(Y)||isNaN(et)||isNaN(Z)||isNaN(nt)||isNaN(ft))throw bn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var yt=new l(B,Y,et,Z,nt,ft);this.ctx.transform=this.ctx.transform.multiply(yt)},h.prototype.setTransform=function(B,Y,et,Z,nt,ft){B=isNaN(B)?1:B,Y=isNaN(Y)?0:Y,et=isNaN(et)?0:et,Z=isNaN(Z)?1:Z,nt=isNaN(nt)?0:nt,ft=isNaN(ft)?0:ft,this.ctx.transform=new l(B,Y,et,Z,nt,ft)};var _=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(B,Y,et,Z,nt,ft,yt,wt,At){var Lt=this.pdf.getImageProperties(B),Bt=1,Vt=1,Zt=1,K=1;Z!==void 0&&wt!==void 0&&(Zt=wt/Z,K=At/nt,Bt=Lt.width/Z*wt/Z,Vt=Lt.height/nt*At/nt),ft===void 0&&(ft=Y,yt=et,Y=0,et=0),Z!==void 0&&wt===void 0&&(wt=Z,At=nt),Z===void 0&&wt===void 0&&(wt=Lt.width,At=Lt.height);var jt=this.ctx.transform.decompose(),Ee=tt(jt.rotate.shx),ue=new l,Ct=(ue=(ue=(ue=ue.multiply(jt.translate)).multiply(jt.skew)).multiply(jt.scale)).applyToRectangle(new a(ft-Y*Zt,yt-et*K,Z*Bt,nt*Vt));if(this.autoPaging){for(var re,zt=x.call(this,Ct),ae=[],ne=0;ne<zt.length;ne+=1)ae.indexOf(zt[ne])===-1&&ae.push(zt[ne]);I(ae);for(var He=ae[0],Re=ae[ae.length-1],Jt=He;Jt<Re+1;Jt++){this.pdf.setPage(Jt);var de=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ce=Jt===1?this.posY+this.margin[0]:this.margin[0],Gt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],xe=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],te=Jt===1?0:Gt+(Jt-2)*xe;if(this.ctx.clip_path.length!==0){var yn=this.path;re=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=A(re,this.posX+this.margin[3],-te+Ce+this.ctx.prevPageLastElemOffset),F.call(this,"fill",!0),this.path=yn}var je=JSON.parse(JSON.stringify(Ct));je=A([je],this.posX+this.margin[3],-te+Ce+this.ctx.prevPageLastElemOffset)[0];var Pe=(Jt>He||Jt<Re)&&_.call(this);Pe&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],de,xe,null).clip().discardPath()),this.pdf.addImage(B,"JPEG",je.x,je.y,je.w,je.h,null,null,Ee),Pe&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(B,"JPEG",Ct.x,Ct.y,Ct.w,Ct.h,null,null,Ee)};var x=function(B,Y,et){var Z=[];Y=Y||this.pdf.internal.pageSize.width,et=et||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var nt=this.posY+this.ctx.prevPageLastElemOffset;switch(B.type){default:case"mt":case"lt":Z.push(Math.floor((B.y+nt)/et)+1);break;case"arc":Z.push(Math.floor((B.y+nt-B.radius)/et)+1),Z.push(Math.floor((B.y+nt+B.radius)/et)+1);break;case"qct":var ft=at(this.ctx.lastPoint.x,this.ctx.lastPoint.y,B.x1,B.y1,B.x,B.y);Z.push(Math.floor((ft.y+nt)/et)+1),Z.push(Math.floor((ft.y+ft.h+nt)/et)+1);break;case"bct":var yt=vt(this.ctx.lastPoint.x,this.ctx.lastPoint.y,B.x1,B.y1,B.x2,B.y2,B.x,B.y);Z.push(Math.floor((yt.y+nt)/et)+1),Z.push(Math.floor((yt.y+yt.h+nt)/et)+1);break;case"rect":Z.push(Math.floor((B.y+nt)/et)+1),Z.push(Math.floor((B.y+B.h+nt)/et)+1)}for(var wt=0;wt<Z.length;wt+=1)for(;this.pdf.internal.getNumberOfPages()<Z[wt];)v.call(this);return Z},v=function(){var B=this.fillStyle,Y=this.strokeStyle,et=this.font,Z=this.lineCap,nt=this.lineWidth,ft=this.lineJoin;this.pdf.addPage(),this.fillStyle=B,this.strokeStyle=Y,this.font=et,this.lineCap=Z,this.lineWidth=nt,this.lineJoin=ft},A=function(B,Y,et){for(var Z=0;Z<B.length;Z++)switch(B[Z].type){case"bct":B[Z].x2+=Y,B[Z].y2+=et;case"qct":B[Z].x1+=Y,B[Z].y1+=et;default:B[Z].x+=Y,B[Z].y+=et}return B},I=function(B){return B.sort(function(Y,et){return Y-et})},P=function(B,Y){var et=this.fillStyle,Z=this.strokeStyle,nt=this.lineCap,ft=this.lineWidth,yt=Math.abs(ft*this.ctx.transform.scaleX),wt=this.lineJoin;if(this.autoPaging){for(var At,Lt,Bt=JSON.parse(JSON.stringify(this.path)),Vt=JSON.parse(JSON.stringify(this.path)),Zt=[],K=0;K<Vt.length;K++)if(Vt[K].x!==void 0)for(var jt=x.call(this,Vt[K]),Ee=0;Ee<jt.length;Ee+=1)Zt.indexOf(jt[Ee])===-1&&Zt.push(jt[Ee]);for(var ue=0;ue<Zt.length;ue++)for(;this.pdf.internal.getNumberOfPages()<Zt[ue];)v.call(this);I(Zt);for(var Ct=Zt[0],re=Zt[Zt.length-1],zt=Ct;zt<re+1;zt++){this.pdf.setPage(zt),this.fillStyle=et,this.strokeStyle=Z,this.lineCap=nt,this.lineWidth=yt,this.lineJoin=wt;var ae=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ne=zt===1?this.posY+this.margin[0]:this.margin[0],He=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Re=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Jt=zt===1?0:He+(zt-2)*Re;if(this.ctx.clip_path.length!==0){var de=this.path;At=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=A(At,this.posX+this.margin[3],-Jt+ne+this.ctx.prevPageLastElemOffset),F.call(this,B,!0),this.path=de}if(Lt=JSON.parse(JSON.stringify(Bt)),this.path=A(Lt,this.posX+this.margin[3],-Jt+ne+this.ctx.prevPageLastElemOffset),Y===!1||zt===0){var Ce=(zt>Ct||zt<re)&&_.call(this);Ce&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ae,Re,null).clip().discardPath()),F.call(this,B,Y),Ce&&this.pdf.restoreGraphicsState()}this.lineWidth=ft}this.path=Bt}else this.lineWidth=yt,F.call(this,B,Y),this.lineWidth=ft},F=function(B,Y){if((B!=="stroke"||Y||!y.call(this))&&(B==="stroke"||Y||!f.call(this))){for(var et,Z,nt=[],ft=this.path,yt=0;yt<ft.length;yt++){var wt=ft[yt];switch(wt.type){case"begin":nt.push({begin:!0});break;case"close":nt.push({close:!0});break;case"mt":nt.push({start:wt,deltas:[],abs:[]});break;case"lt":var At=nt.length;if(ft[yt-1]&&!isNaN(ft[yt-1].x)&&(et=[wt.x-ft[yt-1].x,wt.y-ft[yt-1].y],At>0)){for(;At>=0;At--)if(nt[At-1].close!==!0&&nt[At-1].begin!==!0){nt[At-1].deltas.push(et),nt[At-1].abs.push(wt);break}}break;case"bct":et=[wt.x1-ft[yt-1].x,wt.y1-ft[yt-1].y,wt.x2-ft[yt-1].x,wt.y2-ft[yt-1].y,wt.x-ft[yt-1].x,wt.y-ft[yt-1].y],nt[nt.length-1].deltas.push(et);break;case"qct":var Lt=ft[yt-1].x+2/3*(wt.x1-ft[yt-1].x),Bt=ft[yt-1].y+2/3*(wt.y1-ft[yt-1].y),Vt=wt.x+2/3*(wt.x1-wt.x),Zt=wt.y+2/3*(wt.y1-wt.y),K=wt.x,jt=wt.y;et=[Lt-ft[yt-1].x,Bt-ft[yt-1].y,Vt-ft[yt-1].x,Zt-ft[yt-1].y,K-ft[yt-1].x,jt-ft[yt-1].y],nt[nt.length-1].deltas.push(et);break;case"arc":nt.push({deltas:[],abs:[],arc:!0}),Array.isArray(nt[nt.length-1].abs)&&nt[nt.length-1].abs.push(wt)}}Z=Y?null:B==="stroke"?"stroke":"fill";for(var Ee=!1,ue=0;ue<nt.length;ue++)if(nt[ue].arc)for(var Ct=nt[ue].abs,re=0;re<Ct.length;re++){var zt=Ct[re];zt.type==="arc"?T.call(this,zt.x,zt.y,zt.radius,zt.startAngle,zt.endAngle,zt.counterclockwise,void 0,Y,!Ee):M.call(this,zt.x,zt.y),Ee=!0}else if(nt[ue].close===!0)this.pdf.internal.out("h"),Ee=!1;else if(nt[ue].begin!==!0){var ae=nt[ue].start.x,ne=nt[ue].start.y;H.call(this,nt[ue].deltas,ae,ne),Ee=!0}Z&&E.call(this,Z),Y&&D.call(this)}},G=function(B){var Y=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,et=Y*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return B-et;case"top":return B+Y-et;case"hanging":return B+Y-2*et;case"middle":return B+Y/2-et;default:return B}},R=function(B){return B+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var B=function(){};return B.colorStops=[],B.addColorStop=function(Y,et){this.colorStops.push([Y,et])},B.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},B.isCanvasGradient=!0,B},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var T=function(B,Y,et,Z,nt,ft,yt,wt,At){for(var Lt=ut.call(this,et,Z,nt,ft),Bt=0;Bt<Lt.length;Bt++){var Vt=Lt[Bt];Bt===0&&(At?k.call(this,Vt.x1+B,Vt.y1+Y):M.call(this,Vt.x1+B,Vt.y1+Y)),rt.call(this,B,Y,Vt.x2,Vt.y2,Vt.x3,Vt.y3,Vt.x4,Vt.y4)}wt?D.call(this):E.call(this,yt)},E=function(B){switch(B){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},D=function(){this.pdf.clip(),this.pdf.discardPath()},k=function(B,Y){this.pdf.internal.out(n(B)+" "+i(Y)+" m")},N=function(B){var Y;switch(B.align){case"right":case"end":Y="right";break;case"center":Y="center";break;default:Y="left"}var et,Z,nt,ft=this.pdf.getTextDimensions(B.text),yt=G.call(this,B.y),wt=R.call(this,yt)-ft.h,At=this.ctx.transform.applyToPoint(new o(B.x,yt));if(this.autoPaging){var Lt=this.ctx.transform.decompose(),Bt=new l;Bt=(Bt=(Bt=Bt.multiply(Lt.translate)).multiply(Lt.skew)).multiply(Lt.scale);for(var Vt=this.ctx.transform.applyToRectangle(new a(B.x,yt,ft.w,ft.h)),Zt=Bt.applyToRectangle(new a(B.x,wt,ft.w,ft.h)),K=x.call(this,Zt),jt=[],Ee=0;Ee<K.length;Ee+=1)jt.indexOf(K[Ee])===-1&&jt.push(K[Ee]);I(jt);for(var ue=jt[0],Ct=jt[jt.length-1],re=ue;re<Ct+1;re++){this.pdf.setPage(re);var zt=re===1?this.posY+this.margin[0]:this.margin[0],ae=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ne=this.pdf.internal.pageSize.height-this.margin[2],He=ne-this.margin[0],Re=this.pdf.internal.pageSize.width-this.margin[1],Jt=Re-this.margin[3],de=re===1?0:ae+(re-2)*He;if(this.ctx.clip_path.length!==0){var Ce=this.path;et=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=A(et,this.posX+this.margin[3],-1*de+zt),F.call(this,"fill",!0),this.path=Ce}var Gt=A([JSON.parse(JSON.stringify(Zt))],this.posX+this.margin[3],-de+zt+this.ctx.prevPageLastElemOffset)[0];B.scale>=.01&&(Z=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Z*B.scale),nt=this.lineWidth,this.lineWidth=nt*B.scale);var xe=this.autoPaging!=="text";if(xe||Gt.y+Gt.h<=ne){if(xe||Gt.y>=zt&&Gt.x<=Re){var te=xe?B.text:this.pdf.splitTextToSize(B.text,B.maxWidth||Re-Gt.x)[0],yn=A([JSON.parse(JSON.stringify(Vt))],this.posX+this.margin[3],-de+zt+this.ctx.prevPageLastElemOffset)[0],je=xe&&(re>ue||re<Ct)&&_.call(this);je&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Jt,He,null).clip().discardPath()),this.pdf.text(te,yn.x,yn.y,{angle:B.angle,align:Y,renderingMode:B.renderingMode}),je&&this.pdf.restoreGraphicsState()}}else Gt.y<ne&&(this.ctx.prevPageLastElemOffset+=ne-Gt.y);B.scale>=.01&&(this.pdf.setFontSize(Z),this.lineWidth=nt)}}else B.scale>=.01&&(Z=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Z*B.scale),nt=this.lineWidth,this.lineWidth=nt*B.scale),this.pdf.text(B.text,At.x+this.posX,At.y+this.posY,{angle:B.angle,align:Y,renderingMode:B.renderingMode,maxWidth:B.maxWidth}),B.scale>=.01&&(this.pdf.setFontSize(Z),this.lineWidth=nt)},M=function(B,Y,et,Z){et=et||0,Z=Z||0,this.pdf.internal.out(n(B+et)+" "+i(Y+Z)+" l")},H=function(B,Y,et){return this.pdf.lines(B,Y,et,null,null)},rt=function(B,Y,et,Z,nt,ft,yt,wt){this.pdf.internal.out([t(r(et+B)),t(s(Z+Y)),t(r(nt+B)),t(s(ft+Y)),t(r(yt+B)),t(s(wt+Y)),"c"].join(" "))},ut=function(B,Y,et,Z){for(var nt=2*Math.PI,ft=Math.PI/2;Y>et;)Y-=nt;var yt=Math.abs(et-Y);yt<nt&&Z&&(yt=nt-yt);for(var wt=[],At=Z?-1:1,Lt=Y;yt>1e-5;){var Bt=Lt+At*Math.min(yt,ft);wt.push(ot.call(this,B,Lt,Bt)),yt-=Math.abs(Bt-Lt),Lt=Bt}return wt},ot=function(B,Y,et){var Z=(et-Y)/2,nt=B*Math.cos(Z),ft=B*Math.sin(Z),yt=nt,wt=-ft,At=yt*yt+wt*wt,Lt=At+yt*nt+wt*ft,Bt=4/3*(Math.sqrt(2*At*Lt)-Lt)/(yt*ft-wt*nt),Vt=yt-Bt*wt,Zt=wt+Bt*yt,K=Vt,jt=-Zt,Ee=Z+Y,ue=Math.cos(Ee),Ct=Math.sin(Ee);return{x1:B*Math.cos(Y),y1:B*Math.sin(Y),x2:Vt*ue-Zt*Ct,y2:Vt*Ct+Zt*ue,x3:K*ue-jt*Ct,y3:K*Ct+jt*ue,x4:B*Math.cos(et),y4:B*Math.sin(et)}},tt=function(B){return 180*B/Math.PI},at=function(B,Y,et,Z,nt,ft){var yt=B+.5*(et-B),wt=Y+.5*(Z-Y),At=nt+.5*(et-nt),Lt=ft+.5*(Z-ft),Bt=Math.min(B,nt,yt,At),Vt=Math.max(B,nt,yt,At),Zt=Math.min(Y,ft,wt,Lt),K=Math.max(Y,ft,wt,Lt);return new a(Bt,Zt,Vt-Bt,K-Zt)},vt=function(B,Y,et,Z,nt,ft,yt,wt){var At,Lt,Bt,Vt,Zt,K,jt,Ee,ue,Ct,re,zt,ae,ne,He=et-B,Re=Z-Y,Jt=nt-et,de=ft-Z,Ce=yt-nt,Gt=wt-ft;for(Lt=0;Lt<41;Lt++)ue=(jt=(Bt=B+(At=Lt/40)*He)+At*((Zt=et+At*Jt)-Bt))+At*(Zt+At*(nt+At*Ce-Zt)-jt),Ct=(Ee=(Vt=Y+At*Re)+At*((K=Z+At*de)-Vt))+At*(K+At*(ft+At*Gt-K)-Ee),Lt==0?(re=ue,zt=Ct,ae=ue,ne=Ct):(re=Math.min(re,ue),zt=Math.min(zt,Ct),ae=Math.max(ae,ue),ne=Math.max(ne,Ct));return new a(Math.round(re),Math.round(zt),Math.round(ae-re),Math.round(ne-zt))},_t=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var B,Y,et=(B=this.ctx.lineDash,Y=this.ctx.lineDashOffset,JSON.stringify({lineDash:B,lineDashOffset:Y}));this.prevLineDash!==et&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=et)}}})(ee.API),function(e){var t=function(o){var a,l,u,c,h,p,f,y,_,x;for(l=[],u=0,c=(o+=a="\0\0\0\0".slice(o.length%4||4)).length;c>u;u+=4)(h=(o.charCodeAt(u)<<24)+(o.charCodeAt(u+1)<<16)+(o.charCodeAt(u+2)<<8)+o.charCodeAt(u+3))!==0?(p=(h=((h=((h=((h=(h-(x=h%85))/85)-(_=h%85))/85)-(y=h%85))/85)-(f=h%85))/85)%85,l.push(p+33,f+33,y+33,_+33,x+33)):l.push(122);return function(v,A){for(var I=A;I>0;I--)v.pop()}(l,a.length),String.fromCharCode.apply(String,l)+"~>"},n=function(o){var a,l,u,c,h,p=String,f="length",y=255,_="charCodeAt",x="slice",v="replace";for(o[x](-2),o=o[x](0,-2)[v](/\s/g,"")[v]("z","!!!!!"),u=[],c=0,h=(o+=a="uuuuu"[x](o[f]%5||5))[f];h>c;c+=5)l=52200625*(o[_](c)-33)+614125*(o[_](c+1)-33)+7225*(o[_](c+2)-33)+85*(o[_](c+3)-33)+(o[_](c+4)-33),u.push(y&l>>24,y&l>>16,y&l>>8,y&l);return function(A,I){for(var P=I;P>0;P--)A.pop()}(u,a[f]),p.fromCharCode.apply(p,u)},i=function(o){return o.split("").map(function(a){return("0"+a.charCodeAt().toString(16)).slice(-2)}).join("")+">"},r=function(o){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),a.test(o)===!1)return"";for(var l="",u=0;u<o.length;u+=2)l+=String.fromCharCode("0x"+(o[u]+o[u+1]));return l},s=function(o){for(var a=new Uint8Array(o.length),l=o.length;l--;)a[l]=o.charCodeAt(l);return(a=Q5(a)).reduce(function(u,c){return u+String.fromCharCode(c)},"")};e.processDataByFilters=function(o,a){var l=0,u=o||"",c=[];for(typeof(a=a||[])=="string"&&(a=[a]),l=0;l<a.length;l+=1)switch(a[l]){case"ASCII85Decode":case"/ASCII85Decode":u=n(u),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=t(u),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=r(u),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=i(u),c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=s(u),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[l]+'" is not implemented')}return{data:u,reverseChain:c.reverse().join(" ")}}}(ee.API),function(e){e.loadFile=function(t,n,i){return function(r,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var a=void 0;try{a=function(l,u,c){var h=new XMLHttpRequest,p=0,f=function(y){var _=y.length,x=[],v=String.fromCharCode;for(p=0;p<_;p+=1)x.push(v(255&y.charCodeAt(p)));return x.join("")};if(h.open("GET",l,!u),h.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(h.onload=function(){h.status===200?c(f(this.responseText)):c(void 0)}),h.send(null),u&&h.status===200)return f(h.responseText)}(r,s,o)}catch{}return a}(t,n,i)},e.allowFsRead=void 0,e.loadImageFile=e.loadFile}(ee.API),function(e){function t(){return(ve.html2canvas?Promise.resolve(ve.html2canvas):Pv(()=>import("./html2canvas.esm-CBrSDip1.js"),[],import.meta.url)).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function n(){return(ve.DOMPurify?Promise.resolve(ve.DOMPurify):Pv(()=>import("./purify.es-B9ZVCkUG.js"),[],import.meta.url)).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var i=function(a){var l=dn(a);return l==="undefined"?"undefined":l==="string"||a instanceof String?"string":l==="number"||a instanceof Number?"number":l==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":l==="object"?"object":"unknown"},r=function(a,l){var u=document.createElement(a);for(var c in l.className&&(u.className=l.className),l.innerHTML&&l.dompurify&&(u.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)u.style[c]=l.style[c];return u},s=function a(l,u){for(var c=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),h=l.firstChild;h;h=h.nextSibling)u!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||c.appendChild(a(h,u));return l.nodeType===1&&(l.nodeName==="CANVAS"?(c.width=l.width,c.height=l.height,c.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(c.value=l.value),c.addEventListener("load",function(){c.scrollTop=l.scrollTop,c.scrollLeft=l.scrollLeft},!0)),c},o=function a(l){var u=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),c=a.convert(Promise.resolve(),u);return(c=c.setProgress(1,a,1,[a])).set(l)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(a,l){return a.__proto__=l||o.prototype,a},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(a,l){return this.then(function(){switch(l=l||function(u){switch(i(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a),l){case"string":return this.then(n).then(function(u){return this.set({src:r("div",{innerHTML:a,dompurify:u})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},o.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=r("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=r("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(r("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(t).then(function(l){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,l(this.prop.container,u)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(t).then(function(l){var u=this.opt.jsPDF,c=this.opt.fontFaces,h=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,p=Object.assign({async:!0,allowTaint:!0,scale:h,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete p.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=c,c)for(var f=0;f<c.length;++f){var y=c[f],_=y.src.find(function(x){return x.format==="truetype"});_&&u.addFont(_.url,y.ref.name,y.ref.style)}return p.windowHeight=p.windowHeight||0,p.windowHeight=p.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):p.windowHeight,u.context2d.save(!0),l(this.prop.container,p)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(a,l,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(a,l):this.outputPdf(a,l)},o.prototype.outputPdf=function(a,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,l)})},o.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},o.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(a){if(i(a)!=="object")return this;var l=Object.keys(a||{}).map(function(u){if(u in o.template.prop)return function(){this.prop[u]=a[u]};switch(u){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[u]=a[u]}}},this);return this.then(function(){return this.thenList(l)})},o.prototype.get=function(a,l){return this.then(function(){var u=a in o.template.prop?this.prop[a]:this.opt[a];return l?l(u):u})},o.prototype.setMargin=function(a){return this.then(function(){switch(i(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},o.prototype.setPageSize=function(a){function l(u,c){return Math.floor(u*c/72*96)}return this.then(function(){(a=a||ee.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:l(a.inner.width,a.k),height:l(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},o.prototype.setProgress=function(a,l,u,c){return a!=null&&(this.progress.val=a),l!=null&&(this.progress.state=l),u!=null&&(this.progress.n=u),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(a,l,u,c){return this.setProgress(a?this.progress.val+a:null,l||null,u?this.progress.n+u:null,c?this.progress.stack.concat(c):null)},o.prototype.then=function(a,l){var u=this;return this.thenCore(a,l,function(c,h){return u.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(p){return u.updateProgress(null,c),p}).then(c,h).then(function(p){return u.updateProgress(1),p})})},o.prototype.thenCore=function(a,l,u){u=u||Promise.prototype.then;var c=this;a&&(a=a.bind(c)),l&&(l=l.bind(c));var h=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?c:o.convert(Object.assign({},c),Promise.prototype),p=u.call(h,a,l);return o.convert(p,c.__proto__)},o.prototype.thenExternal=function(a,l){return Promise.prototype.then.call(this,a,l)},o.prototype.thenList=function(a){var l=this;return a.forEach(function(u){l=l.thenCore(u)}),l},o.prototype.catch=function(a){a&&(a=a.bind(this));var l=Promise.prototype.catch.call(this,a);return o.convert(l,this)},o.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},o.prototype.error=function(a){return this.then(function(){throw new Error(a)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,ee.getPageSize=function(a,l,u){if(dn(a)==="object"){var c=a;a=c.orientation,l=c.unit||l,u=c.format||u}l=l||"mm",u=u||"a4",a=(""+(a||"P")).toLowerCase();var h,p=(""+u).toLowerCase(),f={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":h=1;break;case"mm":h=72/25.4;break;case"cm":h=72/2.54;break;case"in":h=72;break;case"px":h=.75;break;case"pc":case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+l}var y,_=0,x=0;if(f.hasOwnProperty(p))_=f[p][1]/h,x=f[p][0]/h;else try{_=u[1],x=u[0]}catch{throw new Error("Invalid format: "+u)}if(a==="p"||a==="portrait")a="p",x>_&&(y=x,x=_,_=y);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",_>x&&(y=x,x=_,_=y)}return{width:x,height:_,unit:l,k:h,orientation:a}},e.html=function(a,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map($v):null;var u=new o(l);return l.worker?u:u.from(a).doCallback()}}(ee.API),ee.API.addJS=function(e){var t,n,i=function(r){for(var s="",o=0;o<r.length;o++){var a=r[o];if(a==="("||a===")"){for(var l=0,u=o-1;u>=0&&r[u]==="\\";u--)l++;s+=l%2==0?"\\"+a:a}else s+=a}return s}(e);return this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(t+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),n=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+i+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){t!==void 0&&n!==void 0&&this.internal.out("/Names <</JavaScript "+t+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var n=this,i=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var r=n.outline.render().split(/\r\n/),s=0;s<r.length;s++){var o=r[s],a=i.exec(o);if(a!=null){var l=a[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,c=[];for(s=0;s<u;s++){var h=n.internal.newObject();c.push(h);var p=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var f=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<c.length;s++)n.internal.write("(page_"+(s+1)+")"+c[s]+" 0 R");n.internal.write(" ] >>","endobj"),t=n.internal.newObject(),n.internal.write("<< /Dests "+f+" 0 R"),n.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(i,r,s){var o={title:r,options:s,children:[]};return i==null&&(i=this.root),i.children.push(o),o},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(i){i.id=n.internal.newObjectDeferred();for(var r=0;r<i.children.length;r++)this.genIds_r(i.children[r])},n.outline.renderRoot=function(i){this.objStart(i),this.line("/Type /Outlines"),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1]))),this.line("/Count "+this.count_r({count:0},i)),this.objEnd()},n.outline.renderItems=function(i){for(var r=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<i.children.length;s++){var o=i.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(i)),s>0&&this.line("/Prev "+this.makeRef(i.children[s-1])),s<i.children.length-1&&this.line("/Next "+this.makeRef(i.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var a=this.count=this.count_r({count:0},o);if(a>0&&this.line("/Count "+a),o.options&&o.options.pageNumber){var l=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+r(0)+" 0]")}this.objEnd()}for(var u=0;u<i.children.length;u++)this.renderItems(i.children[u])},n.outline.line=function(i){this.ctx.val+=i+`\r
`},n.outline.makeRef=function(i){return i.id+" 0 R"},n.outline.makeString=function(i){return"("+n.internal.pdfEscape(i)+")"},n.outline.objStart=function(i){this.ctx.val+=`\r
`+i.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(i,r){for(var s=0;s<r.children.length;s++)i.count++,this.count_r(i,r.children[s]);return i.count}}])}(ee.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(n,i,r,s,o,a){var l,u=this.decode.DCT_DECODE,c=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=o||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,l=function(h){for(var p,f=256*h.charCodeAt(4)+h.charCodeAt(5),y=h.length,_={width:0,height:0,numcomponents:1},x=4;x<y;x+=2){if(x+=f,t.indexOf(h.charCodeAt(x+1))!==-1){p=256*h.charCodeAt(x+5)+h.charCodeAt(x+6),_={width:256*h.charCodeAt(x+7)+h.charCodeAt(x+8),height:p,numcomponents:h.charCodeAt(x+9)};break}f=256*h.charCodeAt(x+2)+h.charCodeAt(x+3)}return _}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),l.numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}c={data:n,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:u,index:i,alias:r}}return c}}(ee.API),ee.API.processPNG=function(e,t,n,i){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var r,s=fZ(e,{checkCrc:!0}),o=s.width,a=s.height,l=s.channels,u=s.palette,c=s.depth;r=u&&l===1?function(T){for(var E=T.width,D=T.height,k=T.data,N=T.palette,M=T.depth,H=!1,rt=[],ut=[],ot=void 0,tt=!1,at=0,vt=0;vt<N.length;vt++){var _t=Jk(N[vt],4),B=_t[0],Y=_t[1],et=_t[2],Z=_t[3];rt.push(B,Y,et),Z!=null&&(Z===0?(at++,ut.length<1&&ut.push(vt)):Z<255&&(tt=!0))}if(tt||at>1){H=!0,ut=void 0;var nt=E*D;ot=new Uint8Array(nt);for(var ft=new DataView(k.buffer),yt=0;yt<nt;yt++){var wt=Kv(ft,yt,M),At=Jk(N[wt],4)[3];ot[yt]=At}}else at===0&&(ut=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:H?8:void 0,colorBytes:k,alphaBytes:ot,needSMask:H,palette:rt,mask:ut}}(s):l===2||l===4?function(T){for(var E=T.data,D=T.width,k=T.height,N=T.channels,M=T.depth,H=N===2?"DeviceGray":"DeviceRGB",rt=N-1,ut=D*k,ot=rt,tt=ut*ot,at=1*ut,vt=Math.ceil(tt*M/8),_t=Math.ceil(at*M/8),B=new Uint8Array(vt),Y=new Uint8Array(_t),et=new DataView(E.buffer),Z=new DataView(B.buffer),nt=new DataView(Y.buffer),ft=!1,yt=0;yt<ut;yt++){for(var wt=yt*N,At=0;At<ot;At++)e3(Z,Kv(et,wt+At,M),yt*ot+At,M);var Lt=Kv(et,wt+ot,M);Lt<(1<<M)-1&&(ft=!0),e3(nt,Lt,1*yt,M)}return{colorSpace:H,colorsPerPixel:rt,sMaskBitsPerComponent:ft?M:void 0,colorBytes:B,alphaBytes:Y,needSMask:ft}}(s):function(T){var E=T.data,D=T.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:D,colorsPerPixel:D==="DeviceGray"?1:3,colorBytes:E instanceof Uint16Array?function(k){for(var N=k.length,M=new Uint8Array(2*N),H=new DataView(M.buffer,M.byteOffset,M.byteLength),rt=0;rt<N;rt++)H.setUint16(2*rt,k[rt],!1);return M}(E):E,needSMask:!1}}(s);var h,p,f,y=r,_=y.colorSpace,x=y.colorsPerPixel,v=y.sMaskBitsPerComponent,A=y.colorBytes,I=y.alphaBytes,P=y.needSMask,F=y.palette,G=y.mask,R=null;return i!==ee.API.image_compression.NONE&&typeof Q5=="function"?(R=function(T){var E;switch(T){case ee.API.image_compression.FAST:E=11;break;case ee.API.image_compression.MEDIUM:E=13;break;case ee.API.image_compression.SLOW:E=14;break;default:E=12}return E}(i),h=this.decode.FLATE_DECODE,p="/Predictor ".concat(R," /Colors ").concat(x," /BitsPerComponent ").concat(c," /Columns ").concat(o),e=XE(A,Math.ceil(o*x*c/8),x,c,i),P&&(f=XE(I,Math.ceil(o*v/8),1,v,i))):(h=void 0,p=void 0,e=A,P&&(f=I)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(f&&this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),{alias:n,data:e,index:t,filter:h,decodeParameters:p,transparency:G,palette:F,sMask:f,predictor:R,width:o,height:a,bitsPerComponent:c,sMaskBitsPerComponent:v,colorSpace:_}}},function(e){e.processGIF89A=function(t,n,i,r){var s=new RZ(t),o=s.width,a=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var u={data:l,width:o,height:a},c=new Yv(100).encode(u,100);return e.processJPEG.call(this,c,n,i,r)},e.processGIF87A=e.processGIF89A}(ee.API),no.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:r,green:i,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},no.prototype.parseBGR=function(){this.pos=this.offset;var e="bit"+this.bitPP,t=this.width*this.height*4;if(t>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");this.data=new Uint8Array(t);try{this[e]()}catch(n){bn.log("bit decode error:"+n)}},no.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var i=this.bottom_up?e:this.height-1-e,r=0;r<t;r++)for(var s=this.datav.getUint8(this.pos++,!0),o=i*this.width*4+8*r*4,a=0;a<8&&8*r+a<this.width;a++){var l=this.palette[s>>7-a&1];this.data[o+4*a]=l.blue,this.data[o+4*a+1]=l.green,this.data[o+4*a+2]=l.red,this.data[o+4*a+3]=255}n!==0&&(this.pos+=4-n)}},no.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,r=0;r<e;r++){var s=this.datav.getUint8(this.pos++,!0),o=i*this.width*4+2*r*4,a=s>>4,l=15&s,u=this.palette[a];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*r+1>=this.width)break;u=this.palette[l],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},no.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var r=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*i;if(r<this.palette.length){var o=this.palette[r];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}e!==0&&(this.pos+=4-e)}},no.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,r=0;r<this.width;r++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&t)/t*255|0,a=(s>>5&t)/t*255|0,l=(s>>10&t)/t*255|0,u=s>>15?255:0,c=i*this.width*4+4*r;this.data[c]=l,this.data[c+1]=a,this.data[c+2]=o,this.data[c+3]=u}this.pos+=e}},no.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),i=this.height-1;i>=0;i--){for(var r=this.bottom_up?i:this.height-1-i,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&t)/t*255|0,l=(o>>5&n)/n*255|0,u=(o>>11)/t*255|0,c=r*this.width*4+4*s;this.data[c]=u,this.data[c+1]=l,this.data[c+2]=a,this.data[c+3]=255}this.pos+=e}},no.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*n;this.data[o]=s,this.data[o+1]=r,this.data[o+2]=i,this.data[o+3]=255}this.pos+=this.width%4}},no.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*n;this.data[a]=s,this.data[a+1]=r,this.data[a+2]=i,this.data[a+3]=o}},no.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,n,i,r){var s=new no(t,!1),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},u=new Yv(100).encode(l,100);return e.processJPEG.call(this,u,n,i,r)}}(ee.API),i3.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,n,i,r){var s=new i3(t),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},u=new Yv(100).encode(l,100);return e.processJPEG.call(this,u,n,i,r)}}(ee.API),ee.API.processRGBA=function(e,t,n){for(var i=e.data,r=i.length,s=new Uint8Array(r/4*3),o=new Uint8Array(r/4),a=0,l=0,u=0;u<r;u+=4){var c=i[u],h=i[u+1],p=i[u+2],f=i[u+3];s[a++]=c,s[a++]=h,s[a++]=p,o[l++]=f}var y=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:y,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},ee.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},jc=ee.API,lm=jc.getCharWidthsArray=function(e,t){var n,i,r=(t=t||{}).font||this.internal.getFont(),s=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),a=t.widths?t.widths:r.metadata.Unicode.widths,l=a.fof?a.fof:1,u=t.kerning?t.kerning:r.metadata.Unicode.kerning,c=u.fof?u.fof:1,h=t.doKerning!==!1,p=0,f=e.length,y=0,_=a[0]||l,x=[];for(n=0;n<f;n++)i=e.charCodeAt(n),typeof r.metadata.widthOfString=="function"?x.push((r.metadata.widthOfGlyph(r.metadata.characterToGlyph(i))+o*(1e3/s)||0)/1e3):(p=h&&dn(u[i])==="object"&&!isNaN(parseInt(u[i][y],10))?u[i][y]/c:0,x.push((a[i]||_)/l+p)),y=i;return x},GE=jc.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),i=t.font||this.internal.getFont(),r=t.charSpace||this.internal.getCharSpace();return jc.processArabic&&(e=jc.processArabic(e)),typeof i.metadata.widthOfString=="function"?i.metadata.widthOfString(e,n,r)/n:lm.apply(this,arguments).reduce(function(s,o){return s+o},0)},KE=function(e,t,n,i){for(var r=[],s=0,o=e.length,a=0;s!==o&&a+t[s]<n;)a+=t[s],s++;r.push(e.slice(0,s));var l=s;for(a=0;s!==o;)a+t[s]>i&&(r.push(e.slice(l,s)),a=0,l=s),a+=t[s],s++;return l!==s&&r.push(e.slice(l,s)),r},YE=function(e,t,n){n||(n={});var i,r,s,o,a,l,u,c=[],h=[c],p=n.textIndent||0,f=0,y=0,_=e.split(" "),x=lm.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?_[0].length+2:n.lineIndent||0){var v=Array(l).join(" "),A=[];_.map(function(P){(P=P.split(/\s*\n/)).length>1?A=A.concat(P.map(function(F,G){return(G&&F.length?`
`:"")+F})):A.push(P[0])}),_=A,l=GE.apply(this,[v,n])}for(s=0,o=_.length;s<o;s++){var I=0;if(i=_[s],l&&i[0]==`
`&&(i=i.substr(1),I=1),p+f+(y=(r=lm.apply(this,[i,n])).reduce(function(P,F){return P+F},0))>t||I){if(y>t){for(a=KE.apply(this,[i,r,t-(p+f),t]),c.push(a.shift()),c=[a.pop()];a.length;)h.push([a.shift()]);y=r.slice(i.length-(c[0]?c[0].length:0)).reduce(function(P,F){return P+F},0)}else c=[i];h.push(c),p=y+l,f=x}else c.push(i),p+=f+y,f=x}return u=l?function(P,F){return(F?v:"")+P.join(" ")}:function(P){return P.join(" ")},h.map(u)},jc.splitTextToSize=function(e,t,n){var i,r=(n=n||{}).fontSize||this.internal.getFontSize(),s=(function(c){if(c.widths&&c.kerning)return{widths:c.widths,kerning:c.kerning};var h=this.internal.getFont(c.fontName,c.fontStyle),p="Unicode";return h.metadata[p]?{widths:h.metadata[p].widths||{0:1},kerning:h.metadata[p].kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);i=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/r;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/r:0,s.lineIndent=n.lineIndent;var a,l,u=[];for(a=0,l=i.length;a<l;a++)u=u.concat(YE.apply(this,[i[a],o,s]));return u},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",n="klmnopqrstuvwxyz",i={},r={},s=0;s<16;s++)i[n[s]]=t[s],r[t[s]]=n[s];var o=function(p){return"0x"+parseInt(p,10).toString(16)},a=e.__fontmetrics__.compress=function(p){var f,y,_,x,v=["{"];for(var A in p){if(f=p[A],isNaN(parseInt(A,10))?y="'"+A+"'":(A=parseInt(A,10),y=(y=o(A).slice(2)).slice(0,-1)+r[y.slice(-1)]),typeof f=="number")f<0?(_=o(f).slice(3),x="-"):(_=o(f).slice(2),x=""),_=x+_.slice(0,-1)+r[_.slice(-1)];else{if(dn(f)!=="object")throw new Error("Don't know what to do with value type "+dn(f)+".");_=a(f)}v.push(y+_)}return v.push("}"),v.join("")},l=e.__fontmetrics__.uncompress=function(p){if(typeof p!="string")throw new Error("Invalid argument passed to uncompress.");for(var f,y,_,x,v={},A=1,I=v,P=[],F="",G="",R=p.length-1,T=1;T<R;T+=1)(x=p[T])=="'"?f?(_=f.join(""),f=void 0):f=[]:f?f.push(x):x=="{"?(P.push([I,_]),I={},_=void 0):x=="}"?((y=P.pop())[0][y[1]]=I,_=void 0,I=y[0]):x=="-"?A=-1:_===void 0?i.hasOwnProperty(x)?(F+=i[x],_=parseInt(F,16)*A,A=1,F=""):F+=x:i.hasOwnProperty(x)?(G+=i[x],I[_]=parseInt(G,16)*A,A=1,_=void 0,G=""):G+=x;return v},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},h={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(p){var f=p.font,y=h.Unicode[f.postScriptName];y&&(f.metadata.Unicode={},f.metadata.Unicode.widths=y.widths,f.metadata.Unicode.kerning=y.kerning);var _=c.Unicode[f.postScriptName];_&&(f.metadata.Unicode.encoding=_,f.encoding=_.codePages[0])}])}(ee.API),function(e){var t=function(n){for(var i=n.length,r=new Uint8Array(i),s=0;s<i;s++)r[s]=n.charCodeAt(s);return r};e.API.events.push(["addFont",function(n){var i=void 0,r=n.font,s=n.instance;if(!r.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");if(typeof(i=s.existsFileInVFS(r.postScriptName)===!1?s.loadFile(r.postScriptName):s.getFileFromVFS(r.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");(function(o,a){a=/^\x00\x01\x00\x00/.test(a)?t(a):t(Um(a)),o.metadata=e.API.TTFFont.open(a),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(r,i)}}])}(ee),ee.API.addSvgAsImage=function(e,t,n,i,r,s,o,a){if(isNaN(t)||isNaN(n))throw bn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(r))throw bn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=i,l.height=r;var u=l.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,l.width,l.height);var c={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return(ve.canvg?Promise.resolve(ve.canvg):Pv(()=>import("./index.es-BMGS3ovt.js"),[],import.meta.url)).catch(function(p){return Promise.reject(new Error("Could not load canvg: "+p))}).then(function(p){return p.default?p.default:p}).then(function(p){return p.fromString(u,e,c)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(p){return p.render(c)}).then(function(){h.addImage(l.toDataURL("image/jpeg",1),t,n,i,r,o,a)})},ee.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var i=1;i<=this.internal.getNumberOfPages();i++)for(var r=0;r<this.internal.pages[i].length;r++)this.internal.pages[i][r]=this.internal.pages[i][r].replace(t,n);return this},ee.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var i,r,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),l=[],u=0,c=0,h=0;function p(y,_){var x,v=!1;for(x=0;x<y.length;x+=1)y[x]===_&&(v=!0);return v}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var f=a.length;for(h=0;h<f;h+=1)n[a[h]].value=n[a[h]].defaultValue,n[a[h]].explicitSet=!1}if(dn(e)==="object"){for(r in e)if(s=e[r],p(a,r)&&s!==void 0){if(n[r].type==="boolean"&&typeof s=="boolean")n[r].value=s;else if(n[r].type==="name"&&p(n[r].valueSet,s))n[r].value=s;else if(n[r].type==="integer"&&Number.isInteger(s))n[r].value=s;else if(n[r].type==="array"){for(u=0;u<s.length;u+=1)if(i=!0,s[u].length===1&&typeof s[u][0]=="number")l.push(String(s[u]-1));else if(s[u].length>1){for(c=0;c<s[u].length;c+=1)typeof s[u][c]!="number"&&(i=!1);i===!0&&l.push([s[u][0]-1,s[u][1]-1].join(" "))}n[r].value="["+l.join(" ")+"]"}else n[r].value=n[r].defaultValue;n[r].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var y,_=[];for(y in n)n[y].explicitSet===!0&&(n[y].type==="name"?_.push("/"+y+" /"+n[y].value):_.push("/"+y+" "+n[y].value));_.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+_.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},ee.API.addMetadata=function(e,t){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:e,namespaceUri:t??"http://jspdf.default.namespaceuri/",rawXml:typeof t=="boolean"&&t},this.internal.events.subscribe("putCatalog",DZ),this.internal.events.subscribe("postPutResources",MZ)),this},function(e){var t=e.API,n=t.pdfEscape16=function(s,o){for(var a,l=o.metadata.Unicode.widths,u=["","0","00","000","0000"],c=[""],h=0,p=s.length;h<p;++h){if(a=o.metadata.characterToGlyph(s.charCodeAt(h)),o.metadata.glyIdsUsed.push(a),o.metadata.toUnicode[a]=s.charCodeAt(h),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(o.metadata.widthOfGlyph(a),10)])),a=="0")return c.join("");a=a.toString(16),c.push(u[4-a.length],a)}return c.join("")},i=function(s){var o,a,l,u,c,h,p;for(c=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],h=0,p=(a=Object.keys(s).sort(function(f,y){return f-y})).length;h<p;h++)o=a[h],l.length>=100&&(c+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(u=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+u+">"));return l.length&&(c+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),c+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,u=o.newObject,c=o.putStream;if(a.metadata instanceof e.API.TTFFont&&a.encoding==="Identity-H"){for(var h=a.metadata.Unicode.widths,p=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),f="",y=0;y<p.length;y++)f+=String.fromCharCode(p[y]);var _=u();c({data:f,addLength1:!0,objectId:_}),l("endobj");var x=u();c({data:i(a.metadata.toUnicode),addLength1:!0,objectId:x}),l("endobj");var v=u();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Wc(a.fontName)),l("/FontFile2 "+_+" 0 R"),l("/FontBBox "+e.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var A=u();l("<<"),l("/Type /Font"),l("/BaseFont /"+Wc(a.fontName)),l("/FontDescriptor "+v+" 0 R"),l("/W "+e.API.PDFObject.convert(h)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=u(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+x+" 0 R"),l("/BaseFont /"+Wc(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+A+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]),t.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,u=o.newObject,c=o.putStream;if(a.metadata instanceof e.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var h=a.metadata.rawData,p="",f=0;f<h.length;f++)p+=String.fromCharCode(h[f]);var y=u();c({data:p,addLength1:!0,objectId:y}),l("endobj");var _=u();c({data:i(a.metadata.toUnicode),addLength1:!0,objectId:_}),l("endobj");var x=u();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+y+" 0 R"),l("/Flags 96"),l("/FontBBox "+e.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+Wc(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=u();for(var v=0;v<a.metadata.hmtx.widths.length;v++)a.metadata.hmtx.widths[v]=parseInt(a.metadata.hmtx.widths[v]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+_+" 0 R/BaseFont/"+Wc(a.fontName)+"/FontDescriptor "+x+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]);var r=function(s){var o,a=s.text||"",l=s.x,u=s.y,c=s.options||{},h=s.mutex||{},p=h.pdfEscape,f=h.activeFontKey,y=h.fonts,_=f,x="",v=0,A="",I=y[_].encoding;if(y[_].encoding!=="Identity-H")return{text:a,x:l,y:u,options:c,mutex:h};for(A=a,_=f,Array.isArray(a)&&(A=a[0]),v=0;v<A.length;v+=1)y[_].metadata.hasOwnProperty("cmap")&&(o=y[_].metadata.cmap.unicode.codeMap[A[v].charCodeAt(0)]),o||A[v].charCodeAt(0)<256&&y[_].metadata.hasOwnProperty("Unicode")?x+=A[v]:x+="";var P="";return parseInt(_.slice(1))<14||I==="WinAnsiEncoding"?P=p(x,_).split("").map(function(F){return F.charCodeAt(0).toString(16)}).join(""):I==="Identity-H"&&(P=n(x,y[_])),h.isHex=!0,{text:P,x:l,y:u,options:c,mutex:h}};t.events.push(["postProcessText",function(s){var o=s.text||"",a=[],l={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var u=0;for(u=0;u<o.length;u+=1)Array.isArray(o[u])&&o[u].length===3?a.push([r(Object.assign({},l,{text:o[u][0]})).text,o[u][1],o[u][2]]):a.push(r(Object.assign({},l,{text:o[u]})).text);s.text=a}else s.text=r(Object.assign({},l,{text:o})).text}])}(ee),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0},e.addFileToVFS=function(n,i){return t.call(this),this.internal.vFS[n]=i,this},e.getFileFromVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(ee.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(i){var r,s,o,a,l,u,c,h=t,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],f=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],y={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},_={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},x=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],v=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),A=!1,I=0;this.__bidiEngine__={};var P=function(k){var N=k.charCodeAt(),M=N>>8,H=_[M];return H!==void 0?h[256*H+(255&N)]:M===252||M===253?"AL":v.test(M)?"L":M===8?"R":"N"},F=function(k){for(var N,M=0;M<k.length;M++){if((N=P(k.charAt(M)))==="L")return!1;if(N==="R")return!0}return!1},G=function(k,N,M,H){var rt,ut,ot,tt,at=N[H];switch(at){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":A=!1;break;case"N":case"AN":break;case"EN":A&&(at="AN");break;case"AL":A=!0,at="R";break;case"WS":case"BN":at="N";break;case"CS":H<1||H+1>=N.length||(rt=M[H-1])!=="EN"&&rt!=="AN"||(ut=N[H+1])!=="EN"&&ut!=="AN"?at="N":A&&(ut="AN"),at=ut===rt?ut:"N";break;case"ES":at=(rt=H>0?M[H-1]:"B")==="EN"&&H+1<N.length&&N[H+1]==="EN"?"EN":"N";break;case"ET":if(H>0&&M[H-1]==="EN"){at="EN";break}if(A){at="N";break}for(ot=H+1,tt=N.length;ot<tt&&N[ot]==="ET";)ot++;at=ot<tt&&N[ot]==="EN"?"EN":"N";break;case"NSM":if(o&&!a){for(tt=N.length,ot=H+1;ot<tt&&N[ot]==="NSM";)ot++;if(ot<tt){var vt=k[H],_t=vt>=1425&&vt<=2303||vt===64286;if(rt=N[ot],_t&&(rt==="R"||rt==="AL")){at="R";break}}}at=H<1||(rt=N[H-1])==="B"?"N":M[H-1];break;case"B":A=!1,r=!0,at=I;break;case"S":s=!0,at="N"}return at},R=function(k,N,M){var H=k.split("");return M&&T(H,M,{hiLevel:I}),H.reverse(),N&&N.reverse(),H.join("")},T=function(k,N,M){var H,rt,ut,ot,tt,at=-1,vt=k.length,_t=0,B=[],Y=I?f:p,et=[];for(A=!1,r=!1,s=!1,rt=0;rt<vt;rt++)et[rt]=P(k[rt]);for(ut=0;ut<vt;ut++){if(tt=_t,B[ut]=G(k,et,B,ut),H=240&(_t=Y[tt][y[B[ut]]]),_t&=15,N[ut]=ot=Y[_t][5],H>0)if(H===16){for(rt=at;rt<ut;rt++)N[rt]=1;at=-1}else at=-1;if(Y[_t][6])at===-1&&(at=ut);else if(at>-1){for(rt=at;rt<ut;rt++)N[rt]=ot;at=-1}et[ut]==="B"&&(N[ut]=0),M.hiLevel|=ot}s&&function(Z,nt,ft){for(var yt=0;yt<ft;yt++)if(Z[yt]==="S"){nt[yt]=I;for(var wt=yt-1;wt>=0&&Z[wt]==="WS";wt--)nt[wt]=I}}(et,N,vt)},E=function(k,N,M,H,rt){if(!(rt.hiLevel<k)){if(k===1&&I===1&&!r)return N.reverse(),void(M&&M.reverse());for(var ut,ot,tt,at,vt=N.length,_t=0;_t<vt;){if(H[_t]>=k){for(tt=_t+1;tt<vt&&H[tt]>=k;)tt++;for(at=_t,ot=tt-1;at<ot;at++,ot--)ut=N[at],N[at]=N[ot],N[ot]=ut,M&&(ut=M[at],M[at]=M[ot],M[ot]=ut);_t=tt}_t++}}},D=function(k,N,M){var H=k.split(""),rt={hiLevel:I};return M||(M=[]),T(H,M,rt),function(ut,ot,tt){if(tt.hiLevel!==0&&c)for(var at,vt=0;vt<ut.length;vt++)ot[vt]===1&&(at=x.indexOf(ut[vt]))>=0&&(ut[vt]=x[at+1])}(H,M,rt),E(2,H,N,M,rt),E(1,H,N,M,rt),H.join("")};return this.__bidiEngine__.doBidiReorder=function(k,N,M){if(function(rt,ut){if(ut)for(var ot=0;ot<rt.length;ot++)ut[ot]=ot;a===void 0&&(a=F(rt)),u===void 0&&(u=F(rt))}(k,N),o||!l||u)if(o&&l&&a^u)I=a?1:0,k=R(k,N,M);else if(!o&&l&&u)I=a?1:0,k=D(k,N,M),k=R(k,N);else if(!o||a||l||u){if(o&&!l&&a^u)k=R(k,N),a?(I=0,k=D(k,N,M)):(I=1,k=D(k,N,M),k=R(k,N));else if(o&&a&&!l&&u)I=1,k=D(k,N,M),k=R(k,N);else if(!o&&!l&&a^u){var H=c;a?(I=1,k=D(k,N,M),I=0,c=!1,k=D(k,N,M),c=H):(I=0,k=D(k,N,M),k=R(k,N),I=1,c=!1,k=D(k,N,M),c=H,k=R(k,N))}}else I=0,k=D(k,N,M);else I=a?1:0,k=D(k,N,M);return k},this.__bidiEngine__.setOptions=function(k){k&&(o=k.isInputVisual,l=k.isOutputVisual,a=k.isInputRtl,u=k.isOutputRtl,c=k.isSymmetricSwapping)},this.__bidiEngine__.setOptions(i),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(i){var r=i.text;i.x,i.y;var s=i.options||{};i.mutex,s.lang;var o=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(r)==="[object Array]"){var a=0;for(o=[],a=0;a<r.length;a+=1)Object.prototype.toString.call(r[a])==="[object Array]"?o.push([n.doBidiReorder(r[a][0]),r[a][1],r[a][2]]):o.push([n.doBidiReorder(r[a])]);i.text=o}else i.text=n.doBidiReorder(r);n.setOptions({isInputVisual:!0})}])}(ee),ee.API.TTFFont=function(){function e(t){var n;if(this.rawData=t,n=this.contents=new iu(t),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new XZ(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new OZ(this.contents),this.head=new jZ(this),this.name=new WZ(this),this.cmap=new hM(this),this.toUnicode={},this.hhea=new VZ(this),this.maxp=new qZ(this),this.hmtx=new HZ(this),this.post=new UZ(this),this.os2=new BZ(this),this.loca=new YZ(this),this.glyf=new $Z(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,n,i,r,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,a,l,u;for(u=[],o=0,a=(l=this.bbox).length;o<a;o++)t=l[o],u.push(Math.round(t*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(i=255&(r=this.post.italic_angle),32768&(n=r>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+i)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var n;return((n=this.cmap.unicode)!=null?n.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*n},e.prototype.widthOfString=function(t,n,i){var r,s,o,a;for(o=0,s=0,a=(t=""+t).length;0<=a?s<a:s>a;s=0<=a?++s:--s)r=t.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(r))+i*(1e3/n)||0;return o*(n/1e3)},e.prototype.lineHeight=function(t,n){var i;return n==null&&(n=!1),i=n?this.lineGap:0,(this.ascender+i-this.decender)/1e3*t},e}();var yo,iu=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var n,i;for(i=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)i[n]=String.fromCharCode(this.readByte());return i.join("")},e.prototype.writeString=function(t){var n,i,r;for(r=[],n=0,i=t.length;0<=i?n<i:n>i;n=0<=i?++n:--n)r.push(this.writeByte(t.charCodeAt(n)));return r},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,n,i,r,s,o,a,l;return t=this.readByte(),n=this.readByte(),i=this.readByte(),r=this.readByte(),s=this.readByte(),o=this.readByte(),a=this.readByte(),l=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^n)+1099511627776*(255^i)+4294967296*(255^r)+16777216*(255^s)+65536*(255^o)+256*(255^a)+(255^l)+1):72057594037927940*t+281474976710656*n+1099511627776*i+4294967296*r+16777216*s+65536*o+256*a+l},e.prototype.writeLongLong=function(t){var n,i;return n=Math.floor(t/4294967296),i=4294967295&t,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(i>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var n,i;for(n=[],i=0;0<=t?i<t:i>t;i=0<=t?++i:--i)n.push(this.readByte());return n},e.prototype.write=function(t){var n,i,r,s;for(s=[],i=0,r=t.length;i<r;i++)n=t[i],s.push(this.writeByte(n));return s},e}(),OZ=function(){var e;function t(n){var i,r,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},r=0,s=this.tableCount;0<=s?r<s:r>s;r=0<=s?++r:--r)i={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[i.tag]=i}return t.prototype.encode=function(n){var i,r,s,o,a,l,u,c,h,p,f,y,_;for(_ in f=Object.keys(n).length,l=Math.log(2),h=16*Math.floor(Math.log(f)/l),o=Math.floor(h/l),c=16*f-h,(r=new iu).writeInt(this.scalarType),r.writeShort(f),r.writeShort(h),r.writeShort(o),r.writeShort(c),s=16*f,u=r.pos+s,a=null,y=[],n)for(p=n[_],r.writeString(_),r.writeInt(e(p)),r.writeInt(u),r.writeInt(p.length),y=y.concat(p),_==="head"&&(a=u),u+=p.length;u%4;)y.push(0),u++;return r.write(y),i=2981146554-e(r.data),r.pos=a+8,r.writeUInt32(i),r.data},e=function(n){var i,r,s,o;for(n=fM.call(n);n.length%4;)n.push(0);for(s=new iu(n),r=0,i=0,o=n.length;i<o;i=i+=4)r+=s.readUInt32();return 4294967295&r},t}(),FZ={}.hasOwnProperty,Yo=function(e,t){for(var n in t)FZ.call(t,n)&&(e[n]=t[n]);function i(){this.constructor=e}return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};yo=function(){function e(t){var n;this.file=t,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var jZ=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Yo(e,yo),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var n;return(n=new iu).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(t),n.writeShort(this.glyphDataFormat),n.data},e}(),r3=function(){function e(t,n){var i,r,s,o,a,l,u,c,h,p,f,y,_,x,v,A,I;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=n+t.readInt(),h=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=t.readByte();break;case 4:for(f=t.readUInt16(),p=f/2,t.pos+=6,s=function(){var P,F;for(F=[],l=P=0;0<=p?P<p:P>p;l=0<=p?++P:--P)F.push(t.readUInt16());return F}(),t.pos+=2,_=function(){var P,F;for(F=[],l=P=0;0<=p?P<p:P>p;l=0<=p?++P:--P)F.push(t.readUInt16());return F}(),u=function(){var P,F;for(F=[],l=P=0;0<=p?P<p:P>p;l=0<=p?++P:--P)F.push(t.readUInt16());return F}(),c=function(){var P,F;for(F=[],l=P=0;0<=p?P<p:P>p;l=0<=p?++P:--P)F.push(t.readUInt16());return F}(),r=(this.length-t.pos+this.offset)/2,a=function(){var P,F;for(F=[],l=P=0;0<=r?P<r:P>r;l=0<=r?++P:--P)F.push(t.readUInt16());return F}(),l=v=0,I=s.length;v<I;l=++v)for(x=s[l],i=A=y=_[l];y<=x?A<=x:A>=x;i=y<=x?++A:--A)c[l]===0?o=i+u[l]:(o=a[c[l]/2+(i-y)-(p-l)]||0)!==0&&(o+=u[l]),this.codeMap[i]=65535&o}t.pos=h}return e.encode=function(t,n){var i,r,s,o,a,l,u,c,h,p,f,y,_,x,v,A,I,P,F,G,R,T,E,D,k,N,M,H,rt,ut,ot,tt,at,vt,_t,B,Y,et,Z,nt,ft,yt,wt,At,Lt,Bt;switch(H=new iu,o=Object.keys(t).sort(function(Vt,Zt){return Vt-Zt}),n){case"macroman":for(_=0,x=function(){var Vt=[];for(y=0;y<256;++y)Vt.push(0);return Vt}(),A={0:0},s={},rt=0,at=o.length;rt<at;rt++)A[wt=t[r=o[rt]]]==null&&(A[wt]=++_),s[r]={old:t[r],new:A[t[r]]},x[r]=A[t[r]];return H.writeUInt16(1),H.writeUInt16(0),H.writeUInt32(12),H.writeUInt16(0),H.writeUInt16(262),H.writeUInt16(0),H.write(x),{charMap:s,subtable:H.data,maxGlyphID:_+1};case"unicode":for(N=[],h=[],I=0,A={},i={},v=u=null,ut=0,vt=o.length;ut<vt;ut++)A[F=t[r=o[ut]]]==null&&(A[F]=++I),i[r]={old:F,new:A[F]},a=A[F]-r,v!=null&&a===u||(v&&h.push(v),N.push(r),u=a),v=r;for(v&&h.push(v),h.push(65535),N.push(65535),D=2*(E=N.length),T=2*Math.pow(Math.log(E)/Math.LN2,2),p=Math.log(T/2)/Math.LN2,R=2*E-T,l=[],G=[],f=[],y=ot=0,_t=N.length;ot<_t;y=++ot){if(k=N[y],c=h[y],k===65535){l.push(0),G.push(0);break}if(k-(M=i[k].new)>=32768)for(l.push(0),G.push(2*(f.length+E-y)),r=tt=k;k<=c?tt<=c:tt>=c;r=k<=c?++tt:--tt)f.push(i[r].new);else l.push(M-k),G.push(0)}for(H.writeUInt16(3),H.writeUInt16(1),H.writeUInt32(12),H.writeUInt16(4),H.writeUInt16(16+8*E+2*f.length),H.writeUInt16(0),H.writeUInt16(D),H.writeUInt16(T),H.writeUInt16(p),H.writeUInt16(R),ft=0,B=h.length;ft<B;ft++)r=h[ft],H.writeUInt16(r);for(H.writeUInt16(0),yt=0,Y=N.length;yt<Y;yt++)r=N[yt],H.writeUInt16(r);for(At=0,et=l.length;At<et;At++)a=l[At],H.writeUInt16(a);for(Lt=0,Z=G.length;Lt<Z;Lt++)P=G[Lt],H.writeUInt16(P);for(Bt=0,nt=f.length;Bt<nt;Bt++)_=f[Bt],H.writeUInt16(_);return{charMap:i,subtable:H.data,maxGlyphID:I+1}}},e}(),hM=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Yo(e,yo),e.prototype.tag="cmap",e.prototype.parse=function(t){var n,i,r;for(t.pos=this.offset,this.version=t.readUInt16(),r=t.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)n=new r3(t,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},e.encode=function(t,n){var i,r;return n==null&&(n="macroman"),i=r3.encode(t,n),(r=new iu).writeUInt16(0),r.writeUInt16(1),i.table=r.data.concat(i.subtable),i},e}(),VZ=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Yo(e,yo),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),BZ=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Yo(e,yo),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var n,i;for(i=[],n=0;n<10;++n)i.push(t.readByte());return i}(),this.charRange=function(){var n,i;for(i=[],n=0;n<4;++n)i.push(t.readInt());return i}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var n,i;for(i=[],n=0;n<2;n=++n)i.push(t.readInt());return i}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),UZ=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Yo(e,yo),e.prototype.tag="post",e.prototype.parse=function(t){var n,i,r;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(i=t.readUInt16(),this.glyphNameIndex=[],s=0;0<=i?s<i:s>i;s=0<=i?++s:--s)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],r=[];t.pos<this.offset+this.length;)n=t.readByte(),r.push(this.names.push(t.readString(n)));return r;case 151552:return i=t.readUInt16(),this.offsets=t.read(i);case 262144:return this.map=(function(){var o,a,l;for(l=[],s=o=0,a=this.file.maxp.numGlyphs;0<=a?o<a:o>a;s=0<=a?++o:--o)l.push(t.readUInt32());return l}).call(this)}},e}(),zZ=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},WZ=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Yo(e,yo),e.prototype.tag="name",e.prototype.parse=function(t){var n,i,r,s,o,a,l,u,c,h,p;for(t.pos=this.offset,t.readShort(),n=t.readShort(),a=t.readShort(),i=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)i.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+a+t.readShort()});for(l={},s=c=0,h=i.length;c<h;s=++c)r=i[s],t.pos=r.offset,u=t.readString(r.length),o=new zZ(u,r),l[p=r.nameID]==null&&(l[p]=[]),l[r.nameID].push(o);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},e}(),qZ=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Yo(e,yo),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),HZ=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Yo(e,yo),e.prototype.tag="hmtx",e.prototype.parse=function(t){var n,i,r,s,o,a,l;for(t.pos=this.offset,this.metrics=[],n=0,a=this.file.hhea.numberOfMetrics;0<=a?n<a:n>a;n=0<=a?++n:--n)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(r=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,c;for(c=[],n=u=0;0<=r?u<r:u>r;n=0<=r?++u:--u)c.push(t.readInt16());return c}(),this.widths=(function(){var u,c,h,p;for(p=[],u=0,c=(h=this.metrics).length;u<c;u++)s=h[u],p.push(s.advance);return p}).call(this),i=this.widths[this.widths.length-1],l=[],n=o=0;0<=r?o<r:o>r;n=0<=r?++o:--o)l.push(this.widths.push(i));return l},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),fM=[].slice,$Z=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Yo(e,yo),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var n,i,r,s,o,a,l,u,c,h;return t in this.cache?this.cache[t]:(s=this.file.loca,n=this.file.contents,i=s.indexOf(t),(r=s.lengthOf(t))===0?this.cache[t]=null:(n.pos=this.offset+i,o=(a=new iu(n.read(r))).readShort(),u=a.readShort(),h=a.readShort(),l=a.readShort(),c=a.readShort(),this.cache[t]=o===-1?new KZ(a,u,h,l,c):new GZ(a,o,u,h,l,c),this.cache[t]))},e.prototype.encode=function(t,n,i){var r,s,o,a,l;for(o=[],s=[],a=0,l=n.length;a<l;a++)r=t[n[a]],s.push(o.length),r&&(o=o.concat(r.encode(i)));return s.push(o.length),{table:o,offsets:s}},e}(),GZ=function(){function e(t,n,i,r,s,o){this.raw=t,this.numberOfContours=n,this.xMin=i,this.yMin=r,this.xMax=s,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),KZ=function(){function e(t,n,i,r,s){var o,a;for(this.raw=t,this.xMin=n,this.yMin=i,this.xMax=r,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return e.prototype.encode=function(){var t,n,i;for(n=new iu(fM.call(this.raw.data)),t=0,i=this.glyphIDs.length;t<i;++t)n.pos=this.glyphOffsets[t];return n.data},e}(),YZ=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Yo(e,yo),e.prototype.tag="loca",e.prototype.parse=function(t){var n,i;return t.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var r,s;for(s=[],i=0,r=this.length;i<r;i+=2)s.push(2*t.readUInt16());return s}).call(this):(function(){var r,s;for(s=[],i=0,r=this.length;i<r;i+=4)s.push(t.readUInt32());return s}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,n){for(var i=new Uint32Array(this.offsets.length),r=0,s=0,o=0;o<i.length;++o)if(i[o]=r,s<n.length&&n[s]==o){++s,i[o]=r;var a=this.offsets[o],l=this.offsets[o+1]-a;l>0&&(r+=l)}for(var u=new Array(4*i.length),c=0;c<i.length;++c)u[4*c+3]=255&i[c],u[4*c+2]=(65280&i[c])>>8,u[4*c+1]=(16711680&i[c])>>16,u[4*c]=(4278190080&i[c])>>24;return u},e}(),XZ=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,n,i,r,s;for(n in r=this.font.cmap.tables[0].codeMap,t={},s=this.subset)i=s[n],t[n]=r[i];return t},e.prototype.glyphsFor=function(t){var n,i,r,s,o,a,l;for(r={},o=0,a=t.length;o<a;o++)r[s=t[o]]=this.font.glyf.glyphFor(s);for(s in n=[],r)(i=r[s])!=null&&i.compound&&n.push.apply(n,i.glyphIDs);if(n.length>0)for(s in l=this.glyphsFor(n))i=l[s],r[s]=i;return r},e.prototype.encode=function(t,n){var i,r,s,o,a,l,u,c,h,p,f,y,_,x,v;for(r in i=hM.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),f={0:0},v=i.charMap)f[(l=v[r]).old]=l.new;for(y in p=i.maxGlyphID,o)y in f||(f[y]=p++);return c=function(A){var I,P;for(I in P={},A)P[A[I]]=I;return P}(f),h=Object.keys(c).sort(function(A,I){return A-I}),_=function(){var A,I,P;for(P=[],A=0,I=h.length;A<I;A++)a=h[A],P.push(c[a]);return P}(),s=this.font.glyf.encode(o,_,f),u=this.font.loca.encode(s.offsets,_),x={cmap:this.font.cmap.raw(),glyf:s.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(x["OS/2"]=this.font.os2.raw()),this.font.directory.encode(x)},e}();ee.API.PDFObject=function(){var e;function t(){}return e=function(n,i){return(Array(i+1).join("0")+n).slice(-i)},t.convert=function(n){var i,r,s,o;if(Array.isArray(n))return"["+function(){var a,l,u;for(u=[],a=0,l=n.length;a<l;a++)i=n[a],u.push(t.convert(i));return u}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(r in s=["<<"],n)o=n[r],s.push("/"+r+" "+t.convert(o));return s.push(">>"),s.join(`
`)}return""+n},t}();function dM(e,t,n,i,r){i=i||{};var s=1.15,o=r.internal.scaleFactor,a=r.internal.getFontSize()/o,l=r.getLineHeightFactor?r.getLineHeightFactor():s,u=a*l,c=/\r\n|\r|\n/g,h="",p=1;if((i.valign==="middle"||i.valign==="bottom"||i.halign==="center"||i.halign==="right")&&(h=typeof e=="string"?e.split(c):e,p=h.length||1),n+=a*(2-s),i.valign==="middle"?n-=p/2*u:i.valign==="bottom"&&(n-=p*u),i.halign==="center"||i.halign==="right"){var f=a;if(i.halign==="center"&&(f*=.5),h&&p>=1){for(var y=0;y<h.length;y++)r.text(h[y],t-r.getStringUnitWidth(h[y])*f,n),n+=u;return r}t-=r.getStringUnitWidth(e)*f}return i.halign==="justify"?r.text(e,t,n,{maxWidth:i.maxWidth||100,align:"justify"}):r.text(e,t,n),r}var s3={},Eh=function(){function e(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(t,n){n===void 0&&(n=null),n?n.__autoTableDocumentDefaults=t:s3=t},e.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},e.prototype.applyStyles=function(t,n){var i,r,s;n===void 0&&(n=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var o=this.jsPDFDocument.internal.getFont(),a=o.fontStyle,l=o.fontName;if(t.font&&(l=t.font),t.fontStyle){a=t.fontStyle;var u=this.getFontList()[l];u&&u.indexOf(a)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(u[0]),a=u[0])}if(this.jsPDFDocument.setFont(l,a),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!n){var c=e.unifyColor(t.fillColor);c&&(i=this.jsPDFDocument).setFillColor.apply(i,c),c=e.unifyColor(t.textColor),c&&(r=this.jsPDFDocument).setTextColor.apply(r,c),c=e.unifyColor(t.lineColor),c&&(s=this.jsPDFDocument).setDrawColor.apply(s,c),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(t,n,i){return this.jsPDFDocument.splitTextToSize(t,n,i)},e.prototype.rect=function(t,n,i,r,s){return this.jsPDFDocument.rect(t,n,i,r,s)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return s3||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e}(),s_=function(e,t){return s_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(n[r]=i[r])},s_(e,t)};function pM(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");s_(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var gM=function(e){pM(t,e);function t(n){var i=e.call(this)||this;return i._element=n,i}return t}(Array);function QZ(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function JZ(e){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[e]}function t1(e,t,n){n.applyStyles(t,!0);var i=Array.isArray(e)?e:[e],r=i.map(function(s){return n.getTextWidth(s)}).reduce(function(s,o){return Math.max(s,o)},0);return r}function mM(e,t,n,i){var r=t.settings.tableLineWidth,s=t.settings.tableLineColor;e.applyStyles({lineWidth:r,lineColor:s});var o=yM(r,!1);o&&e.rect(n.x,n.y,t.getWidth(e.pageSize().width),i.y-n.y,o)}function yM(e,t){var n=e>0,i=t||t===0;return n&&i?"DF":n?"S":i?"F":null}function iy(e,t){var n,i,r,s;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(e.length===3)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(e.length===2)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e.length===1?e=e[0]:e=t}return typeof e=="object"?(typeof e.vertical=="number"&&(e.top=e.vertical,e.bottom=e.vertical),typeof e.horizontal=="number"&&(e.right=e.horizontal,e.left=e.horizontal),{left:(n=e.left)!==null&&n!==void 0?n:t,top:(i=e.top)!==null&&i!==void 0?i:t,right:(r=e.right)!==null&&r!==void 0?r:t,bottom:(s=e.bottom)!==null&&s!==void 0?s:t}):(typeof e!="number"&&(e=t),{top:e,right:e,bottom:e,left:e})}function vM(e,t){var n=iy(t.settings.margin,0);return e.pageSize().width-(n.left+n.right)}function ZZ(e,t,n,i,r){var s={},o=1.3333333333333333,a=Xv(t,function(I){return r.getComputedStyle(I).backgroundColor});a!=null&&(s.fillColor=a);var l=Xv(t,function(I){return r.getComputedStyle(I).color});l!=null&&(s.textColor=l);var u=ett(i,n);u&&(s.cellPadding=u);var c="borderTopColor",h=o*n,p=i.borderTopWidth;if(i.borderBottomWidth===p&&i.borderRightWidth===p&&i.borderLeftWidth===p){var f=(parseFloat(p)||0)/h;f&&(s.lineWidth=f)}else s.lineWidth={top:(parseFloat(i.borderTopWidth)||0)/h,right:(parseFloat(i.borderRightWidth)||0)/h,bottom:(parseFloat(i.borderBottomWidth)||0)/h,left:(parseFloat(i.borderLeftWidth)||0)/h},s.lineWidth.top||(s.lineWidth.right?c="borderRightColor":s.lineWidth.bottom?c="borderBottomColor":s.lineWidth.left&&(c="borderLeftColor"));var y=Xv(t,function(I){return r.getComputedStyle(I)[c]});y!=null&&(s.lineColor=y);var _=["left","right","center","justify"];_.indexOf(i.textAlign)!==-1&&(s.halign=i.textAlign),_=["middle","bottom","top"],_.indexOf(i.verticalAlign)!==-1&&(s.valign=i.verticalAlign);var x=parseInt(i.fontSize||"");isNaN(x)||(s.fontSize=x/o);var v=ttt(i);v&&(s.fontStyle=v);var A=(i.fontFamily||"").toLowerCase();return e.indexOf(A)!==-1&&(s.font=A),s}function ttt(e){var t="";return(e.fontWeight==="bold"||e.fontWeight==="bolder"||parseInt(e.fontWeight)>=700)&&(t="bold"),(e.fontStyle==="italic"||e.fontStyle==="oblique")&&(t+="italic"),t}function Xv(e,t){var n=_M(e,t);if(!n)return null;var i=n.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!i||!Array.isArray(i))return null;var r=[parseInt(i[1]),parseInt(i[2]),parseInt(i[3])],s=parseInt(i[4]);return s===0||isNaN(r[0])||isNaN(r[1])||isNaN(r[2])?null:r}function _M(e,t){var n=t(e);return n==="rgba(0, 0, 0, 0)"||n==="transparent"||n==="initial"||n==="inherit"?e.parentElement==null?null:_M(e.parentElement,t):n}function ett(e,t){var n=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],i=96/(72/t),r=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,s=n.map(function(a){return parseInt(a||"0")/i}),o=iy(s,0);return r>o.top&&(o.top=r),r>o.bottom&&(o.bottom=r),o}function wM(e,t,n,i,r){var s,o;i===void 0&&(i=!1),r===void 0&&(r=!1);var a;typeof t=="string"?a=n.document.querySelector(t):a=t;var l=Object.keys(e.getFontList()),u=e.scaleFactor(),c=[],h=[],p=[];if(!a)return console.error("Html table could not be found with input: ",t),{head:c,body:h,foot:p};for(var f=0;f<a.rows.length;f++){var y=a.rows[f],_=(o=(s=y==null?void 0:y.parentElement)===null||s===void 0?void 0:s.tagName)===null||o===void 0?void 0:o.toLowerCase(),x=ntt(l,u,n,y,i,r);x&&(_==="thead"?c.push(x):_==="tfoot"?p.push(x):h.push(x))}return{head:c,body:h,foot:p}}function ntt(e,t,n,i,r,s){for(var o=new gM(i),a=0;a<i.cells.length;a++){var l=i.cells[a],u=n.getComputedStyle(l);if(r||u.display!=="none"){var c=void 0;s&&(c=ZZ(e,l,t,u,n)),o.push({rowSpan:l.rowSpan,colSpan:l.colSpan,styles:c,_element:l,content:itt(l)})}}var h=n.getComputedStyle(i);if(o.length>0&&(r||h.display!=="none"))return o}function itt(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(n){return n.trim()}).join(`
`),t.innerText||t.textContent||""}function rtt(e,t,n){for(var i=0,r=[e,t,n];i<r.length;i++){var s=r[i];s&&typeof s!="object"&&console.error("The options parameter should be of type object, is: "+typeof s),s.startY&&typeof s.startY!="number"&&(console.error("Invalid value for startY option",s.startY),delete s.startY)}}function Ea(e,t,n,i,r){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(e),o=1;o<arguments.length;o++){var a=arguments[o];if(a!=null)for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[l]=a[l])}return s}function bM(e,t){var n=new Eh(e),i=n.getDocumentOptions(),r=n.getGlobalOptions();rtt(r,i,t);var s=Ea({},r,i,t),o;typeof window<"u"&&(o=window);var a=stt(r,i,t),l=ott(r,i,t),u=att(n,s),c=utt(n,s,o);return{id:t.tableId,content:c,hooks:l,styles:a,settings:u}}function stt(e,t,n){for(var i={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},r=function(l){if(l==="columnStyles"){var u=e[l],c=t[l],h=n[l];i.columnStyles=Ea({},u,c,h)}else{var p=[e,t,n],f=p.map(function(y){return y[l]||{}});i[l]=Ea({},f[0],f[1],f[2])}},s=0,o=Object.keys(i);s<o.length;s++){var a=o[s];r(a)}return i}function ott(e,t,n){for(var i=[e,t,n],r={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},s=0,o=i;s<o.length;s++){var a=o[s];a.didParseCell&&r.didParseCell.push(a.didParseCell),a.willDrawCell&&r.willDrawCell.push(a.willDrawCell),a.didDrawCell&&r.didDrawCell.push(a.didDrawCell),a.willDrawPage&&r.willDrawPage.push(a.willDrawPage),a.didDrawPage&&r.didDrawPage.push(a.didDrawPage)}return r}function att(e,t){var n,i,r,s,o,a,l,u,c,h,p,f,y=iy(t.margin,40/e.scaleFactor()),_=(n=ltt(e,t.startY))!==null&&n!==void 0?n:y.top,x;t.showFoot===!0?x="everyPage":t.showFoot===!1?x="never":x=(i=t.showFoot)!==null&&i!==void 0?i:"everyPage";var v;t.showHead===!0?v="everyPage":t.showHead===!1?v="never":v=(r=t.showHead)!==null&&r!==void 0?r:"everyPage";var A=(s=t.useCss)!==null&&s!==void 0?s:!1,I=t.theme||(A?"plain":"striped"),P=!!t.horizontalPageBreak,F=(o=t.horizontalPageBreakRepeat)!==null&&o!==void 0?o:null;return{includeHiddenHtml:(a=t.includeHiddenHtml)!==null&&a!==void 0?a:!1,useCss:A,theme:I,startY:_,margin:y,pageBreak:(l=t.pageBreak)!==null&&l!==void 0?l:"auto",rowPageBreak:(u=t.rowPageBreak)!==null&&u!==void 0?u:"auto",tableWidth:(c=t.tableWidth)!==null&&c!==void 0?c:"auto",showHead:v,showFoot:x,tableLineWidth:(h=t.tableLineWidth)!==null&&h!==void 0?h:0,tableLineColor:(p=t.tableLineColor)!==null&&p!==void 0?p:200,horizontalPageBreak:P,horizontalPageBreakRepeat:F,horizontalPageBreakBehaviour:(f=t.horizontalPageBreakBehaviour)!==null&&f!==void 0?f:"afterAllRows"}}function ltt(e,t){var n=e.getLastAutoTable(),i=e.scaleFactor(),r=e.pageNumber(),s=!1;if(n&&n.startPageNumber){var o=n.startPageNumber+n.pageNumber-1;s=o===r}return typeof t=="number"?t:(t==null||t===!1)&&s&&(n==null?void 0:n.finalY)!=null?n.finalY+20/i:null}function utt(e,t,n){var i=t.head||[],r=t.body||[],s=t.foot||[];if(t.html){var o=t.includeHiddenHtml;if(n){var a=wM(e,t.html,n,o,t.useCss)||{};i=a.head||i,r=a.body||i,s=a.foot||i}else console.error("Cannot parse html in non browser environment")}var l=t.columns||ctt(i,r,s);return{columns:l,head:i,body:r,foot:s}}function ctt(e,t,n){var i=e[0]||t[0]||n[0]||[],r=[];return Object.keys(i).filter(function(s){return s!=="_element"}).forEach(function(s){var o=1,a;Array.isArray(i)?a=i[parseInt(s)]:a=i[s],typeof a=="object"&&!Array.isArray(a)&&(o=(a==null?void 0:a.colSpan)||1);for(var l=0;l<o;l++){var u=void 0;Array.isArray(i)?u=r.length:u=s+(l>0?"_".concat(l):"");var c={dataKey:u};r.push(c)}}),r}var o_=function(){function e(t,n,i){this.table=n,this.pageNumber=n.pageNumber,this.settings=n.settings,this.cursor=i,this.doc=t.getDocument()}return e}(),htt=function(e){pM(t,e);function t(n,i,r,s,o,a){var l=e.call(this,n,i,a)||this;return l.cell=r,l.row=s,l.column=o,l.section=s.section,l}return t}(o_),ftt=function(){function e(t,n){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=n.columns,this.head=n.head,this.body=n.body,this.foot=n.foot}return e.prototype.getHeadHeight=function(t){return this.head.reduce(function(n,i){return n+i.getMaxCellHeight(t)},0)},e.prototype.getFootHeight=function(t){return this.foot.reduce(function(n,i){return n+i.getMaxCellHeight(t)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(t,n,i,r,s,o){for(var a=0,l=n;a<l.length;a++){var u=l[a],c=new htt(t,this,i,r,s,o),h=u(c)===!1;if(i.text=Array.isArray(i.text)?i.text:[i.text],h)return!1}return!0},e.prototype.callEndPageHooks=function(t,n){t.applyStyles(t.userStyles);for(var i=0,r=this.hooks.didDrawPage;i<r.length;i++){var s=r[i];s(new o_(t,this,n))}},e.prototype.callWillDrawPageHooks=function(t,n){for(var i=0,r=this.hooks.willDrawPage;i<r.length;i++){var s=r[i];s(new o_(t,this,n))}},e.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var n=this.columns.reduce(function(r,s){return r+s.wrappedWidth},0);return n}else{var i=this.settings.margin;return t-i.left-i.right}},e}(),xM=function(){function e(t,n,i,r,s){s===void 0&&(s=!1),this.height=0,this.raw=t,t instanceof gM&&(this.raw=t._element,this.element=t._element),this.index=n,this.section=i,this.cells=r,this.spansMultiplePages=s}return e.prototype.getMaxCellHeight=function(t){var n=this;return t.reduce(function(i,r){var s;return Math.max(i,((s=n.cells[r.index])===null||s===void 0?void 0:s.height)||0)},0)},e.prototype.hasRowSpan=function(t){var n=this;return t.filter(function(i){var r=n.cells[i.index];return r?r.rowSpan>1:!1}).length>0},e.prototype.canEntireRowFit=function(t,n){return this.getMaxCellHeight(n)<=t},e.prototype.getMinimumRowHeight=function(t,n){var i=this;return t.reduce(function(r,s){var o=i.cells[s.index];if(!o)return 0;var a=n.getLineHeight(o.styles.fontSize),l=o.padding("vertical"),u=l+a;return u>r?u:r},0)},e}(),SM=function(){function e(t,n,i){var r;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=n,this.section=i,this.raw=t;var s=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,s=(r=t.content)!==null&&r!==void 0?r:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var o=s!=null?""+s:"",a=/\r\n|\r|\n/g;this.text=o.split(a)}return e.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var n=this.height-this.padding("vertical");t=this.y+n/2+this.padding("top")}var i;if(this.styles.halign==="right")i=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var r=this.width-this.padding("horizontal");i=this.x+r/2+this.padding("left")}else i=this.x+this.padding("left");return{x:i,y:t}},e.prototype.getContentHeight=function(t,n){n===void 0&&(n=1.15);var i=Array.isArray(this.text)?this.text.length:1,r=this.styles.fontSize/t*n,s=i*r+this.padding("vertical");return Math.max(s,this.styles.minCellHeight)},e.prototype.padding=function(t){var n=iy(this.styles.cellPadding,0);return t==="vertical"?n.top+n.bottom:t==="horizontal"?n.left+n.right:n[t]},e}(),dtt=function(){function e(t,n,i){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=n,this.index=i}return e.prototype.getMaxCustomCellWidth=function(t){for(var n=0,i=0,r=t.allRows();i<r.length;i++){var s=r[i],o=s.cells[this.index];o&&typeof o.styles.cellWidth=="number"&&(n=Math.max(n,o.styles.cellWidth))}return n},e}();function ptt(e,t){gtt(e,t);var n=[],i=0;t.columns.forEach(function(s){var o=s.getMaxCustomCellWidth(t);o?s.width=o:(s.width=s.wrappedWidth,n.push(s)),i+=s.width});var r=t.getWidth(e.pageSize().width)-i;r&&(r=a_(n,r,function(s){return Math.max(s.minReadableWidth,s.minWidth)})),r&&(r=a_(n,r,function(s){return s.minWidth})),r=Math.abs(r),!t.settings.horizontalPageBreak&&r>.1/e.scaleFactor()&&(r=r<1?r:Math.round(r),console.log("Of the table content, ".concat(r," units width could not fit page"))),ytt(t),vtt(t,e),mtt(t)}function gtt(e,t){var n=e.scaleFactor(),i=t.settings.horizontalPageBreak,r=vM(e,t);t.allRows().forEach(function(s){for(var o=0,a=t.columns;o<a.length;o++){var l=a[o],u=s.cells[l.index];if(u){var c=t.hooks.didParseCell;t.callCellHooks(e,c,u,s,l,null);var h=u.padding("horizontal");u.contentWidth=t1(u.text,u.styles,e)+h;var p=t1(u.text.join(" ").split(/[^\S\u00A0]+/),u.styles,e);if(u.minReadableWidth=p+u.padding("horizontal"),typeof u.styles.cellWidth=="number")u.minWidth=u.styles.cellWidth,u.wrappedWidth=u.styles.cellWidth;else if(u.styles.cellWidth==="wrap"||i===!0)u.contentWidth>r?(u.minWidth=r,u.wrappedWidth=r):(u.minWidth=u.contentWidth,u.wrappedWidth=u.contentWidth);else{var f=10/n;u.minWidth=u.styles.minCellWidth||f,u.wrappedWidth=u.contentWidth,u.minWidth>u.wrappedWidth&&(u.wrappedWidth=u.minWidth)}}}}),t.allRows().forEach(function(s){for(var o=0,a=t.columns;o<a.length;o++){var l=a[o],u=s.cells[l.index];if(u&&u.colSpan===1)l.wrappedWidth=Math.max(l.wrappedWidth,u.wrappedWidth),l.minWidth=Math.max(l.minWidth,u.minWidth),l.minReadableWidth=Math.max(l.minReadableWidth,u.minReadableWidth);else{var c=t.styles.columnStyles[l.dataKey]||t.styles.columnStyles[l.index]||{},h=c.cellWidth||c.minCellWidth;h&&typeof h=="number"&&(l.minWidth=h,l.wrappedWidth=h)}u&&(u.colSpan>1&&!l.minWidth&&(l.minWidth=u.minWidth),u.colSpan>1&&!l.wrappedWidth&&(l.wrappedWidth=u.minWidth))}})}function a_(e,t,n){for(var i=t,r=e.reduce(function(f,y){return f+y.wrappedWidth},0),s=0;s<e.length;s++){var o=e[s],a=o.wrappedWidth/r,l=i*a,u=o.width+l,c=n(o),h=u<c?c:u;t-=h-o.width,o.width=h}if(t=Math.round(t*1e10)/1e10,t){var p=e.filter(function(f){return t<0?f.width>n(f):!0});p.length&&(t=a_(p,t,n))}return t}function mtt(e){for(var t={},n=1,i=e.allRows(),r=0;r<i.length;r++)for(var s=i[r],o=0,a=e.columns;o<a.length;o++){var l=a[o],u=t[l.index];if(n>1)n--,delete s.cells[l.index];else if(u)u.cell.height+=s.height,n=u.cell.colSpan,delete s.cells[l.index],u.left--,u.left<=1&&delete t[l.index];else{var c=s.cells[l.index];if(!c)continue;if(c.height=s.height,c.rowSpan>1){var h=i.length-r,p=c.rowSpan>h?h:c.rowSpan;t[l.index]={cell:c,left:p,row:s}}}}}function ytt(e){for(var t=e.allRows(),n=0;n<t.length;n++)for(var i=t[n],r=null,s=0,o=0,a=0;a<e.columns.length;a++){var l=e.columns[a];if(o-=1,o>1&&e.columns[a+1])s+=l.width,delete i.cells[l.index];else if(r){var u=r;delete i.cells[l.index],r=null,u.width=l.width+s}else{var u=i.cells[l.index];if(!u)continue;if(o=u.colSpan,s=0,u.colSpan>1){r=u,s+=l.width;continue}u.width=l.width+s}}}function vtt(e,t){for(var n={count:0,height:0},i=0,r=e.allRows();i<r.length;i++){for(var s=r[i],o=0,a=e.columns;o<a.length;o++){var l=a[o],u=s.cells[l.index];if(u){t.applyStyles(u.styles,!0);var c=u.width-u.padding("horizontal");if(u.styles.overflow==="linebreak")u.text=t.splitTextToSize(u.text,c+1/t.scaleFactor(),{fontSize:u.styles.fontSize});else if(u.styles.overflow==="ellipsize")u.text=o3(u.text,c,u.styles,t,"...");else if(u.styles.overflow==="hidden")u.text=o3(u.text,c,u.styles,t,"");else if(typeof u.styles.overflow=="function"){var h=u.styles.overflow(u.text,c);typeof h=="string"?u.text=[h]:u.text=h}u.contentHeight=u.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var p=u.contentHeight/u.rowSpan;u.rowSpan>1&&n.count*n.height<p*u.rowSpan?n={height:p,count:u.rowSpan}:n&&n.count>0&&n.height>p&&(p=n.height),p>s.height&&(s.height=p)}}n.count--}}function o3(e,t,n,i,r){return e.map(function(s){return _tt(s,t,n,i,r)})}function _tt(e,t,n,i,r){var s=1e4*i.scaleFactor();if(t=Math.ceil(t*s)/s,t>=t1(e,n,i))return e;for(;t<t1(e+r,n,i)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+r}function AM(e,t){var n=new Eh(e),i=wtt(t,n.scaleFactor()),r=new ftt(t,i);return ptt(n,r),n.applyStyles(n.userStyles),r}function wtt(e,t){var n=e.content,i=xtt(n.columns);if(n.head.length===0){var r=a3(i,"head");r&&n.head.push(r)}if(n.foot.length===0){var r=a3(i,"foot");r&&n.foot.push(r)}var s=e.settings.theme,o=e.styles;return{columns:i,head:Qv("head",n.head,i,o,s,t),body:Qv("body",n.body,i,o,s,t),foot:Qv("foot",n.foot,i,o,s,t)}}function Qv(e,t,n,i,r,s){var o={},a=t.map(function(l,u){for(var c=0,h={},p=0,f=0,y=0,_=n;y<_.length;y++){var x=_[y];if(o[x.index]==null||o[x.index].left===0)if(f===0){var v=void 0;Array.isArray(l)?v=l[x.index-p-c]:v=l[x.dataKey];var A={};typeof v=="object"&&!Array.isArray(v)&&(A=(v==null?void 0:v.styles)||{});var I=Stt(e,x,u,r,i,s,A),P=new SM(v,I,e);h[x.dataKey]=P,h[x.index]=P,f=P.colSpan-1,o[x.index]={left:P.rowSpan-1,times:f}}else f--,p++;else o[x.index].left--,f=o[x.index].times,c++}return new xM(l,u,e,h)});return a}function a3(e,t){var n={};return e.forEach(function(i){if(i.raw!=null){var r=btt(t,i.raw);r!=null&&(n[i.dataKey]=r)}}),Object.keys(n).length>0?n:null}function btt(e,t){if(e==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(e==="foot"&&typeof t=="object")return t.footer;return null}function xtt(e){return e.map(function(t,n){var i,r;return typeof t=="object"?r=(i=t.dataKey)!==null&&i!==void 0?i:n:r=n,new dtt(r,t,n)})}function Stt(e,t,n,i,r,s,o){var a=JZ(i),l;e==="head"?l=r.headStyles:e==="body"?l=r.bodyStyles:e==="foot"&&(l=r.footStyles);var u=Ea({},a.table,a[e],r.styles,l),c=r.columnStyles[t.dataKey]||r.columnStyles[t.index]||{},h=e==="body"?c:{},p=e==="body"&&n%2===0?Ea({},a.alternateRow,r.alternateRowStyles):{},f=QZ(s),y=Ea({},f,u,p,h);return Ea(y,o)}function Att(e,t,n){var i;n===void 0&&(n={});var r=vM(e,t),s=new Map,o=[],a=[],l=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?l=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(l=[t.settings.horizontalPageBreakRepeat]),l.forEach(function(p){var f=t.columns.find(function(y){return y.dataKey===p||y.index===p});f&&!s.has(f.index)&&(s.set(f.index,!0),o.push(f.index),a.push(t.columns[f.index]),r-=f.wrappedWidth)});for(var u=!0,c=(i=n==null?void 0:n.start)!==null&&i!==void 0?i:0;c<t.columns.length;){if(s.has(c)){c++;continue}var h=t.columns[c].wrappedWidth;if(u||r>=h)u=!1,o.push(c),a.push(t.columns[c]),r-=h;else break;c++}return{colIndexes:o,columns:a,lastIndex:c-1}}function Ttt(e,t){for(var n=[],i=0;i<t.columns.length;i++){var r=Att(e,t,{start:i});r.columns.length&&(n.push(r),i=r.lastIndex)}return n}function TM(e,t){var n=t.settings,i=n.startY,r=n.margin,s={x:r.left,y:i},o=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),a=i+r.bottom+o;if(n.pageBreak==="avoid"){var l=t.body,u=l.reduce(function(p,f){return p+f.height},0);a+=u}var c=new Eh(e);(n.pageBreak==="always"||n.startY!=null&&a>c.pageSize().height)&&(EM(c),s.y=r.top),t.callWillDrawPageHooks(c,s);var h=Ea({},s);t.startPageNumber=c.pageNumber(),n.horizontalPageBreak?ktt(c,t,h,s):(c.applyStyles(c.userStyles),(n.showHead==="firstPage"||n.showHead==="everyPage")&&t.head.forEach(function(p){return za(c,t,p,s,t.columns)}),c.applyStyles(c.userStyles),t.body.forEach(function(p,f){var y=f===t.body.length-1;e1(c,t,p,y,h,s,t.columns)}),c.applyStyles(c.userStyles),(n.showFoot==="lastPage"||n.showFoot==="everyPage")&&t.foot.forEach(function(p){return za(c,t,p,s,t.columns)})),mM(c,t,h,s),t.callEndPageHooks(c,s),t.finalY=s.y,e.lastAutoTable=t,c.applyStyles(c.userStyles)}function ktt(e,t,n,i){var r=Ttt(e,t),s=t.settings;if(s.horizontalPageBreakBehaviour==="afterAllRows")r.forEach(function(u,c){e.applyStyles(e.userStyles),c>0?Dd(e,t,n,i,u.columns,!0):l3(e,t,i,u.columns),Ett(e,t,n,i,u.columns),Jv(e,t,i,u.columns)});else for(var o=-1,a=r[0],l=function(){var u=o;if(a){e.applyStyles(e.userStyles);var c=a.columns;o>=0?Dd(e,t,n,i,c,!0):l3(e,t,i,c),u=u3(e,t,o+1,i,c),Jv(e,t,i,c)}var h=u-o;r.slice(1).forEach(function(p){e.applyStyles(e.userStyles),Dd(e,t,n,i,p.columns,!0),u3(e,t,o+1,i,p.columns,h),Jv(e,t,i,p.columns)}),o=u};o<t.body.length-1;)l()}function l3(e,t,n,i){var r=t.settings;e.applyStyles(e.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&t.head.forEach(function(s){return za(e,t,s,n,i)})}function Ett(e,t,n,i,r){e.applyStyles(e.userStyles),t.body.forEach(function(s,o){var a=o===t.body.length-1;e1(e,t,s,a,n,i,r)})}function u3(e,t,n,i,r,s){e.applyStyles(e.userStyles),s=s??t.body.length;var o=Math.min(n+s,t.body.length),a=-1;return t.body.slice(n,o).forEach(function(l,u){var c=n+u===t.body.length-1,h=kM(e,t,c,i);l.canEntireRowFit(h,r)&&(za(e,t,l,i,r),a=n+u)}),a}function Jv(e,t,n,i){var r=t.settings;e.applyStyles(e.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&t.foot.forEach(function(s){return za(e,t,s,n,i)})}function Ptt(e,t,n){var i=n.getLineHeight(e.styles.fontSize),r=e.padding("vertical"),s=Math.floor((t-r)/i);return Math.max(0,s)}function Itt(e,t,n,i){var r={};e.spansMultiplePages=!0,e.height=0;for(var s=0,o=0,a=n.columns;o<a.length;o++){var l=a[o],u=e.cells[l.index];if(u){Array.isArray(u.text)||(u.text=[u.text]);var c=new SM(u.raw,u.styles,u.section);c=Ea(c,u),c.text=[];var h=Ptt(u,t,i);u.text.length>h&&(c.text=u.text.splice(h,u.text.length));var p=i.scaleFactor(),f=i.getLineHeightFactor();u.contentHeight=u.getContentHeight(p,f),u.contentHeight>=t&&(u.contentHeight=t,c.styles.minCellHeight-=t),u.contentHeight>e.height&&(e.height=u.contentHeight),c.contentHeight=c.getContentHeight(p,f),c.contentHeight>s&&(s=c.contentHeight),r[l.index]=c}}var y=new xM(e.raw,-1,e.section,r,!0);y.height=s;for(var _=0,x=n.columns;_<x.length;_++){var l=x[_],c=y.cells[l.index];c&&(c.height=y.height);var u=e.cells[l.index];u&&(u.height=e.height)}return y}function Ctt(e,t,n,i){var r=e.pageSize().height,s=i.settings.margin,o=s.top+s.bottom,a=r-o;t.section==="body"&&(a-=i.getHeadHeight(i.columns)+i.getFootHeight(i.columns));var l=t.getMinimumRowHeight(i.columns,e),u=l<n;if(l>a)return console.log("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!u)return!1;var c=t.hasRowSpan(i.columns),h=t.getMaxCellHeight(i.columns)>a;return h?(c&&console.log("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(c||i.settings.rowPageBreak==="avoid")}function e1(e,t,n,i,r,s,o){var a=kM(e,t,i,s);if(n.canEntireRowFit(a,o))za(e,t,n,s,o);else if(Ctt(e,n,a,t)){var l=Itt(n,a,t,e);za(e,t,n,s,o),Dd(e,t,r,s,o),e1(e,t,l,i,r,s,o)}else Dd(e,t,r,s,o),e1(e,t,n,i,r,s,o)}function za(e,t,n,i,r){i.x=t.settings.margin.left;for(var s=0,o=r;s<o.length;s++){var a=o[s],l=n.cells[a.index];if(!l){i.x+=a.width;continue}e.applyStyles(l.styles),l.x=i.x,l.y=i.y;var u=t.callCellHooks(e,t.hooks.willDrawCell,l,n,a,i);if(u===!1){i.x+=a.width;continue}Ntt(e,l,i);var c=l.getTextPos();dM(l.text,c.x,c.y,{halign:l.styles.halign,valign:l.styles.valign,maxWidth:Math.ceil(l.width-l.padding("left")-l.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,l,n,a,i),i.x+=a.width}i.y+=n.height}function Ntt(e,t,n){var i=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),typeof i.lineWidth=="number"){var r=yM(i.lineWidth,i.fillColor);r&&e.rect(t.x,n.y,t.width,t.height,r)}else typeof i.lineWidth=="object"&&(i.fillColor&&e.rect(t.x,n.y,t.width,t.height,"F"),Ltt(e,t,n,i.lineWidth))}function Ltt(e,t,n,i){var r,s,o,a;i.top&&(r=n.x,s=n.y,o=n.x+t.width,a=n.y,i.right&&(o+=.5*i.right),i.left&&(r-=.5*i.left),l(i.top,r,s,o,a)),i.bottom&&(r=n.x,s=n.y+t.height,o=n.x+t.width,a=n.y+t.height,i.right&&(o+=.5*i.right),i.left&&(r-=.5*i.left),l(i.bottom,r,s,o,a)),i.left&&(r=n.x,s=n.y,o=n.x,a=n.y+t.height,i.top&&(s-=.5*i.top),i.bottom&&(a+=.5*i.bottom),l(i.left,r,s,o,a)),i.right&&(r=n.x+t.width,s=n.y,o=n.x+t.width,a=n.y+t.height,i.top&&(s-=.5*i.top),i.bottom&&(a+=.5*i.bottom),l(i.right,r,s,o,a));function l(u,c,h,p,f){e.getDocument().setLineWidth(u),e.getDocument().line(c,h,p,f,"S")}}function kM(e,t,n,i){var r=t.settings.margin.bottom,s=t.settings.showFoot;return(s==="everyPage"||s==="lastPage"&&n)&&(r+=t.getFootHeight(t.columns)),e.pageSize().height-i.y-r}function Dd(e,t,n,i,r,s){r===void 0&&(r=[]),s===void 0&&(s=!1),e.applyStyles(e.userStyles),t.settings.showFoot==="everyPage"&&!s&&t.foot.forEach(function(a){return za(e,t,a,i,r)}),t.callEndPageHooks(e,i);var o=t.settings.margin;mM(e,t,n,i),EM(e),t.pageNumber++,i.x=o.left,i.y=o.top,n.y=o.top,t.callWillDrawPageHooks(e,i),t.settings.showHead==="everyPage"&&(t.head.forEach(function(a){return za(e,t,a,i,r)}),e.applyStyles(e.userStyles))}function EM(e){var t=e.pageNumber();e.setPage(t+1);var n=e.pageNumber();return n===t?(e.addPage(),!0):!1}function Rtt(e){e.API.autoTable=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=t[0],r=bM(this,i),s=AM(this,r);return TM(this,s),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(t,n,i,r){dM(t,n,i,r,this)},e.API.autoTableSetDefaults=function(t){return Eh.setDefaults(t,this),this},e.autoTableSetDefaults=function(t,n){Eh.setDefaults(t,n)},e.API.autoTableHtmlToJson=function(t,n){var i;if(n===void 0&&(n=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var r=new Eh(this),s=wM(r,t,window,n,!1),o=s.head,a=s.body,l=((i=o[0])===null||i===void 0?void 0:i.map(function(u){return u.content}))||[];return{columns:l,rows:a,data:a}}}var Zv;function PM(e,t){var n=bM(e,t),i=AM(e,n);TM(e,i)}try{if(typeof window<"u"&&window){var c3=window,h3=c3.jsPDF||((Zv=c3.jspdf)===null||Zv===void 0?void 0:Zv.jsPDF);h3&&Rtt(h3)}}catch(e){console.error("Could not apply autoTable plugin",e)}const Mtt=(e,t,n,i)=>{const r=new ee,s=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],o=`Laporan Transaksi - ${s[n]} ${i}`;r.setFontSize(22),r.setTextColor(19,236,91),r.text("MyFinancial",14,20),r.setFontSize(10),r.setTextColor(100),r.text(`User: ${e.displayName||e.email}`,14,28),r.text(`Waktu Cetak: ${new Date().toLocaleString()}`,14,33),r.setFontSize(16),r.setTextColor(0),r.text(o,14,45);const a=t.filter(f=>{const y=new Date(f.date);return y.getMonth()===n&&y.getFullYear()===i}),l=a.map(f=>[new Date(f.date).toLocaleDateString("id-ID"),f.type==="income"?"Pemasukan":f.type==="transfer"?"Transfer":"Pengeluaran",f.category||f.note||"Lainnya",f.note||"-",new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(f.amount)]);PM(r,{startY:55,head:[["Tanggal","Tipe","Kategori","Catatan","Nominal"]],body:l,theme:"striped",headStyles:{fillStyle:[19,236,91],textColor:[255,255,255]},styles:{fontSize:9}});const u=a.filter(f=>f.type==="income").reduce((f,y)=>f+Number(y.amount),0),c=a.filter(f=>f.type==="expense").reduce((f,y)=>f+Number(y.amount),0),h=r.lastAutoTable.finalY+10;r.setFontSize(12),r.text(`Total Pemasukan: ${new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(u)}`,14,h),r.text(`Total Pengeluaran: ${new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(c)}`,14,h+7),r.setFontSize(14);const p=u>=c?[19,236,91]:[248,113,113];r.setTextColor(p[0],p[1],p[2]),r.text(`Net Income: ${new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(u-c)}`,14,h+16),r.save(`MyFinancial_Report_${s[n]}_${i}.pdf`)},Dtt=(e,t,n)=>{const i=new ee,r=`Ringkasan Keuangan Tahunan - ${n}`;i.setFontSize(22),i.setTextColor(19,236,91),i.text("MyFinancial",14,20),i.setFontSize(10),i.setTextColor(100),i.text(`User: ${e.displayName||e.email}`,14,28),i.setFontSize(16),i.setTextColor(0),i.text(r,14,45);const s=Array(12).fill(0).map((l,u)=>({month:u,income:0,expense:0}));t.forEach(l=>{const u=new Date(l.date);if(u.getFullYear()===n){const c=u.getMonth();l.type==="income"&&(s[c].income+=Number(l.amount)),l.type==="expense"&&(s[c].expense+=Number(l.amount))}});const o=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],a=s.map(l=>[o[l.month],new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(l.income),new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(l.expense),new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(l.income-l.expense)]);PM(i,{startY:55,head:[["Bulan","Total Pemasukan","Total Pengeluaran","Net"]],body:a,theme:"grid",headStyles:{fillColor:[19,236,91]}}),i.save(`MyFinancial_Summary_${n}.pdf`)};function Ott(){const[e,t]=kt.useState(null),[n,i]=kt.useState(!0),[r,s]=kt.useState("home"),[o,a]=kt.useState(!1),[l,u]=kt.useState("expense"),[c,h]=kt.useState(!1),[p,f]=kt.useState(null),[y,_]=kt.useState(null),[x,v]=kt.useState(!1),[A,I]=kt.useState([]),[P,F]=kt.useState([]),[G,R]=kt.useState([]),[T,E]=kt.useState(null),[D,k]=kt.useState(new Date().getMonth()),[N,M]=kt.useState(new Date().getFullYear()),H=async Z=>{if(e)try{Z.id?await rQ(e.uid,Z.id,y,Z):await wR(e.uid,Z),a(!1),_(null)}catch(nt){throw console.error("Save failed:",nt),nt}},rt=async Z=>{if(e)try{await bR(e.uid,Z),a(!1),_(null)}catch(nt){throw console.error("Delete failed:",nt),nt}},ut=Z=>{_(Z),a(!0)},ot=async Z=>{if(e)try{Z.id?await QX(e.uid,Z.id,{name:Z.name,balance:Z.balance,type:Z.type}):await Ev(e.uid,Z),h(!1),f(null)}catch(nt){console.error("Failed to save wallet:",nt)}},tt=async Z=>{if(e)try{await JX(e.uid,Z)}catch(nt){console.error("Failed to delete wallet:",nt)}},at=Z=>{f(Z),h(!0)},vt=async()=>{try{await YX(),t(null),s("home")}catch(Z){console.error("Logout failed:",Z)}},_t=async Z=>{if(e)try{Z.id?await eQ(e.uid,Z.id,Z):await tQ(e.uid,Z),v(!1),E(null)}catch(nt){throw console.error("Failed to save budget:",nt),nt}},B=Z=>{E(Z),v(!0)},Y=async Z=>{if(e)try{await nQ(e.uid,Z),v(!1),E(null)}catch(nt){throw console.error("Failed to delete budget:",nt),nt}};if(kt.useEffect(()=>{if(!e)return;const Z=XX(e.uid,yt=>{I(yt),yt.length===0&&!e.uid.startsWith("guest_")&&(Ev(e.uid,{name:"Uang Tunai",balance:0,type:"cash"}),Ev(e.uid,{name:"Tabungan Utama",balance:0,type:"saving"}))}),nt=iQ(e.uid,yt=>F(yt)),ft=ZX(e.uid,yt=>R(yt));return()=>{Z(),nt(),ft()}},[e]),kt.useEffect(()=>{const Z=$X(t,i);return()=>Z&&Z()},[]),n)return V.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background-dark",children:V.jsx("div",{className:"size-12 border-4 border-primary border-t-transparent rounded-full animate-spin"})});if(!e)return V.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center p-6 text-center space-y-8",children:[V.jsxs("div",{className:"space-y-2",children:[V.jsx("h1",{className:"text-4xl font-bold text-white",children:"MyFinancial"}),V.jsx("p",{className:"text-slate-400",children:"Atur keuangan pribadi dengan lebih cerdas dan bergaya."})]}),V.jsxs("div",{className:"flex flex-col w-full max-w-xs gap-4",children:[V.jsxs("button",{onClick:async()=>{const Z=await GX();Z&&t(Z)},className:"w-full bg-white text-black font-bold py-4 rounded-2xl flex items-center justify-center gap-3 hover:scale-105 transition-transform active:scale-95",children:[V.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"24",height:"24",viewBox:"0 0 48 48",children:[V.jsx("path",{fill:"#FFC107",d:"M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"}),V.jsx("path",{fill:"#FF3D00",d:"M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"}),V.jsx("path",{fill:"#4CAF50",d:"M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"}),V.jsx("path",{fill:"#1976D2",d:"M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"})]}),"Masuk dengan Google"]}),V.jsx("button",{onClick:()=>t(KX()),className:"w-full bg-primary/10 text-primary border border-primary/20 font-bold py-4 rounded-2xl flex items-center justify-center gap-3 hover:bg-primary/20 transition-all active:scale-95",children:"Coba Demo (Tanpa Login)"})]})]});const et=(Z="expense")=>{_(null),u(Z),a(!0)};return V.jsxs(V.Fragment,{children:[V.jsxs(t7,{user:e,activeTab:r,setActiveTab:s,onAddClick:()=>et("expense"),children:[r==="home"&&V.jsx(tq,{wallets:A,transactions:P,budgets:G,onSeeAllTransactions:()=>s("history"),onIsiSaldo:()=>{u("income"),a(!0)},onTransfer:()=>{u("transfer"),a(!0)},setActiveTab:s}),r==="history"&&V.jsx(rq,{transactions:P,budgets:G,onBack:()=>s("home"),onEditTransaction:ut}),r==="wallets"&&V.jsx(sq,{wallets:A,onAddWallet:()=>{f(null),h(!0)},onEditWallet:at,onDeleteWallet:tt}),r==="stats"&&V.jsx(oq,{transactions:P,budgets:G,onAddBudget:()=>{E(null),v(!0)},onEditBudget:B}),r==="profile"&&V.jsxs("div",{className:"p-6 space-y-6 pb-28",children:[V.jsxs("div",{className:"glass-card p-8 rounded-[2.5rem] text-center relative overflow-hidden",children:[V.jsx("div",{className:"absolute top-0 right-0 size-32 bg-primary/10 blur-3xl -mr-16 -mt-16 rounded-full"}),V.jsx("img",{src:e.photoURL||"https://api.dicebear.com/7.x/avataaars/svg?seed="+e.email,alt:"Avatar",className:"size-24 rounded-full mx-auto mb-4 border-4 border-primary/20 shadow-xl relative z-10"}),V.jsx("h2",{className:"text-2xl font-black tracking-tight relative z-10",children:e.displayName||"Guest User"}),V.jsx("p",{className:"text-slate-400 text-sm font-bold uppercase tracking-widest opacity-60 relative z-10",children:e.email})]}),V.jsxs("div",{className:"space-y-4",children:[V.jsx("h3",{className:"text-sm font-black uppercase tracking-[0.2em] text-slate-400 px-2",children:"Konfigurasi Laporan"}),V.jsxs("div",{className:"glass-card p-6 rounded-3xl border-white/5 grid grid-cols-2 gap-4",children:[V.jsxs("div",{className:"space-y-2",children:[V.jsx("p",{className:"text-[10px] text-slate-500 font-bold uppercase px-1",children:"PILIH BULAN"}),V.jsx("select",{value:D,onChange:Z=>k(parseInt(Z.target.value)),className:"w-full bg-white/5 border-white/10 rounded-2xl text-xs font-bold p-4 text-white focus:ring-primary focus:border-primary appearance-none",children:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"].map((Z,nt)=>V.jsx("option",{value:nt,className:"bg-background-dark",children:Z},nt))})]}),V.jsxs("div",{className:"space-y-2",children:[V.jsx("p",{className:"text-[10px] text-slate-500 font-bold uppercase px-1",children:"PILIH TAHUN"}),V.jsx("select",{value:N,onChange:Z=>M(parseInt(Z.target.value)),className:"w-full bg-white/5 border-white/10 rounded-2xl text-xs font-bold p-4 text-white focus:ring-primary focus:border-primary appearance-none",children:Array.from({length:5},(Z,nt)=>new Date().getFullYear()-nt).map(Z=>V.jsx("option",{value:Z,className:"bg-background-dark",children:Z},Z))})]})]})]}),V.jsxs("div",{className:"space-y-4",children:[V.jsx("h3",{className:"text-sm font-black uppercase tracking-[0.2em] text-slate-400 px-2",children:"Ekspor Laporan"}),V.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[V.jsxs("div",{className:"glass-card p-6 rounded-3xl border-white/5 space-y-4",children:[V.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[V.jsx("div",{className:"size-10 bg-primary/10 rounded-xl flex items-center justify-center text-primary",children:V.jsx($O,{size:20})}),V.jsxs("div",{children:[V.jsx("p",{className:"font-bold text-sm",children:"Laporan Bulanan"}),V.jsx("p",{className:"text-[10px] text-slate-500 font-bold uppercase",children:"Detail transaksi yang dipilih"})]})]}),V.jsxs("button",{onClick:()=>Mtt(e,P,D,N),className:"w-full bg-primary text-background-dark font-black py-4 rounded-2xl flex items-center justify-center gap-3 shadow-lg shadow-primary/10 hover:scale-[1.02] active:scale-[0.98] transition-all text-xs uppercase tracking-widest",children:[V.jsx(JO,{size:18,strokeWidth:3})," Unduh PDF Bulanan"]})]}),V.jsxs("div",{className:"glass-card p-6 rounded-3xl border-white/5 space-y-3",children:[V.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[V.jsx("div",{className:"size-10 bg-amber-500/10 rounded-xl flex items-center justify-center text-amber-500",children:V.jsx(QO,{size:20})}),V.jsxs("div",{children:[V.jsx("p",{className:"font-bold text-sm",children:"Ringkasan Tahunan"}),V.jsxs("p",{className:"text-[10px] text-slate-500 font-bold uppercase",children:["Statistik tahun ",N]})]})]}),V.jsxs("button",{onClick:()=>Dtt(e,P,N),className:"w-full bg-white/5 border border-white/10 text-white font-black py-4 rounded-2xl flex items-center justify-center gap-3 hover:bg-white/10 active:scale-[0.98] transition-all text-xs uppercase tracking-widest",children:["Unduh Ringkasan ",N]})]})]})]}),V.jsx("button",{onClick:vt,className:"w-full bg-red-500/10 text-red-500 font-black py-5 rounded-[2rem] border border-red-500/20 hover:bg-red-500/20 transition-all text-xs uppercase tracking-[0.2em]",children:"Keluar dari Aplikasi"})]})]}),V.jsx(aq,{isOpen:o,onClose:()=>{a(!1),_(null)},onSave:H,onDelete:rt,wallets:A,budgets:G,initialData:y,defaultType:l}),V.jsx(uq,{isOpen:c,onClose:()=>{h(!1),f(null)},onSave:ot,initialData:p}),V.jsx(cq,{isOpen:x,initialData:T,onClose:()=>{v(!1),E(null)},onSave:_t,onDelete:Y})]})}t2.createRoot(document.getElementById("root")).render(V.jsx(f_.StrictMode,{children:V.jsx(Ott,{})}));export{dn as _,jtt as c,pD as g};
